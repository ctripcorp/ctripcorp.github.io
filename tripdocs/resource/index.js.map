{"version":3,"file":"index.js","mappings":"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AK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,GAAI,GACV,CAAC,IAAK,EAAG,GACT,CAAC,IAAK,IAAK,IACX,CAAC,IAAK,IAAK,IACX,CAAC,IAAK,IAAK,IACX,CAAC,GAAI,IAAK,KACV,CAAC,GAAI,IAAK,KACV,CAAC,GAAI,IAAK,KACV,CAAC,IAAK,GAAI,KACV,CAAC,IAAK,GAAI,KACV,CAAC,IAAK,GAAI,IACV,CAAC,IAAK,EAAG,GACT,CAAC,IAAK,GAAI,GACV,CAAC,IAAK,IAAK,GACX,CAAC,GAAI,IAAK,IACV,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,KACT,CAAC,GAAI,GAAI,KACT,CAAC,GAAI,GAAI,KACT,CAAC,IAAK,GAAI,IACV,CAAC,GAAI,GAAI,GACT,CAAC,IAAK,EAAG,GACT,CAAC,IAAK,GAAI,GACV,CAAC,IAAK,GAAI,GACV,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,KACT,CAAC,EAAG,GAAI,IACR,CAAC,GAAI,GAAI,IACT,CAAC,GAAI,GAAI,KACT6B,KAAI,SAAA7B,GAAS,oBAAOA,EAAM,GAAE,aAAKA,EAAM,GAAE,aAAKA,EAAM,GAAE,IAAzC,MAA6C,GAGxD2nC,GAAa,CACjB,KACA,QACA,QACA,QACA,QACA,KACA,QACA,QACA,QACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,OACA,KACA,KACA,MACA,UACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,QACA,SACA,UACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,QACA,SACA,UACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,QACA,SACA,UACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,QACA,SACA,UACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,QACA,SACA,UACA,QACA,QACA,QACA,QACA,QACA,WACA,QACA,QACA,UAGE9lC,GAAM,CAAC,EAEX6lC,GAAWvmC,SAA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WACQ,UAAiBxoD,EAAAA,EAAAA,UAAmB,MAAK,GAAxChS,EAAO,KAAE1J,EAAG,KACb,MAAkB0b,EAAAA,EAAAA,UAAyB0nE,IAAa,GAAvD79D,EAAI,KAAE89D,EAAO,KAEdC,GAAWxnE,EAAAA,EAAAA,UACf,WACE,WAAKnvB,OAAeu3E,gBAAe,SAAAC,GACjC,GAAIA,EAAQ,GAAI,CACR,MAAoDA,EAAQ,GAAGof,YAA7Dj7E,EAAC,IAAEC,EAAC,IAAEkO,EAAK,QAAEuB,EAAM,SAAEyN,EAAG,MAAEvgB,EAAI,OAAE4jB,EAAM,SAAE1jB,EAAK,QACrDi+E,EAAQ,CAAE/6E,EAAC,EAAEC,EAAC,EAAEkO,MAAK,EAAEuB,OAAM,EAAEyN,IAAG,EAAEvgB,KAAI,EAAE4jB,OAAM,EAAE1jB,MAAK,G,CAE3D,GALA,GAMF,IAWF,OARAmI,IAA0B,WACxB,GAAK7D,EAEL,OADA45E,EAAShf,QAAQ56D,GACV,WACL45E,EAASE,YACX,CACF,GAAG,CAAC95E,IAEG,CAAC1J,EAAKulB,EACf,EAEmG,WAAM,OAAC29D,GAAME,GAAP,E,2yCC6DnGK,GAAS,CACb,KACA,IACA,KACA,KACA,KACA,IACA,IACA,KACA,IACA,KACA,IACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,IACA,IACA,IACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KAC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","sources":["webpack://tripdocs-js-sdk/webpack/runtime/chunk loaded","webpack://tripdocs-js-sdk/webpack/runtime/create fake namespace object","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/utils/weak-maps.ts","webpack://tripdocs-js-sdk/./src/utils/sessStorage.ts","webpack://tripdocs-js-sdk/./src/utils/cacheUtils.ts","webpack://tripdocs-js-sdk/./src/utils/eventEmitter.ts","webpack://tripdocs-js-sdk/./src/utils/weak-maps.ts","webpack://tripdocs-js-sdk/./src/resource/string.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/config.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/selection.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/utils/string.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/create-editor.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/element.ts","webpack://tripdocs-js-sdk/./src/utils/storage.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/pluginsUtils/getPathUtils.ts","webpack://tripdocs-js-sdk/./src/utils/selectionUtils.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/hooks/use-isomorphic-layout-effect.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/hooks/use-read-only.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/hooks/use-slate.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/utils/dom.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/utils/environment.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/utils/hotkeys.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/utils/weak-maps.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/hooks/use-editor.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/hooks/use-selected.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/components/string.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/components/leaf.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/components/text.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/components/element.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/components/children.tsx","webpack://tripdocs-js-sdk/./src/utils/randomId.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/deserializers/handleFragmentPlugins.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/components/editable.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/hooks/use-focused.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/utils/key.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/plugin/react-editor.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/components/slate.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/pluginsUtils/selectionUtils.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/utils/lines.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-react/plugin/with-react.ts","webpack://tripdocs-js-sdk/./src/utils/helper/getInnerContentWhenCopy.ts","webpack://tripdocs-js-sdk/./src/utils/listener.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OLULList/withOlList.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/pluginsUtils/deleteFragment.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/block.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/pluginsUtils/setNodesUtils.ts","webpack://tripdocs-js-sdk/./src/utils/hexColorUtils.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Components.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/align.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/color.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/fontSize.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/format.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/mark.ts","webpack://tripdocs-js-sdk/./src/utils/apiListener.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/utils.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/commentOps.ts","webpack://tripdocs-js-sdk/./src/utils/faster.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/deleteSideComment.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/insertSideComment.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-history/history-editor.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-history/history.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-history/with-history.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Mention/mention.tsx","webpack://tripdocs-js-sdk/./src/utils/getSelection.ts","webpack://tripdocs-js-sdk/./src/utils/request.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Card/insertCard.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Card/withCard.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Card/renderCard.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OverlayComponents/Overlay/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OverlayComponents/DragHandle/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OverlayComponents/Overlay/GeneralOverlayButton.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Image/imagePlugins.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/File/filePlugins.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/ResizeDot/renderResizeDot.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/InlineImage/ImageInnerButtonWrap/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/InlineImage/utils.ts","webpack://tripdocs-js-sdk/./src/utils/helper/consumePlugins.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/tableOperation.ts","webpack://tripdocs-js-sdk/./src/utils/convertTabLevel.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OLULList/OlList.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/deserializers/utils.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-hyperscript/tokens.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-hyperscript/creators.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-hyperscript/hyperscript.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-hyperscript/index.ts","webpack://tripdocs-js-sdk/./src/utils/copyToClipboard.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/CodeBlock/renderCodeBlock.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/pasteTable.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/deserializers/deserializeTags.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/deserializers/deserialize.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withHtml.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/deserializers/handleTablePlugins.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/deserializers/handleExportPlugins.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/InlineImage/inlineImagePlugins.tsx","webpack://tripdocs-js-sdk/./src/components/docs/InlineElement.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Mention/onKeyDownMention.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Mention/withMention.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/inlineSlateEditor.tsx","webpack://tripdocs-js-sdk/./src/utils/createPortal.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/renderSideComment.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/updateSideComment.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/SideComment/renderAllCommentsList.tsx","webpack://tripdocs-js-sdk/./src/utils/getDefaultValue.ts","webpack://tripdocs-js-sdk/./src/components/app/DiffComponent/HistoryDocReducer.ts","webpack://tripdocs-js-sdk/./src/components/docs/caret.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/BlockQuote/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/CodeBlock/insertCodeBlock.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Divide/insertDivide.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Divide/renderDivide.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/EditLink/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/indent.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/serializers/withDeserializeMD.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/serializers/deserializeMD.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/newTable.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/siderMenu.tsx","webpack://tripdocs-js-sdk/./src/utils/apiOperations/hooks/useWindowUnloadEffect.ts","webpack://tripdocs-js-sdk/./src/components/DropdownMenu/tableMenu.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/ResizeMask.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OverlayComponents/TableOverlay/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/renderSideDiv.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/StaticToolbar/renderStaticToolbar.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/tableElement.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/withTable.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Video/SlateVideo.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Video/withVideo.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withAnchor.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/transformers/mdast-to-slate.ts","webpack://tripdocs-js-sdk/./src/utils/normalize.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Card/normalizeCard.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/initialData.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/ExcalidrawImage.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/ImageResizer.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withNormalize.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/EditLink/normalizeLink.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/normalizeTable.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Divide/normalizeDivide.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/TodoList/normalizeTodoList.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/File/normalizeFile.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Image/normalizeImage.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/InlineImage/normalizeInlineImage.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Video/normalizeVideo.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Mention/normalizeMetion.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/BlockQuote/normalizeBlockQuote.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/normalizeHeadings.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OLULList/normalizeOLULList.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/normalizeParagraph.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withShorcuts.ts","webpack://tripdocs-js-sdk/./src/utils/commentUtils.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/ErrorHandle/weak-maps.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withTabLevel.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withTitleNormalized.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/table/onKeyDownTable.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withElmentId.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/join-classes.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/Button.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/Modal.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/ExcalidrawModal.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/ExcalidrawEditor.tsx","webpack://tripdocs-js-sdk/./src/worker/validationRun.worker.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/withInline.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/TodoList/todoList.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/iframe/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/quikMenuByWord/index.ts","webpack://tripdocs-js-sdk/./src/utils/isBrowser.ts","webpack://tripdocs-js-sdk/./src/utils/useMeasure.ts","webpack://tripdocs-js-sdk/./src/components/docs/slateEditor.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Card/onkeydownCard.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Image/onKeyDownImage.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/InlineImage/onKeyDownInlineImage.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/onKeyDownCommon.ts","webpack://tripdocs-js-sdk/./src/components/app/NoDiffComponent/renderElement.tsx","webpack://tripdocs-js-sdk/./src/components/app/NoDiffComponent/renderLeaf.tsx","webpack://tripdocs-js-sdk/./src/components/app/NoDiffComponent/index.tsx","webpack://tripdocs-js-sdk/./src/components/app/HistoryManager/index.tsx","webpack://tripdocs-js-sdk/./src/components/app/FallbackComponent/index.tsx","webpack://tripdocs-js-sdk/./src/components/app/HotkeyHelper/index.tsx","webpack://tripdocs-js-sdk/./src/components/app/SideTipContainer/renderSideTipContainer.tsx","webpack://tripdocs-js-sdk/./src/components/docs/nativeEditor.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/GlobalComment/globalCommentEditor.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/GlobalComment/renderGlobalComment.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/MobileToolbar/CardPopup/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/MobileToolbar/ColorPopup/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/MobileToolbar/renderMobileToolbar.tsx","webpack://tripdocs-js-sdk/./src/utils/apiOperations/hooks/useVisualViewport.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/OutlineAnchor/renderOutlineAnchor.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/model/index.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/utils/convert.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/path/index.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/utils/clone.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/node/index.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/node/insertNode.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/node/mergeNode.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/node/moveNode.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/node/removeNode.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/node/setNode.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/node/splitNode.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/text/index.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/text/insertText.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/text/removeText.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToYjs/index.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/plugin/yjsEditor.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToSlate/index.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToSlate/arrayEvent.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToSlate/mapEvent.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/applyToSlate/textEvent.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/cursor/utils.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/plugin/cursorEditor.ts","webpack://tripdocs-js-sdk/./src/utils/notification.ts","webpack://tripdocs-js-sdk/./src/components/docs/yjsEditor.tsx","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate-yjs/plugin/useCursors.ts","webpack://tripdocs-js-sdk/./src/Docs.tsx","webpack://tripdocs-js-sdk/./src/utils/apiOperations/hooks/useForceUpdate.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/findAndReplace.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/buttons.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/dropdownMenus.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/onKeyDownTextMark.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/renderHoveringToolbar.tsx","webpack://tripdocs-js-sdk/./src/components/DropdownMenu/staticToolbarCardMenu.tsx","webpack://tripdocs-js-sdk/./src/components/DropdownMenu/staticToolbarMoreMenu.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/StaticToolbar/buttons.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/HoveringToolbar/lineheight.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/ErrorHandle/handleSlateError.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/editor.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/location.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/node.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/operation.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/path.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/path-ref.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/point.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/point-ref.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/range.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/range-ref.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/utils/deep-equal.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/interfaces/text.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/transforms/general.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/transforms/node.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/transforms/selection.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/transforms/text.ts","webpack://tripdocs-js-sdk/./src/components/slate-packages/slate/transforms/index.ts","webpack://tripdocs-js-sdk/./src/components/docs/plugins/transformers/remark-to-slate.ts","webpack://tripdocs-js-sdk/./src/components/MdEditor/theme.ts","webpack://tripdocs-js-sdk/./src/components/MdEditor/index.tsx","webpack://tripdocs-js-sdk/./src/MdDocs.tsx","webpack://tripdocs-js-sdk/./src/index.tsx","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/Button.css","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/ExcalidrawModal.css","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/Modal.css","webpack://tripdocs-js-sdk/./src/style/iconfont/Tripdocs.css","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/Button.css?0f4e","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/ExcalidrawModal.css?a7db","webpack://tripdocs-js-sdk/./src/components/docs/plugins/Excalidraw/Modal.css?7839","webpack://tripdocs-js-sdk/./src/style/iconfont/Tripdocs.css?0c87","webpack://tripdocs-js-sdk/./src/style/iconfont/Tripdocs.eot","webpack://tripdocs-js-sdk/./src/style/iconfont/Tripdocs.svg","webpack://tripdocs-js-sdk/./src/style/iconfont/Tripdocs.ttf","webpack://tripdocs-js-sdk/./src/style/iconfont/Tripdocs.woff2","webpack://tripdocs-js-sdk/./src/style/iconfont/Tripdocs.woff","webpack://tripdocs-js-sdk/webpack/bootstrap","webpack://tripdocs-js-sdk/webpack/runtime/compat get default export","webpack://tripdocs-js-sdk/webpack/runtime/define property getters","webpack://tripdocs-js-sdk/webpack/runtime/global","webpack://tripdocs-js-sdk/webpack/runtime/hasOwnProperty shorthand","webpack://tripdocs-js-sdk/webpack/runtime/make namespace object","webpack://tripdocs-js-sdk/webpack/runtime/node module decorator","webpack://tripdocs-js-sdk/webpack/runtime/jsonp chunk loading","webpack://tripdocs-js-sdk/webpack/runtime/nonce","webpack://tripdocs-js-sdk/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","import { Editor, Path, PathRef, PointRef, RangeRef } from '..'\r\n\r\nexport const DIRTY_PATHS: WeakMap<Editor, Path[]> = new WeakMap()\r\nexport const FLUSHING: WeakMap<Editor, boolean> = new WeakMap()\r\nexport const NORMALIZING: WeakMap<Editor, boolean> = new WeakMap()\r\nexport const PATH_REFS: WeakMap<Editor, Set<PathRef>> = new WeakMap()\r\nexport const POINT_REFS: WeakMap<Editor, Set<PointRef>> = new WeakMap()\r\nexport const RANGE_REFS: WeakMap<Editor, Set<RangeRef>> = new WeakMap()\r\n","let _cache = {};\n\nfunction init() {\n  const MAX_MEMORTY_VALUE_LENGTH = 2000;\n  let _store = window ? window.sessionStorage : null;\n  let _prefix = `tripdocs/`;\n  let storage;\n\n  try {\n    _store.setItem('bs_:)_', '__');\n    _store.removeItem('bs_:)_');\n  } catch (e) {\n    _store = null;\n  }\n\n  if (_store) {\n    storage = {\n      sync(products, fn) {\n        let lastPrefix = _prefix;\n        products.forEach(product => {\n          _prefix = `__ta/${product}_`;\n          fn();\n        });\n        _prefix = lastPrefix;\n      },\n      set(key, val, seconds) {\n        let expiredAt = seconds ? Date.now() + seconds * 1000 : 0;\n        val = JSON.stringify([val, expiredAt]);\n        if (val.length <= MAX_MEMORTY_VALUE_LENGTH) _cache[key] = val;\n        else delete _cache[key];\n        _store.setItem(_prefix + key, val);\n      },\n\n      setAll(map) {\n        Object.keys(map).forEach(key => {\n          this.set(key, map[key]);\n        });\n      },\n\n      get(key, defaultValue) {\n        let rawVal = _cache[key] || _store.getItem(_prefix + key);\n        if (!rawVal) return defaultValue;\n\n        try {\n          let [val, expiredAt] = JSON.parse(rawVal);\n          if (expiredAt && Date.now() > expiredAt) {\n            return defaultValue;\n          }\n          return val;\n        } catch (e) {\n          return defaultValue;\n        }\n      },\n\n      del(key) {\n        delete _cache[key];\n        _store.removeItem(_prefix + key);\n      },\n\n      has(key) {\n        return key in _cache || !!_store.getItem(_prefix + key);\n      },\n    };\n  } else {\n    storage = singleStorage();\n  }\n  return storage;\n}\n\nlet sessStorage: any;\n\nif (!sessStorage) {\n  if (typeof window === 'object') {\n    sessStorage = init();\n  } else {\n    sessStorage = singleStorage();\n  }\n}\n\nfunction singleStorage() {\n  return {\n    set(key, val) {\n      _cache[key] = val;\n    },\n    get(key) {\n      return _cache[key];\n    },\n    del(key) {\n      delete _cache[key];\n    },\n    has(key) {\n      return key in _cache;\n    },\n  };\n}\n\nexport { sessStorage as default };\n","import { Editor } from '@src/components/slate-packages/slate';\nimport sessStorage from './sessStorage';\nimport storage from './storage';\n\nexport function setCache(docId: any, key: string, value: any) {\n  const editorProps = window.tripdocs.editorsMap[docId];\n  if (!editorProps) {\n    return undefined;\n  }\n  editorProps.cache[key] = value;\n}\n\nexport function getCache(docId: any, key: string) {\n  if (\n    docId &&\n    key &&\n    window.tripdocs &&\n    window.tripdocs.editorsMap[docId] &&\n    window.tripdocs.editorsMap[docId].cache &&\n    window.tripdocs.editorsMap[docId].cache[key]\n  ) {\n    return window.tripdocs.editorsMap[docId].cache[key];\n  }\n  return null;\n}\n\nexport function setGlobalCache(key: string, value: any) {\n  if (key && window.tripdocs && window.tripdocs.cache) {\n    window.tripdocs.cache[key] = value;\n  }\n  return;\n}\nexport function getGlobalCache(key: string) {\n  if (key && window.tripdocs && window.tripdocs.cache && window.tripdocs.cache[key]) {\n    return window.tripdocs.cache[key];\n  }\n  return null;\n}\n\ntype DocContentQueue = object[];\n\nexport function cacheDocContent(editor: Editor, docId: string, docContent: object, curTime: string) {\n  const docContentQueue: DocContentQueue = sessStorage.get('tripdocs_sdk/docContentCacheArr_' + docId) || [];\n  if (docContentQueue?.length > 4) {\n    docContentQueue.pop();\n  }\n\n  docContentQueue.unshift({ docContent, at: curTime });\n\n  console.log('[docContentQueue]', docContentQueue);\n  sessStorage.set('tripdocs_sdk/docContentCacheArr_' + docId, docContentQueue);\n}\n\nexport function recoverCacheDocContent(editor: any, index?: number) {\n  const { docId } = editor;\n  removeLatestCacheDocContent(editor);\n  const docContentCacheArr = sessStorage.get('tripdocs_sdk/docContentCacheArr_' + docId) || [];\n  console.log('recoverCacheDocContent => ', docContentCacheArr, docContentCacheArr?.[0]?.docContent);\n  return typeof index !== 'undefined' ? docContentCacheArr?.[index]?.docContent : docContentCacheArr?.[0]?.docContent;\n}\n\nexport function removeLatestCacheDocContent(editor: any) {\n  const { docId } = editor;\n  const docContentQueue = sessStorage.get('tripdocs_sdk/docContentCacheArr_' + docId) || [];\n\n  if (docContentQueue.length > 1) {\n    docContentQueue.shift();\n    console.log('removeLatestCacheDocContent => ', docContentQueue);\n\n    sessStorage.set('tripdocs_sdk/docContentCacheArr_' + docId, docContentQueue);\n  }\n}\n","export default class EventEmitter {\n  docId: string | number;\n  events: {};\n  constructor(docId: string | number) {\n    this.docId = docId;\n    this.events = {};\n  }\n\n  on(type, listener, docId, isUnshift = false) {\n    if (this.docId !== docId) return;\n    if (!this.events) {\n      this.events = {};\n    }\n    if (this.events[type]) {\n      if (isUnshift) {\n        this.events[type].unshift(listener);\n      } else {\n        this.events[type].push(listener);\n      }\n    } else {\n      this.events[type] = [listener];\n    }\n  }\n\n  emit(type, docId, ...args) {\n    if (this.docId !== docId) return;\n    if (this.events[type]) {\n      this.events[type].forEach(fn => fn.call(this, ...args));\n    }\n  }\n\n  once(type, docId, listener) {\n    if (this.docId !== docId) return;\n    const me = this;\n    function oneTime(...args) {\n      listener.call(this, ...args);\n      me.off(type, docId, oneTime);\n    }\n    me.on(type, docId, oneTime);\n  }\n\n  off(type, listener, docId) {\n    if (this.docId !== docId) return;\n    if (this.events[type]) {\n      const index = this.events[type].indexOf(listener);\n      this.events[type].splice(index, 1);\n    }\n  }\n}\n","import { Editor, Node, NodeEntry } from '@src/components/slate-packages/slate';\n\nexport const CACHED_SEL_CELLS: WeakMap<Editor, NodeEntry[]> = new WeakMap();\nexport const SEL_CELLS: WeakMap<Editor, NodeEntry[]> = new WeakMap();\nexport const ACTIVE_TABLE: WeakMap<Editor, NodeEntry> = new WeakMap();\n\nexport const RESIZING_ROW: WeakMap<Editor, NodeEntry> = new WeakMap();\nexport const RESIZING_ROW_ORIGIN_HEIGHT: WeakMap<Editor, number> = new WeakMap();\nexport const RESIZING_ROW_MIN_HEIGHT: WeakMap<Editor, number> = new WeakMap();\n\nexport const RESIZING_COL: WeakMap<Editor, NodeEntry> = new WeakMap();\nexport const RESIZING_COL_ORIGIN_WIDTH: WeakMap<Editor, number> = new WeakMap();\nexport const RESIZING_COL_MIN_WIDTH: WeakMap<Editor, number> = new WeakMap();\n\nexport const INLINE_IMAGE_COMMENTS: WeakMap<Editor, Map<String, NodeEntry>> = new WeakMap();\n","import { getCache } from '@src/utils/cacheUtils';\n\ntype ENV = 'zh' | 'en';\n\nconst zhKeyMap = {\n  titleHint: '标题',\n  contextHint: '正文',\n  normal: '普通文本',\n  heading: '标题',\n  heading1: '1 级标题',\n  heading2: '2 级标题',\n  heading3: '3 级标题',\n  heading4: '4 级标题',\n  heading5: '5 级标题',\n  heading6: '6 级标题',\n  softEnter: '软回车',\n  bold: '加粗',\n  strikethrough: '删除线',\n  fontColor: '字体颜色',\n  colorAndLingth: '颜色和高亮',\n  bgColor: '背景颜色',\n  numberedList: '有序列表',\n  bulletedList: '无序列表',\n  toDoList: '任务列表',\n  link: '链接',\n  quote: '引用',\n  underline: '下划线',\n  italic: '斜体',\n  code: '代码',\n  callout: '高亮块',\n  codeBlock: '代码块',\n  alignLeft: '左对齐',\n  alignCenter: '居中对齐',\n  alignRight: '右对齐',\n  addComment: '添加评论',\n  cut: '剪切',\n  copy: '复制',\n  delete: '删除',\n  insert: '插入',\n  table: '表格',\n  copyTable: '复制表格',\n  deleteTable: '删除表格',\n  localFile: '本地文件',\n  divider: '分隔线',\n  fontSize: '字号',\n  fontLetter: '字间距',\n  increaseFontSize: '字体变大',\n  decreaseFontSize: '字体变小',\n  share: '分享',\n  decreaseIndentation: '减少缩进',\n  increaseIndentation: '增加缩进',\n  historyVersion: '历史版本',\n  showOutline: '显示目录',\n  hideOutline: '隐藏目录',\n  outlineSetting: '目录设置',\n  showBorder: '显示边框',\n  hideBorder: '隐藏边框',\n  tableCellBg: '单元格背景颜色',\n  lineHeight: '行高',\n  default: '默认',\n  alignmentHorizontal: '水平对齐',\n  alignmentVertical: '垂直对齐',\n  alignTop: '顶部对齐',\n  alignMiddle: '垂直对齐',\n  alignBottom: '底部对齐',\n  format: '格式',\n  paintFormat: '格式刷',\n  cleanFormatting: '清除样式',\n  undo: '撤销',\n  redo: '重做',\n  save: '保存',\n  video: '视频',\n  image: '图片',\n  common: '通用',\n  tableSize: '表格大小',\n  tableInsertRow: '插入行',\n  tableInsertColumn: '插入列',\n  tableInsertUp: '向上插入 1 行',\n  tableInsertDown: '向下插入 1 行',\n  tableInsertLeft: '向左插入 1 列',\n  tableInsertRight: '向右插入 1 列',\n  tableDeleteSelectedRow: '删除行',\n  tableDeleteSelectedColumn: '删除列',\n  tableDelete: '删除表格',\n  tableMerge: '合并单元格',\n  tableUnmerge: '拆分单元格',\n  hide: '隐藏',\n  show: '显示',\n  documentOutline: '目录',\n  deepestAnchorLevel: '最深显示层级',\n  reply: '回复',\n  ReplyTo: '回复',\n  edit: '编辑',\n  submit: '提交',\n  commentHasBeenDeleted: '评论已被删除',\n  cancel: '取消',\n  jumpToAnchor: '跳转到原文',\n  anchorNotFound: '无法跳转，原文内容已丢失',\n  globalComment: '全局评论',\n  comment: '评论',\n  visitLink: '访问链接',\n  cancelLink: '取消链接',\n  editLink: '编辑链接',\n  complete: '完成',\n  linkHint: '请添加链接地址',\n  textHint: '请添加链接描述',\n  text: '文本',\n  moreFeatures: '更多功能',\n  name: '姓名',\n  email: '邮箱',\n  empcode: '工号',\n  department: '部门',\n  positionname: '职位',\n  download: '下载',\n  space: '空格',\n  quickGuide: '快捷指南',\n  hotkey: '快捷键',\n  globalHotkey: '全局快捷键',\n  textHotkey: '文本快捷键',\n  problemFeedback: '问题反馈',\n  toTop: '回到顶部',\n  emptyAnchorPlaceholder1: '对文档内容应用“标题”样式',\n  emptyAnchorPlaceholder2: '即可生成“目录”',\n  expandAnchor: '展开目录',\n  collapseAnchor: '收起目录',\n  helpCenter: '帮助中心',\n  dragHandle: '长按拖拽',\n  excalidraw: '画图工具',\n  kirby: '卡比视觉稿',\n  sCode: 'Trip代码沙盒',\n  slides: 'PPT 模式',\n  historyRecord: '文档历史记录',\n  versionId: '版本号',\n  versionName: '版本号',\n  createTime: '创建时间',\n  restore_doc: '恢复该版本',\n  restore_doc_success: '恢复成功',\n  returnToDoc: '返回文档',\n  restore: '恢复',\n  importantNotice: '重要提示',\n  recoverVersionConfirm: '恢复该版本将会覆盖当前文档，是否继续？',\n  currentVersion: '当前版本',\n  uploadFailed: '上传失败',\n  pleaseInputMarkdown: '开始用 Markdown 进行写作...',\n  pleaseInputCode: '请输入代码...',\n  zoomIn: '放大',\n};\n\nconst enKeyMap = {\n  titleHint: 'Enter title here',\n  contextHint: 'Type here',\n  normal: 'Normal',\n  heading: 'Heading',\n  heading1: 'Heading 1',\n  heading2: 'Heading 2',\n  heading3: 'Heading 3',\n  heading4: 'Heading 4',\n  heading5: 'Heading 5',\n  heading6: 'Heading 6',\n  softEnter: 'Soft enter',\n  bold: 'Bold',\n  strikethrough: 'Strikethrough',\n  fontColor: 'Text color',\n  colorAndLingth: 'Color and highlights',\n  bgColor: 'Background color',\n  numberedList: 'Numbered list',\n  bulletedList: 'Bulleted list',\n  toDoList: 'To-do list',\n  link: 'Link',\n  quote: 'Quote',\n  underline: 'Underline',\n  italic: 'Italic',\n  code: 'Code',\n  callout: 'Callout',\n  codeBlock: 'Code block',\n  alignLeft: 'Left align',\n  alignCenter: 'Center align',\n  alignRight: 'Right align',\n  addComment: 'Add comment',\n  cut: 'Cut',\n  copy: 'Copy',\n  delete: 'Delete',\n  insert: 'Insert',\n  table: 'Table',\n  copyTable: 'Copy Table',\n  deleteTable: 'Delete Table',\n  localFile: 'Local file',\n  divider: 'Divider',\n  fontSize: 'Font size',\n  fontLetter: 'Font letter spacing',\n  increaseFontSize: 'Increase font size',\n  decreaseFontSize: 'Decrease font size',\n  share: 'Share',\n  decreaseIndentation: 'Decrease indentation',\n  increaseIndentation: 'Increase indentation',\n  historyVersion: 'History version',\n  showOutline: 'Show document outline',\n  hideOutline: 'Hide document outline',\n  outlineSetting: 'Outline setting',\n  showBorder: 'Show border',\n  hideBorder: 'Hide border',\n  tableCellBg: 'Table Cell Backgroud',\n  lineHeight: 'Line height',\n  default: 'default',\n  alignmentHorizontal: 'Horizontal alignment',\n  alignmentVertical: 'Vertical alignment',\n  alignTop: 'Align top',\n  alignMiddle: 'Align middle',\n  alignBottom: 'Align bottom',\n  format: 'Styles',\n  paintFormat: 'Paint format',\n  cleanFormatting: 'Clean formatting',\n  undo: 'Undo',\n  redo: 'Redo',\n  save: 'Save',\n  video: 'Video',\n  image: 'Image',\n  common: 'Common',\n  tableSize: 'Table size',\n  tableInsertRow: 'Insert row',\n  tableInsertColumn: 'Insert column',\n  tableInsertUp: 'Insert row above',\n  tableInsertDown: 'Insert row below',\n  tableInsertLeft: 'Insert column to the left',\n  tableInsertRight: 'Insert column to the right',\n  tableDeleteSelectedRow: 'Delete selected row',\n  tableDeleteSelectedColumn: 'Delete selected column',\n  tableDelete: 'Delete table',\n  tableMerge: 'Merge cells',\n  tableUnmerge: 'Unmerge cells',\n  hide: 'Hide',\n  show: 'Show',\n  documentOutline: 'Outline',\n  deepestAnchorLevel: 'Deepest shown level',\n  reply: 'Reply',\n  replyTo: 'Reply to',\n  edit: 'Edit',\n  submit: 'Submit',\n  commentHasBeenDeleted: 'Comment has been deleted',\n  cancel: 'Cancel',\n  jumpToAnchor: 'Jump to anchor',\n  anchorNotFound: 'Fail to jump, the original anchor content has been modified',\n  globalComment: 'Global comments',\n  comment: 'Comment',\n  visitLink: 'Visit link',\n  cancelLink: 'Unlink',\n  editLink: 'Edit link',\n  complete: 'OK',\n  linkHint: 'Paste or enter a link',\n  textHint: 'Paste or enter a text',\n  text: 'Text',\n  moreFeatures: 'More features',\n  name: 'Name',\n  email: 'Email',\n  empcode: 'Emp ID',\n  department: 'Dept',\n  positionname: 'Position',\n  download: 'Download',\n  space: 'Space',\n  quickGuide: 'Quick guide',\n  hotkey: 'Hotkey',\n  globalHotkey: 'Global hotkey',\n  textHotkey: 'Text hotkey',\n  problemFeedback: 'Problem feedback',\n  toTop: 'Back to top',\n  emptyAnchorPlaceholder1: 'Apply \"Heading\" style to the content',\n  emptyAnchorPlaceholder2: 'to generate document \"Outline\"',\n  expandAnchor: 'Expand outline',\n  collapseAnchor: 'Collapse outline',\n  helpCenter: 'Help center',\n  dragHandle: 'Hold to drag',\n  excalidraw: 'Diagram',\n  kirby: 'kirby design',\n  sCode: 'TripSandBox',\n  slides: 'Slides model',\n  historyRecord: 'Document history records',\n  versionId: 'Version ID',\n  versionName: 'Version name',\n  restore_doc: 'Restore document',\n  restore_doc_success: 'Restored successfully',\n  returnToDoc: 'Return to document',\n  restore: 'Restore',\n  importantNotice: 'Important notice',\n  recoverVersionConfirm: 'Are you sure to recover this version?',\n  currentVersion: 'Current Version',\n  uploadFailed: 'Upload failed',\n  pleaseInputMarkdown: 'Start writing in Markdown...',\n  pleaseInputCode: 'Start writing some code...',\n  zoomIn: 'Zoom in',\n};\n\nexport function getStringResource(key, env: ENV = 'zh'): string {\n  if (env === 'zh') {\n    return zhKeyMap[key];\n  }\n  return enKeyMap[key];\n}\n\nexport function f(key, env: ENV = 'zh'): string {\n  return getStringResource(key, window?.tripdocs?.lang || env);\n}\n","import { f } from '@src/resource/string';\n\nexport enum ELTYPE {\n  CODE_BLOCK = 'code-block',\n  TODO_LIST = 'todo-list',\n  IMAGE = 'image',\n  INLINEIMAGE = 'inline-image',\n  FILE = 'file',\n  DESIGN = 'design',\n  SANDBOX = 'sandBox',\n  VIDEO = 'video',\n  MENTION = 'mention',\n  BLOCK_QUOTE = 'block-quote',\n  PARAGRAPH = 'paragraph',\n  HEADING_SIX = 'heading-six',\n  HEADING_FIVE = 'heading-five',\n  HEADING_FOUR = 'heading-four',\n  HEADING_THREE = 'heading-three',\n  HEADING_TWO = 'heading-two',\n  HEADING_ONE = 'heading-one',\n  OLLIST = 'numbered-list',\n  ULLIST = 'bulleted-list',\n  LINK = 'edit-link',\n\n  TABLE = 'table',\n  TABLE_ROW = 'table-row',\n  TABLE_CELL = 'table-cell',\n  DIVIDE = 'hr',\n  CARD = 'card',\n  CARD_PRE = 'card-pre',\n  CARD_SUF = 'card-suf',\n  ALERTS = 'alerts',\n  ALERTMESSAGE = 'alertmessage',\n  ALERTDESCRIPTION = 'alertdescription',\n  EXCALIDRAW = 'excalidraw',\n  SLIDES = 'slides',\n}\n\nexport const TextElmentType = [ELTYPE.ALERTMESSAGE, ELTYPE.ALERTDESCRIPTION, ELTYPE.PARAGRAPH];\nexport const HEADING_MAP: any = {\n  'heading-six': 'H6',\n  'heading-five': 'H5',\n  'heading-four': 'H4',\n  'heading-three': 'H3',\n  'heading-two': 'H2',\n  'heading-one': 'H1',\n};\n\nexport const TEXT_TAGS_MAP: any = {\n  code: 'CODE',\n  underline: 'U',\n  bold: 'STRONG',\n  italic: 'EM',\n  strikethrough: 'DEL',\n  backgroundColor: 'SPAN',\n  fontColor: 'SPAN',\n};\n\nexport const LIST_TYPES = [ELTYPE.ULLIST, ELTYPE.OLLIST, ELTYPE.TODO_LIST];\nexport const OL_UL_LIST_TYPES = [ELTYPE.ULLIST, ELTYPE.OLLIST];\n\nexport const HEADING_TYPES = [\n  ELTYPE.HEADING_ONE,\n  ELTYPE.HEADING_TWO,\n  ELTYPE.HEADING_THREE,\n  ELTYPE.HEADING_FOUR,\n  ELTYPE.HEADING_FIVE,\n  ELTYPE.HEADING_SIX,\n];\nexport const slateDefaultValue = [\n  {\n    type: 'heading-one',\n    children: [\n      {\n        text: '',\n      },\n    ],\n    anchorId: '111',\n  },\n  {\n    type: 'paragraph',\n    children: [\n      {\n        text: '',\n      },\n    ],\n    anchorId: '222',\n  },\n];\n\nexport const TABBABLE_TYPES = [...LIST_TYPES, ...HEADING_TYPES, ELTYPE.BLOCK_QUOTE, ELTYPE.PARAGRAPH, ELTYPE.ALERTMESSAGE, ELTYPE.ALERTDESCRIPTION];\n\nexport enum CommentCallbackActionType {\n  INSERT = 'insert',\n  DELETE = 'delete',\n  UPDATE = 'update',\n  REPLY = 'reply',\n}\n\nexport const FORMATS = ['backgroundColor', 'fontColor', 'code', 'underline', 'bold', 'italic', 'fontSizeChange', 'strikethrough'];\n\nexport const pageTitleMap = {\n  home: '工作台',\n  me: '我的空间',\n  shared: '共享空间',\n  favorites: '收藏夹',\n  deleted: '回收站',\n};\n\nexport const DOCTYPE = {\n  NORMAL: 'normal',\n  INLINE: 'inline',\n};\n\nexport const READONLYTYPE = {\n  READONLY: 'readonly',\n  INLINE_READONLY: 'inline-readonly',\n};\n\nexport const MENU_ELEMENT_TYPE = [...HEADING_TYPES, ELTYPE.BLOCK_QUOTE, ...LIST_TYPES, ELTYPE.PARAGRAPH];\nexport const HAS_INLINE_IMG_ELEMENT_TYPE = [...HEADING_TYPES, ELTYPE.BLOCK_QUOTE, ...LIST_TYPES, ELTYPE.PARAGRAPH];\n\nexport function isCommendElement(type: ELTYPE) {\n  return MENU_ELEMENT_TYPE.includes(type) || !Object.values(ELTYPE).includes(type);\n}\n\nexport const INLINE_TYPES = [ELTYPE.MENTION, ELTYPE.LINK, ELTYPE.INLINEIMAGE];\nexport const SINGLE_INLINE_TYPES = [ELTYPE.MENTION, ELTYPE.INLINEIMAGE];\nexport const inCardEL = [\n  ELTYPE.DIVIDE,\n  ELTYPE.TABLE,\n  ELTYPE.IMAGE,\n  ELTYPE.ALERTS,\n  ELTYPE.CODE_BLOCK,\n  ELTYPE.VIDEO,\n  ELTYPE.DESIGN,\n  ELTYPE.SANDBOX,\n  ELTYPE.FILE,\n  ELTYPE.EXCALIDRAW,\n];\nexport const getGlobalCommentRangeId = () =>\n  `{\"selection\":{\"anchor\":{\"path\":[0,0],\"offset\":0},\"focus\":{\"path\":[0,0],\"offset\":0}},\"anchorOffset\":0,\"focusOffset\":0,\"refContent\":\"${f(\n    'globalComment'\n  )}\",\"anchorId\":\"0\"}`;\n","import { Editor, Node, NodeEntry, Path, Transforms } from '@src/components/slate-packages/slate';\nimport { YjsEditor } from '@src/components/slate-packages/slate-yjs';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport EventEmitter from '@src/utils/eventEmitter';\nimport { CACHED_SEL_CELLS, SEL_CELLS } from '@src/utils/weak-maps';\nimport { HistoryEditor } from '../../../slate-packages/slate-history';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { ELTYPE } from '../config';\n\nexport type Col = {\n  cell: any;\n  path: Path;\n  originPath: Path;\n  myRowSpan: number;\n  myColSpan: number;\n  isInsertPosition?: boolean;\n};\n\nexport const splitedTable: (\n  editor: Editor,\n  table: NodeEntry,\n  startKey?: string | undefined\n) => {\n  tableDepth?: number;\n  gridTable: Col[][];\n  getCol: (match?: (node: Col) => boolean) => Col[];\n} = (editor, table, startKey) => {\n  const tableDepth = table[1].length;\n\n  let cells = [] as { cell: any; path: Path; realPath: Path }[];\n\n  const nodes = Editor.nodes(editor, {\n    at: table[1],\n    match: (n: any) => n.type === ELTYPE.TABLE_CELL,\n  });\n\n  for (const node of nodes) {\n    const [cell, path] = node;\n    cells.push({\n      cell,\n      path,\n      realPath: [...path],\n    });\n  }\n\n  const gridTable: Col[][] = [];\n  let insertPosition = null;\n\n  for (let i = 0; i < cells.length; i++) {\n    const { cell, path, realPath } = cells[i];\n    const { rowspan = 1, colspan = 1 } = cell;\n\n    let y = path[tableDepth];\n    let x = path[tableDepth + 1];\n\n    if (!gridTable[y]) {\n      gridTable[y] = [];\n    }\n\n    while (gridTable[y][x]) {\n      x++;\n    }\n\n    for (let j = 0; j < (rowspan || 1); j++) {\n      for (let k = 0; k < (colspan || 1); k++) {\n        let _y = y + j;\n        let _x = x + k;\n\n        if (!gridTable[_y]) {\n          gridTable[_y] = [];\n        }\n        if (cell.display === 'none') {\n          continue;\n        }\n        gridTable[_y][_x] = {\n          cell,\n          path: [...realPath.slice(0, tableDepth), _y, _x],\n          originPath: path,\n          myColSpan: colspan || 1,\n          myRowSpan: rowspan || 1,\n        };\n\n        if (!insertPosition && cell.key === startKey) {\n          insertPosition = gridTable[_y][_x];\n          gridTable[_y][_x].isInsertPosition = true;\n        }\n      }\n    }\n  }\n\n  const getCol = (match?: (node: Col) => boolean): Col[] => {\n    const result: Col[] = [];\n\n    gridTable.forEach(row => {\n      row.forEach((col: Col) => {\n        if (match && match(col)) {\n          result.push(col);\n        }\n      });\n    });\n\n    return result;\n  };\n\n  return {\n    gridTable,\n    tableDepth,\n    getCol,\n  };\n};\n\nfunction getCoverCell(editor: any, gridTable: any[], getCol: Function, startPath: Path, endPath: Path): any[] {\n  if (!getCol || !gridTable) return [];\n\n  let [head] = getCol((n: Col) => Path.equals(Editor.path(editor, n.path), startPath));\n  let [tail] = getCol((n: Col) => Path.equals(Editor.path(editor, n.path), endPath));\n\n  if (!tail || !head) return [];\n\n  const { path: tailPath } = tail;\n  const { path: headPath } = head;\n\n  const coverCells: Col[] = [];\n  let isExpand = false;\n\n  let rowMin = Math.min(headPath[2], tailPath[2]);\n  let rowMax = Math.max(headPath[2], tailPath[2]);\n  let columnMin = Math.min(headPath[3], tailPath[3]);\n  let columnMax = Math.max(headPath[3], tailPath[3]);\n  if (head.cell.rowspan * head.cell.colspan > 0) {\n    rowMax = Math.max(rowMax, headPath[2] + (head.cell.rowspan || 1) - 1);\n    columnMax = Math.max(columnMax, headPath[3] + (head.cell.colspan || 1) - 1);\n  }\n  if (tail.cell.rowspan * tail.cell.colspan > 0) {\n    rowMax = Math.max(rowMax, tailPath[2] + (tail.cell.rowspan || 1) - 1);\n    columnMax = Math.max(columnMax, tailPath[3] + (tail.cell.colspan || 1) - 1);\n  }\n\n  console.log('[ head, tail, gridTable]', head, tail, gridTable);\n  gridTable.forEach((row: Col[]) => {\n    row.forEach((col: Col) => {\n      const { originPath, path, myColSpan, myRowSpan } = col;\n      let isOver = true;\n\n      if (!(rowMin <= path[2] && path[2] <= rowMax)) {\n        isOver = false;\n      }\n\n      if (!(columnMin <= path[3] && path[3] <= columnMax)) {\n        isOver = false;\n      }\n\n      if (isOver) {\n        const newRowMax = originPath[2] + myRowSpan - 1;\n        const newColMax = originPath[3] + myColSpan - 1;\n        if (!(rowMin <= originPath[2] && newRowMax <= rowMax)) {\n          if (originPath[2] < rowMin) {\n            rowMin = originPath[2];\n            isExpand = true;\n          }\n          if (newRowMax > rowMax) {\n            rowMax = newRowMax;\n            isExpand = true;\n          }\n        }\n        if (!(columnMin <= originPath[3] && newColMax <= columnMax)) {\n          if (originPath[3] < columnMin) {\n            columnMin = originPath[3];\n            isExpand = true;\n          } else if (originPath[3] + myColSpan > columnMax) {\n            columnMax = newColMax;\n            isExpand = true;\n          }\n        }\n\n        coverCells.push(col);\n      }\n    });\n  });\n\n  if (isExpand) {\n    return getCoverCell(editor, gridTable, getCol, [startPath[0], rowMin, columnMin], [endPath[0], rowMax, columnMax]);\n  }\n  return coverCells;\n}\n\nexport function addSelection(editor: ReactEditor, table: NodeEntry | null, startPath: Path, endPath: Path, setSelCells: any): any[] {\n  if (!table || !table[1]) {\n    return [];\n  }\n\n  const coveredCells = calcCoveredCells(editor, table, startPath, endPath);\n\n  setSelCells(() => {\n    SEL_CELLS.set(editor, coveredCells);\n    return coveredCells;\n  });\n\n  return coveredCells;\n}\n\nconst calcCoveredCells = (editor, table, startPath, endPath): any[] => {\n  let cells: NodeEntry[] = [];\n  const totalCellsGenerator: any = Editor.nodes(editor, {\n    at: table[1],\n    match: (n: any) => !!n && n.type === ELTYPE.TABLE_CELL,\n  });\n  const totalCells = [];\n  for (const [n, p] of totalCellsGenerator) {\n    totalCells.push([n, p]);\n  }\n\n  const [startNode]: any = Editor.node(editor, startPath);\n  const [endNode]: any = Editor.node(editor, endPath);\n  let rowMin = Math.min(startPath[2], endPath[2]);\n  let rowMax = Math.max(startPath[2], endPath[2]);\n  let colMin = Math.min(startPath[3], endPath[3]);\n  let colMax = Math.max(startPath[3], endPath[3], startPath[3] + (startNode.colspan || 1) - 1, endPath[3] + (endNode.colspan || 1) - 1);\n\n  if (startNode.rowspan * startNode.colspan > 0) {\n    rowMax = Math.max(rowMax, startPath[2] + (startNode.rowspan || 1) - 1);\n    colMax = Math.max(colMax, startPath[3] + (startNode.colspan || 1) - 1);\n  }\n  if (endNode.rowspan * endNode.colspan > 0) {\n    rowMax = Math.max(rowMax, endPath[2] + (endNode.rowspan || 1) - 1);\n    colMax = Math.max(colMax, endPath[3] + (endNode.colspan || 1) - 1);\n  }\n\n  let collaboratedCellsArr: Array<NodeEntry> = [];\n\n  for (const [cellNode, cellPath] of totalCells) {\n    if (rowMin <= cellPath[2] && cellPath[2] <= rowMax && colMin <= cellPath[3] && cellPath[3] <= colMax) {\n      if (typeof cellNode.colspan === 'number' && typeof cellNode.rowspan === 'number') {\n        collaboratedCellsArr.push([cellNode, cellPath]);\n      }\n    }\n  }\n\n  collaboratedCellsArr.forEach(entry => {\n    const [cellNode, cellPath]: any = entry;\n    if ((cellNode.colspan as number) * (cellNode.rowspan as number) > 0) {\n      colMax = Math.max(colMax, cellPath[3] + (cellNode.colspan as number) - 1);\n      rowMax = Math.max(rowMax, cellPath[2] + (cellNode.rowspan as number) - 1);\n    } else {\n      const [nodeTopLeft, pathTopLeft]: any = findPointLeftTop([cellNode, cellPath], editor);\n      colMin = Math.min(colMin, pathTopLeft[3]);\n      rowMin = Math.min(rowMin, pathTopLeft[2]);\n      colMax = Math.max(colMax, pathTopLeft[3] + (nodeTopLeft.colspan as number) - 1);\n      rowMax = Math.max(rowMax, pathTopLeft[2] + (nodeTopLeft.rowspan as number) - 1);\n    }\n  });\n  for (const [cellNode, cellPath] of totalCells) {\n    if (rowMin <= cellPath[2] && cellPath[2] <= rowMax && colMin <= cellPath[3] && cellPath[3] <= colMax) {\n      if (typeof cellNode.colspan === 'number' && typeof cellNode.rowspan === 'number' && cellNode.colspan * cellNode.rowspan > 0) {\n        colMax = Math.max(colMax, cellPath[3] + cellNode.colspan - 1);\n        rowMax = Math.max(rowMax, cellPath[2] + cellNode.rowspan - 1);\n      } else if (\n        typeof cellNode.colspan === 'number' &&\n        typeof cellNode.rowspan === 'number' &&\n        cellNode.colspan * cellNode.rowspan === 0 &&\n        !cellNode.selectedCell\n      ) {\n        const [nodeTopLeft, pathTopLeft] = findPointLeftTop([cellNode, cellPath], editor);\n        colMin = Math.min(colMin, pathTopLeft[3]);\n        rowMin = Math.min(rowMin, pathTopLeft[2]);\n        colMax = Math.max(colMax, pathTopLeft[3] + ((nodeTopLeft as any).colspan as number) - 1);\n        rowMax = Math.max(rowMax, pathTopLeft[2] + ((nodeTopLeft as any).rowspan as number) - 1);\n      }\n    }\n  }\n\n  for (const [cellNode, cellPath] of totalCells) {\n    if (rowMin <= cellPath[2] && cellPath[2] <= rowMax && colMin <= cellPath[3] && cellPath[3] <= colMax) {\n      cells.push([cellNode as Node, cellPath as Path]);\n    }\n  }\n\n  return cells;\n};\n\nexport function findPointLeftTop(entry: NodeEntry, editor: Editor): NodeEntry {\n  const [cell, cellPath]: any = entry;\n  if (!(typeof cell.colspan === 'number' && typeof cell.rowspan === 'number')) {\n    return null;\n  }\n  let tmpNode: any = cell as Node;\n  let tmpPath = cellPath;\n  if (cell.colspan === 0 && cell.rowspan !== 0) {\n    while (tmpNode && typeof tmpNode.colspan === 'number' && tmpNode.colspan === 0) {\n      [tmpNode, tmpPath] = Editor.node(editor, [...tmpPath.slice(0, -1), tmpPath[tmpPath.length - 1] - 1]);\n    }\n    return [tmpNode, tmpPath];\n  }\n  if (cell.rowspan === 0 && cell.colspan !== 0) {\n    while (tmpNode && typeof tmpNode.rowspan === 'number' && tmpNode.rowspan === 0) {\n      [tmpNode, tmpPath] = Editor.node(editor, [...tmpPath.slice(0, -2), tmpPath[tmpPath.length - 2] - 1, tmpPath[tmpPath.length - 1]]);\n    }\n    return [tmpNode, tmpPath];\n  }\n  if (cell.rowspan === 0 && cell.colspan === 0) {\n    while (tmpNode && typeof tmpNode.colspan === 'number' && tmpNode.colspan === 0) {\n      [tmpNode, tmpPath] = Editor.node(editor, [...tmpPath.slice(0, -1), tmpPath[tmpPath.length - 1] - 1]);\n    }\n    while (tmpNode && typeof tmpNode.rowspan === 'number' && tmpNode.rowspan === 0) {\n      [tmpNode, tmpPath] = Editor.node(editor, [...tmpPath.slice(0, -2), tmpPath[tmpPath.length - 2] - 1, tmpPath[tmpPath.length - 1]]);\n    }\n    return [tmpNode, tmpPath];\n  }\n}\n\nexport function removeSelection(editor: Editor, setSelCells: Function) {\n  setSelCells(() => {\n    SEL_CELLS.set(editor, []);\n    return [];\n  });\n}\n\nexport function getEditorEventEmitter(docId: string): EventEmitter {\n  let eventEmitter = getCache(docId, 'EventEmitter');\n  if (!eventEmitter) {\n    eventEmitter = new EventEmitter(docId);\n    setCache(docId, 'EventEmitter', eventEmitter);\n  }\n  return eventEmitter;\n}\n\nexport function removeSelectionForAllTables(editor: Editor) {\n  getEditorEventEmitter(editor.docId).emit('removeSelection', editor.docId, editor);\n}\n\nexport function addRemoveSelectionListener(editor: Editor, setSelCells: Function) {\n  if (!editor || !setSelCells) return;\n  getEditorEventEmitter(editor.docId).on(\n    'removeSelection',\n    (editor: Editor) => {\n      removeSelection(editor, setSelCells);\n    },\n    0,\n    false\n  );\n}\n","\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n export const getCharacterDistance = (str: string, isRTL = false): number => {\r\n  const isLTR = !isRTL\r\n  const codepoints = isRTL ? codepointsIteratorRTL(str) : str\r\n\r\n  let left: CodepointType = CodepointType.None\r\n  let right: CodepointType = CodepointType.None\r\n  let distance = 0\r\n  \r\n  let gb11: boolean | null = null \r\n  let gb12Or13: boolean | null = null \r\n\r\n  for (const char of codepoints) {\r\n    const code = char.codePointAt(0)\r\n    if (!code) break\r\n\r\n    const type = getCodepointType(char, code)\r\n    ;[left, right] = isLTR ? [right, type] : [type, left]\r\n\r\n    if (\r\n      intersects(left, CodepointType.ZWJ) &&\r\n      intersects(right, CodepointType.ExtPict)\r\n    ) {\r\n      if (isLTR) {\r\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance))\r\n      } else {\r\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance))\r\n      }\r\n      if (!gb11) break\r\n    }\r\n\r\n    if (\r\n      intersects(left, CodepointType.RI) &&\r\n      intersects(right, CodepointType.RI)\r\n    ) {\r\n      if (gb12Or13 !== null) {\r\n        gb12Or13 = !gb12Or13\r\n      } else {\r\n        if (isLTR) {\r\n          gb12Or13 = true\r\n        } else {\r\n          gb12Or13 = endsWithOddNumberOfRIs(\r\n            str.substring(0, str.length - distance)\r\n          )\r\n        }\r\n      }\r\n      if (!gb12Or13) break\r\n    }\r\n\r\n    if (\r\n      left !== CodepointType.None &&\r\n      right !== CodepointType.None &&\r\n      isBoundaryPair(left, right)\r\n    ) {\r\n      break\r\n    }\r\n\r\n    distance += char.length\r\n  }\r\n\r\n  return distance || 1\r\n}\r\n\r\nconst SPACE = /\\s/\r\nconst PUNCTUATION = /[\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\r\nconst CHAMELEON = /['\\u2018\\u2019]/\r\n\r\n\r\n\r\nexport const getWordDistance = (text: string, isRTL = false): number => {\r\n  let dist = 0\r\n  let started = false\r\n\r\n  while (text.length > 0) {\r\n    const charDist = getCharacterDistance(text, isRTL)\r\n    const [char, remaining] = splitByCharacterDistance(text, charDist, isRTL)\r\n\r\n    if (isWordCharacter(char, remaining, isRTL)) {\r\n      started = true\r\n      dist += charDist\r\n    } else if (!started) {\r\n      dist += charDist\r\n    } else {\r\n      break\r\n    }\r\n\r\n    text = remaining\r\n  }\r\n\r\n  return dist\r\n}\r\n\r\n\r\n\r\nexport const splitByCharacterDistance = (\r\n  str: string,\r\n  dist: number,\r\n  isRTL?: boolean\r\n): [string, string] => {\r\n  if (isRTL) {\r\n    const at = str.length - dist\r\n    return [str.slice(at, str.length), str.slice(0, at)]\r\n  }\r\n\r\n  return [str.slice(0, dist), str.slice(dist)]\r\n}\r\n\r\n\r\n\r\nconst isWordCharacter = (\r\n  char: string,\r\n  remaining: string,\r\n  isRTL = false\r\n): boolean => {\r\n  if (SPACE.test(char)) {\r\n    return false\r\n  }\r\n\r\n  \r\n  \r\n  if (CHAMELEON.test(char)) {\r\n    const charDist = getCharacterDistance(remaining, isRTL)\r\n    const [nextChar, nextRemaining] = splitByCharacterDistance(\r\n      remaining,\r\n      charDist,\r\n      isRTL\r\n    )\r\n\r\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\r\n      return true\r\n    }\r\n  }\r\n\r\n  if (PUNCTUATION.test(char)) {\r\n    return false\r\n  }\r\n\r\n  return true\r\n}\r\n\r\n\r\n\r\nexport const codepointsIteratorRTL = function*(str: string) {\r\n  const end = str.length - 1\r\n\r\n  for (let i = 0; i < str.length; i++) {\r\n    const char1 = str.charAt(end - i)\r\n\r\n    if (isLowSurrogate(char1.charCodeAt(0))) {\r\n      const char2 = str.charAt(end - i - 1)\r\n      if (isHighSurrogate(char2.charCodeAt(0))) {\r\n        yield char2 + char1\r\n\r\n        i++\r\n        continue\r\n      }\r\n    }\r\n\r\n    yield char1\r\n  }\r\n}\r\n\r\n\r\n\r\nconst isHighSurrogate = (charCode: number) => {\r\n  return charCode >= 0xd800 && charCode <= 0xdbff\r\n}\r\n\r\n\r\n\r\nconst isLowSurrogate = (charCode: number) => {\r\n  return charCode >= 0xdc00 && charCode <= 0xdfff\r\n}\r\n\r\nenum CodepointType {\r\n  None = 0,\r\n  Extend = 1 << 0,\r\n  ZWJ = 1 << 1,\r\n  RI = 1 << 2,\r\n  Prepend = 1 << 3,\r\n  SpacingMark = 1 << 4,\r\n  L = 1 << 5,\r\n  V = 1 << 6,\r\n  T = 1 << 7,\r\n  LV = 1 << 8,\r\n  LVT = 1 << 9,\r\n  ExtPict = 1 << 10,\r\n  Any = 1 << 11,\r\n}\r\n\r\nconst reExtend = /^[\\p{Gr_Ext}\\p{EMod}]$/u\r\nconst rePrepend = /^[\\u0600-\\u0605\\u06DD\\u070F\\u0890-\\u0891\\u08E2\\u0D4E\\u{110BD}\\u{110CD}\\u{111C2}-\\u{111C3}\\u{1193F}\\u{11941}\\u{11A3A}\\u{11A84}-\\u{11A89}\\u{11D46}]$/u\r\nconst reSpacingMark = /^[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BF-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC1\\u0CC3-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0D02-\\u0D03\\u0D3F-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82-\\u0D83\\u0DD0-\\u0DD1\\u0DD8-\\u0DDE\\u0DF2-\\u0DF3\\u0E33\\u0EB3\\u0F3E-\\u0F3F\\u0F7F\\u1031\\u103B-\\u103C\\u1056-\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF7\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BE-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC\\u{11000}\\u{11002}\\u{11082}\\u{110B0}-\\u{110B2}\\u{110B7}-\\u{110B8}\\u{1112C}\\u{11145}-\\u{11146}\\u{11182}\\u{111B3}-\\u{111B5}\\u{111BF}-\\u{111C0}\\u{111CE}\\u{1122C}-\\u{1122E}\\u{11232}-\\u{11233}\\u{11235}\\u{112E0}-\\u{112E2}\\u{11302}-\\u{11303}\\u{1133F}\\u{11341}-\\u{11344}\\u{11347}-\\u{11348}\\u{1134B}-\\u{1134D}\\u{11362}-\\u{11363}\\u{11435}-\\u{11437}\\u{11440}-\\u{11441}\\u{11445}\\u{114B1}-\\u{114B2}\\u{114B9}\\u{114BB}-\\u{114BC}\\u{114BE}\\u{114C1}\\u{115B0}-\\u{115B1}\\u{115B8}-\\u{115BB}\\u{115BE}\\u{11630}-\\u{11632}\\u{1163B}-\\u{1163C}\\u{1163E}\\u{116AC}\\u{116AE}-\\u{116AF}\\u{116B6}\\u{11726}\\u{1182C}-\\u{1182E}\\u{11838}\\u{11931}-\\u{11935}\\u{11937}-\\u{11938}\\u{1193D}\\u{11940}\\u{11942}\\u{119D1}-\\u{119D3}\\u{119DC}-\\u{119DF}\\u{119E4}\\u{11A39}\\u{11A57}-\\u{11A58}\\u{11A97}\\u{11C2F}\\u{11C3E}\\u{11CA9}\\u{11CB1}\\u{11CB4}\\u{11D8A}-\\u{11D8E}\\u{11D93}-\\u{11D94}\\u{11D96}\\u{11EF5}-\\u{11EF6}\\u{16F51}-\\u{16F87}\\u{16FF0}-\\u{16FF1}\\u{1D166}\\u{1D16D}]$/u\r\nconst reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/u\r\nconst reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/u\r\nconst reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/u\r\nconst reLV = /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/u\r\nconst reLVT = /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/u\r\nconst reExtPict = /^\\p{ExtPict}$/u\r\n\r\nconst getCodepointType = (char: string, code: number): CodepointType => {\r\n  let type = CodepointType.Any\r\n  if (char.search(reExtend) !== -1) {\r\n    type |= CodepointType.Extend\r\n  }\r\n  if (code === 0x200d) {\r\n    type |= CodepointType.ZWJ\r\n  }\r\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\r\n    type |= CodepointType.RI\r\n  }\r\n  if (char.search(rePrepend) !== -1) {\r\n    type |= CodepointType.Prepend\r\n  }\r\n  if (char.search(reSpacingMark) !== -1) {\r\n    type |= CodepointType.SpacingMark\r\n  }\r\n  if (char.search(reL) !== -1) {\r\n    type |= CodepointType.L\r\n  }\r\n  if (char.search(reV) !== -1) {\r\n    type |= CodepointType.V\r\n  }\r\n  if (char.search(reT) !== -1) {\r\n    type |= CodepointType.T\r\n  }\r\n  if (char.search(reLV) !== -1) {\r\n    type |= CodepointType.LV\r\n  }\r\n  if (char.search(reLVT) !== -1) {\r\n    type |= CodepointType.LVT\r\n  }\r\n  if (char.search(reExtPict) !== -1) {\r\n    type |= CodepointType.ExtPict\r\n  }\r\n\r\n  return type\r\n}\r\n\r\nfunction intersects(x: CodepointType, y: CodepointType) {\r\n  return (x & y) !== 0\r\n}\r\n\r\nconst NonBoundaryPairs: [CodepointType, CodepointType][] = [\r\n  \r\n  [\r\n    CodepointType.L,\r\n    CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT,\r\n  ],\r\n  \r\n  [CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T],\r\n  \r\n  [CodepointType.LVT | CodepointType.T, CodepointType.T],\r\n  \r\n  [CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ],\r\n  \r\n  [CodepointType.Any, CodepointType.SpacingMark],\r\n  \r\n  [CodepointType.Prepend, CodepointType.Any],\r\n  \r\n  [CodepointType.ZWJ, CodepointType.ExtPict],\r\n  \r\n  [CodepointType.RI, CodepointType.RI],\r\n]\r\n\r\nfunction isBoundaryPair(left: CodepointType, right: CodepointType) {\r\n  return (\r\n    NonBoundaryPairs.findIndex(\r\n      r => intersects(left, r[0]) && intersects(right, r[1])\r\n    ) === -1\r\n  )\r\n}\r\n\r\nconst endingEmojiZWJ = /\\p{ExtPict}[\\p{Gr_Ext}\\p{EMod}]*\\u200D$/u\r\nconst endsWithEmojiZWJ = (str: string): boolean => {\r\n  return str.search(endingEmojiZWJ) !== -1\r\n}\r\n\r\nconst endingRIs = /\\p{RI}+$/gu\r\nconst endsWithOddNumberOfRIs = (str: string): boolean => {\r\n  const match = str.match(endingRIs)\r\n  if (match === null) {\r\n    return false\r\n  } else {\r\n    \r\n    const numRIs = match[0].length / 2\r\n    return numRIs % 2 === 1\r\n  }\r\n}","import {\r\n  Descendant,\r\n  Editor,\r\n  Element,\r\n  Node,\r\n  NodeEntry,\r\n  Operation,\r\n  Path,\r\n  PathRef,\r\n  PointRef,\r\n  Range,\r\n  RangeRef,\r\n  Text,\r\n  Transforms,\r\n} from './'\r\nimport { createRandomId } from '../../../utils/randomId';\r\nimport { DIRTY_PATHS, FLUSHING } from './utils/weak-maps'\r\nimport { getEditorEventEmitter } from '@src/components/docs/plugins/table/selection';\r\nimport { getCache, setCache } from '@src/utils/cacheUtils';\r\n\r\n\r\n\r\nexport const createEditor = (docId = ''): Editor => {\r\n  const editor: Editor = {\r\n    docId,\r\n    children: [],\r\n    operations: [],\r\n    selection: null,\r\n    marks: null,\r\n    isInline: () => false,\r\n    isVoid: () => false,\r\n    onChange: () => { },\r\n\r\n    apply: (op: Operation) => {\r\n\r\n      for (const ref of Editor.pathRefs(editor)) {\r\n        PathRef.transform(ref, op)\r\n      }\r\n\r\n      for (const ref of Editor.pointRefs(editor)) {\r\n        PointRef.transform(ref, op)\r\n      }\r\n\r\n      for (const ref of Editor.rangeRefs(editor)) {\r\n        RangeRef.transform(ref, op)\r\n      }\r\n\r\n      const set = new Set()\r\n      const dirtyPaths: Path[] = []\r\n\r\n      const add = (path: Path | null) => {\r\n        if (path) {\r\n          const key = path.join(',')\r\n\r\n          if (!set.has(key)) {\r\n            set.add(key)\r\n            dirtyPaths.push(path)\r\n          }\r\n        }\r\n      }\r\n\r\n      const oldDirtyPaths = DIRTY_PATHS.get(editor) || []\r\n      const newDirtyPaths = getDirtyPaths(op)\r\n\r\n      for (const path of oldDirtyPaths) {\r\n        const newPath = Path.transform(path, op)\r\n        add(newPath)\r\n      }\r\n\r\n      for (const path of newDirtyPaths) {\r\n        add(path)\r\n      }\r\n\r\n\r\n      DIRTY_PATHS.set(editor, dirtyPaths)\r\n      Transforms.transform(editor, op)\r\n      editor.operations.push(op)\r\n      Editor.normalize(editor)\r\n\r\n      \r\n      if (op.type === 'set_selection') {\r\n        editor.marks = null\r\n        getEditorEventEmitter(editor.docId).emit('editorSelection', editor.docId, op.newProperties);\r\n      }\r\n\r\n      if (!FLUSHING.get(editor)) {\r\n        FLUSHING.set(editor, true)\r\n\r\n        Promise.resolve().then(() => {\r\n          \r\n          const stack: any[] = getCache(editor.docId, 'changeEditorStack') || []\r\n          if (stack.length > 3) {\r\n            stack.shift()\r\n          }\r\n          stack.push({\r\n            content: editor.children,\r\n            operations: editor.operations\r\n          })\r\n          setCache(editor.docId, 'changeEditorStack', stack)\r\n          FLUSHING.set(editor, false)\r\n          editor.onChange()\r\n          editor.operations = []\r\n        })\r\n      }\r\n    },\r\n\r\n    addMark: (key: string, value: any) => {\r\n      const { selection } = editor\r\n\r\n      if (selection) {\r\n        if (Range.isExpanded(selection)) {\r\n          Transforms.setNodes(\r\n            editor,\r\n            { [key]: value },\r\n            { match: Text.isText, split: true }\r\n          )\r\n        } else {\r\n          const marks = {\r\n            ...(Editor.marks(editor) || {}),\r\n            [key]: value,\r\n          }\r\n\r\n          editor.marks = marks\r\n          if (!FLUSHING.get(editor)) {\r\n            editor.onChange()\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    deleteBackward: (unit: 'character' | 'word' | 'line' | 'block') => {\r\n      const { selection } = editor\r\n\r\n      if (selection && Range.isCollapsed(selection)) {\r\n        Transforms.delete(editor, { unit, reverse: true })\r\n      }\r\n    },\r\n\r\n    deleteForward: (unit: 'character' | 'word' | 'line' | 'block') => {\r\n      const { selection } = editor\r\n\r\n      if (selection && Range.isCollapsed(selection)) {\r\n        Transforms.delete(editor, { unit })\r\n      }\r\n    },\r\n\r\n    deleteFragment: (direction?: 'forward' | 'backward') => {\r\n      const { selection } = editor\r\n\r\n      if (selection && Range.isExpanded(selection)) {\r\n        Transforms.delete(editor, { reverse: direction === 'backward' })\r\n      }\r\n    },\r\n\r\n    getFragment: () => {\r\n      const { selection } = editor\r\n\r\n      if (selection) {\r\n        return Node.fragment(editor, selection)\r\n      }\r\n      return []\r\n    },\r\n\r\n    insertBreak: () => {\r\n      Transforms.splitNodes(editor, { always: true })\r\n    },\r\n\r\n    insertFragment: (fragment: Node[]) => {\r\n      Transforms.insertFragment(editor, fragment)\r\n    },\r\n\r\n    insertNode: (node: Node) => {\r\n      Transforms.insertNodes(editor, node)\r\n    },\r\n\r\n    insertText: (text: string) => {\r\n      const { selection, marks } = editor\r\n\r\n      if (selection) {\r\n        \r\n        \r\n        if (Range.isCollapsed(selection)) {\r\n          const inline = Editor.above(editor, {\r\n            match: (n: any) => Editor.isInline(editor, n),\r\n            mode: 'highest',\r\n          })\r\n\r\n          if (inline) {\r\n            const [, inlinePath] = inline\r\n\r\n            if (Editor.isEnd(editor, selection.anchor, inlinePath)) {\r\n              const point = Editor.after(editor, inlinePath)!\r\n              Transforms.setSelection(editor, {\r\n                anchor: point,\r\n                focus: point,\r\n              })\r\n            }\r\n          }\r\n        }\r\n\r\n        if (marks) {\r\n          const node = { text, ...marks }\r\n          Transforms.insertNodes(editor, node)\r\n        } else {\r\n          Transforms.insertText(editor, text)\r\n        }\r\n\r\n        editor.marks = null\r\n      }\r\n    },\r\n\r\n    normalizeNode: (entry: NodeEntry) => {\r\n      const [node, path] = entry\r\n\r\n      \r\n      if (Text.isText(node)) {\r\n        return\r\n      }\r\n\r\n      \r\n      if (Element.isElement(node) && node.children.length === 0) {\r\n        const child = { text: '' }\r\n        Transforms.insertNodes(editor, child, {\r\n          at: path.concat(0),\r\n          voids: true,\r\n        })\r\n        return\r\n      }\r\n\r\n      \r\n      const shouldHaveInlines = Editor.isEditor(node)\r\n        ? false\r\n        : Element.isElement(node) &&\r\n        (editor.isInline(node) ||\r\n          node.children.length === 0 ||\r\n          Text.isText(node.children[0]) ||\r\n          editor.isInline(node.children[0]))\r\n\r\n      \r\n      \r\n      let n = 0\r\n\r\n      for (let i = 0; i < node.children.length; i++, n++) {\r\n        const currentNode = Node.get(editor, path)\r\n        if (Text.isText(currentNode)) continue\r\n        const child = node.children[i] as Descendant\r\n        const prev = currentNode.children[n - 1] as Descendant\r\n        const isLast = i === node.children.length - 1\r\n        const isInlineOrText =\r\n          Text.isText(child) ||\r\n          (Element.isElement(child) && editor.isInline(child))\r\n\r\n        \r\n        \r\n        \r\n        \r\n        if (isInlineOrText !== shouldHaveInlines) {\r\n          Transforms.removeNodes(editor, { at: path.concat(n), voids: true })\r\n          n--\r\n        } else if (Element.isElement(child)) {\r\n          \r\n          if (editor.isInline(child)) {\r\n            if (prev == null || !Text.isText(prev)) {\r\n              const newChild = { text: '' }\r\n              Transforms.insertNodes(editor, newChild, {\r\n                at: path.concat(n),\r\n                voids: true,\r\n              })\r\n              n++\r\n            } else if (isLast) {\r\n              const newChild = { text: '' }\r\n              Transforms.insertNodes(editor, newChild, {\r\n                at: path.concat(n + 1),\r\n                voids: true,\r\n              })\r\n              n++\r\n            }\r\n          }\r\n        } else {\r\n          \r\n          if (prev != null && Text.isText(prev)) {\r\n            if (Text.equals(child, prev, { loose: true })) {\r\n              Transforms.mergeNodes(editor, { at: path.concat(n), voids: true })\r\n              n--\r\n            } else if (prev.text === '') {\r\n              Transforms.removeNodes(editor, {\r\n                at: path.concat(n - 1),\r\n                voids: true,\r\n              })\r\n              n--\r\n            } else if (child.text === '') {\r\n              Transforms.removeNodes(editor, {\r\n                at: path.concat(n),\r\n                voids: true,\r\n              })\r\n              n--\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    removeMark: (key: string) => {\r\n      const { selection } = editor\r\n\r\n      if (selection) {\r\n        if (Range.isExpanded(selection)) {\r\n          Transforms.unsetNodes(editor, key, {\r\n            match: Text.isText,\r\n            split: true,\r\n          })\r\n        } else {\r\n          const marks = { ...(Editor.marks(editor) || {}) }\r\n          delete marks[key]\r\n          editor.marks = marks\r\n          if (!FLUSHING.get(editor)) {\r\n            editor.onChange()\r\n          }\r\n        }\r\n      }\r\n    },\r\n  }\r\n\r\n  return editor\r\n}\r\n\r\n\r\n\r\nconst getDirtyPaths = (op: Operation): Path[] => {\r\n  switch (op.type) {\r\n    case 'insert_text':\r\n    case 'remove_text':\r\n    case 'set_node': {\r\n      const { path } = op\r\n      return Path.levels(path)\r\n    }\r\n\r\n    case 'insert_node': {\r\n      const { node, path } = op\r\n      const levels = Path.levels(path)\r\n      const descendants = Text.isText(node)\r\n        ? []\r\n        : Array.from(Node.nodes(node), ([, p]) => path.concat(p))\r\n\r\n      return [...levels, ...descendants]\r\n    }\r\n\r\n    case 'merge_node': {\r\n      const { path } = op\r\n      const ancestors = Path.ancestors(path)\r\n      const previousPath = Path.previous(path)\r\n      return [...ancestors, previousPath]\r\n    }\r\n\r\n    case 'move_node': {\r\n      const { path, newPath } = op\r\n\r\n      if (Path.equals(path, newPath)) {\r\n        return []\r\n      }\r\n\r\n      const oldAncestors: Path[] = []\r\n      const newAncestors: Path[] = []\r\n\r\n      for (const ancestor of Path.ancestors(path)) {\r\n        const p = Path.transform(ancestor, op)\r\n        oldAncestors.push(p!)\r\n      }\r\n\r\n      for (const ancestor of Path.ancestors(newPath)) {\r\n        const p = Path.transform(ancestor, op)\r\n        newAncestors.push(p!)\r\n      }\r\n\r\n      const newParent = newAncestors[newAncestors.length - 1]\r\n      const newIndex = newPath[newPath.length - 1]\r\n      const resultPath = newParent.concat(newIndex)\r\n\r\n      return [...oldAncestors, ...newAncestors, resultPath]\r\n    }\r\n\r\n    case 'remove_node': {\r\n      const { path } = op\r\n      const ancestors = Path.ancestors(path)\r\n      return [...ancestors]\r\n    }\r\n\r\n    case 'split_node': {\r\n      const { path } = op\r\n      const levels = Path.levels(path)\r\n      const nextPath = Path.next(path)\r\n      return [...levels, nextPath]\r\n    }\r\n\r\n    default: {\r\n      return []\r\n    }\r\n  }\r\n}\r\n","import isPlainObject from 'is-plain-object'\r\nimport { Editor, Node, Path, Descendant, ExtendedType, Ancestor } from '..'\r\n\r\n\r\n\r\nexport interface BaseElement {\r\n  children: Descendant[];\r\n  anchorId?: string;\r\n}\r\n\r\nexport type Element = ExtendedType<'Element', BaseElement>\r\n\r\nexport interface ElementInterface {\r\n  isAncestor: (value: any) => value is Ancestor\r\n  isElement: (value: any) => value is Element\r\n  isElementList: (value: any) => value is Element[]\r\n  isElementProps: (props: any) => props is Partial<Element>\r\n  isElementType: <T extends Element>(\r\n    value: any,\r\n    elementVal: string,\r\n    elementKey?: string\r\n  ) => value is T\r\n  matches: (element: Element, props: Partial<Element>) => boolean\r\n}\r\n\r\n\r\nconst isElement = (value: any): value is Element => {\r\n  return (\r\n    isPlainObject(value) &&\r\n    Node.isNodeList(value.children) &&\r\n    !Editor.isEditor(value)\r\n  )\r\n}\r\n\r\nexport const Element: ElementInterface = {\r\n  \r\n\r\n  isAncestor(value: any): value is Ancestor {\r\n    return isPlainObject(value) && Node.isNodeList(value.children)\r\n  },\r\n\r\n  \r\n\r\n  isElement,\r\n  \r\n\r\n  isElementList(value: any): value is Element[] {\r\n    return Array.isArray(value) && value.every(val => Element.isElement(val))\r\n  },\r\n\r\n  \r\n\r\n  isElementProps(props: any): props is Partial<Element> {\r\n    return (props as Partial<Element>).children !== undefined\r\n  },\r\n\r\n  \r\n\r\n  isElementType: <T extends Element>(\r\n    value: any,\r\n    elementVal: string,\r\n    elementKey: string = 'type'\r\n  ): value is T => {\r\n    return isElement(value) && value[elementKey] === elementVal\r\n  },\r\n\r\n  \r\n\r\n  matches(element: Element, props: Partial<Element>): boolean {\r\n    for (const key in props) {\r\n      if (key === 'children') {\r\n        continue\r\n      }\r\n\r\n      if (element[key] !== props[key]) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    return true\r\n  },\r\n}\r\n\r\n\r\n\r\nexport type ElementEntry = [Element, Path]\r\n","let _cache = {};\n\nfunction init() {\n  const MAX_MEMORTY_VALUE_LENGTH = 300;\n  let _store = window ? window.localStorage : null;\n  let _prefix = `tripdocs/`;\n  let storage;\n\n  try {\n    _store.setItem('bs_:)_', '__');\n    _store.removeItem('bs_:)_');\n  } catch (e) {\n    _store = null;\n  }\n\n  if (_store) {\n    storage = {\n      sync(products, fn) {\n        let lastPrefix = _prefix;\n        products.forEach(product => {\n          _prefix = `__ta/${product}_`;\n          fn();\n        });\n        _prefix = lastPrefix;\n      },\n      set(key, val, seconds) {\n        let expiredAt = seconds ? Date.now() + seconds * 1000 : 0;\n        val = JSON.stringify([val, expiredAt]);\n        if (val.length <= MAX_MEMORTY_VALUE_LENGTH) _cache[key] = val;\n        else delete _cache[key];\n        _store.setItem(_prefix + key, val);\n      },\n\n      setAll(map) {\n        Object.keys(map).forEach(key => {\n          this.set(key, map[key]);\n        });\n      },\n\n      get(key, defaultValue) {\n        let rawVal = _cache[key] || _store.getItem(_prefix + key);\n        if (!rawVal) return defaultValue;\n\n        try {\n          let [val, expiredAt] = JSON.parse(rawVal);\n          if (expiredAt && Date.now() > expiredAt) {\n            return defaultValue;\n          }\n          return val;\n        } catch (e) {\n          return defaultValue;\n        }\n      },\n\n      del(key) {\n        delete _cache[key];\n        _store.removeItem(_prefix + key);\n      },\n\n      has(key) {\n        return key in _cache || !!_store.getItem(_prefix + key);\n      },\n    };\n  } else {\n    storage = singleStorage();\n  }\n  return storage;\n}\nlet storage: any;\nif (!storage) {\n  if (typeof window === 'object') {\n    storage = init();\n  } else {\n    storage = singleStorage();\n  }\n}\nfunction singleStorage() {\n  return {\n    set(key, val) {\n      _cache[key] = val;\n    },\n    get(key) {\n      return _cache[key];\n    },\n    del(key) {\n      delete _cache[key];\n    },\n    has(key) {\n      return key in _cache;\n    },\n  };\n}\n\nexport { storage as default };\n","import { Path, Node, Editor } from '@src/components/slate-packages/slate';\nimport { TNode } from 'slate';\nimport invariant from 'tiny-invariant';\nimport { ELTYPE } from '../config';\n\nfunction getParentPath(path: Path, level = 1): [number, Path] {\n  if (level > path.length) {\n    throw new TypeError('requested ancestor is higher than root');\n  }\n\n  return [path[path.length - level], path.slice(0, path.length - level)];\n}\n\nexport function getParent(editor: Editor, path: Path, level: number = 1): [TNode, Path] {\n  if (!path) return null;\n  const [idx, parentPath] = getParentPath(path, level);\n\n  const parent = Node.get(editor, parentPath) as TNode;\n  invariant(parent, 'Parent node should exists');\n  return [parent, parentPath];\n}\n\nexport function getParentPathByType(editor: Editor, path: Path, type: string): Path | null {\n  if (!path) return null;\n  const len = path.length;\n  for (let i = len - 1; i >= 0; i--) {\n    const node: any = Node.has(editor, path.slice(0, i)) && Node.get(editor, path.slice(0, i));\n    if (node && node.type === type) {\n      return path.slice(0, i);\n    }\n  }\n  return null;\n}\n\nexport function getParentPathByTypes(editor: Editor, path: Path, types: string[]): Path | null {\n  const len = path.length;\n  for (let i = len - 1; i >= 0; i--) {\n    const node: any = Node.has(editor, path.slice(0, i)) && Node.get(editor, path.slice(0, i));\n    if (node && types.includes(node.type)) {\n      return path.slice(0, i);\n    }\n  }\n  return null;\n}\n\nexport function isPathDescendantOfType(editor: Editor, path: Path, parentType: string): boolean {\n  const parentPath = getParentPathByType(editor, path, parentType);\n  return parentPath ? true : false;\n}\n\nexport function isPathDescendantOfTable(editor: Editor, path: Path): boolean {\n  return isPathDescendantOfType(editor, path, ELTYPE.TABLE);\n}\n\nexport function isPath(path) {\n  for (let i = 0; i < path.length; i++) {\n    const num = path[i];\n    if (!(isFinite(num) && num >= 0)) {\n      return false;\n    }\n  }\n  return true;\n}\nexport function calcPath(path, anther) {\n  const newPath = [...path];\n  const newAnther = [...anther];\n  const relativeLen = path.length - anther.length;\n  if (relativeLen > 0) {\n    newAnther.unshift(new Array(relativeLen).fill(0));\n  } else if (relativeLen < 0) {\n    newPath.unshift(new Array(-relativeLen).fill(0));\n  }\n\n  const relativePath = [];\n  for (let i = 0; i < newPath.length; i++) {\n    relativePath.push(newPath[i] + newAnther[i]);\n  }\n  return relativePath;\n}\n\nexport function isEquals(path, anther) {\n  for (let i = 0; i < path.length; i++) {\n    if (path[i] !== anther[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function getRelativePath(path, anther) {\n  const newPath = [...path];\n  const newAnther = [...anther];\n  const relativeLen = path.length - anther.length;\n  if (relativeLen > 0) {\n    newAnther.unshift(new Array(relativeLen).fill(0));\n  } else if (relativeLen < 0) {\n    return new Array(anther.length).fill(0);\n    newPath.unshift(new Array(-relativeLen).fill(0));\n  }\n\n  const relativePath = [];\n  for (let i = 0; i < newPath.length; i++) {\n    if (newPath[i] !== newAnther[i]) {\n      relativePath.push(newPath[i] - newAnther[i]);\n    } else {\n      relativePath.push(0);\n    }\n  }\n  return relativePath;\n}\n","import { ELTYPE, TABBABLE_TYPES } from '@src/components/docs/plugins/config';\nimport { getParentPathByType, getParentPathByTypes, getRelativePath } from '@src/components/docs/plugins/pluginsUtils/getPathUtils';\nimport { BaseRange, Editor, Node, Path, Point, Range, Text } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '../components/slate-packages/../slate-packages/slate-react';\n\nexport const getStart = (editor: ReactEditor, curStartPath?: Path) => {\n  let startPath = curStartPath || [1, 0];\n  let startNode = Node.has(editor, startPath) && Node.get(editor, startPath);\n  while (startNode && !Text.isText(startNode)) {\n    startPath = [...startPath, 0];\n    startNode = Node.has(editor, startPath) && Node.get(editor, startPath);\n  }\n  return { startNode, startPath, startPoint: { path: startPath, offset: 0 } };\n};\n\nexport const bodySelectAll = (editor: ReactEditor) => {\n  const lastChildIndex = editor.children.length - 1;\n  const lastChild: any = editor.children[lastChildIndex];\n  const lastGrandChildren: any = lastChild.children;\n  const lastTextLength = lastGrandChildren[lastGrandChildren.length - 1]?.text?.length || 0;\n  const { startPoint } = getStart(editor);\n  const start = Editor.start(editor, startPoint);\n  const end = Editor.end(editor, {\n    path: [lastChildIndex, lastGrandChildren.length - 1],\n    offset: lastTextLength,\n  });\n  const range = Editor.range(editor, start, end);\n  return range;\n};\n\nexport const currentCellSelectAll = (editor: ReactEditor, cPath?: Path) => {\n  const startPoint = currentCellStartPoint(editor, cPath);\n  const endPoint = currentCellEndPoint(editor, cPath);\n  if (startPoint && endPoint) {\n    return Editor.range(editor, startPoint, endPoint);\n  }\n};\n\nexport const currentCellStartPoint = (editor: ReactEditor, cPath?: Path) => {\n  const sel: any = editor.selection;\n  const thisCellPath = cPath || getParentPathByType(editor, sel.focus.path, ELTYPE.TABLE_CELL);\n  if (thisCellPath) {\n    const [cellNode, cellPath]: any = Editor.node(editor, thisCellPath);\n    const { startPoint } = getStart(editor, [...cellPath, 0, 0]);\n\n    console.log('cellPath', thisCellPath, startPoint);\n    return startPoint;\n  }\n};\n\nexport const currentCellEndPoint = (editor: ReactEditor, cPath?: Path) => {\n  const sel: any = editor.selection;\n  const thisCellPath = cPath || getParentPathByType(editor, sel.focus.path, ELTYPE.TABLE_CELL);\n  if (thisCellPath) {\n    const [cellNode, cellPath]: any = Editor.node(editor, thisCellPath);\n    const lastChildIndex = cellNode.children.length - 1;\n    const lastGrandChildren: any = cellNode.children[cellNode.children.length - 1].children;\n    const lastTextLength = lastGrandChildren[lastGrandChildren.length - 1]?.text?.length || 0;\n    const end = Editor.end(editor, {\n      path: [...cellPath, lastChildIndex, lastGrandChildren.length - 1],\n      offset: lastTextLength,\n    });\n    return end;\n  }\n};\nexport const currentLineSelectAll = (editor: ReactEditor): BaseRange => {\n  const start = getCurrentLineStart(editor);\n  const end = getCurrentLineEnd(editor);\n  const range = Editor.range(editor, start, end);\n  return range;\n};\n\nexport const getCurrentLineEnd = (editor: ReactEditor) => {\n  const linePath = editor.selection.focus.path.slice(0, -1);\n  const [lineNode]: any = Editor.node(editor, linePath);\n  const lastTextLength = lineNode.children[lineNode.children.length - 1]?.text?.length || 0;\n  const end = Editor.end(editor, {\n    path: [...linePath, lineNode.children.length - 1],\n    offset: lastTextLength,\n  });\n  return end;\n};\n\nexport const getCurrentLineStart = (editor: ReactEditor): Point => {\n  let linePath = getParentPathByTypes(editor, editor.selection.focus.path, [...TABBABLE_TYPES]);\n  if (linePath?.length === 0) {\n    linePath = null;\n  }\n\n  const cardPath = getParentPathByType(editor, linePath, ELTYPE.CARD);\n  let start = null;\n  if (linePath) {\n    start = Editor.start(editor, { path: [...linePath, 0], offset: 0 });\n  } else if (cardPath) {\n    console.log('[getCurrentLineStart] cardPath', cardPath);\n    start = { path: [...cardPath, 0, 0], offset: 0 };\n  }\n  return start;\n};\n\nexport const getIsTitle = (editor: ReactEditor): boolean => {\n  return editor?.selection?.focus?.path[0] === 0 || editor?.selection?.anchor?.path[0] === 0;\n};\nexport const rangeisLine = (range: BaseRange): boolean => {\n  const [start, end] = Range.edges(range);\n\n  const isLine =\n    start.path.length > end.path.length\n      ? Path.equals(end.path, start.path.slice(0, end.path.length))\n      : Path.equals(start.path, end.path.slice(0, start.path.length));\n  return isLine;\n};\n\nexport const sliceRangToLine = (editor: ReactEditor, range: BaseRange): BaseRange[] => {\n  const [start, end] = Range.edges(range);\n  const { path: startPath, offset: startOffset } = start;\n  const { path: endPath, offset: endOffset } = end;\n  const ranges = [];\n  if (rangeisLine(range)) {\n    ranges.push(range);\n    return ranges;\n  }\n\n  const basePath = [];\n  for (let i = 0; i < start.path.length; i++) {\n    const p1 = startPath[i];\n    const p2 = endPath[i];\n    if (p1 === p2) {\n      basePath.push(p1);\n    }\n    break;\n  }\n\n  const startOffsetPath = startPath.slice(0, basePath.length);\n\n  const endOffsetPath = endPath.slice(0, basePath.length);\n  const startIndex = startPath[basePath.length];\n  const endIndex = endPath[basePath.length];\n  const startBasePath = [...startOffsetPath, startIndex];\n  const endBasePath = [...endOffsetPath, endIndex];\n\n  if (Editor.hasPath(editor, startBasePath)) {\n    const ranges = [];\n\n    const firstRangeEnd = Editor.end(editor, startBasePath);\n    const startRangs = {\n      anchor: start,\n      focus: firstRangeEnd,\n    };\n    ranges.push(startRangs);\n    const centerNum = endIndex - startIndex;\n\n    if (1 < centerNum) {\n      for (let i = 1; i < centerNum; i++) {\n        const path = [...basePath, startIndex + i];\n        if (Editor.hasPath(editor, path)) {\n          const startPoint = Editor.start(editor, path);\n          const endPoint = Editor.end(editor, path);\n          const range = { anchor: startPoint, focus: endPoint };\n          ranges.push(range);\n        }\n      }\n    }\n    if (Editor.hasPath(editor, endBasePath)) {\n      const lastRangeSatrt = Editor.start(editor, endBasePath);\n      const endRangs = {\n        anchor: lastRangeSatrt,\n        focus: end,\n      };\n      ranges.push(endRangs);\n    }\n    return ranges;\n  }\n  return [range];\n};\n","import { useEffect, useLayoutEffect } from 'react'\r\n\r\n\r\nexport const useIsomorphicLayoutEffect =\r\n  typeof window !== 'undefined' ? useLayoutEffect : useEffect\r\n","import { createContext, useContext } from 'react'\r\n\r\n\r\n\r\nexport const ReadOnlyContext = createContext(false)\r\n\r\n\r\n\r\nexport const useReadOnly = (): boolean => {\r\n  return useContext(ReadOnlyContext)\r\n}\r\n","import { createContext, useContext } from 'react'\r\nimport { ReactEditor } from '../plugin/react-editor'\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\n\r\n\r\n\r\n\r\nexport const SlateContext = createContext<[ReactEditor] | null>(null)\r\n\r\n\r\n\r\nexport const useSlate = () => {\r\n  const context = useContext(SlateContext)\r\n\r\n  if (!context) {\r\n    handleSlateError( \r\n      `The \\`useSlate\\` hook must be used inside the <SlateProvider> component's context.`\r\n    )\r\n    return\r\n  }\r\n\r\n  const [editor] = context\r\n  return editor\r\n}\r\n","\r\n\r\n\r\n\r\n\r\nimport DOMNode = globalThis.Node;\r\nimport DOMComment = globalThis.Comment;\r\nimport DOMElement = globalThis.Element;\r\nimport DOMText = globalThis.Text;\r\nimport DOMRange = globalThis.Range;\r\nimport DOMSelection = globalThis.Selection;\r\nimport DOMStaticRange = globalThis.StaticRange;\r\n\r\nexport { DOMNode, DOMComment, DOMElement, DOMText, DOMRange, DOMSelection, DOMStaticRange };\r\n\r\ndeclare global {\r\n  interface Window {\r\n    Selection: typeof Selection['constructor'];\r\n    DataTransfer: typeof DataTransfer['constructor'];\r\n    Node: typeof Node['constructor'];\r\n  }\r\n}\r\n\r\nexport type DOMPoint = [Node, number];\r\n\r\n\r\n\r\nexport const getDefaultView = (value: any): Window | null => {\r\n  return (value && value.ownerDocument && value.ownerDocument.defaultView) || null;\r\n};\r\n\r\n\r\n\r\nexport const isDOMComment = (value: any): value is DOMComment => {\r\n  return isDOMNode(value) && value.nodeType === 8;\r\n};\r\n\r\n\r\n\r\nexport const isDOMElement = (value: any): value is DOMElement => {\r\n  return isDOMNode(value) && value.nodeType === 1;\r\n};\r\n\r\n\r\n\r\nexport const isDOMNode = (value: any): value is DOMNode => {\r\n  const window = getDefaultView(value);\r\n  return !!window && value instanceof window.Node;\r\n};\r\n\r\n\r\n\r\nexport const isDOMSelection = (value: any): value is DOMSelection => {\r\n  const window = value && value.anchorNode && getDefaultView(value.anchorNode);\r\n  return !!window && value instanceof window.Selection;\r\n};\r\n\r\n\r\n\r\nexport const isDOMText = (value: any): value is DOMText => {\r\n  return isDOMNode(value) && value.nodeType === 3;\r\n};\r\n\r\n\r\n\r\nexport const isPlainTextOnlyPaste = (event: ClipboardEvent) => {\r\n  return (\r\n    event.clipboardData &&\r\n    event.clipboardData.getData('text/plain') !== '' &&\r\n    event.clipboardData.types.length === 1\r\n  );\r\n};\r\n\r\n\r\n\r\nexport const normalizeDOMPoint = (domPoint: DOMPoint): DOMPoint => {\r\n  let [node, offset] = domPoint;\r\n\r\n  \r\n  \r\n  if (isDOMElement(node) && node.childNodes.length) {\r\n    let isLast = offset === node.childNodes.length;\r\n    let index = isLast ? offset - 1 : offset;\r\n    [node, index] = getEditableChildAndIndex(node, index, isLast ? 'backward' : 'forward');\r\n    \r\n    isLast = index < offset;\r\n\r\n    \r\n    \r\n    while (isDOMElement(node) && node.childNodes.length) {\r\n      const i = isLast ? node.childNodes.length - 1 : 0;\r\n      node = getEditableChild(node, i, isLast ? 'backward' : 'forward');\r\n    }\r\n\r\n    \r\n    offset = isLast && node.textContent != null ? node.textContent.length : 0;\r\n  }\r\n\r\n  \r\n  return [node, offset];\r\n};\r\n\r\n\r\n\r\nexport const hasShadowRoot = () => {\r\n  return !!(window.document.activeElement && window.document.activeElement.shadowRoot);\r\n};\r\n\r\n\r\n\r\nexport const getEditableChildAndIndex = (\r\n  parent: DOMElement,\r\n  index: number,\r\n  direction: 'forward' | 'backward'\r\n): [DOMNode, number] => {\r\n  const { childNodes } = parent;\r\n  let child = childNodes[index];\r\n  let i = index;\r\n  let triedForward = false;\r\n  let triedBackward = false;\r\n\r\n  \r\n  \r\n  while (\r\n    isDOMComment(child) ||\r\n    (isDOMElement(child) && child.childNodes.length === 0) ||\r\n    (isDOMElement(child) && child.getAttribute('contenteditable') === 'false')\r\n  ) {\r\n    if (triedForward && triedBackward) {\r\n      break;\r\n    }\r\n\r\n    if (i >= childNodes.length) {\r\n      triedForward = true;\r\n      i = index - 1;\r\n      direction = 'backward';\r\n      continue;\r\n    }\r\n\r\n    if (i < 0) {\r\n      triedBackward = true;\r\n      i = index + 1;\r\n      direction = 'forward';\r\n      continue;\r\n    }\r\n\r\n    child = childNodes[i];\r\n    index = i;\r\n    i += direction === 'forward' ? 1 : -1;\r\n  }\r\n\r\n  return [child, index];\r\n};\r\n\r\n\r\n\r\nexport const getEditableChild = (\r\n  parent: DOMElement,\r\n  index: number,\r\n  direction: 'forward' | 'backward'\r\n): DOMNode => {\r\n  const [child] = getEditableChildAndIndex(parent, index, direction);\r\n  return child;\r\n};\r\n\r\n\r\n\r\nexport const getPlainText = (domNode: DOMNode) => {\r\n  let text = '';\r\n\r\n  if (isDOMText(domNode) && domNode.nodeValue) {\r\n    return domNode.nodeValue;\r\n  }\r\n\r\n  if (isDOMElement(domNode)) {\r\n    for (const childNode of Array.from(domNode.childNodes)) {\r\n      text += getPlainText(childNode);\r\n    }\r\n\r\n    const display = getComputedStyle(domNode).getPropertyValue('display');\r\n\r\n    if (display === 'block' || display === 'list' || domNode.tagName === 'BR') {\r\n      text += '\\n';\r\n    }\r\n  }\r\n\r\n  return text;\r\n};\r\n\r\n\r\nconst catchSlateFragment = /data-slate-fragment=\"(.+?)\"/m;\r\nexport const getSlateFragmentAttribute = (dataTransfer: DataTransfer): string | void => {\r\n  const htmlData = dataTransfer.getData('text/html');\r\n  const [, fragment] = htmlData.match(catchSlateFragment) || [];\r\n  return fragment;\r\n};\r\n\r\n\r\nexport const getClipboardData = (dataTransfer: DataTransfer): DataTransfer => {\r\n  if (!dataTransfer.getData('application/x-slate-fragment')) {\r\n    const fragment = getSlateFragmentAttribute(dataTransfer);\r\n    if (fragment) {\r\n      const clipboardData = new DataTransfer();\r\n      dataTransfer.types.forEach(type => {\r\n        clipboardData.setData(type, dataTransfer.getData(type));\r\n      });\r\n      clipboardData.setData('application/x-slate-fragment', fragment);\r\n      return clipboardData;\r\n    }\r\n  }\r\n  return dataTransfer;\r\n};\r\n","import React from 'react'\r\n\r\nexport const IS_REACT_VERSION_17_OR_ABOVE =\r\n  parseInt(React.version.split('.')[0], 10) >= 17\r\n\r\nexport const IS_IOS =\r\n  typeof navigator !== 'undefined' &&\r\n  typeof window !== 'undefined' &&\r\n  /iPad|iPhone|iPod/.test(navigator.userAgent) &&\r\n  !window.MSStream\r\n\r\nexport const IS_APPLE =\r\n  typeof navigator !== 'undefined' && /Mac OS X/.test(navigator.userAgent)\r\n\r\nexport const IS_ANDROID =\r\n  typeof navigator !== 'undefined' && /Android/.test(navigator.userAgent)\r\n\r\nexport const IS_FIREFOX =\r\n  typeof navigator !== 'undefined' &&\r\n  /^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent)\r\n\r\nexport const IS_SAFARI =\r\n  typeof navigator !== 'undefined' &&\r\n  /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent)\r\n\r\n\r\nexport const IS_EDGE_LEGACY =\r\n  typeof navigator !== 'undefined' &&\r\n  /Edge?\\/(?:[0-6][0-9]|[0-7][0-8])(?:\\.)/i.test(navigator.userAgent)\r\n\r\nexport const IS_CHROME =\r\n  typeof navigator !== 'undefined' && /Chrome/i.test(navigator.userAgent)\r\n\r\n\r\n\r\nexport const IS_CHROME_LEGACY =\r\n  typeof navigator !== 'undefined' &&\r\n  /Chrome?\\/(?:[0-7][0-5]|[0-6][0-9])(?:\\.)/i.test(navigator.userAgent)\r\n\r\n\r\nexport const IS_FIREFOX_LEGACY =\r\n  typeof navigator !== 'undefined' &&\r\n  /^(?!.*Seamonkey)(?=.*Firefox\\/(?:[0-7][0-9]|[0-8][0-6])(?:\\.)).*/i.test(\r\n    navigator.userAgent\r\n  )\r\n\r\n\r\nexport const IS_QQBROWSER =\r\n  typeof navigator !== 'undefined' && /.*QQBrowser/.test(navigator.userAgent)\r\n\r\n\r\nexport const IS_UC_MOBILE =\r\n  typeof navigator !== 'undefined' && /.*UCBrowser/.test(navigator.userAgent)\r\n\r\n\r\nexport const IS_WECHATBROWSER =\r\n  typeof navigator !== 'undefined' && /.*Wechat/.test(navigator.userAgent)\r\n\r\n\r\n\r\nexport const CAN_USE_DOM = !!(\r\n  typeof window !== 'undefined' &&\r\n  typeof window.document !== 'undefined' &&\r\n  typeof window.document.createElement !== 'undefined'\r\n)\r\n\r\n\r\n\r\nexport const HAS_BEFORE_INPUT_SUPPORT =\r\n  !IS_CHROME_LEGACY &&\r\n  !IS_EDGE_LEGACY &&\r\n  \r\n  typeof globalThis !== 'undefined' &&\r\n  globalThis.InputEvent &&\r\n  \r\n  typeof globalThis.InputEvent.prototype.getTargetRanges === 'function'","import { isKeyHotkey } from 'is-hotkey'\r\nimport { IS_APPLE } from './environment'\r\n\r\n\r\n\r\nconst HOTKEYS = {\r\n  bold: 'mod+b',\r\n  compose: ['down', 'left', 'right', 'up', 'backspace', 'enter'],\r\n  moveBackward: 'left',\r\n  moveForward: 'right',\r\n  moveWordBackward: 'ctrl+left',\r\n  moveWordForward: 'ctrl+right',\r\n  deleteBackward: 'shift?+backspace',\r\n  deleteForward: 'shift?+delete',\r\n  extendBackward: 'shift+left',\r\n  extendForward: 'shift+right',\r\n  italic: 'mod+i',\r\n  splitBlock: 'shift?+enter',\r\n  undo: 'mod+z',\r\n}\r\n\r\nconst APPLE_HOTKEYS = {\r\n  moveLineBackward: 'opt+up',\r\n  moveLineForward: 'opt+down',\r\n  moveWordBackward: 'opt+left',\r\n  moveWordForward: 'opt+right',\r\n  deleteBackward: ['ctrl+backspace', 'ctrl+h'],\r\n  deleteForward: ['ctrl+delete', 'ctrl+d'],\r\n  deleteLineBackward: 'cmd+shift?+backspace',\r\n  deleteLineForward: ['cmd+shift?+delete', 'ctrl+k'],\r\n  deleteWordBackward: 'opt+shift?+backspace',\r\n  deleteWordForward: 'opt+shift?+delete',\r\n  extendLineBackward: 'opt+shift+up',\r\n  extendLineForward: 'opt+shift+down',\r\n  redo: 'cmd+shift+z',\r\n  transposeCharacter: 'ctrl+t',\r\n}\r\n\r\nconst WINDOWS_HOTKEYS = {\r\n  deleteWordBackward: 'ctrl+shift?+backspace',\r\n  deleteWordForward: 'ctrl+shift?+delete',\r\n  redo: ['ctrl+y', 'ctrl+shift+z'],\r\n}\r\n\r\n\r\n\r\nconst create = (key: string) => {\r\n  const generic = HOTKEYS[key]\r\n  const apple = APPLE_HOTKEYS[key]\r\n  const windows = WINDOWS_HOTKEYS[key]\r\n  const isGeneric = generic && isKeyHotkey(generic)\r\n  const isApple = apple && isKeyHotkey(apple)\r\n  const isWindows = windows && isKeyHotkey(windows)\r\n\r\n  return (event: KeyboardEvent) => {\r\n    if (isGeneric && isGeneric(event)) return true\r\n    if (IS_APPLE && isApple && isApple(event)) return true\r\n    if (!IS_APPLE && isWindows && isWindows(event)) return true\r\n    return false\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default {\r\n  isBold: create('bold'),\r\n  isCompose: create('compose'),\r\n  isMoveUp: create('moveUp'),\r\n  isMoveDown: create('moveDown'),\r\n  isMoveBackward: create('moveBackward'),\r\n  isMoveForward: create('moveForward'),\r\n  isDeleteBackward: create('deleteBackward'),\r\n  isDeleteForward: create('deleteForward'),\r\n  isDeleteLineBackward: create('deleteLineBackward'),\r\n  isDeleteLineForward: create('deleteLineForward'),\r\n  isDeleteWordBackward: create('deleteWordBackward'),\r\n  isDeleteWordForward: create('deleteWordForward'),\r\n  isExtendBackward: create('extendBackward'),\r\n  isExtendForward: create('extendForward'),\r\n  isExtendLineBackward: create('extendLineBackward'),\r\n  isExtendLineForward: create('extendLineForward'),\r\n  isItalic: create('italic'),\r\n  isMoveLineBackward: create('moveLineBackward'),\r\n  isMoveLineForward: create('moveLineForward'),\r\n  isMoveWordBackward: create('moveWordBackward'),\r\n  isMoveWordForward: create('moveWordForward'),\r\n  isRedo: create('redo'),\r\n  isSplitBlock: create('splitBlock'),\r\n  isTransposeCharacter: create('transposeCharacter'),\r\n  isUndo: create('undo'),\r\n}\r\n","import { Node, Ancestor, Editor, Range } from '@src/components/slate-packages/slate';\r\n\r\nimport { Key } from './key';\r\n\r\n\r\n\r\nexport const NODE_TO_INDEX: WeakMap<Node, number> = new WeakMap();\r\nexport const NODE_TO_PARENT: WeakMap<Node, Ancestor> = new WeakMap();\r\n\r\n\r\nexport const EDITOR_TO_WINDOW: WeakMap<Editor, Window> = new WeakMap();\r\nexport const EDITOR_TO_ELEMENT: WeakMap<Editor, HTMLElement> = new WeakMap();\r\nexport const EDITOR_TO_PLACEHOLDER: WeakMap<Editor, string> = new WeakMap();\r\nexport const ELEMENT_TO_NODE: WeakMap<HTMLElement, Node> = new WeakMap();\r\nexport const NODE_TO_ELEMENT: WeakMap<Node, HTMLElement> = new WeakMap();\r\nexport const NODE_TO_KEY: WeakMap<Node, Key> = new WeakMap();\r\nexport const EDITOR_TO_KEY_TO_ELEMENT: WeakMap<Editor, WeakMap<Key, HTMLElement>> = new WeakMap();\r\n\r\n\r\n\r\nexport const IS_READ_ONLY: WeakMap<Editor, boolean> = new WeakMap();\r\nexport const IS_FOCUSED: WeakMap<Editor, boolean> = new WeakMap();\r\nexport const IS_DRAGGING: WeakMap<Editor, boolean> = new WeakMap();\r\nexport const IS_CLICKING: WeakMap<Editor, boolean> = new WeakMap();\r\n\r\n\r\n\r\nexport const EDITOR_TO_ON_CHANGE = new WeakMap<Editor, () => void>();\r\n\r\nexport const EDITOR_TO_RESTORE_DOM = new WeakMap<Editor, () => void>();\r\n\r\n\r\n\r\nexport const PLACEHOLDER_SYMBOL = (Symbol('placeholder') as unknown) as string;\r\n","import { createContext, useContext } from 'react'\r\nimport { ReactEditor } from '../plugin/react-editor'\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\n\r\n\r\n\r\nexport const EditorContext = createContext<ReactEditor | null>(null)\r\n\r\n\r\n\r\nexport const useEditor = () => {\r\n  const editor = useContext(EditorContext)\r\n\r\n  if (!editor) {\r\n    handleSlateError( \r\n      `The \\`useEditor\\` hook must be used inside the <Slate> component's context.`\r\n    )\r\n    return\r\n  }\r\n\r\n  return editor\r\n}\r\n","import { createContext, useContext } from 'react'\r\n\r\n\r\n\r\nexport const SelectedContext = createContext(false)\r\n\r\n\r\n\r\nexport const useSelected = (): boolean => {\r\n  return useContext(SelectedContext)\r\n}\r\n","import React, { useRef } from 'react'\r\nimport { Editor, Element, Node, Path, Text } from \"@src/components/slate-packages/slate\"\r\nimport { ReactEditor, useEditor } from '..'\r\nimport { useIsomorphicLayoutEffect } from '../hooks/use-isomorphic-layout-effect'\r\n\r\n\r\n\r\n\r\nconst String = (props: {\r\n  isLast: boolean\r\n  leaf: Text\r\n  parent: Element\r\n  text: Text\r\n}) => {\r\n  const { isLast, leaf, parent, text } = props\r\n  const editor = useEditor()\r\n  const path = ReactEditor.findPath(editor, text)\r\n  const parentPath = Path.parent(path)\r\n\r\n  \r\n  \r\n  if (editor.isVoid(parent)) {\r\n    return <ZeroWidthString length={Node.string(parent).length} />\r\n  }\r\n\r\n  \r\n  \r\n  \r\n  if (\r\n    leaf.text === '' &&\r\n    parent.children[parent.children.length - 1] === text &&\r\n    !editor.isInline(parent) &&\r\n    Editor.string(editor, parentPath) === ''\r\n  ) {\r\n    return <ZeroWidthString isLineBreak />\r\n  }\r\n\r\n  \r\n  \r\n  \r\n  if (leaf.text === '') {\r\n    return <ZeroWidthString />\r\n  }\r\n\r\n  \r\n  \r\n  if (isLast && leaf.text.slice(-1) === '\\n') {\r\n    return <TextString isTrailing text={leaf.text} />\r\n  }\r\n\r\n  return <TextString text={leaf.text} />\r\n}\r\n\r\n\r\n\r\nconst TextString = (props: { text: string; isTrailing?: boolean }) => {\r\n  const { text, isTrailing = false } = props\r\n  const ref: React.RefObject<HTMLSpanElement> = useRef() as any \r\n  useIsomorphicLayoutEffect(() => {\r\n    \r\n    if (ref.current) {\r\n      let htmlText = ref.current.innerText\r\n      if (isTrailing) {\r\n        htmlText = htmlText.slice(0, -1)\r\n      }\r\n      if (htmlText !== text) {\r\n        ref.current.innerHTML = text + (isTrailing ? '\\n' : '')\r\n      }\r\n    }\r\n  })\r\n  return (\r\n    <span data-slate-string ref={ref}>\r\n      {text}\r\n      {isTrailing ? '\\n' : null}\r\n    </span>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst ZeroWidthString = (props: { length?: number; isLineBreak?: boolean }) => {\r\n  const { length = 0, isLineBreak = false } = props\r\n  const ref: React.RefObject<HTMLSpanElement> = useRef() as any \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  return (\r\n    <span\r\n      data-slate-zero-width={isLineBreak ? 'n' : 'z'}\r\n      data-slate-length={length}\r\n      ref={ref}\r\n    >\r\n      {'\\uFEFF'}\r\n      {isLineBreak ? <br /> : null}\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default String\r\n","import React from 'react'\r\nimport { Element, Text } from \"@src/components/slate-packages/slate\"\r\nimport { PLACEHOLDER_SYMBOL } from '../utils/weak-maps'\r\nimport { RenderLeafProps } from './editable'\r\nimport String from './string'\r\n\r\n\r\n\r\n\r\nconst Leaf = (props: {\r\n  isLast: boolean\r\n  leaf: Text\r\n  parent: Element\r\n  renderLeaf?: (props: RenderLeafProps) => JSX.Element\r\n  text: Text\r\n}) => {\r\n  const {\r\n    leaf,\r\n    isLast,\r\n    text,\r\n    parent,\r\n    renderLeaf = (props: RenderLeafProps) => <DefaultLeaf {...props} />,\r\n  } = props\r\n\r\n  let children = (\r\n    <String isLast={isLast} leaf={leaf} parent={parent} text={text} />\r\n  )\r\n\r\n  if (leaf[PLACEHOLDER_SYMBOL]) {\r\n    children = (\r\n      <React.Fragment>\r\n        <span\r\n          contentEditable={false}\r\n          style={{\r\n            pointerEvents: 'none',\r\n            display: 'inline-block',\r\n            width: '0',\r\n            maxWidth: '100%',\r\n            whiteSpace: 'nowrap',\r\n            opacity: '0.333',\r\n            userSelect: 'none',\r\n            fontStyle: 'normal',\r\n            fontWeight: 'normal',\r\n            textDecoration: 'none',\r\n          }}\r\n        >\r\n          {(leaf as any).placeholder as React.ReactNode}\r\n        </span>\r\n        {children}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  \r\n  \r\n  \r\n  const attributes: {\r\n    'data-slate-leaf': true\r\n  } = {\r\n    'data-slate-leaf': true,\r\n  }\r\n\r\n  return renderLeaf({ attributes, children, leaf, text })\r\n}\r\n\r\nconst MemoizedLeaf = React.memo(Leaf, (prev, next) => {\r\n  return (\r\n    next.parent === prev.parent &&\r\n    next.isLast === prev.isLast &&\r\n    next.renderLeaf === prev.renderLeaf &&\r\n    next.text === prev.text &&\r\n    Text.matches(next.leaf, prev.leaf)\r\n  )\r\n})\r\n\r\n\r\n\r\nexport const DefaultLeaf = (props: RenderLeafProps) => {\r\n  const { attributes, children } = props\r\n  return <span {...attributes}>{children}</span>\r\n}\r\n\r\nexport default MemoizedLeaf\r\n","import React, { useRef } from 'react'\r\nimport { Element, Range, Text as SlateText } from \"@src/components/slate-packages/slate\"\r\nimport { ReactEditor, useEditor } from '..'\r\nimport { useIsomorphicLayoutEffect } from '../hooks/use-isomorphic-layout-effect'\r\nimport {\r\n  ELEMENT_TO_NODE, EDITOR_TO_KEY_TO_ELEMENT,\r\n  NODE_TO_ELEMENT\r\n} from '../utils/weak-maps'\r\nimport { RenderLeafProps } from './editable'\r\nimport Leaf from './leaf'\r\n\r\n\r\n\r\n\r\nconst Text = (props: {\r\n  decorations: Range[]\r\n  isLast: boolean\r\n  parent: Element\r\n  renderLeaf?: (props: RenderLeafProps) => JSX.Element\r\n  text: SlateText\r\n}) => {\r\n  const { decorations, isLast, parent, renderLeaf, text } = props\r\n  const editor = useEditor()\r\n  const ref = useRef<HTMLSpanElement>(null)\r\n  const leaves = SlateText.decorations(text, decorations)\r\n  const key = ReactEditor.findKey(editor, text)\r\n  const children = []\r\n\r\n  for (let i = 0; i < leaves.length; i++) {\r\n    const leaf = leaves[i]\r\n\r\n    children.push(\r\n      <Leaf\r\n        isLast={isLast && i === leaves.length - 1}\r\n        key={`${key.id}-${i}`}\r\n        leaf={leaf}\r\n        text={text}\r\n        parent={parent}\r\n        renderLeaf={renderLeaf}\r\n      />\r\n    )\r\n  }\r\n\r\n  \r\n  useIsomorphicLayoutEffect(() => {\r\n    const KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor)\r\n    if (ref.current) {\r\n      KEY_TO_ELEMENT?.set(key, ref.current)\r\n      NODE_TO_ELEMENT.set(text, ref.current)\r\n      ELEMENT_TO_NODE.set(ref.current, text)\r\n    } else {\r\n      KEY_TO_ELEMENT?.delete(key)\r\n      NODE_TO_ELEMENT.delete(text)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <span data-slate-node=\"text\" ref={ref}>\r\n      {children}\r\n    </span>\r\n  )\r\n}\r\n\r\nconst MemoizedText = React.memo(Text, (prev, next) => {\r\n  return (\r\n    next.parent === prev.parent &&\r\n    next.isLast === prev.isLast &&\r\n    next.renderLeaf === prev.renderLeaf &&\r\n    next.text === prev.text\r\n  )\r\n})\r\n\r\nexport default MemoizedText\r\n","import * as direction from 'direction'\r\nimport React, { useRef } from 'react'\r\nimport { Editor, Element as SlateElement, Node, NodeEntry, Range } from \"@src/components/slate-packages/slate\"\r\nimport { ReactEditor, useEditor, useReadOnly } from '..'\r\nimport { useIsomorphicLayoutEffect } from '../hooks/use-isomorphic-layout-effect'\r\nimport { SelectedContext } from '../hooks/use-selected'\r\nimport {\r\n  ELEMENT_TO_NODE, EDITOR_TO_KEY_TO_ELEMENT, NODE_TO_ELEMENT, NODE_TO_INDEX, NODE_TO_PARENT\r\n} from '../utils/weak-maps'\r\nimport Children from './children'\r\nimport { RenderElementProps, RenderLeafProps } from './editable'\r\nimport Text from './text'\r\n\r\n\r\n\r\n\r\nconst Element = (props: {\r\n  decorate: (entry: NodeEntry, editorState: any) => Range[]\r\n  decorations: Range[]\r\n  element: SlateElement\r\n  renderElement?: (props: RenderElementProps) => JSX.Element\r\n  renderLeaf?: (props: RenderLeafProps) => JSX.Element\r\n  selection: Range | null,\r\n  editorState: any\r\n}) => {\r\n  \r\n  const {\r\n    decorate,\r\n    decorations,\r\n    element,\r\n    renderElement = (p: RenderElementProps) => <DefaultElement {...p} />,\r\n    renderLeaf,\r\n    selection,\r\n    editorState,\r\n  } = props\r\n  const ref = useRef<HTMLElement>(null)\r\n  const editor = useEditor()\r\n  const readOnly = useReadOnly()\r\n  const isInline = editor.isInline(element)\r\n  const key = ReactEditor.findKey(editor, element)\r\n\r\n  let children: JSX.Element | null = (\r\n    <Children\r\n      decorate={decorate}\r\n      decorations={decorations}\r\n      node={element}\r\n      renderElement={renderElement}\r\n      renderLeaf={renderLeaf}\r\n      selection={selection}\r\n      editorState={editorState}\r\n    />\r\n  )\r\n\r\n  \r\n  \r\n  const attributes: {\r\n    'data-slate-node': 'element'\r\n    'data-slate-void'?: true\r\n    'data-slate-inline'?: true\r\n    contentEditable?: false\r\n    dir?: 'rtl'\r\n    ref: any\r\n  } = {\r\n    'data-slate-node': 'element',\r\n    ref,\r\n  }\r\n\r\n  if (isInline) {\r\n    attributes['data-slate-inline'] = true\r\n  }\r\n\r\n  \r\n  \r\n  if (!isInline && Editor.hasInlines(editor, element)) {\r\n    const text = Node.string(element)\r\n    const dir = direction(text)\r\n\r\n    if (dir === 'rtl') {\r\n      attributes.dir = dir\r\n    }\r\n  }\r\n\r\n  \r\n  if (Editor.isVoid(editor, element)) {\r\n    attributes['data-slate-void'] = true\r\n\r\n    if (!readOnly && isInline) {\r\n      attributes.contentEditable = false\r\n    }\r\n\r\n    const Tag = isInline ? 'span' : 'div'\r\n    const [[text]] = Node.texts(element)\r\n\r\n    children = readOnly ? null : (\r\n      <Tag\r\n        data-slate-spacer\r\n        style={{\r\n          height: '0',\r\n          color: 'transparent',\r\n          outline: 'none',\r\n          position: 'absolute',\r\n        }}\r\n      >\r\n        <Text decorations={[]} isLast={false} parent={element} text={text} />\r\n      </Tag>\r\n    )\r\n\r\n    NODE_TO_INDEX.set(text, 0)\r\n    NODE_TO_PARENT.set(text, element)\r\n  }\r\n\r\n  \r\n  useIsomorphicLayoutEffect(() => {\r\n    const KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor)\r\n    if (ref.current) {\r\n      KEY_TO_ELEMENT?.set(key, ref.current)\r\n      NODE_TO_ELEMENT.set(element, ref.current)\r\n      ELEMENT_TO_NODE.set(ref.current, element)\r\n    } else {\r\n      KEY_TO_ELEMENT?.delete(key)\r\n      NODE_TO_ELEMENT.delete(element)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <SelectedContext.Provider value={!!selection}>\r\n      {renderElement({ attributes, children, element, editorState })}\r\n    </SelectedContext.Provider>\r\n  )\r\n}\r\n\r\nconst MemoizedElement = React.memo(Element, (prev, next) => {\r\n  return (\r\n    prev.decorate === next.decorate &&\r\n    prev.element === next.element &&\r\n    prev.renderElement === next.renderElement &&\r\n    prev.renderLeaf === next.renderLeaf &&\r\n    isRangeListEqual(prev.decorations, next.decorations) &&\r\n    (prev.selection === next.selection ||\r\n      (!!prev.selection &&\r\n        !!next.selection &&\r\n        Range.equals(prev.selection, next.selection)))\r\n  )\r\n})\r\n\r\n\r\n\r\nexport const DefaultElement = (props: RenderElementProps) => {\r\n  const { attributes, children, element } = props\r\n  const editor = useEditor()\r\n  const Tag = editor.isInline(element) ? 'span' : 'div'\r\n  return (\r\n    <Tag {...attributes} style={{ position: 'relative' }}>\r\n      {children}\r\n    </Tag>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst isRangeListEqual = (list: Range[], another: Range[]): boolean => {\r\n  if (list.length !== another.length) {\r\n    return false\r\n  }\r\n\r\n  for (let i = 0; i < list.length; i++) {\r\n    const range = list[i]\r\n    const other = another[i]\r\n\r\n    if (!Range.equals(range, other)) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nexport default MemoizedElement\r\n","import React from 'react'\r\nimport { Ancestor, Descendant, Editor, Element, NodeEntry, Range } from \"@src/components/slate-packages/slate\"\r\nimport { ReactEditor } from '..'\r\nimport { useEditor } from '../hooks/use-editor'\r\nimport { NODE_TO_INDEX, NODE_TO_PARENT } from '../utils/weak-maps'\r\nimport { RenderElementProps, RenderLeafProps } from './editable'\r\nimport ElementComponent from './element'\r\nimport TextComponent from './text'\r\n\r\n\r\n\r\n\r\nconst Children = (props: {\r\n  decorate: (entry: NodeEntry, editorState: any) => Range[]\r\n  decorations: Range[]\r\n  node: Ancestor\r\n  renderElement?: (props: RenderElementProps) => JSX.Element\r\n  renderLeaf?: (props: RenderLeafProps) => JSX.Element\r\n  selection: Range | null,\r\n  editorState: any\r\n}) => {\r\n  const {\r\n    decorate,\r\n    decorations,\r\n    node,\r\n    renderElement,\r\n    renderLeaf,\r\n    selection,\r\n    editorState\r\n  } = props\r\n  const editor = useEditor()\r\n  const path = ReactEditor.findPath(editor, node)\r\n  const children = []\r\n  const isLeafBlock =\r\n    Element.isElement(node) &&\r\n    !editor.isInline(node) &&\r\n    Editor.hasInlines(editor, node)\r\n\r\n  for (let i = 0; i < node.children.length; i++) {\r\n    const p = path.concat(i)\r\n    const n = node.children[i] as Descendant\r\n    const key = ReactEditor.findKey(editor, n)\r\n    const range = Editor.range(editor, p)\r\n    const sel = selection && Range.intersection(range, selection)\r\n    const ds = decorate([n, p], editorState)\r\n\r\n    for (const dec of decorations) {\r\n      const d = Range.intersection(dec, range)\r\n\r\n      if (d) {\r\n        ds.push(d)\r\n      }\r\n    }\r\n\r\n    if (Element.isElement(n)) {\r\n      \r\n      children.push(\r\n        <ElementComponent\r\n          decorate={decorate}\r\n          decorations={ds}\r\n          element={n}\r\n          key={key.id}\r\n          renderElement={renderElement}\r\n          renderLeaf={renderLeaf}\r\n          selection={sel}\r\n          editorState={editorState}\r\n        />\r\n      )\r\n    } else {\r\n      children.push(\r\n        <TextComponent\r\n          decorations={ds}\r\n          key={key.id}\r\n          isLast={isLeafBlock && i === node.children.length - 1}\r\n          parent={node}\r\n          renderLeaf={renderLeaf}\r\n          text={n}\r\n        />\r\n      )\r\n    }\r\n\r\n    NODE_TO_INDEX.set(n, i)\r\n    NODE_TO_PARENT.set(n, node)\r\n  }\r\n\r\n  return <React.Fragment>{children}</React.Fragment>\r\n}\r\n\r\nexport default Children\r\n","import { v4 as anchorId } from 'uuid';\n\nexport function createRandomId() {\n  return anchorId() + '_' + new Date().getTime().toString(32);\n}\n\nexport function createUUID() {\n  return anchorId();\n}\n","import { Editor, Node } from '@src/components/slate-packages/slate';\nimport { createRandomId, createUUID } from '@src/utils/randomId';\nimport { cloneDeep } from 'lodash';\nimport { ELTYPE, INLINE_TYPES } from '../config';\n\nexport const reorderOL = (fragment: any) => {\n  if (!fragment) return [];\n  console.log('reorderOL', fragment);\n  const result = [];\n  const testNull = (str: string) => /null\\d*/.test(str);\n  const remainingStr = (str: string) => str.replace(/^null/, '');\n  const getRandomId = () => 'numbered-list=' + createUUID();\n  let prevId = null;\n  let prevIsOLLIST = false;\n  for (let i = 0; i < fragment.length; i++) {\n    let curItem = { ...fragment[i] };\n    if (curItem?.type === ELTYPE.OLLIST && testNull(curItem?.id)) {\n      if (prevIsOLLIST && prevId) {\n        curItem = { ...curItem, id: prevId };\n      } else {\n        const newId = getRandomId() + remainingStr(curItem.id);\n        curItem = { ...curItem, id: newId };\n        prevId = newId;\n      }\n      prevIsOLLIST = true;\n    } else {\n      prevIsOLLIST = false;\n    }\n    result.push(curItem);\n  }\n  return result;\n};\n\nexport const trimEmptyText = (fragment: any) => {\n  console.log('trimEmptyText', fragment);\n\n  return fragment\n    .filter(item => !!(typeof item === 'string' ? item.trim() : item))\n    .map((item: any) => {\n      if (item.children && item.children.length === 1 && item.children[0].text && /^(\\r\\n|\\n|\\r|\\t)+$/.test(item.children[0].text)) {\n        return { ...item, children: [{ text: '' }] };\n      }\n      return item;\n    });\n};\n\nexport const handleLinkInText = (text: string) => {\n  const regex = new RegExp(/(?:http|ftp|https):\\/\\/(?:[\\w_-]+(?:(?:\\.[\\w_-]+)+))(?:[\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])?/);\n  const regexNotEscaped = new RegExp(/(http|ftp|https):\\/\\/([\\w_-]+(?:(?:\\.[\\w_-]+)+))([\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])?/g);\n  if (regex.test(text)) {\n    const textArr = text.split(regex);\n    const linkArr = Array.from(text.matchAll(regexNotEscaped), m => m[0]);\n    if (textArr.length === linkArr.length + 1) {\n      const resArr = [];\n      let i = 0;\n      for (; i < linkArr.length; i++) {\n        resArr.push({ text: textArr[i] });\n        resArr.push({\n          type: ELTYPE.LINK,\n          href: linkArr[i],\n          children: [{ text: linkArr[i] }],\n        });\n      }\n      resArr.push({ text: textArr[i] });\n\n      return resArr;\n    } else {\n      return text;\n    }\n  } else {\n    return text;\n  }\n};\n\nexport const normalizeInlineNodeAtRoot = (fragment: any) => {\n  console.log('normalizeInlineNodeAtRoot', fragment);\n\n  if (fragment.length === 1 && fragment[0].text) {\n    return fragment;\n  }\n  const result = [];\n  for (let i = 0; i < fragment.length; i++) {\n    let curItem = { ...fragment[i] };\n    if (curItem.type === undefined && curItem.text === '') {\n      continue;\n    }\n    if (curItem && [undefined, ...INLINE_TYPES].includes(curItem.type)) {\n      if (i > 0 && result[result.length - 1].type === ELTYPE.PARAGRAPH) {\n        const previousNode = result[result.length - 1];\n        previousNode.children.push({ ...curItem });\n        continue;\n      } else {\n        curItem = { type: ELTYPE.PARAGRAPH, children: [{ ...curItem }] };\n        result.push(curItem);\n      }\n    } else {\n      result.push(curItem);\n    }\n  }\n  return result;\n};\nexport const normalizeLi = fragment => {\n  console.log('normalizeLi', fragment);\n\n  let result = cloneDeep(fragment);\n  let newArr = [];\n  for (let i = 0; i < result?.length; i++) {\n    const el = result[i];\n    if (el.type === ELTYPE.OLLIST || el.type === ELTYPE.ULLIST) {\n      if (el.children && el.children[0]) {\n        if (el.children[0]?.type === ELTYPE.PARAGRAPH) {\n          el.children = el.children[0]?.children || [{ text: '' }];\n          newArr.push(el);\n        } else {\n          newArr.push(el);\n        }\n      } else {\n        el.children = [{ text: '' }];\n        newArr.push(el);\n      }\n    } else {\n      newArr.push(el);\n    }\n  }\n  return newArr;\n};\n\nexport const normalizeParagraph = fragment => {\n  console.log('normalizeParagraph', fragment);\n\n  let result = cloneDeep(fragment);\n  let newArr = [];\n  for (let i = 0; i < result.length; i++) {\n    const el = result[i];\n    if (el.type === ELTYPE.PARAGRAPH) {\n      if (el.children && el.children[0]) {\n        let newP = cloneDeep(el);\n        newP.children = [];\n\n        for (let index = 0; index < el.children.length; index++) {\n          const element = el.children[index];\n\n          if (element?.type === ELTYPE.PARAGRAPH) {\n            if (newP.children.length) {\n              newArr.push(newP);\n              newP = cloneDeep(el);\n              newP.children = [];\n            }\n            newArr.push(element);\n          } else {\n            newP.children.push(element);\n          }\n        }\n        if (newP.children.length) {\n          newArr.push(newP);\n        }\n      } else {\n        el.children = [{ text: '' }];\n        newArr.push(el);\n      }\n    } else {\n      newArr.push(el);\n    }\n  }\n  return newArr;\n};\n\nexport const normalizeInlineLink = fragment => {\n  console.log('normalizeLink', fragment);\n\n  let result = cloneDeep(fragment);\n\n  const _normalizeLink = (node: any) => {\n    if (Array.isArray(node)) {\n      node.forEach(item => _normalizeLink(item));\n    }\n    if (\n      !node ||\n      !node.children ||\n      !node.children.length ||\n      node.text ||\n      node.children.every(item => item.text || [ELTYPE.LINK, ELTYPE.MENTION].includes(item.type))\n    )\n      return;\n\n    const children: any[] = node.children;\n    let linkIndexArr = [];\n\n    children.forEach((item, index) => {\n      console.log('item', item);\n      if (item?.type === ELTYPE.LINK) {\n        linkIndexArr.push(index);\n      }\n    });\n\n    const len = linkIndexArr.length;\n    if (len > 0) {\n      for (let i = len - 1; i >= 0; i--) {\n        const linkIndex = linkIndexArr[i];\n        const hasLink = linkIndex > 0;\n        if (hasLink) {\n          console.log('[normalizeLink] hasLink', node, children[linkIndex - 1], children[linkIndex], linkIndex);\n          children[linkIndex - 1] = children[linkIndex - 1]?.children\n            ? { ...children[linkIndex - 1], children: [...children[linkIndex - 1]?.children, children[linkIndex]] }\n            : { ...children[linkIndex - 1], children: [children[linkIndex]] };\n          children.splice(linkIndex, 1);\n        }\n      }\n      return;\n    }\n    _normalizeLink(children);\n  };\n  _normalizeLink(result);\n  console.log('[normalizeLink] result ', result);\n  return result;\n};\n\nexport const resetOL = frag => {\n  const res = [];\n  for (let i = 0; i < frag.length; i++) {\n    const curItem = { ...frag[i] };\n    if (curItem?.type === ELTYPE.OLLIST) {\n      res.push({ ...curItem, id: 'null' });\n    } else {\n      res.push(curItem);\n    }\n  }\n  return res;\n};\n\nexport const updateIdentities = decodedStr => {\n  if (typeof decodedStr !== 'string') return '';\n  const newStr = decodedStr\n    .replace(/\"anchorId\":\".*?\"/g, `\"anchorId\":\"${createRandomId()}\"`)\n    .replace(/\"id\":\".*?\"/g, `\"id\":\"${createUUID()}\"`)\n    .replace(/\"elId\":\".*?\"/g, `\"elId\":\"${createUUID()}\"`);\n  return newStr;\n};\n\nexport const unwrapSingleCell = (fragment: any) => {\n  let res = [];\n  if (\n    fragment.length === 1 &&\n    fragment[0].type === ELTYPE.CARD &&\n    fragment[0].children.length === 1 &&\n    fragment[0].children[0].type === ELTYPE.TABLE &&\n    fragment[0].children[0].children.length === 1 &&\n    fragment[0].children[0].children[0].type === ELTYPE.TABLE_ROW &&\n    fragment[0].children[0].children[0].children.length === 1 &&\n    fragment[0].children[0].children[0].children[0].type === ELTYPE.TABLE_CELL &&\n    fragment[0].children[0].children[0].children[0].children.length > 0\n  ) {\n    res = fragment[0].children[0].children[0].children[0].children;\n    return res;\n  }\n  return fragment;\n};\n\nexport const unwrapCardElement = (fragment: any, editor: any) => {\n  const [isInCard] = Editor.nodes(editor, { match: (n: any) => n.type === ELTYPE.CARD });\n\n  const retrieveText = frag => {\n    let res = [];\n    const toText = node => {\n      if (!node) return { text: '' };\n      if (node.type === ELTYPE.INLINEIMAGE) {\n        res.push(node);\n      }\n      if (node.children) {\n        node.children.forEach(toText);\n      } else if (node.text) {\n        res.push({ text: node.text });\n      }\n    };\n    toText(frag);\n    return res;\n  };\n  if (isInCard) {\n    if (fragment && fragment.length > 0) {\n      return fragment.map(item => (item.type === ELTYPE.CARD ? { type: ELTYPE.PARAGRAPH, children: retrieveText(item) } : item));\n    }\n  }\n  return fragment;\n};\n","import throttle from 'lodash/throttle'\r\nimport * as getDirection from 'direction'\r\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\r\nimport {\r\n  Editor,\r\n  Element, Node, NodeEntry, Path, Range,\r\n  Text,\r\n  Transforms\r\n} from \"@src/components/slate-packages/slate\"\r\nimport { ReactEditor } from '..'\r\nimport { useIsomorphicLayoutEffect } from '../hooks/use-isomorphic-layout-effect'\r\nimport { ReadOnlyContext } from '../hooks/use-read-only'\r\nimport { useSlate } from '../hooks/use-slate'\r\nimport {\r\n  DOMElement,\r\n  DOMNode,\r\n  DOMRange, DOMStaticRange, isDOMElement,\r\n  isDOMNode, isPlainTextOnlyPaste,\r\n  getDefaultView,\r\n} from '../utils/dom'\r\nimport {\r\n  IS_CHROME,\r\n  IS_CHROME_LEGACY, IS_EDGE_LEGACY, IS_FIREFOX,\r\n  IS_SAFARI\r\n} from '../utils/environment'\r\nimport Hotkeys from '../utils/hotkeys'\r\nimport {\r\n  EDITOR_TO_ELEMENT,\r\n  ELEMENT_TO_NODE, IS_FOCUSED, IS_READ_ONLY,\r\n  NODE_TO_ELEMENT, PLACEHOLDER_SYMBOL, EDITOR_TO_WINDOW\r\n} from '../utils/weak-maps'\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport Children from './children'\r\nimport { getParentPathByTypes } from '@src/components/docs/plugins/pluginsUtils/getPathUtils'\r\nimport { ELTYPE, HEADING_TYPES, LIST_TYPES, TABBABLE_TYPES } from '@src/components/docs/plugins/config'\r\nimport { getCache, setCache } from '@src/utils/cacheUtils'\r\nimport scrollIntoView from 'scroll-into-view-if-needed'\r\nimport { is } from 'immer/dist/internal'\r\nimport { updateIdentities } from '@src/components/docs/plugins/deserializers/handleFragmentPlugins'\r\n\r\n\r\n\r\n\r\nconst HAS_BEFORE_INPUT_SUPPORT = !(\r\n  IS_FIREFOX ||\r\n  IS_EDGE_LEGACY ||\r\n  IS_CHROME_LEGACY\r\n)\r\n\r\n\r\n\r\nexport interface RenderElementProps {\r\n  children: any\r\n  element: Element\r\n  attributes: {\r\n    'data-slate-node': 'element'\r\n    'data-slate-inline'?: true\r\n    'data-slate-void'?: true\r\n    dir?: 'rtl'\r\n    ref: any\r\n  },\r\n  editorState: any, \r\n}\r\n\r\n\r\n\r\nexport interface RenderLeafProps {\r\n  children: any\r\n  leaf: Text\r\n  text: Text\r\n  attributes: {\r\n    'data-slate-leaf': true\r\n  }\r\n}\r\n\r\ntype DeferredOperation = () => void\r\n\r\n\r\n\r\nexport type EditableProps = {\r\n  decorate?: (entry: NodeEntry) => Range[]\r\n  onDOMBeforeInput?: (event: Event) => void\r\n  placeholder?: string\r\n  readOnly?: boolean\r\n  selectRow?: any\r\n  width?: number\r\n  setSelectCB?: Function\r\n  editorId?: string\r\n  refs?: any\r\n  role?: string\r\n  style?: React.CSSProperties\r\n  renderElement?: (props: RenderElementProps) => JSX.Element\r\n  renderLeaf?: (props: RenderLeafProps) => JSX.Element\r\n  renderPlaceholder?: (props: RenderPlaceholderProps) => JSX.Element\r\n  scrollSelectionIntoView?: (editor: ReactEditor, domRange: DOMRange) => void\r\n  as?: React.ElementType\r\n  [key: string]: unknown\r\n} & React.TextareaHTMLAttributes<HTMLDivElement>\r\n\r\n\r\n\r\nexport const Editable = (props: EditableProps) => {\r\n  const {\r\n    autoFocus,\r\n    decorate = defaultDecorate,\r\n    onDOMBeforeInput: propsOnDOMBeforeInput,\r\n    placeholder,\r\n    readOnly = false,\r\n    renderElement,\r\n    renderLeaf,\r\n    refs,\r\n    selectRow,\r\n    width,\r\n    setSelectCB,\r\n    editorId,\r\n    scrollSelectionIntoView = defaultScrollSelectionIntoView,\r\n    style = {},\r\n    as: Component = 'div',\r\n    ...attributes\r\n  } = props\r\n  const editor = useSlate()\r\n  \r\n  const [isComposing, setIsComposing] = useState(false)\r\n  const ref = useRef<HTMLDivElement>(null)\r\n  const deferredOperations = useRef<DeferredOperation[]>([])\r\n\r\n  \r\n  IS_READ_ONLY.set(editor, readOnly)\r\n\r\n  \r\n  const state = useMemo(\r\n    () => ({\r\n      isComposing: false,\r\n      isUpdatingSelection: false,\r\n      latestElement: null as DOMElement | null,\r\n      isPlaceholderRemove: false,\r\n    }),\r\n    []\r\n  )\r\n  \r\n  useEffect(() => {\r\n    if (ref.current && ref.current.id.indexOf('editorarea') === 0) {\r\n      refs && refs(ref.current)\r\n    }\r\n  }, [])\r\n  \r\n  useIsomorphicLayoutEffect(() => {\r\n    \r\n    let window\r\n    if (ref.current && (window = getDefaultView(ref.current))) {\r\n      EDITOR_TO_WINDOW.set(editor, window);\r\n      EDITOR_TO_ELEMENT.set(editor, ref.current)\r\n      NODE_TO_ELEMENT.set(editor, ref.current)\r\n      ELEMENT_TO_NODE.set(ref.current, editor)\r\n    } else {\r\n      NODE_TO_ELEMENT.delete(editor)\r\n    }\r\n  })\r\n\r\n  \r\n  useIsomorphicLayoutEffect(() => {\r\n    const { selection } = editor\r\n    const domSelection = window.getSelection()\r\n    \r\n\r\n    if (state.isComposing || isComposing || !domSelection || !ReactEditor.isFocused(editor) || !Range.isRange(selection) || !ReactEditor.hasRange(editor, selection)) {\r\n      return\r\n    }\r\n\r\n    const hasDomSelection = domSelection.type !== 'None'\r\n\r\n    \r\n    if (!selection && !hasDomSelection) {\r\n      return\r\n    }\r\n    \r\n\r\n    \r\n    const editorElement = EDITOR_TO_ELEMENT.get(editor)!\r\n    let hasDomSelectionInEditor = false\r\n    if (\r\n      editorElement.contains(domSelection.anchorNode) &&\r\n      editorElement.contains(domSelection.focusNode)\r\n    ) {\r\n      hasDomSelectionInEditor = true\r\n    }\r\n    \r\n\r\n    \r\n    if (hasDomSelection && hasDomSelectionInEditor && selection) {\r\n      const slateRange = ReactEditor.toSlateRange(editor, domSelection, {\r\n        exactMatch: true,\r\n        \r\n        \r\n        suppressThrow: true,\r\n      })\r\n      if (slateRange && Range.equals(slateRange, selection)) {\r\n        return\r\n      }\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    if (selection && !readOnly && !ReactEditor.hasRange(editor, selection)) {\r\n      editor.selection = ReactEditor.toSlateRange(editor, domSelection, {\r\n        exactMatch: false,\r\n        suppressThrow: false,\r\n      })\r\n      return\r\n    }\r\n\r\n    \r\n    const el = ReactEditor.toDOMNode(editor, editor)\r\n    state.isUpdatingSelection = true\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    const newDomRange = selection && ReactEditor.toDOMRange(editor, selection)\r\n    \r\n    if (newDomRange) {\r\n      \r\n      \r\n      if (Range.isBackward(selection!)) {\r\n        domSelection.setBaseAndExtent(\r\n          newDomRange.endContainer,\r\n          newDomRange.endOffset,\r\n          newDomRange.startContainer,\r\n          newDomRange.startOffset\r\n        )\r\n      } else {\r\n        domSelection.setBaseAndExtent(\r\n          newDomRange.startContainer,\r\n          newDomRange.startOffset,\r\n          newDomRange.endContainer,\r\n          newDomRange.endOffset\r\n        )\r\n      }\r\n      scrollSelectionIntoView(editor, newDomRange)\r\n    } else {\r\n      domSelection.removeAllRanges()\r\n    }\r\n\r\n    setTimeout(() => {\r\n      \r\n      \r\n      if (newDomRange && IS_FIREFOX) {\r\n        el.focus()\r\n      }\r\n\r\n      state.isUpdatingSelection = false\r\n    })\r\n  })\r\n\r\n  \r\n  \r\n  useEffect(() => {\r\n    if (ref.current && autoFocus) {\r\n      ref.current.focus()\r\n    }\r\n  }, [autoFocus])\r\n\r\n  \r\n  \r\n  \r\n  \r\n  const onDOMBeforeInput = useCallback(\r\n    (\r\n      event: Event & {\r\n        data: string | null\r\n        dataTransfer: DataTransfer | null\r\n        getTargetRanges(): DOMStaticRange[]\r\n        inputType: string\r\n        isComposing: boolean\r\n      }\r\n    ) => {\r\n      if (\r\n        !readOnly &&\r\n        hasEditableTarget(editor, event.target) &&\r\n        !isDOMEventHandled(event, propsOnDOMBeforeInput)\r\n      ) {\r\n        const { selection } = editor\r\n        const { inputType: type } = event\r\n        const data = event.dataTransfer || event.data || undefined\r\n\r\n        \r\n        \r\n        if (\r\n          type === 'insertCompositionText' ||\r\n          type === 'deleteCompositionText' ||\r\n          !!document?.activeElement?.closest(\"[data-block-context]\")\r\n        ) {\r\n          return\r\n        }\r\n\r\n        event.preventDefault()\r\n        \r\n        \r\n        \r\n        if (!type.startsWith('delete') || type.startsWith('deleteBy')) {\r\n          const [targetRange] = event.getTargetRanges()\r\n\r\n          if (targetRange) {\r\n            const range = ReactEditor.toSlateRange(editor, targetRange, {\r\n              exactMatch: false,\r\n              suppressThrow: false,\r\n            })\r\n\r\n\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n            if (!selection || !Range.equals(selection, range)) {\r\n              Transforms.select(editor, range)\r\n            }\r\n          }\r\n        }\r\n\r\n        \r\n        \r\n        if (\r\n          selection &&\r\n          Range.isExpanded(selection) &&\r\n          type.startsWith('delete')\r\n        ) {\r\n          \r\n          const direction = type.endsWith('Backward') ? 'backward' : 'forward'\r\n          Editor.deleteFragment(editor, { direction })\r\n          return\r\n        }\r\n\r\n        switch (type) {\r\n          case 'deleteByComposition':\r\n          case 'deleteByCut':\r\n          case 'deleteByDrag': {\r\n            Editor.deleteFragment(editor)\r\n            break\r\n          }\r\n\r\n          case 'deleteContent':\r\n          case 'deleteContentForward': {\r\n            Editor.deleteForward(editor)\r\n            break\r\n          }\r\n\r\n          case 'deleteContentBackward': {\r\n            Editor.deleteBackward(editor)\r\n            break\r\n          }\r\n\r\n          case 'deleteEntireSoftLine': {\r\n            Editor.deleteBackward(editor, { unit: 'line' })\r\n            Editor.deleteForward(editor, { unit: 'line' })\r\n            break\r\n          }\r\n\r\n          case 'deleteHardLineBackward': {\r\n            Editor.deleteBackward(editor, { unit: 'block' })\r\n            break\r\n          }\r\n\r\n          case 'deleteSoftLineBackward': {\r\n            Editor.deleteBackward(editor, { unit: 'line' })\r\n            break\r\n          }\r\n\r\n          case 'deleteHardLineForward': {\r\n            Editor.deleteForward(editor, { unit: 'block' })\r\n            break\r\n          }\r\n\r\n          case 'deleteSoftLineForward': {\r\n            Editor.deleteForward(editor, { unit: 'line' })\r\n            break\r\n          }\r\n\r\n          case 'deleteWordBackward': {\r\n            Editor.deleteBackward(editor, { unit: 'word' })\r\n            break\r\n          }\r\n\r\n          case 'deleteWordForward': {\r\n            Editor.deleteForward(editor, { unit: 'word' })\r\n            break\r\n          }\r\n\r\n          case 'insertLineBreak':\r\n          case 'insertParagraph': {\r\n            Editor.insertBreak(editor)\r\n            break\r\n          }\r\n\r\n          \r\n          \r\n          \r\n          \r\n          \r\n          \r\n          \r\n          \r\n          \r\n          case 'insertFromDrop':\r\n          case 'insertFromPaste':\r\n          case 'insertFromYank':\r\n          case 'insertReplacementText':\r\n          case 'insertText': {\r\n            if (data instanceof DataTransfer) {\r\n              ReactEditor.insertData(editor, data)\r\n            } else if (typeof data === 'string') {\r\n              Editor.insertText(editor, data)\r\n            }\r\n\r\n            break\r\n          }\r\n        }\r\n      }\r\n    },\r\n    [readOnly, propsOnDOMBeforeInput]\r\n  )\r\n\r\n  \r\n  \r\n  \r\n  \r\n  useIsomorphicLayoutEffect(() => {\r\n    if (ref.current && HAS_BEFORE_INPUT_SUPPORT) {\r\n      \r\n      ref.current.addEventListener('beforeinput', onDOMBeforeInput)\r\n    }\r\n\r\n    return () => {\r\n      if (ref.current && HAS_BEFORE_INPUT_SUPPORT) {\r\n        \r\n        ref.current.removeEventListener('beforeinput', onDOMBeforeInput)\r\n      }\r\n    }\r\n  }, [onDOMBeforeInput])\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  const onDOMSelectionChange = useCallback(\r\n    throttle(() => {\r\n      if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n        \r\n        return;\r\n      }\r\n      if (\r\n        !readOnly &&\r\n        !state.isComposing &&\r\n        !state.isUpdatingSelection\r\n      ) {\r\n        const { activeElement } = window.document\r\n        const el = ReactEditor.toDOMNode(editor, editor)\r\n        const domSelection = window.getSelection()\r\n        if (activeElement === el) {\r\n          state.latestElement = activeElement\r\n          IS_FOCUSED.set(editor, true)\r\n        } else {\r\n          IS_FOCUSED.delete(editor)\r\n        }\r\n\r\n        if (!domSelection) {\r\n          return Transforms.deselect(editor)\r\n        }\r\n\r\n\r\n        const { anchorNode, focusNode } = domSelection\r\n\r\n        const anchorNodeSelectable =\r\n          hasEditableTarget(editor, anchorNode) ||\r\n          isTargetInsideVoid(editor, anchorNode)\r\n\r\n        const focusNodeSelectable =\r\n          hasEditableTarget(editor, focusNode) ||\r\n          isTargetInsideVoid(editor, focusNode)\r\n\r\n        if (anchorNodeSelectable && focusNodeSelectable && !state.isComposing) {\r\n          const range = ReactEditor.toSlateRange(editor, domSelection, {\r\n            exactMatch: false,\r\n            suppressThrow: false,\r\n          })\r\n          \r\n          \r\n          Transforms.select(editor, range)\r\n          \r\n          \r\n          \r\n        }\r\n        \r\n        \r\n        \r\n        \r\n        \r\n      }\r\n    }, 100),\r\n    [readOnly]\r\n  )\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  useIsomorphicLayoutEffect(() => {\r\n    window.document.addEventListener('selectionchange', onDOMSelectionChange)\r\n\r\n    return () => {\r\n      window.document.removeEventListener(\r\n        'selectionchange',\r\n        onDOMSelectionChange\r\n      )\r\n    }\r\n  }, [onDOMSelectionChange])\r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n  \r\n  \r\n  \r\n  \r\n  \r\n\r\n  \r\n  \r\n  \r\n  \r\n\r\n  const decorations: any = decorate([editor, []])\r\n\r\n  if (\r\n    placeholder &&\r\n    editor.children.length === 1 &&\r\n    Array.from(Node.texts(editor)).length === 1 &&\r\n    Node.string(editor) === '' &&\r\n    !isComposing\r\n  ) {\r\n    const start = Editor.start(editor, [])\r\n    decorations.push({\r\n      [PLACEHOLDER_SYMBOL]: true,\r\n      placeholder,\r\n      anchor: start,\r\n      focus: start,\r\n    })\r\n  }\r\n  return (\r\n    <ReadOnlyContext.Provider value={readOnly}>\r\n      <Component\r\n        \r\n        \r\n        \r\n        data-gramm={false}\r\n        role={readOnly ? undefined : 'textbox'}\r\n        {...attributes}\r\n        \r\n        \r\n        spellCheck={\r\n          !HAS_BEFORE_INPUT_SUPPORT ? undefined : attributes.spellCheck\r\n        }\r\n        autoCorrect={\r\n          !HAS_BEFORE_INPUT_SUPPORT ? undefined : attributes.autoCorrect\r\n        }\r\n        autoCapitalize={\r\n          !HAS_BEFORE_INPUT_SUPPORT ? undefined : attributes.autoCapitalize\r\n        }\r\n        data-slate-editor\r\n        data-slate-node=\"value\"\r\n        contentEditable={readOnly ? undefined : true}\r\n        suppressContentEditableWarning\r\n        ref={ref}\r\n        style={{\r\n          \r\n          outline: 'none',\r\n          \r\n          whiteSpace: 'pre-wrap',\r\n          \r\n          wordWrap: 'break-word',\r\n          \r\n          ...style,\r\n        }}\r\n        onBeforeInput={useCallback(\r\n          (event: React.FormEvent<HTMLDivElement>) => {\r\n            \r\n            \r\n            \r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              !HAS_BEFORE_INPUT_SUPPORT &&\r\n              !readOnly &&\r\n              !isEventHandled(event, attributes.onBeforeInput) &&\r\n              hasEditableTarget(editor, event.target)\r\n            ) {\r\n              event.preventDefault();\r\n              if (!state.isComposing) {\r\n                const text = (event as any).data as string\r\n                Editor.insertText(editor, text)\r\n              }\r\n              \r\n              \r\n            }\r\n          },\r\n          [readOnly]\r\n        )}\r\n        onBlur={useCallback(\r\n          (event: React.FocusEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              readOnly ||\r\n              state.isUpdatingSelection ||\r\n              !hasEditableTarget(editor, event.target) ||\r\n              isEventHandled(event, attributes.onBlur)\r\n            ) {\r\n              return\r\n            }\r\n\r\n            \r\n            \r\n            \r\n            \r\n            if (state.latestElement === window.document.activeElement) {\r\n              return\r\n            }\r\n\r\n            const { relatedTarget } = event\r\n            const el = ReactEditor.toDOMNode(editor, editor)\r\n\r\n            \r\n            \r\n            \r\n            if (relatedTarget === el) {\r\n              return\r\n            }\r\n\r\n            \r\n            \r\n            if (\r\n              isDOMElement(relatedTarget) &&\r\n              relatedTarget.hasAttribute('data-slate-spacer')\r\n            ) {\r\n              return\r\n            }\r\n            if (\r\n              isDOMElement(relatedTarget) &&\r\n              relatedTarget.hasAttribute('data-ignore-slate')\r\n            ) {\r\n              return\r\n            }\r\n\r\n            \r\n            \r\n            \r\n            if (\r\n              relatedTarget != null &&\r\n              isDOMNode(relatedTarget) &&\r\n              ReactEditor.hasDOMNode(editor, relatedTarget)\r\n            ) {\r\n              const node = ReactEditor.toSlateNode(editor, relatedTarget)\r\n\r\n              if (Element.isElement(node) && !editor.isVoid(node)) {\r\n                return\r\n              }\r\n            }\r\n\r\n            IS_FOCUSED.delete(editor)\r\n          },\r\n          [readOnly, attributes.onBlur]\r\n        )}\r\n        onClick={useCallback(\r\n          (event: React.MouseEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              !readOnly &&\r\n              hasTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onClick) &&\r\n              isDOMNode(event.target)\r\n            ) {\r\n\r\n              if (hasClass(event.target, 'ToolIcon')) {\r\n                return\r\n              }\r\n              \r\n              if (event.target && (event.target.parentElement.hasAttribute(\"data-ignore-slate\") || (event.target as any).hasAttribute(\"data-ignore-slate\"))) { \r\n                return\r\n              }\r\n              try { const node = ReactEditor.toSlateNode(editor, event.target) } catch (e) {\r\n                handleSlateError(e.message, editor)\r\n                return\r\n              }\r\n              const node = ReactEditor.toSlateNode(editor, event.target)\r\n              if (!node) return; \r\n              const path = ReactEditor.findPath(editor, node)\r\n              const start = Editor.start(editor, path)\r\n              const end = Editor.end(editor, path)\r\n\r\n              const startVoid = Editor.void(editor, { at: start })\r\n              const endVoid = Editor.void(editor, { at: end })\r\n\r\n              if (\r\n                startVoid &&\r\n                endVoid &&\r\n                Path.equals(startVoid[1], endVoid[1])\r\n              ) {\r\n                const range = Editor.range(editor, start)\r\n                Transforms.select(editor, range)\r\n              }\r\n            }\r\n          },\r\n          [readOnly, attributes.onClick]\r\n        )}\r\n        onCompositionEnd={useCallback(\r\n          (event: React.CompositionEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              hasEditableTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onCompositionEnd)\r\n            ) {\r\n              event.preventDefault();\r\n              state.isComposing && setIsComposing(false)\r\n              state.isComposing = false\r\n              if (!IS_FIREFOX && event.data) {\r\n                console.log('onCompositionEnd', event.data.replace(/\\n/g, ''))\r\n                Editor.insertText(editor, event.data.replace(/\\n/g, ''))\r\n              }\r\n\r\n            }\r\n          },\r\n          [attributes.onCompositionEnd]\r\n        )}\r\n        onCompositionStart={useCallback(\r\n          (event: React.CompositionEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              hasEditableTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onCompositionStart)\r\n            ) {\r\n              \r\n              \r\n              \r\n              const { selection, marks } = editor\r\n              if (selection) {\r\n                if (Range.isExpanded(selection)) {\r\n                  Editor.deleteFragment(editor)\r\n\r\n                  return\r\n                }\r\n                const inline = Editor.above(editor, {\r\n                  match: n => Editor.isInline(editor, n),\r\n                  mode: 'highest',\r\n                })\r\n                if (inline) {\r\n                  const [, inlinePath] = inline\r\n                  if (Editor.isEnd(editor, selection.anchor, inlinePath)) {\r\n                    const point = Editor.after(editor, inlinePath)!\r\n                    Transforms.setSelection(editor, {\r\n                      anchor: point,\r\n                      focus: point,\r\n                    })\r\n                  }\r\n                }\r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n                \r\n              }\r\n            }\r\n          },\r\n          [attributes.onCompositionStart]\r\n        )}\r\n        onCompositionUpdate={useCallback(\r\n          (event: React.CompositionEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              hasEditableTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onCompositionUpdate)\r\n            ) {\r\n              event.preventDefault();\r\n              !state.isComposing && setIsComposing(true)\r\n              state.isComposing = true\r\n            }\r\n          },\r\n          [attributes.onCompositionUpdate]\r\n        )}\r\n        onCopy={useCallback(\r\n          (event: React.ClipboardEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              \r\n              !isEventHandled(event, attributes.onCopy)\r\n            ) {\r\n              if (!hasEditableTarget(editor, event.target)) {\r\n                const domSelection = window.getSelection();\r\n                editor.selection = getSelectionFromDomSelection(editor, domSelection);\r\n                if (!editor.selection) {\r\n                  return;\r\n                }\r\n              }\r\n              event.preventDefault()\r\n              ReactEditor.setFragmentData(editor, event.clipboardData)\r\n            }\r\n          },\r\n          [attributes.onCopy]\r\n        )}\r\n        onCut={useCallback(\r\n          (event: React.ClipboardEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              !readOnly &&\r\n              hasEditableTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onCut)\r\n            ) {\r\n              event.preventDefault()\r\n              ReactEditor.setFragmentData(editor, event.clipboardData)\r\n              const { selection } = editor\r\n\r\n              if (selection && Range.isExpanded(selection)) {\r\n                Editor.deleteFragment(editor)\r\n              }\r\n            }\r\n          },\r\n          [readOnly, attributes.onCut]\r\n        )}\r\n        onDragOver={useCallback(\r\n          (event: React.DragEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            \r\n            \r\n            if (\r\n              hasTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onDragOver)\r\n            ) {\r\n              \r\n              \r\n              \r\n              const node: any = ReactEditor.toSlateNode(editor, event.target)\r\n              if (!node || (!node.text && ![...LIST_TYPES, ...HEADING_TYPES, ELTYPE.BLOCK_QUOTE, ELTYPE.PARAGRAPH].includes(node.type))) return; \r\n              \r\n              if (Editor.isVoid(editor, node)) {\r\n                event.preventDefault()\r\n              }\r\n            }\r\n          },\r\n          [attributes.onDragOver]\r\n        )}\r\n        onDragStart={useCallback(\r\n          (event: React.DragEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            const isDragHandle = (event?.target as HTMLElement)?.closest('.drag-handle');\r\n            const isInlineImage = (event?.target as HTMLElement)?.closest('.imageContainer-outer-wrap');\r\n            if (!isDragHandle && !isInlineImage) {\r\n              event.preventDefault();\r\n              console.log(\"[onDragStart] preventDefault\", event.target)\r\n              return;\r\n            }\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n\r\n            \r\n            \r\n          },\r\n          [attributes.onDragStart]\r\n        )}\r\n        onDrop={useCallback(\r\n          (event: React.DragEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            \r\n            console.log(\"[onDrop]\", event)\r\n            if (\r\n              hasTarget(editor, event.target) &&\r\n              !readOnly &&\r\n              !isEventHandled(event, attributes.onDrop)\r\n            ) {\r\n              event.dataTransfer.dropEffect = 'copy';\r\n              const node: any = ReactEditor.toSlateNode(editor, event.target)\r\n              console.log(\"[onDrop]\", node, !node || (!node.text && ![...LIST_TYPES, ...HEADING_TYPES, ELTYPE.BLOCK_QUOTE, ELTYPE.PARAGRAPH].includes(node.type)))\r\n              if (!node || (!node.text && ![...LIST_TYPES, ...HEADING_TYPES, ELTYPE.BLOCK_QUOTE, ELTYPE.PARAGRAPH].includes(node.type))) {\r\n                event.preventDefault();\r\n                return; \r\n              }\r\n\r\n              let dragDataTransfer = getCache(editor.docId, 'drag-data-transfer') || null;\r\n              if (!dragDataTransfer) return;\r\n\r\n              const { dragData, dragOriginalPath, isInline } = dragDataTransfer;\r\n\r\n              event.preventDefault()\r\n\r\n              console.log('[onDrop] preventDefault', dragData, dragOriginalPath, !HAS_BEFORE_INPUT_SUPPORT, (!IS_SAFARI && event.dataTransfer.files.length > 0))\r\n              if (dragData && dragOriginalPath) {\r\n                const fragment = dragData.getData(\"text/plain\");\r\n                console.log('[onDrop]', event.target, fragment);\r\n                const newFragment = updateIdentities(fragment);\r\n                const parsed = JSON.parse(newFragment) as Node[];\r\n\r\n                if (isInline) {\r\n                  const range = ReactEditor.findEventRange(editor, event)\r\n                  const isTargetBefore = Path.isBefore(range.anchor.path, dragOriginalPath);\r\n                  if (isTargetBefore) {\r\n                    Transforms.delete(editor, { at: dragOriginalPath });\r\n                  }\r\n                  Transforms.select(editor, range);\r\n                  \r\n                  Transforms.insertFragment(editor, parsed);\r\n\r\n                  if (!isTargetBefore) {\r\n                    Transforms.delete(editor, { at: dragOriginalPath });\r\n                  }\r\n                } else {\r\n                  Transforms.delete(editor, { at: dragOriginalPath });\r\n                  Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as any, { at: dragOriginalPath });\r\n\r\n                  const range = ReactEditor.findEventRange(editor, event)\r\n                  Transforms.select(editor, range);\r\n\r\n                  const targetLineContentLength = range?.focus?.path && Node.string(Node.get(editor, range.focus.path))?.length;\r\n                  if (typeof targetLineContentLength === 'number' && targetLineContentLength > 0) {\r\n                    Transforms.insertNodes(editor, parsed);\r\n                  } else {\r\n                    \r\n                    Transforms.insertFragment(editor, parsed);\r\n                  }\r\n                }\r\n\r\n              }\r\n            }\r\n            setCache(editor.docId, 'drag-data-transfer', { dragData: null, dragOriginalPath: null, isInline: null })\r\n          },\r\n          [readOnly, attributes.onDrop]\r\n        )}\r\n        onFocus={useCallback(\r\n          (event: React.FocusEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            if (\r\n              !readOnly &&\r\n              !state.isUpdatingSelection &&\r\n              hasEditableTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onFocus)\r\n            ) {\r\n              const el = ReactEditor.toDOMNode(editor, editor)\r\n              state.latestElement = window.document.activeElement\r\n\r\n              \r\n              \r\n              \r\n              if (IS_FIREFOX && event.target !== el) {\r\n                el.focus()\r\n                return\r\n              }\r\n\r\n              IS_FOCUSED.set(editor, true)\r\n            }\r\n          },\r\n          [readOnly, attributes.onFocus]\r\n        )}\r\n        onKeyDown={useCallback(\r\n          (event: React.KeyboardEvent<HTMLDivElement>) => {\r\n            let isBlockContext = false;\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              console.log(\"[activeElement] onKeyDown prevented\")\r\n              isBlockContext = true;\r\n            }\r\n            if (\r\n              !readOnly &&\r\n              !state.isComposing &&\r\n              !isBlockContext &&\r\n              hasEditableTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onKeyDown)\r\n            ) {\r\n              const { nativeEvent } = event\r\n              const { selection } = editor\r\n\r\n              const element =\r\n                editor.children[\r\n                selection !== null ? selection.focus.path[0] : 0\r\n                ]\r\n              const isRTL = getDirection(Node.string(element)) === 'rtl'\r\n\r\n              \r\n              \r\n              \r\n              \r\n              if (Hotkeys.isRedo(nativeEvent)) {\r\n                event.preventDefault()\r\n                const maybeHistoryEditor: any = editor\r\n\r\n                if (typeof maybeHistoryEditor.redo === 'function') {\r\n                  maybeHistoryEditor.redo()\r\n                }\r\n\r\n                return\r\n              }\r\n\r\n              if (Hotkeys.isUndo(nativeEvent)) {\r\n                event.preventDefault()\r\n                const maybeHistoryEditor: any = editor\r\n\r\n                if (typeof maybeHistoryEditor.undo === 'function') {\r\n                  maybeHistoryEditor.undo()\r\n                }\r\n\r\n                return\r\n              }\r\n\r\n              \r\n              \r\n              \r\n              \r\n              if (Hotkeys.isMoveLineBackward(nativeEvent)) {\r\n                event.preventDefault()\r\n                Transforms.move(editor, { unit: 'line', reverse: true })\r\n                return\r\n              }\r\n\r\n              if (Hotkeys.isMoveLineForward(nativeEvent)) {\r\n                event.preventDefault()\r\n                Transforms.move(editor, { unit: 'line' })\r\n                return\r\n              }\r\n\r\n              if (Hotkeys.isExtendLineBackward(nativeEvent)) {\r\n                event.preventDefault()\r\n                Transforms.move(editor, {\r\n                  unit: 'line',\r\n                  edge: 'focus',\r\n                  reverse: true,\r\n                })\r\n                return\r\n              }\r\n\r\n              if (Hotkeys.isExtendLineForward(nativeEvent)) {\r\n                event.preventDefault()\r\n                Transforms.move(editor, { unit: 'line', edge: 'focus' })\r\n                return\r\n              }\r\n\r\n              \r\n              \r\n              \r\n              \r\n              \r\n              if (Hotkeys.isMoveBackward(nativeEvent)) {\r\n                event.preventDefault()\r\n\r\n                if (selection && Range.isCollapsed(selection)) {\r\n                  Transforms.move(editor, { reverse: !isRTL })\r\n                } else {\r\n                  Transforms.collapse(editor, { edge: 'start' })\r\n                }\r\n\r\n                return\r\n              }\r\n\r\n              if (Hotkeys.isMoveForward(nativeEvent)) {\r\n                event.preventDefault()\r\n\r\n                if (selection && Range.isCollapsed(selection)) {\r\n                  Transforms.move(editor, { reverse: isRTL })\r\n                } else {\r\n                  Transforms.collapse(editor, { edge: 'end' })\r\n                }\r\n\r\n                return\r\n              }\r\n\r\n\r\n              if (Hotkeys.isMoveWordBackward(nativeEvent)) {\r\n                event.preventDefault()\r\n\r\n                if (selection && Range.isExpanded(selection)) {\r\n                  Transforms.collapse(editor, { edge: 'focus' })\r\n                }\r\n\r\n                Transforms.move(editor, { unit: 'word', reverse: !isRTL })\r\n                return\r\n              }\r\n\r\n              if (Hotkeys.isMoveWordForward(nativeEvent)) {\r\n                event.preventDefault()\r\n\r\n                if (selection && Range.isExpanded(selection)) {\r\n                  Transforms.collapse(editor, { edge: 'focus' })\r\n                }\r\n\r\n                Transforms.move(editor, { unit: 'word', reverse: isRTL })\r\n                return\r\n              }\r\n\r\n              \r\n              \r\n              \r\n              if (!HAS_BEFORE_INPUT_SUPPORT) {\r\n                \r\n                \r\n                if (\r\n                  Hotkeys.isBold(nativeEvent) ||\r\n                  Hotkeys.isItalic(nativeEvent) ||\r\n                  Hotkeys.isTransposeCharacter(nativeEvent)\r\n                ) {\r\n                  event.preventDefault()\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isSplitBlock(nativeEvent)) {\r\n                  event.preventDefault()\r\n                  Editor.insertBreak(editor)\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isDeleteBackward(nativeEvent)) {\r\n                  event.preventDefault()\r\n\r\n                  if (selection && Range.isExpanded(selection)) {\r\n                    Editor.deleteFragment(editor, { direction: 'backward' })\r\n                  } else {\r\n                    Editor.deleteBackward(editor)\r\n                  }\r\n\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isDeleteForward(nativeEvent)) {\r\n                  event.preventDefault()\r\n\r\n                  if (selection && Range.isExpanded(selection)) {\r\n                    Editor.deleteFragment(editor, { direction: 'forward' })\r\n                  } else {\r\n                    Editor.deleteForward(editor)\r\n                  }\r\n\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isDeleteLineBackward(nativeEvent)) {\r\n                  event.preventDefault()\r\n\r\n                  if (selection && Range.isExpanded(selection)) {\r\n                    Editor.deleteFragment(editor, { direction: 'backward' })\r\n                  } else {\r\n                    Editor.deleteBackward(editor, { unit: 'line' })\r\n                  }\r\n\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isDeleteLineForward(nativeEvent)) {\r\n                  event.preventDefault()\r\n\r\n                  if (selection && Range.isExpanded(selection)) {\r\n                    Editor.deleteFragment(editor, { direction: 'forward' })\r\n                  } else {\r\n                    Editor.deleteForward(editor, { unit: 'line' })\r\n                  }\r\n\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isDeleteWordBackward(nativeEvent)) {\r\n                  event.preventDefault()\r\n\r\n                  if (selection && Range.isExpanded(selection)) {\r\n                    Editor.deleteFragment(editor, { direction: 'backward' })\r\n                  } else {\r\n                    Editor.deleteBackward(editor, { unit: 'word' })\r\n                  }\r\n\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isDeleteWordForward(nativeEvent)) {\r\n                  event.preventDefault()\r\n\r\n                  if (selection && Range.isExpanded(selection)) {\r\n                    Editor.deleteFragment(editor, { direction: 'forward' })\r\n                  } else {\r\n                    Editor.deleteForward(editor, { unit: 'word' })\r\n                  }\r\n\r\n                  return\r\n                }\r\n              } else {\r\n                if (IS_CHROME || IS_SAFARI) {\r\n                  \r\n                  \r\n                  if (\r\n                    selection &&\r\n                    (Hotkeys.isDeleteBackward(nativeEvent) ||\r\n                      Hotkeys.isDeleteForward(nativeEvent)) &&\r\n                    Range.isCollapsed(selection)\r\n                  ) {\r\n                    const currentNode = Node.parent(\r\n                      editor,\r\n                      selection.anchor.path\r\n                    )\r\n\r\n                    if (\r\n                      Element.isElement(currentNode) &&\r\n                      Editor.isVoid(editor, currentNode) &&\r\n                      Editor.isInline(editor, currentNode)\r\n                    ) {\r\n                      event.preventDefault()\r\n                      Editor.deleteBackward(editor, { unit: 'block' })\r\n\r\n                      return\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          },\r\n          [readOnly, attributes.onKeyDown]\r\n        )}\r\n        onPaste={useCallback(\r\n          (event: React.ClipboardEvent<HTMLDivElement>) => {\r\n            if (!!document?.activeElement?.closest(\"[data-block-context]\")) {\r\n              return;\r\n            }\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            if (\r\n              hasEditableTarget(editor, event.target) &&\r\n              !isEventHandled(event, attributes.onPaste) &&\r\n              (!HAS_BEFORE_INPUT_SUPPORT ||\r\n                isPlainTextOnlyPaste(event.nativeEvent)) &&\r\n              !readOnly\r\n            ) {\r\n              event.preventDefault()\r\n              ReactEditor.insertData(editor, event.clipboardData)\r\n            }\r\n          },\r\n          [readOnly, attributes.onPaste]\r\n        )}\r\n      >\r\n        {}\r\n        <Children\r\n          decorate={decorate}\r\n          decorations={decorations}\r\n          node={editor}\r\n          renderElement={renderElement}\r\n          renderLeaf={renderLeaf}\r\n          selection={editor.selection}\r\n          editorState={{ ...props }}\r\n        />\r\n      </Component>\r\n    </ReadOnlyContext.Provider >\r\n  )\r\n}\r\n\r\n\r\nexport type RenderPlaceholderProps = {\r\n  children: any\r\n  attributes: {\r\n    'data-slate-placeholder': boolean\r\n    dir?: 'rtl'\r\n    contentEditable: boolean\r\n    ref: React.RefObject<any>\r\n    style: React.CSSProperties\r\n  }\r\n}\r\n\r\n\r\nexport const DefaultPlaceholder = ({\r\n  attributes,\r\n  children,\r\n}: RenderPlaceholderProps) => <span {...attributes}>{children}</span>\r\n\r\n\r\nexport const defaultDecorate: (entry: NodeEntry) => Range[] = () => []\r\n\r\n\r\nexport const defaultScrollSelectionIntoView = (\r\n  editor: ReactEditor,\r\n  domRange: DOMRange\r\n) => {\r\n  const readonly = IS_READ_ONLY.get(editor);\r\n  console.log('defaultScrollSelectionIntoView', readonly);\r\n  if (readonly) return;\r\n\r\n  \r\n  \r\n  \r\n  if (\r\n    !editor.selection ||\r\n    (editor.selection && Range.isCollapsed(editor.selection))\r\n  ) {\r\n    const leafEl = domRange.startContainer.parentElement!\r\n    leafEl.getBoundingClientRect = domRange.getBoundingClientRect.bind(domRange)\r\n    scrollIntoView(leafEl, {\r\n      scrollMode: 'if-needed',\r\n    })\r\n    delete leafEl.getBoundingClientRect\r\n  }\r\n}\r\n\r\n\r\n\r\nconst isRangeEqual = (a: DOMRange, b: DOMRange) => {\r\n  return (\r\n    (a.startContainer === b.startContainer &&\r\n      a.startOffset === b.startOffset &&\r\n      a.endContainer === b.endContainer &&\r\n      a.endOffset === b.endOffset) ||\r\n    (a.startContainer === b.endContainer &&\r\n      a.startOffset === b.endOffset &&\r\n      a.endContainer === b.startContainer &&\r\n      a.endOffset === b.startOffset)\r\n  )\r\n}\r\n\r\n\r\n\r\nexport const hasTarget = (\r\n  editor: ReactEditor,\r\n  target: EventTarget | null\r\n): target is DOMNode => {\r\n  return isDOMNode(target) && ReactEditor.hasDOMNode(editor, target)\r\n}\r\n\r\n\r\n\r\nconst hasEditableTarget = (\r\n  editor: ReactEditor,\r\n  target: EventTarget | null\r\n): target is DOMNode => {\r\n  return (\r\n    isDOMNode(target) &&\r\n    ReactEditor.hasDOMNode(editor, target, { editable: true })\r\n  )\r\n}\r\n\r\n\r\n\r\nconst isTargetInsideVoid = (\r\n  editor: ReactEditor,\r\n  target: EventTarget | null\r\n): boolean => {\r\n  const slateNode =\r\n    hasTarget(editor, target) && ReactEditor.toSlateNode(editor, target)\r\n  return Editor.isVoid(editor, slateNode)\r\n}\r\n\r\n\r\n\r\nconst isEventHandled = <\r\n  EventType extends React.SyntheticEvent<unknown, unknown>\r\n>(\r\n  event: EventType,\r\n  handler?: (event: EventType) => void\r\n) => {\r\n  if (!handler) {\r\n    return false\r\n  }\r\n\r\n  handler(event)\r\n  return event.isDefaultPrevented() || event.isPropagationStopped()\r\n}\r\n\r\n\r\n\r\nconst isDOMEventHandled = (event: Event, handler?: (event: Event) => void) => {\r\n  if (!handler) {\r\n    return false\r\n  }\r\n\r\n  handler(event)\r\n  return event.defaultPrevented\r\n}\r\nfunction hasCardTarget(node: any) {\r\n  return node && (node.parentElement.hasAttribute('card-target') || (node instanceof HTMLElement && node.hasAttribute('card-target')));\r\n}\r\nfunction hasClass(element, className) {\r\n  return (\" \" + element.className + \"  \").indexOf(\" \" + className + \" \") > -1;\r\n}\r\n\r\nexport function getSelectionFromDomSelection(editor: ReactEditor, domSelection: Selection): Range | null {\r\n  const { anchorNode, focusNode } = domSelection\r\n  const anchorNodeSelectable =\r\n    hasTarget(editor, anchorNode) ||\r\n    isTargetInsideVoid(editor, anchorNode)\r\n\r\n  const focusNodeSelectable =\r\n    hasTarget(editor, focusNode) ||\r\n    isTargetInsideVoid(editor, focusNode)\r\n  const check = checkText(anchorNode) && checkText(focusNode);\r\n  if (anchorNodeSelectable && focusNodeSelectable && check) {\r\n    try {\r\n      const range = ReactEditor.toSlateRange2(editor, domSelection, {\r\n        exactMatch: true,\r\n        suppressThrow: false,\r\n      })\r\n      return range\r\n    } catch (error) {\r\n      console.log('getSelectionFromDomSelection error', error)\r\n      return null\r\n    }\r\n\r\n  }\r\n  return null\r\n}\r\n\r\nfunction checkText(domPoint: any) {\r\n  if (!isDOMNode(domPoint)) {\r\n    return false\r\n  }\r\n  let leafNode = domPoint.parentElement.closest('[data-slate-leaf]')\r\n  if (!leafNode) {\r\n    return false\r\n  }\r\n  const textNode = leafNode.closest('[data-slate-node=\"text\"]')!\r\n  return !!textNode\r\n}","import { createContext, useContext } from 'react'\r\n\r\n\r\n\r\nexport const FocusedContext = createContext(false)\r\n\r\n\r\n\r\nexport const useFocused = (): boolean => {\r\n  return useContext(FocusedContext)\r\n}\r\n","\r\n\r\nlet n = 0\r\n\r\n\r\n\r\nexport class Key {\r\n  id: string\r\n\r\n  constructor() {\r\n    this.id = `${n++}`\r\n  }\r\n}\r\n","import { Editor, Node, Path, Point, Range, Transforms } from \"@src/components/slate-packages/slate\"\r\nimport { NodeEntry } from '../../slate/interfaces/node'\r\nimport {\r\n  DOMElement,\r\n  DOMNode,\r\n  DOMPoint,\r\n  DOMRange,\r\n  DOMSelection,\r\n  DOMStaticRange,\r\n  hasShadowRoot,\r\n  isDOMElement,\r\n  isDOMSelection,\r\n  normalizeDOMPoint\r\n} from '../utils/dom'\r\nimport { Key } from '../utils/key'\r\nimport {\r\n  EDITOR_TO_ELEMENT,\r\n  EDITOR_TO_KEY_TO_ELEMENT,\r\n  ELEMENT_TO_NODE,\r\n  IS_FOCUSED,\r\n  IS_READ_ONLY,\r\n  NODE_TO_INDEX,\r\n  NODE_TO_KEY,\r\n  NODE_TO_PARENT\r\n} from '../utils/weak-maps'\r\nimport { IS_CHROME, IS_FIREFOX } from '../utils/environment'\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport { getStart } from \"@src/utils/selectionUtils\"\r\n\r\n\r\n\r\nexport interface ReactEditor extends Editor {\r\n  insertData: (data: DataTransfer) => void\r\n  insertFragmentData: (data: DataTransfer) => boolean\r\n  setFragmentData: (data: DataTransfer) => void\r\n  insertTextData: (data: DataTransfer) => boolean\r\n  hasRange: (editor: ReactEditor, range: Range) => boolean\r\n}\r\n\r\nexport const ReactEditor = {\r\n  \r\n\r\n  findKey(editor: ReactEditor, node: Node): Key {\r\n    let key = NODE_TO_KEY.get(node)\r\n\r\n    if (!key) {\r\n      key = new Key()\r\n      NODE_TO_KEY.set(node, key)\r\n    }\r\n\r\n    return key\r\n  },\r\n\r\n  \r\n\r\n  findPath(editor: ReactEditor, node: Node): Path {\r\n    const path: Path = []\r\n    let child = node\r\n\r\n    while (true) {\r\n      const parent = NODE_TO_PARENT.get(child)\r\n\r\n      if (parent == null) {\r\n        if (Editor.isEditor(child)) {\r\n          return path\r\n        } else {\r\n          break\r\n        }\r\n      }\r\n\r\n      const i = NODE_TO_INDEX.get(child)\r\n\r\n      if (i == null) {\r\n        break\r\n      }\r\n\r\n      path.unshift(i)\r\n      child = parent\r\n    }\r\n\r\n    handleSlateError( \r\n      `Unable to find the path for Slate node: ${JSON.stringify(node)}`, editor\r\n    )\r\n    return\r\n  },\r\n\r\n  \r\n\r\n  isFocused(editor: ReactEditor): boolean {\r\n    return !!IS_FOCUSED.get(editor)\r\n  },\r\n\r\n  \r\n\r\n  isReadOnly(editor: ReactEditor): boolean {\r\n    return !!IS_READ_ONLY.get(editor)\r\n  },\r\n\r\n  \r\n\r\n  blur(editor: ReactEditor): void {\r\n    const el = ReactEditor.toDOMNode(editor, editor)\r\n    IS_FOCUSED.set(editor, false)\r\n\r\n    if (window.document.activeElement === el) {\r\n      el.blur()\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  focus(editor: ReactEditor): void {\r\n    const el = ReactEditor.toDOMNode(editor, editor)\r\n    IS_FOCUSED.set(editor, true)\r\n    console.log(\"FOCUSING\",)\r\n    \r\n    if (window.document.activeElement !== el) {\r\n      el.focus({ preventScroll: true })\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  deselect(editor: ReactEditor): void {\r\n    const { selection } = editor\r\n    const domSelection = window.getSelection()\r\n\r\n    if (domSelection && domSelection.rangeCount > 0) {\r\n      domSelection.removeAllRanges()\r\n    }\r\n\r\n    if (selection) {\r\n      Transforms.deselect(editor)\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  hasDOMNode(\r\n    editor: ReactEditor,\r\n    target: DOMNode,\r\n    options: { editable?: boolean } = {}\r\n  ): boolean {\r\n    const { editable = false } = options\r\n    const editorEl = ReactEditor.toDOMNode(editor, editor)\r\n    let targetEl\r\n\r\n    \r\n    \r\n    \r\n    \r\n    try {\r\n      targetEl = (isDOMElement(target)\r\n        ? target\r\n        : target.parentElement) as HTMLElement\r\n    } catch (err) {\r\n      if (\r\n        !err.message.includes('Permission denied to access property \"nodeType\"')\r\n      ) {\r\n        throw err\r\n      }\r\n    }\r\n\r\n    if (!targetEl) {\r\n      return false\r\n    }\r\n\r\n    return (\r\n      targetEl.closest(`[data-slate-editor]`) === editorEl &&\r\n      (!editable ||\r\n        targetEl.isContentEditable ||\r\n        !!targetEl.getAttribute('data-slate-zero-width'))\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  insertData(editor: ReactEditor, data: DataTransfer): void {\r\n    editor.insertData(data)\r\n  },\r\n\r\n  \r\n\r\n  setFragmentData(editor: ReactEditor, data: DataTransfer): void {\r\n    editor.setFragmentData(data)\r\n  },\r\n\r\n  \r\n\r\n  toDOMNode(editor: ReactEditor, node: Node): HTMLElement {\r\n    const KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor)\r\n    const domNode = Editor.isEditor(node)\r\n      ? EDITOR_TO_ELEMENT.get(editor)\r\n      : KEY_TO_ELEMENT?.get(ReactEditor.findKey(editor, node))\r\n      \r\n    if (!domNode) {\r\n      handleSlateError( \r\n        `Cannot resolve a DOM node from Slate node: ${JSON.stringify(node)}; KEY_TO_ELEMENT: ${KEY_TO_ELEMENT}, key: ${ReactEditor.findKey(editor, node)}`, editor\r\n      )\r\n      return\r\n    }\r\n\r\n    return domNode\r\n  },\r\n\r\n  \r\n\r\n  toDOMPoint(editor: ReactEditor, point: Point): DOMPoint {\r\n    const [node] = Editor.node(editor, point.path)\r\n    const el = ReactEditor.toDOMNode(editor, node)\r\n\r\n    \r\n    if (!point || !node || !el) {\r\n      console.log(\"[toDOMPoint] !el:\", point, node, el)\r\n      return\r\n    }\r\n\r\n    let domPoint: DOMPoint | undefined\r\n\r\n    \r\n    \r\n    if (Editor.void(editor, { at: point })) {\r\n      point = { path: point.path, offset: 0 }\r\n    }\r\n\r\n    \r\n    \r\n    \r\n    const selector = `[data-slate-string], [data-slate-zero-width]`\r\n    const texts = Array.from(el.querySelectorAll(selector))\r\n    let start = 0\r\n\r\n    for (const text of texts) {\r\n      const domNode = text.childNodes[0] as HTMLElement\r\n\r\n      if (domNode == null || domNode.textContent == null) {\r\n        continue\r\n      }\r\n\r\n      const { length } = domNode.textContent\r\n      const attr = text.getAttribute('data-slate-length')\r\n      const trueLength = attr == null ? length : parseInt(attr, 10)\r\n      const end = start + trueLength\r\n\r\n      if (point.offset <= end) {\r\n        const offset = Math.min(length, Math.max(0, point.offset - start))\r\n        domPoint = [domNode, offset]\r\n        break\r\n      }\r\n\r\n      start = end\r\n    }\r\n\r\n    if (!domPoint) {\r\n      console.error(\"[toDOMPoint] !domPoint:\", point && JSON.stringify(point), node, el)\r\n      return null\r\n      handleSlateError( \r\n        `Cannot resolve a DOM point from Slate point: ${JSON.stringify(point)}`, editor\r\n      )\r\n      return null\r\n    }\r\n\r\n    return domPoint\r\n  },\r\n\r\n  \r\n\r\n  toDOMRange(editor: ReactEditor, range: Range): DOMRange {\r\n    const { anchor, focus } = range\r\n    const isBackward = Range.isBackward(range)\r\n    const domAnchor = ReactEditor.toDOMPoint(editor, anchor)\r\n    const domFocus = Range.isCollapsed(range)\r\n      ? domAnchor\r\n      : ReactEditor.toDOMPoint(editor, focus)\r\n\r\n    const domRange = window.document.createRange()\r\n    const startEntry = isBackward ? domFocus : domAnchor\r\n    const endEntry = isBackward ? domAnchor : domFocus\r\n\r\n    if(!startEntry || !endEntry) { \r\n      return null\r\n    }\r\n    const [startNode, startOffset] = startEntry;\r\n    const [endNode, endOffset] = endEntry;\r\n    \r\n    \r\n    \r\n    const startEl = (isDOMElement(startNode)\r\n      ? startNode\r\n      : startNode.parentElement) as HTMLElement\r\n    const isStartAtZeroWidth = !!startEl.getAttribute('data-slate-zero-width')\r\n    const endEl = (isDOMElement(endNode)\r\n      ? endNode\r\n      : endNode.parentElement) as HTMLElement\r\n    const isEndAtZeroWidth = !!endEl.getAttribute('data-slate-zero-width')\r\n\r\n    domRange.setStart(startNode, isStartAtZeroWidth ? 1 : startOffset)\r\n    domRange.setEnd(endNode, isEndAtZeroWidth ? 1 : endOffset)\r\n    return domRange\r\n  },\r\n\r\n  \r\n\r\n  toSlateNode(editor: ReactEditor, domNode: DOMNode): Node {\r\n    if(!domNode || (domNode as any)?.hasAttribute?.(\"data-ignore-slate\")) { \r\n      \r\n\r\n      return\r\n\r\n\r\n      \r\n      \r\n      \r\n      \r\n      \r\n    }\r\n    \r\n    let domEl = isDOMElement(domNode) ? domNode : domNode.parentElement\r\n\r\n    if (domEl && !domEl.hasAttribute('data-slate-node')) {\r\n      domEl = domEl.closest(`[data-slate-node]`)\r\n    }\r\n\r\n    \r\n    if(isDOMElement(domNode) && ['card-table-wrap', 'table-wrap', 'table-inner-wrap', 'table-element'].some((cls) => Array.from(domNode.classList).includes(cls))) {\r\n      domEl = domEl.getElementsByTagName('tbody')[0];\r\n      \r\n    }\r\n\r\n    \r\n\r\n    const node = domEl ? ELEMENT_TO_NODE.get(domEl as HTMLElement) : null\r\n\r\n    if (!node) {\r\n      handleSlateError( `Cannot resolve a Slate node from DOM node: ${domEl}`, editor)\r\n      return\r\n    }\r\n\r\n    return node\r\n  },\r\n\r\n  \r\n\r\n  findEventRange(editor: ReactEditor, event: any): Range {\r\n    if ('nativeEvent' in event) {\r\n      event = event.nativeEvent\r\n    }\r\n\r\n    const { clientX: x, clientY: y, target } = event\r\n\r\n    if (x == null || y == null) {\r\n      handleSlateError( `Cannot resolve a Slate range from a DOM event: ${event}`, editor)\r\n      return\r\n    }\r\n\r\n    const node = ReactEditor.toSlateNode(editor, event.target)\r\n    if(!node) return; \r\n    const path = ReactEditor.findPath(editor, node)\r\n\r\n    \r\n    \r\n    \r\n    if (Editor.isVoid(editor, node)) {\r\n      const rect = target.getBoundingClientRect()\r\n      const isPrev = editor.isInline(node)\r\n        ? x - rect.left < rect.left + rect.width - x\r\n        : y - rect.top < rect.top + rect.height - y\r\n\r\n      const edge = Editor.point(editor, path, {\r\n        edge: isPrev ? 'start' : 'end',\r\n      })\r\n      const point = isPrev\r\n        ? Editor.before(editor, edge)\r\n        : Editor.after(editor, edge)\r\n\r\n      if (point) {\r\n        const range = Editor.range(editor, point)\r\n        return range\r\n      }\r\n    }\r\n\r\n    \r\n    let domRange\r\n    const { document } = window\r\n\r\n    \r\n    if (document.caretRangeFromPoint) {\r\n      domRange = document.caretRangeFromPoint(x, y)\r\n    } else {\r\n      const position = (document as any).caretPositionFromPoint(x, y)\r\n\r\n      if (position) {\r\n        domRange = document.createRange()\r\n        domRange.setStart(position.offsetNode, position.offset)\r\n        domRange.setEnd(position.offsetNode, position.offset)\r\n      }\r\n    }\r\n\r\n    if (!domRange) {\r\n      handleSlateError( `Cannot resolve a Slate range from a DOM event: ${event}`, editor)\r\n      return\r\n    }\r\n    \r\n    const range = ReactEditor.toSlateRange(editor, domRange,{\r\n      exactMatch: false,\r\n      suppressThrow: false,\r\n    })\r\n    return range\r\n  },\r\n\r\n  \r\n\r\n  toSlatePoint<T extends boolean>(\r\n    editor: ReactEditor, \r\n    domPoint: DOMPoint, \r\n    options: {\r\n      exactMatch: T\r\n      suppressThrow: T\r\n    }): T extends true ? Point | null : Point {\r\n    const { exactMatch, suppressThrow } = options;\r\n    const [nearestNode, nearestOffset] = exactMatch ? domPoint : normalizeDOMPoint(domPoint);\r\n    const el = domPoint[0] as DOMElement\r\n    const isOnlyReadEL = el?.hasAttribute && el?.hasAttribute('data-ignore-slate')\r\n    const isText = typeof el === 'string' || el?.nodeName === '#text'\r\n    const parentIsOnlyReadEL = isText && (el?.parentNode as any)?.hasAttribute && (el?.parentNode as any)?.hasAttribute('data-ignore-slate')\r\n    if (isOnlyReadEL || parentIsOnlyReadEL) { \r\n    \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n\r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n    }\r\n    const parentNode = nearestNode.parentNode as DOMElement\r\n    let textNode: DOMElement | null = null\r\n    let offset = 0\r\n\r\n    if (parentNode) {\r\n      const voidNode = parentNode.closest('[data-slate-void=\"true\"]')\r\n      let leafNode = parentNode.closest('[data-slate-leaf]')\r\n      let domNode: DOMElement | null = null\r\n\r\n      \r\n      \r\n      if (leafNode) {\r\n        textNode = leafNode.closest('[data-slate-node=\"text\"]')!\r\n        const range = window.document.createRange()\r\n        range.setStart(textNode, 0)\r\n        range.setEnd(nearestNode, nearestOffset)\r\n        const contents = range.cloneContents()\r\n        const removals = [\r\n          ...Array.prototype.slice.call(\r\n            contents.querySelectorAll('[data-slate-zero-width]')\r\n          ),\r\n          ...Array.prototype.slice.call(\r\n            contents.querySelectorAll('[contenteditable=false]')\r\n          ),\r\n        ]\r\n\r\n        removals.forEach(el => {\r\n          el!.parentNode!.removeChild(el)\r\n        })\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        offset = contents.textContent!.length;\r\n        \r\n        domNode = textNode\r\n      } else if (voidNode) {\r\n        \r\n        \r\n\r\n        leafNode = voidNode.querySelector('[data-slate-leaf]')!\r\n        \r\n          if (!leafNode) {\r\n          offset = 1\r\n        } else {\r\n          textNode = leafNode.closest('[data-slate-node=\"text\"]')!\r\n          domNode = leafNode\r\n          offset = domNode.textContent!.length\r\n          domNode.querySelectorAll('[data-slate-zero-width]').forEach(el => {\r\n            offset -= el.textContent!.length\r\n          })\r\n        }\r\n      }\r\n      if (\r\n        domNode &&\r\n        offset === domNode.textContent!.length &&\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        (parentNode.hasAttribute('data-slate-zero-width') ||\r\n          \r\n          \r\n          \r\n          (IS_FIREFOX && domNode.textContent?.endsWith('\\n\\n')))\r\n      ) {\r\n        offset--\r\n      }\r\n    }\r\n    if (!textNode) {\r\n      const textContent = domPoint && domPoint[0] && domPoint[0]?.parentElement\r\n      const parentElementInnerHTML = domPoint && domPoint[0] && domPoint[0]?.parentElement?.innerHTML\r\n      const innerHTML = domPoint && domPoint[0] && domPoint[0]?.innerHTML\r\n      \r\n      !suppressThrow && console.error(`Cannot resolve a Slate point from DOM point:  textContent:${textContent} ， parentElementInnerHTML:${parentElementInnerHTML}， innerHTML:${innerHTML}，`, editor)\r\n      if (suppressThrow || true) {\r\n        return null as T extends true ? Point | null : Point\r\n      }\r\n    }\r\n    \r\n    \r\n    \r\n    const slateNode = ReactEditor.toSlateNode(editor, textNode!)\r\n    const path = ReactEditor.findPath(editor, slateNode)\r\n    return { path, offset } as T extends true ? Point | null : Point\r\n  },\r\n\r\n  \r\n\r\n   toSlateRange<T extends boolean>(\r\n    editor: ReactEditor,\r\n    domRange: DOMRange | DOMStaticRange | DOMSelection,\r\n    options: {\r\n      exactMatch: T\r\n      suppressThrow: T\r\n    }\r\n  ): T extends true ? Range | null : Range {\r\n    const { exactMatch, suppressThrow } = options\r\n    const el = isDOMSelection(domRange)\r\n      ? domRange.anchorNode\r\n      : domRange.startContainer\r\n    let anchorNode\r\n    let anchorOffset\r\n    let focusNode\r\n    let focusOffset\r\n    let isCollapsed\r\n    if (el) {\r\n      if (isDOMSelection(domRange)) {\r\n        anchorNode = domRange.anchorNode\r\n        anchorOffset = domRange.anchorOffset\r\n        focusNode = domRange.focusNode\r\n        focusOffset = domRange.focusOffset\r\n        \r\n        \r\n        \r\n        \r\n        if (IS_CHROME && hasShadowRoot()) {\r\n          isCollapsed =\r\n            domRange.anchorNode === domRange.focusNode &&\r\n            domRange.anchorOffset === domRange.focusOffset\r\n        } else {\r\n          isCollapsed = domRange.isCollapsed\r\n        }\r\n      } else {\r\n        anchorNode = domRange.startContainer\r\n        anchorOffset = domRange.startOffset\r\n        focusNode = domRange.endContainer\r\n        focusOffset = domRange.endOffset\r\n        isCollapsed = domRange.collapsed\r\n      }\r\n    }\r\n    if (\r\n      anchorNode == null ||\r\n      focusNode == null ||\r\n      anchorOffset == null ||\r\n      focusOffset == null\r\n    ) {\r\n      handleSlateError( \r\n        `Cannot resolve a Slate range from DOM range: ${domRange}`, editor\r\n      )\r\n    }\r\n    const anchor = ReactEditor.toSlatePoint(\r\n      editor,\r\n      [anchorNode, anchorOffset],\r\n      { exactMatch, suppressThrow }\r\n    )\r\n     if (!anchor || !Point.isPoint(anchor)) {\r\n      anchor && !Point.isPoint(anchor) &&  console.error('toSlateRange anchor undefined')\r\n      return null as T extends true ? Range | null : Range\r\n    }\r\n    const focus = isCollapsed\r\n      ? anchor\r\n      : ReactEditor.toSlatePoint(editor, [focusNode, focusOffset], {\r\n          exactMatch,\r\n          suppressThrow,\r\n        })\r\n    if (!focus || !Point.isPoint(focus)) {\r\n      focus && !Point.isPoint(anchor) &&  console.error('toSlateRange focus undefined')\r\n      return null as T extends true ? Range | null : Range\r\n    }\r\n    let range: Range = { anchor: anchor as Point, focus: focus as Point }\r\n    \r\n    \r\n    \r\n    \r\n    if (\r\n      Range.isExpanded(range) &&\r\n      Range.isForward(range) &&\r\n      isDOMElement(focusNode) &&\r\n      Editor.void(editor, { at: range.focus, mode: 'highest' })\r\n    ) {\r\n      range = Editor.unhangRange(editor, range, { voids: true })\r\n    }\r\n    return (range as unknown) as T extends true ? Range | null : Range\r\n  },\r\n \r\n\r\n  toSlateRange2<T extends boolean>(\r\n    editor: ReactEditor,\r\n    domRange: DOMRange | DOMStaticRange | DOMSelection,\r\n    options: {\r\n      exactMatch: T\r\n      suppressThrow: T\r\n    }\r\n  ): T extends true ? Range | null : Range {\r\n    const { exactMatch, suppressThrow } = options\r\n    const el = isDOMSelection(domRange)\r\n      ? domRange.anchorNode\r\n      : domRange.startContainer\r\n    let anchorNode\r\n    let anchorOffset\r\n    let focusNode\r\n    let focusOffset\r\n    let isCollapsed\r\n    if (el) {\r\n      if (isDOMSelection(domRange)) {\r\n        anchorNode = domRange.anchorNode\r\n        anchorOffset = domRange.anchorOffset\r\n        focusNode = domRange.focusNode\r\n        focusOffset = domRange.focusOffset\r\n        \r\n        \r\n        \r\n        \r\n        if (IS_CHROME && hasShadowRoot()) {\r\n          isCollapsed =\r\n            domRange.anchorNode === domRange.focusNode &&\r\n            domRange.anchorOffset === domRange.focusOffset\r\n        } else {\r\n          isCollapsed = domRange.isCollapsed\r\n        }\r\n      } else {\r\n        anchorNode = domRange.startContainer\r\n        anchorOffset = domRange.startOffset\r\n        focusNode = domRange.endContainer\r\n        focusOffset = domRange.endOffset\r\n        isCollapsed = domRange.collapsed\r\n      }\r\n    }\r\n    if (\r\n      anchorNode == null ||\r\n      focusNode == null ||\r\n      anchorOffset == null ||\r\n      focusOffset == null\r\n    ) {\r\n      console.error( \r\n        `Cannot resolve a Slate range from DOM range: ${domRange}`, editor\r\n      )\r\n    }\r\n    const anchor = ReactEditor.toSlatePoint(\r\n      editor,\r\n      [anchorNode, anchorOffset],\r\n      { exactMatch, suppressThrow }\r\n    )\r\n    if (!anchor) {\r\n      return null as T extends true ? Range | null : Range\r\n    }\r\n    const focus = isCollapsed\r\n      ? anchor\r\n      : ReactEditor.toSlatePoint(editor, [focusNode, focusOffset], {\r\n          exactMatch,\r\n          suppressThrow,\r\n        })\r\n    if (!focus) {\r\n      return null as T extends true ? Range | null : Range\r\n    }\r\n    let range: Range = { anchor: anchor as Point, focus: focus as Point }\r\n    \r\n    \r\n    \r\n    \r\n    if (\r\n      Range.isExpanded(range) &&\r\n      Range.isForward(range) &&\r\n      isDOMElement(focusNode) &&\r\n      Editor.void(editor, { at: range.focus, mode: 'highest' })\r\n    ) {\r\n      range = Editor.unhangRange(editor, range, { voids: true })\r\n    }\r\n    return (range as unknown) as T extends true ? Range | null : Range\r\n  },\r\n  hasRange(editor: ReactEditor, range: Range): boolean {\r\n    const { anchor, focus } = range\r\n    return (\r\n      Editor.hasPath(editor, anchor.path) && Editor.hasPath(editor, focus.path)\r\n    )\r\n  },\r\n\r\n  hasCardTarget(node: DOMNode) {\r\n    return node && (node.parentElement.hasAttribute('card-target') || (node instanceof HTMLElement && node.hasAttribute('card-target')));\r\n  },\r\n\r\n  getCardTargetAttribute(node: DOMNode) {\r\n    return node.parentElement.getAttribute('card-target') || (node instanceof HTMLElement && node.getAttribute('card-target'));\r\n  },\r\n\r\n  getCardCursorNode(editor: ReactEditor, blockCardNode: Node, options: {\r\n    direction: 'left' | 'right' | 'center'\r\n  }) {\r\n    const blockCardElement = ReactEditor.toDOMNode(editor, blockCardNode);\r\n    const cardCenter = blockCardElement.parentElement;\r\n    return options.direction === 'left'\r\n      ? cardCenter.previousElementSibling\r\n      : cardCenter.nextElementSibling;\r\n  },\r\n\r\n  isCardLeft(node: DOMNode) {\r\n    const cardTarget = ReactEditor.getCardTargetAttribute(node);\r\n    return cardTarget && cardTarget === 'card-left';\r\n  },\r\n\r\n  isCardLeftByTargetAttr(targetAttr: any) {\r\n    return targetAttr && targetAttr.nodeValue === 'card-left';\r\n  },\r\n\r\n  isCardRightByTargetAttr(targetAttr: any) {\r\n    return targetAttr && targetAttr.nodeValue === 'card-right';\r\n  },\r\n\r\n  isCardCenterByTargetAttr(targetAttr: any) {\r\n    return targetAttr && targetAttr.nodeValue === 'card-center';\r\n  },\r\n\r\n  toSlateCardEntry(editor: ReactEditor, node: DOMNode): NodeEntry {\r\n    const element = node.parentElement\r\n      .closest('.sla-block-card-element')?.querySelector('[card-target=\"card-center\"]')\r\n      .firstElementChild;\r\n    const slateNode = ReactEditor.toSlateNode(editor, element);\r\n    const path = ReactEditor.findPath(editor, slateNode);\r\n    return [slateNode, path];\r\n  },\r\n\r\n  moveBlockCard(editor: ReactEditor, blockCardNode: Node, options: {\r\n    direction: 'left' | 'right'\r\n  }) {\r\n    const cursorNode = ReactEditor.getCardCursorNode(editor, blockCardNode, options);\r\n    const domSelection = window.getSelection();\r\n    domSelection.setBaseAndExtent(cursorNode, 1, cursorNode, 1);\r\n  }\r\n}\r\n","import React, { useCallback, useEffect, useMemo, useState } from 'react'\r\nimport { Node } from \"@src/components/slate-packages/slate\"\r\nimport { EditorContext } from '../hooks/use-editor'\r\nimport { FocusedContext } from '../hooks/use-focused'\r\nimport { SlateContext } from '../hooks/use-slate'\r\nimport { ReactEditor } from '../plugin/react-editor'\r\nimport { EDITOR_TO_ON_CHANGE } from '../utils/weak-maps'\r\n\r\n\r\n\r\n\r\nexport const Slate = (props: {\r\n  editor: ReactEditor\r\n  value: Node[]\r\n  children: React.ReactNode\r\n  onChange: (value: Node[]) => void\r\n  [key: string]: unknown\r\n}) => {\r\n  const { editor, children, onChange, value, ...rest } = props\r\n  const [key, setKey] = useState(0)\r\n  const context: [ReactEditor] = useMemo(() => {\r\n    editor.children = value\r\n    Object.assign(editor, rest)\r\n    return [editor]\r\n  }, [key, value, ...Object.values(rest)])\r\n\r\n  const onContextChange = useCallback(() => {\r\n    onChange(editor.children)\r\n    setKey(key + 1)\r\n  }, [key, onChange])\r\n\r\n  EDITOR_TO_ON_CHANGE.set(editor, onContextChange)\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      EDITOR_TO_ON_CHANGE.set(editor, () => { })\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <SlateContext.Provider value={context}>\r\n      <EditorContext.Provider value={editor}>\r\n        <FocusedContext.Provider value={ReactEditor.isFocused(editor)}>\r\n          {children}\r\n        </FocusedContext.Provider>\r\n      </EditorContext.Provider>\r\n    </SlateContext.Provider>\r\n  )\r\n}\r\n","import { Path } from '@src/components/slate-packages/slate';\n\nexport const isSameLineSelection = (selection: any): boolean => {\n  if (!selection || !selection.focus || !selection.anchor) {\n    return false;\n  }\n  const { focus, anchor } = selection;\n  if (anchor.path.length !== focus.path.length) {\n    return false;\n  }\n  return Path.equals(anchor.path.slice(0, -1), focus.path.slice(0, -1));\n};\n","\r\n\r\nimport { Range, Editor } from '../../slate';\r\nimport { ReactEditor } from '..';\r\n\r\nconst doRectsIntersect = (rect: DOMRect, compareRect: DOMRect) => {\r\n  const middle = (compareRect.top + compareRect.bottom) / 2;\r\n\r\n  return rect.top <= middle && rect.bottom >= middle;\r\n};\r\n\r\nconst areRangesSameLine = (editor: ReactEditor, range1: Range, range2: Range) => {\r\n  const rect1 = ReactEditor.toDOMRange(editor, range1).getBoundingClientRect();\r\n  const rect2 = ReactEditor.toDOMRange(editor, range2).getBoundingClientRect();\r\n\r\n  return doRectsIntersect(rect1, rect2) && doRectsIntersect(rect2, rect1);\r\n};\r\n\r\n\r\nexport const findCurrentLineRange = (editor: ReactEditor, parentRange: Range): Range => {\r\n  const parentRangeBoundary = Editor.range(editor, Range.end(parentRange));\r\n  const positions = Array.from(Editor.positions(editor, { at: parentRange }));\r\n\r\n  let left = 0;\r\n  let right = positions.length;\r\n  let middle = Math.floor(right / 2);\r\n\r\n  if (areRangesSameLine(editor, Editor.range(editor, positions[left]), parentRangeBoundary)) {\r\n    return Editor.range(editor, positions[left], parentRangeBoundary);\r\n  }\r\n\r\n  if (positions.length < 2) {\r\n    return Editor.range(editor, positions[positions.length - 1], parentRangeBoundary);\r\n  }\r\n\r\n  while (middle !== positions.length && middle !== left) {\r\n    if (areRangesSameLine(editor, Editor.range(editor, positions[middle]), parentRangeBoundary)) {\r\n      right = middle;\r\n    } else {\r\n      left = middle;\r\n    }\r\n\r\n    middle = Math.floor((left + right) / 2);\r\n  }\r\n\r\n  return Editor.range(editor, positions[right], parentRangeBoundary);\r\n};\r\n","import ReactDOM from 'react-dom'\r\nimport { Editor, Node, Operation, Path, Range, Transforms } from \"@src/components/slate-packages/slate\"\r\nimport { currentLineSelectAll } from '../../../../utils/selectionUtils'\r\nimport {\r\n  ELTYPE,\r\n  HEADING_MAP,\r\n  HEADING_TYPES,\r\n  TEXT_TAGS_MAP\r\n} from '../../../docs/plugins/config'\r\nimport { isSameLineSelection } from '../../../docs/plugins/pluginsUtils/selectionUtils'\r\nimport { getPlainText, isDOMText } from '../utils/dom'\r\nimport { Key } from '../utils/key'\r\nimport { EDITOR_TO_KEY_TO_ELEMENT, EDITOR_TO_ON_CHANGE, NODE_TO_KEY } from '../utils/weak-maps'\r\nimport { ReactEditor } from './react-editor'\r\nimport { findCurrentLineRange } from '../utils/lines'\r\nimport { getCardInnerContentWhenCopy } from '@src/utils/helper/getInnerContentWhenCopy'\r\n\r\n\r\n\r\n\r\nexport const withReact = <T extends Editor>(editor: T) => {\r\n  const e = editor as T & ReactEditor\r\n  const { apply, onChange, deleteBackward } = e\r\n\r\n  \r\n  \r\n  EDITOR_TO_KEY_TO_ELEMENT.set(e, new WeakMap())\r\n\r\n  e.deleteBackward = unit => {\r\n    if (unit !== 'line') {\r\n      return deleteBackward(unit)\r\n    }\r\n\r\n    if (editor.selection && Range.isCollapsed(editor.selection)) {\r\n      const parentBlockEntry = Editor.above(editor, {\r\n        match: (n:any)  => Editor.isBlock(editor, n),\r\n        at: editor.selection,\r\n      })\r\n\r\n      if (parentBlockEntry) {\r\n        const [, parentBlockPath] = parentBlockEntry\r\n        const parentElementRange = Editor.range(\r\n          editor,\r\n          parentBlockPath,\r\n          editor.selection.anchor\r\n        )\r\n\r\n        const currentLineRange = findCurrentLineRange(e, parentElementRange)\r\n\r\n        if (!Range.isCollapsed(currentLineRange)) {\r\n          Transforms.delete(editor, { at: currentLineRange })\r\n        }\r\n      }\r\n    }\r\n  }\r\n  e.apply = (op: Operation) => {\r\n    const matches: [Path, Key][] = []\r\n\r\n    switch (op.type) {\r\n      case 'insert_text':\r\n      case 'remove_text':\r\n      case 'set_node': {\r\n        for (const [node, path] of Editor.levels(e, { at: op.path })) {\r\n          const key = ReactEditor.findKey(e, node)\r\n          matches.push([path, key])\r\n        }\r\n\r\n        break\r\n      }\r\n\r\n      case 'insert_node':\r\n      case 'remove_node':\r\n      case 'merge_node':\r\n      case 'split_node': {\r\n        for (const [node, path] of Editor.levels(e, {\r\n          at: Path.parent(op.path)\r\n        })) {\r\n          const key = ReactEditor.findKey(e, node)\r\n          matches.push([path, key])\r\n        }\r\n\r\n        break\r\n      }\r\n\r\n      case 'move_node': {\r\n        for (const [node, path] of Editor.levels(e, {\r\n          at: Path.common(Path.parent(op.path), Path.parent(op.newPath)),\r\n        })) {\r\n          const key = ReactEditor.findKey(e, node)\r\n          matches.push([path, key])\r\n        }\r\n        break\r\n      }\r\n    }\r\n\r\n    apply(op)\r\n\r\n    for (const [path, key] of matches) {\r\n      const [node] = Editor.node(e, path)\r\n      NODE_TO_KEY.set(node, key)\r\n    }\r\n  }\r\n\r\n  (e as any).isBlockCard = (element) => false\r\n\r\n  e.setFragmentData = (data: DataTransfer) => {\r\n    const { selection } = e\r\n    let isSelectionChanged = false;\r\n    let sel = JSON.parse(JSON.stringify(selection))\r\n    if (!selection) {\r\n      return\r\n    }\r\n\r\n    const [start, end] = Range.edges(selection)\r\n    const startVoid = Editor.void(e, { at: start.path })\r\n    const endVoid = Editor.void(e, { at: end.path })\r\n    const [parentNode, parentPath]: any = Editor.parent(e, start) \r\n    const [curNode, curPath]: any = Editor.node(e, start) \r\n\r\n    if (Range.isCollapsed(selection) && !startVoid) {\r\n      return\r\n    }\r\n\r\n    \r\n    \r\n    \r\n    const currentLineSelectAllRange = currentLineSelectAll(e);\r\n\r\n    let contents\r\n    let domRange\r\n    if (!endVoid && isSameLineSelection(selection) && (Range.equals(currentLineSelectAllRange, selection) || Range.equals(currentLineSelectAllRange, { anchor: selection.focus, focus: selection.anchor }))) {\r\n      const curLinePath = selection.focus.path;\r\n      isSelectionChanged = true;\r\n      const dom = ReactEditor.toDOMNode(e, Node.get(e, curLinePath.slice(0, -1)))\r\n      contents = document.createDocumentFragment().appendChild(dom.cloneNode(true))\r\n    } else {\r\n      domRange = ReactEditor.toDOMRange(e, sel)\r\n      contents = domRange.cloneContents()\r\n      const contentsArr: HTMLElement[] = Array.from(contents.childNodes);\r\n      const contentsRes = [];\r\n      console.log(\"contentsArr\", contentsArr)\r\n      if(contentsArr.some((node: any) => node.tagName === 'OL' || node.tagName === 'UL'|| node && node.querySelector && node.querySelector('IMG'))) {\r\n        \r\n        let isList = false;\r\n        \r\n        let relativeFirstIndex = -1;\r\n        let count = 0\r\n        for (let i = 0; i < contentsArr.length; i++) {\r\n          const node:any = contentsArr[i].cloneNode(true);\r\n          let tempDocFrag;\r\n          const imgSelector = node && node.querySelector && node.querySelector('IMG')\r\n          if (imgSelector) {\r\n            const img = imgSelector.cloneNode()\r\n            imgSelector.parentNode.removeChild(imgSelector)\r\n            contentsRes.push(node);\r\n            contentsRes.push(img);\r\n          } else {\r\n            contentsRes.push(node);\r\n          }\r\n          if ((node.tagName === 'OL' || node.tagName === 'UL')) { \r\n   \r\n            \r\n            if (!isList) {\r\n              relativeFirstIndex = i\r\n              \r\n              isList = true\r\n            }\r\n           \r\n            if (relativeFirstIndex !== i && isList && contentsRes[i-count-1]) { \r\n            \r\n              \r\n              \r\n              tempDocFrag = document.createDocumentFragment();\r\n              tempDocFrag.appendChild(node.childNodes[0]);\r\n              contentsRes[i-count-1].appendChild(tempDocFrag);\r\n              contentsRes.pop();\r\n              count++\r\n            }\r\n          } else {\r\n            isList = false;\r\n          }\r\n        }\r\n      }\r\n      console.log('contents0', contentsRes)\r\n      if(contentsRes.length > 0) {\r\n        const tempDocFrag = document.createDocumentFragment();\r\n        for (let j = 0; j < contentsRes.length; j++) {\r\n          tempDocFrag.appendChild(contentsRes[j]);\r\n        }\r\n        contents = tempDocFrag;\r\n      }\r\n    }\r\n    console.log('contents', contents, contents.childNodes)\r\n\r\n    let attach = contents.childNodes[0] as HTMLElement\r\n    \r\n    contents.querySelector(\".placeholder-title\") && contents.removeChild(contents.querySelector(\".placeholder-title\"))\r\n    contents.querySelector(\".placeholder-content\") && contents.removeChild(contents.querySelector(\".placeholder-content\"))\r\n    \r\n    contents.childNodes.forEach((node: any) => {\r\n      if (node.textContent && node.textContent.trim() !== '') {\r\n        attach = node as HTMLElement\r\n      }\r\n    })\r\n\r\n    \r\n    \r\n    \r\n    if (endVoid) {\r\n      const [voidNode] = endVoid\r\n      const r = domRange.cloneRange()\r\n      const domNode = ReactEditor.toDOMNode(e, voidNode)\r\n      r.setEndAfter(domNode)\r\n      contents = r.cloneContents()\r\n    }\r\n\r\n    \r\n    \r\n    \r\n    \r\n    if (startVoid) {\r\n      attach = contents.querySelector('[data-slate-spacer]')! as HTMLElement\r\n    }\r\n\r\n    \r\n    \r\n    Array.from(contents.querySelectorAll('[data-slate-zero-width]')).forEach(\r\n      (zw: any) => {\r\n        const isNewline = zw.getAttribute('data-slate-zero-width') === 'n'\r\n        zw.textContent = isNewline ? '\\n' : ''\r\n      }\r\n    )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n\r\n    \r\n    \r\n    \r\n    if (isDOMText(attach)) {\r\n      \r\n      let formats: any = [] \r\n      if (Object.keys(TEXT_TAGS_MAP).some((item: any) => curNode[item])) {\r\n        formats = Object.keys(TEXT_TAGS_MAP).filter(\r\n          (item: any) => curNode[item] && curNode[item]\r\n        )\r\n      }\r\n\r\n      const span = document.createElement('span')\r\n      \r\n      \r\n      span.style.whiteSpace = 'pre'\r\n      let root: any = span\r\n      let leaf: any = span\r\n      formats.forEach((item: any, index: any) => {\r\n        \r\n        const el = document.createElement(TEXT_TAGS_MAP[item])\r\n        if (item === 'backgroundColor') {\r\n          \r\n          el.setAttribute('data-backgroundcolor', curNode['backgroundColor'])\r\n        }\r\n        if (item === 'fontColor') {\r\n          el.setAttribute('data-fontcolor', curNode['fontColor'])\r\n        }\r\n\r\n        leaf = leaf.appendChild(el)\r\n        if (index === 0) root = leaf.parentNode\r\n      })\r\n      leaf.appendChild(attach)\r\n      contents.appendChild(root)\r\n      attach = root\r\n      \r\n      \r\n      \r\n    }\r\n\r\n    let fragment = e.getFragment();\r\n    console.log(\"[with-react]0\", fragment)\r\n    \r\n    const isSingleCard = fragment.length === 1 && (fragment[0] as any).type === ELTYPE.CARD;\r\n    if (isSingleCard) {\r\n      getCardInnerContentWhenCopy(fragment, (frag) => {fragment = frag});\r\n    }\r\n\r\n    const string = JSON.stringify(fragment)\r\n    const encoded = window.btoa(encodeURIComponent(string))\r\n    attach.setAttribute('data-slate-fragment', encoded)\r\n    data.setData('application/x-slate-fragment', encoded)\r\n    console.log(\"[with-react]\", fragment, string, encoded)\r\n    \r\n    const div = document.createElement('div')\r\n    if (\r\n      !isSelectionChanged && parentNode &&\r\n      HEADING_TYPES.includes(parentNode.type) &&\r\n      start.path[0] === end.path[0]\r\n    ) {\r\n      \r\n      const hTag = document.createElement(HEADING_MAP[parentNode.type])\r\n      hTag.style.whiteSpace = 'pre'\r\n      hTag.setAttribute('data-align', parentNode['align'])\r\n\r\n      let root: any = hTag\r\n      root.appendChild(contents)\r\n      div.appendChild(root)\r\n    } else {\r\n      div.appendChild(contents)\r\n    }\r\n    div.setAttribute('hidden', 'true')\r\n    document.body.appendChild(div)\r\n    data.setData('text/html', div.innerHTML)\r\n    data.setData('text/plain', getPlainText(div))\r\n    document.body.removeChild(div)\r\n  }\r\n\r\n  e.insertData = (data: DataTransfer) => {\r\n    const fragment = data.getData('application/x-slate-fragment')\r\n\r\n    if (fragment) {\r\n      const decoded = decodeURIComponent(window.atob(fragment))\r\n      const parsed = JSON.parse(decoded) as Node[]\r\n      e.insertFragment(parsed)\r\n      return\r\n    }\r\n\r\n    const text = data.getData('text/plain')\r\n\r\n    if (text) {\r\n      const lines = text.split(/\\r\\n|\\r|\\n/)\r\n      let split = false\r\n\r\n      for (const line of lines) {\r\n        if (split) {\r\n          Transforms.splitNodes(e, { always: true })\r\n        }\r\n\r\n        e.insertText(line)\r\n        split = true\r\n      }\r\n    }\r\n  }\r\n\r\n  e.onChange = () => {\r\n    \r\n    \r\n    \r\n    \r\n    ReactDOM.unstable_batchedUpdates(() => {\r\n      const onContextChange = EDITOR_TO_ON_CHANGE.get(e)\r\n\r\n      if (onContextChange) {\r\n        onContextChange()\r\n      }\r\n\r\n      onChange()\r\n    })\r\n  }\r\n\r\n  return e\r\n}\r\n","import { ELTYPE } from '@src/components/docs/plugins/config';\n\nexport const getCardInnerContentWhenCopy = (fragment, setFragment) => {\n  const children = (fragment[0] as any).children;\n  const cardCenter = children?.length >= 1 && (children as any[]).find(child => [ELTYPE.TABLE, ELTYPE.ALERTS].includes(child.type));\n  switch (cardCenter.type) {\n    case ELTYPE.TABLE: {\n      const isSingleTableRow = cardCenter.children?.length === 1 && cardCenter.children[0].type === ELTYPE.TABLE_ROW;\n      if (isSingleTableRow) {\n        const tableRow = cardCenter.children[0];\n        const isSingleTableCell = tableRow.children?.length === 1 && tableRow.children[0].type === ELTYPE.TABLE_CELL;\n        if (isSingleTableCell) {\n          const tableCell = tableRow.children[0];\n          if (tableCell) {\n            setFragment(tableCell.children);\n          }\n        }\n      }\n    }\n    case ELTYPE.ALERTS: {\n      const isSingleAlertDescription = cardCenter.children?.length === 1 && cardCenter.children[0].type === ELTYPE.ALERTDESCRIPTION;\n      if (isSingleAlertDescription) {\n        const alertDescription = cardCenter.children[0];\n        if (alertDescription) {\n          setFragment(alertDescription.children);\n        }\n      }\n    }\n  }\n};\n","import { Editor, Node, Path, Transforms } from '@src/components/slate-packages/slate';\nimport { ELTYPE, OL_UL_LIST_TYPES } from '../components/docs/plugins/config';\nimport { ReactEditor } from '../components/slate-packages/slate-react';\nimport { setCache } from './cacheUtils';\nimport { createUUID } from './randomId';\n\nexport interface LListProps {\n  tabLevel?: any;\n  id: string;\n  path?: any;\n  lId: string;\n  elId: string;\n  callback: Function;\n  element: any;\n  slateNode: any;\n  editor: any;\n  type?: any;\n}\n\ninterface ListenerArr {\n  lId: string;\n  lListMap: Map<string, LListProps>;\n}\nlet listenerArr: ListenerArr[] = [];\n\nlet listMap = {};\nconst getArr2d = lId => {\n  let arr2d = [];\n  let lists = document.querySelectorAll('ol[data-list-id=\"' + lId + '\"]');\n\n  lists.forEach(function (item, i) {\n    let tabLevel = parseInt(item.getAttribute('data-tab-level'), 10);\n    let num = parseInt(item.getAttribute('data-start'), 10);\n    if (!arr2d[i]) arr2d[i] = [];\n    arr2d[i][tabLevel] = num;\n  });\n  let len = arr2d.length;\n  for (let i = 0; i < len; i++) {\n    let item = arr2d[i];\n    let len2 = item.length;\n    for (let j = 0; j < len2; j++) {\n      let item2 = item[j];\n      if (i == 0) {\n        if (!item2) arr2d[i][j] = 1;\n      } else {\n        if (!item2) arr2d[i][j] = arr2d[i - 1][j];\n      }\n    }\n  }\n\n  return arr2d;\n};\n\nconst callback = editor => (targetVal: any) => {\n  setTimeout(() => {\n    if (Node.has(editor, targetVal.path)) {\n      const targetNode: any = Node.get(editor, targetVal.path);\n      if (targetNode.num === targetVal.slateNode.num) {\n        return;\n      } else {\n        setTimeout(() => {\n          Transforms.setNodes(editor, { num: targetVal.slateNode.num } as any, { at: targetVal.path });\n        }, 100);\n        return;\n      }\n      const parentDom = ReactEditor.toDOMNode(editor, targetNode);\n      if (!parentDom || !parentDom.children || !parentDom.children.length) return;\n      parentDom.children[0].setAttribute('start', targetVal.slateNode.num);\n      parentDom.children[0].setAttribute('data-start', targetVal.slateNode.num);\n      let arr2d = getArr2d(targetVal.lId);\n      let currNo = 0;\n      let currTabLevel = 0;\n      if (listMap[targetVal.lId]) {\n      } else {\n      }\n      let lists = document.querySelectorAll('ol[data-list-id=\"' + targetVal.lId + '\"]');\n\n      const curNodeEntry: any = Editor.nodes(editor, { at: [], match: (n: any) => OL_UL_LIST_TYPES.includes(n.type) });\n\n      for (let [node, path] of curNodeEntry) {\n        console.log('curNodeEntry', node, path);\n\n        if (targetVal.slateNode.elId === node.elId && targetVal.slateNode.num !== node.num) {\n          console.log('curNodeEntry', node, path);\n          Transforms.setNodes(editor, { ...targetVal.slateNode }, { at: path });\n          return;\n        }\n      }\n\n      lists.forEach(function (item, i) {\n        let tabLevel = parseInt(item.getAttribute('data-tab-level'), 10);\n\n        if (item == parentDom.children[0]) {\n          currNo = i;\n          currTabLevel = tabLevel;\n          if (!arr2d[i]) arr2d[i] = [];\n          arr2d[i][tabLevel] = targetVal.slateNode.num;\n        }\n      });\n    }\n  });\n};\n\nexport function resortListener(list: LListProps[], editor: any) {\n  listenerArr = [];\n  for (let i = 0; i < list.length; i++) {\n    const it: any = list[i];\n    if ([ELTYPE.OLLIST, ELTYPE.ULLIST].includes(it?.type)) {\n      addListener({\n        lId: it.id,\n        elId: createUUID(),\n        callback: callback(editor),\n        slateNode: it,\n        editor,\n        path: [i],\n      });\n    } else if ([ELTYPE.CARD].includes(it?.type)) {\n      if (!it || !it.children.length || (!it.children[1] && it.children[1]?.type)) {\n        continue;\n      }\n\n      if ([ELTYPE.TABLE].includes(it.children[1]?.type)) {\n        if (!it.children[1]?.children || !it.children[i]?.children?.length) continue;\n        for (let j = 0; j < it.children[1].children.length; j++) {\n          const rowIt: any = it.children[1].children[j];\n\n          if (!rowIt || !rowIt.children || !rowIt.children.length) continue;\n          for (let k = 0; k < rowIt.children.length; k++) {\n            const cellIt: any = rowIt.children[k];\n\n            for (let h = 0; h < cellIt.children.length; h++) {\n              const cellChildIt: any = cellIt.children[h];\n\n              if ([ELTYPE.OLLIST, ELTYPE.ULLIST].includes(cellChildIt?.type)) {\n                addListener({\n                  lId: cellChildIt.id,\n                  elId: createUUID(),\n                  callback: callback(editor),\n                  slateNode: cellChildIt,\n                  editor,\n                  path: [i, 1, j, k, h],\n                });\n              }\n            }\n          }\n        }\n      } else if ([ELTYPE.ALERTS].includes(it.children[1]?.type)) {\n        for (let j = 0; j < it.children[1].children.length; j++) {\n          const childIt: any = it.children[1].children[j];\n\n          if ([ELTYPE.OLLIST, ELTYPE.ULLIST].includes(childIt?.type)) {\n            console.log('-------', it, childIt);\n            addListener({\n              lId: childIt.id,\n              elId: createUUID(),\n              callback: callback(editor),\n              slateNode: childIt,\n              editor,\n              path: [i, 1, j],\n            });\n          }\n        }\n      }\n    }\n  }\n  updateListNum();\n  setCache(editor.docId, 'list-listenerArr', listenerArr);\n}\n\nexport function addListener(props: any) {\n  const { lId, elId } = props;\n\n  let map;\n\n  for (let i = 0; i < listenerArr.length; i++) {\n    const el = listenerArr[i];\n    if (el?.lId === lId) {\n      map = el?.lListMap;\n      break;\n    }\n  }\n\n  if (map) {\n    map.set(elId, props);\n  } else {\n    map = new Map();\n    map.set(elId, props);\n    listenerArr.push({\n      lId,\n      lListMap: map,\n    });\n  }\n}\n\nfunction sortListFromPath(newArr: any[]) {\n  newArr.sort((a: { path: number[] }, b: { path: number[] }) => (Path.isBefore(a.path, b.path) ? -1 : 1));\n  return newArr;\n}\n\nexport function updateListNum() {\n  for (let i = 0; i < listenerArr.length; i++) {\n    const el = listenerArr[i];\n    let map = el?.lListMap;\n    if (!map.values) {\n      return;\n    }\n\n    const zArr: any[] = [];\n\n    let utabLevel = 0;\n    let newArr: any[] = [];\n\n    for (const value of map.values()) {\n      newArr.push(value);\n    }\n\n    sortListFromPath(newArr);\n    for (let i = 0; i < newArr.length; i++) {\n      const value = newArr[i];\n\n      const tabLevel = value.slateNode.tabLevel;\n\n      let isPush = true;\n      if (tabLevel > utabLevel) {\n        isPush = false;\n      }\n\n      if (!zArr[tabLevel]) {\n        zArr[tabLevel] = [\n          {\n            isPush: true,\n            arr: [value],\n          },\n        ];\n      } else {\n        const targetObj = zArr[tabLevel][zArr[tabLevel].length - 1];\n\n        if (isPush) {\n          targetObj.arr.push(value);\n        } else {\n          zArr[tabLevel].push({\n            isPush: true,\n            arr: [value],\n          });\n        }\n      }\n      utabLevel = tabLevel;\n    }\n\n    const target: any = {};\n    for (let i = 0; i < zArr.length; i++) {\n      const targetArr = zArr[i] || [];\n\n      for (let j = 0; j < targetArr.length; j++) {\n        let lArr = targetArr[j].arr;\n        sortListFromPath(lArr);\n\n        for (let i = 0; i < lArr.length; i++) {\n          const el = lArr[i];\n          if (el !== i + 1) {\n            el.slateNode = {\n              ...el.slateNode,\n              num: i + 1,\n            };\n            el.callback(el);\n          }\n        }\n      }\n    }\n  }\n}\n","import { bodySelectAll, getCurrentLineStart } from '@src/utils/selectionUtils';\nimport { CustomTypes, Editor, Element, ExtendedType, Node, Path, Point, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { ELTYPE, LIST_TYPES, TABBABLE_TYPES } from '../config';\nimport { deleteFragmentPluginsRunner } from '../pluginsUtils/deleteFragment';\nimport { resortListener } from '@src/utils/listener';\nimport { reorderOL } from '../deserializers/handleFragmentPlugins';\nimport { getParentPathByTypes } from '../pluginsUtils/getPathUtils';\n\nexport const updateOlList = editor => {\n  if (editor.operations) {\n    const opsStr = JSON.stringify(editor.operations);\n\n    if (opsStr.indexOf(ELTYPE.OLLIST) > -1 || opsStr.indexOf(ELTYPE.ULLIST) > -1 || opsStr.indexOf('\"newProperties\":{\"tabLevel\"') > -1) {\n      resortListener(editor.children, editor);\n    }\n  }\n};\n\nexport const withOlList = (editor: any) => {\n  const { deleteBackward, setFragmentData, apply, deleteFragment, onChange } = editor;\n\n  editor.deleteFragment = () => {\n    deleteFragmentPluginsRunner(editor, deleteFragment);\n  };\n\n  editor.onChange = () => {\n    updateOlList(editor);\n    onChange();\n  };\n\n  editor.deleteBackward = (unit: any) => {\n    console.log('[withOlList] deleteBackward', unit);\n    const { path, offset } = editor.selection.anchor;\n    const tabbableParentPath = getParentPathByTypes(editor, path, TABBABLE_TYPES);\n    const prevPath = tabbableParentPath && tabbableParentPath[tabbableParentPath.length - 1] > 0 ? Path.previous(tabbableParentPath) : null;\n    if (prevPath && Range.isCollapsed(editor.selection)) {\n      const prevNode: any = Node.get(editor, prevPath);\n      const rowNode: any = Node.get(editor, tabbableParentPath);\n      const { type } = prevNode;\n      const text = Node.string(prevNode);\n      const start = getCurrentLineStart(editor);\n\n      if (LIST_TYPES.includes(type) && !LIST_TYPES.includes(rowNode.type) && Point.equals(start, editor.selection.anchor) && text.length === 0) {\n        console.log('[withOlList] deleteBackward', prevPath, prevNode);\n        Transforms.setNodes(editor, { ...prevNode });\n        Transforms.removeNodes(editor, { at: prevPath });\n        console.log('[withOlList] returned ');\n        return;\n      }\n    }\n\n    const parentNode = Node.parent(editor, path) as any;\n    if (LIST_TYPES.includes(parentNode.type)) {\n      const [cellChildrenNodeFirstNode, cellChildrenNodeFirstPath] = Node.first(editor, path.slice(0, -1));\n\n      if (Path.equals(cellChildrenNodeFirstPath, path) && offset === 0) {\n        console.log('withOlList deleteBackward', cellChildrenNodeFirstPath, cellChildrenNodeFirstNode, path);\n        if (parentNode.oldType) {\n          Transforms.setNodes(editor, { type: parentNode.oldType } as any);\n        } else {\n          Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH } as any);\n        }\n        console.log('[withOlList] returned ');\n        return;\n      }\n    }\n\n    deleteBackward(unit);\n  };\n\n  editor.setFragmentData = (data: DataTransfer) => {\n    setFragmentData(data);\n  };\n\n  editor.apply = (op: any) => {\n    try {\n      if (op?.newProperties?.anchor?.path?.[0] == 5) {\n      }\n    } catch (error) {\n      console.log('[0]', error.message);\n    }\n\n    apply(op);\n  };\n\n  return editor;\n};\n","import { Editor, Node, Path, Transforms, Range } from '@src/components/slate-packages/slate';\nimport { bodySelectAll } from '@src/utils/selectionUtils';\nimport { ELTYPE } from '../config';\n\nexport const deleteFragmentPluginsRunner = (editor: any, deleteFragment: Function) => {\n  let preventDefault = false;\n\n  preventDefault = keepStartElementProperties(editor, deleteFragment);\n  if (!preventDefault) {\n    deleteFragment();\n  }\n};\n\nfunction keepStartElementProperties(editor: any, deleteFragment: Function): boolean {\n  const { selection } = editor;\n  const [start, end] = Editor.edges(editor, selection);\n  const [startNode, startNodePath] = Editor.node(editor, [start.path[0]]);\n  if (start.path[0] !== end.path[0]) {\n    const isStart = start.offset === 0 && Path.equals(start.path, [...startNodePath, 0]);\n\n    const bodyRange = bodySelectAll(editor);\n    console.log(123, 'delete Frag', startNode, Range.equals(selection, bodyRange));\n    if (Range.equals(selection, bodyRange)) {\n      Transforms.delete(editor, { at: bodyRange });\n      Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH } as Partial<Node>, { at: [1] });\n      return;\n    } else if (isStart) {\n      deleteFragment('backward');\n      Transforms.setNodes(editor, { ...startNode } as Partial<Node>, { at: startNodePath });\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Node, Transforms } from '@src/components/slate-packages/slate';\nimport { Range } from '../../slate-packages/slate';\nimport { ELTYPE, HEADING_TYPES, LIST_TYPES } from './config';\nimport { updateOlList } from './OLULList/withOlList';\nimport { setNodesToPARAGRAPH } from './pluginsUtils/setNodesUtils';\n\nfunction getPath12FromSelection(anchor: { path: any[] }, focus: { path: any[] }) {\n  let path1, path2: any;\n  if (anchor.path.length > 4) {\n    const tmp1 = anchor.path.slice(0, -1),\n      tmp2 = focus.path.slice(0, -1);\n    if (tmp1[tmp1.length - 1] > tmp2[tmp2.length - 1]) {\n      path1 = tmp1;\n      path2 = tmp2;\n    } else {\n      path1 = tmp2;\n      path2 = tmp1;\n    }\n  } else {\n    if (anchor.path[0] > focus.path[0]) {\n      path1 = [anchor.path[0]];\n      path2 = [focus.path[0]];\n    } else {\n      path1 = [focus.path[0]];\n      path2 = [anchor.path[0]];\n    }\n  }\n\n  const count = path1[path1.length - 1] - path2[path2.length - 1];\n  return { path1, path2, count };\n}\n\nexport const toggleBlock = (editor: any, format: any, selection: any) => {\n  const isActive = isBlockActive(editor, format, selection);\n  const isList = LIST_TYPES.includes(format);\n  isActive && setNodesToPARAGRAPH(editor, [format], selection);\n  if (isList) {\n    if (editor.selection) {\n      const { anchor, focus } = editor.selection;\n\n      if (Range.isExpanded(editor.selection)) {\n        const { path1, path2, count } = getPath12FromSelection(anchor, focus);\n\n        for (let i = 0; i < count + 1; i++) {\n          const newPath = [...path2.slice(0, -1), path2[path2.length - 1] + i];\n          if (Node.has(editor, newPath)) {\n            const node: any = Node.get(editor, newPath);\n            let newOpt: any = Object.assign(\n              {},\n              {\n                type: isActive ? (node.oldType ? node.oldType : ELTYPE.PARAGRAPH) : format,\n              }\n            );\n\n            if (HEADING_TYPES.includes(node.type)) {\n              newOpt['oldType'] = node.type;\n            }\n\n            Transforms.setNodes(editor, newOpt, {\n              at: newPath,\n              match: node => Editor.isBlock(editor, node),\n            });\n            updateOlList(editor);\n          }\n        }\n        return;\n      } else {\n        const node: any = Node.get(editor, focus.path.slice(0, -1));\n        let newOpt: any = Object.assign(\n          {},\n          {\n            type: isActive ? (node.oldType ? node.oldType : ELTYPE.PARAGRAPH) : format,\n          }\n        );\n        if (HEADING_TYPES.includes(node.type)) {\n          newOpt['oldType'] = node.type;\n        }\n\n        Transforms.setNodes(editor, newOpt, {\n          at: focus.path.slice(0, -1),\n        });\n        updateOlList(editor);\n      }\n    }\n  } else {\n    !isActive &&\n      Transforms.setNodes(\n        editor,\n        {\n          type: isActive ? ELTYPE.PARAGRAPH : format,\n        } as any,\n        {\n          at: isList ? editor.selection : selection,\n        }\n      );\n    updateOlList(editor);\n  }\n};\n\nexport const isBlockActive = (editor: any, format: any, selection: any) => {\n  try {\n    const [match] = Editor.nodes(editor, {\n      at: selection,\n      match: (n: any) => n.type === format,\n    });\n    return !!match;\n  } catch (e) {\n    console.log(e);\n  }\n};\n","import { Node, Transforms } from '@src/components/slate-packages/slate';\nimport { ELTYPE } from '../config';\nexport const setNodesToPARAGRAPH = (editor: any, typeArr: any[] = [], selection?: any[]) => {\n  const { anchor, focus } = editor.selection;\n\n  if (anchor.path[0] !== focus.path[0]) {\n    let path1, path2: any;\n    if (anchor.path[0] > focus.path[0]) {\n      path1 = anchor.path[0];\n      path2 = focus.path[0];\n    } else {\n      path1 = focus.path[0];\n      path2 = anchor.path[0];\n    }\n    const count = path1 - path2;\n    const nodeArr: any[] = [];\n    for (let i = 0; i <= count; i++) {\n      const path = path2 + i;\n\n      nodeArr[i] = Node.get(editor, [path]);\n      const { type, elId, id } = nodeArr[i];\n      if (typeArr.includes(type)) {\n        Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH } as Partial<Node>, { at: [path] });\n      }\n    }\n  } else {\n    Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH } as Partial<Node>, { at: selection });\n  }\n};\n","export function hashCode(str: string) {\n  if (!str) {\n    console.error('请传入一个字符串进行哈希化，现在拿到的是：' + str);\n  }\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  return hash;\n}\n\nexport function intToRGB(i: number) {\n  let c = (i & 0x00ffffff).toString(16).toUpperCase();\n  return '00000'.substring(0, 6 - c.length) + c;\n}\n\nexport function isRGBLight(rgb: string) {\n  let matchColors = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/;\n  let match = matchColors.exec(rgb);\n  if (match !== null) {\n    let [_, r, g, b] = match;\n    const brightness = (parseInt(r) * 299 + parseInt(g) * 587 + parseInt(b) * 114) / 1000;\n    return brightness > 155;\n  } else {\n    return false;\n  }\n}\n","import styled from '@emotion/styled';\nimport { isRGBLight } from '../../../utils/hexColorUtils';\n\nexport const RoomWrapper = styled.div`\n  padding-bottom: 10px;\n  border-bottom: 2px solid #e8e8e8;\n`;\n\nexport const H4 = styled.h4`\n  margin: 0;\n  padding-right: 10px;\n`;\n\nexport const Input = styled.input`\n  padding: 6px 14px;\n  font-size: 14px;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  min-width: 240px;\n  outline: none;\n  border: 2px solid palevioletred;\n  margin-right: auto;\n`;\n\nexport const Button = styled.button`\n  padding: 6px 14px;\n  display: block;\n  outline: none;\n  background-color: transparent;\n  font-size: 14px;\n  text-align: center;\n  white-space: nowrap;\n  & + button {\n    margin-left: 10px;\n  }\n`;\n\nexport const COLOR_DEFAULT = { COLOR: '#4A535D', HOVER_BG_COLOR: '#F2F4F6' };\nexport const COLOR_ACTIVE = { COLOR: 'rgb(50, 100, 255)', BG_COLOR: 'rgba(50, 100, 255, 0.1)' };\nexport const COLOR_DISABLED = { COLOR: '#8090A2' };\n\nexport const IconButton = styled(Button)((props: any) => ({\n  cursor: props.disabled ? 'not-allowed !important' : 'pointer',\n  color: props.cellBgColor && !isRGBLight(props.cellBgColor) ? 'rgb(255, 255, 255)' : props.active ? COLOR_ACTIVE.COLOR : COLOR_DEFAULT.COLOR,\n  backgroundColor: props.thiscolor ? props.thiscolor : props.active ? COLOR_ACTIVE.BG_COLOR : 'transparent',\n  border: 'none',\n  padding: 0,\n  '&::after': {\n    content: '\"\"',\n    width: '20px',\n    height: props.cellBgColor ? '20px' : '2.5px',\n    zIndex: props.cellBgColor ? -1 : null,\n    borderRadius: '2px',\n    background: props.cellBgColor ? props.cellBgColor : props.backgroundColor ? props.backgroundColor : props.fontColor ? props.fontColor : null,\n    display: props.fontColor || props.backgroundColor || props.cellBgColor ? null : 'none',\n    position: 'absolute',\n    transform: props.cellBgColor ? 'translate(0)' : 'translateY(9px)',\n  },\n}));\n\nexport const IconBtn = styled.div``;\n\nexport const Grid = styled.div`\n  display: grid;\n  grid-gap: 0.5vw;\n  grid-template-columns: 1fr 1fr;\n  @media (max-width: 767px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nexport const Title = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  @media (max-width: 767px) {\n    flex-wrap: wrap;\n  }\n`;\n\nexport const Instance = styled.div<{ online: boolean }>`\n  background: ${props => (props.online ? 'rgba(128, 128, 128, 0.1)' : 'rgba(247, 0, 0, 0.2)')};\n  padding: 20px 20px 30px;\n`;\nexport const H1 = styled.h1`\n  font-size: 26px;\n`;\n\nexport const H2 = styled.h2`\n  font-size: 22px;\n`;\nexport const H3 = styled.h3`\n  font-size: 20px;\n`;\n\nexport const HFour = styled.h4`\n  font-size: 18px;\n`;\nexport const H5 = styled.h5`\n  font-size: 16px;\n`;\n\nexport const H6 = styled.h6`\n  font-size: 16px;\n`;\n\nexport const Italic = styled.em`\n  font-style: italic;\n`;\n\nexport const Ul = styled.ul`\n  margin-left: 10px;\n  padding-left: 10px;\n`;\n\nexport const Ol = styled.ol`\n  margin-left: 10px;\n  padding-left: 10px;\n`;\n\nexport const Blockquote = styled.blockquote`\n  border-left: 2px solid #ddd;\n  margin-left: 0;\n  margin-right: 0;\n  padding-left: 10px;\n  color: #aaa;\n`;\n\nexport const ClientFrame = styled.div`\n  position: relative !important;\n  align-self: start !important;\n  grid-column: 2 !important;\n  grid-row: 1 !important;\n  max-width: 936px;\n  width: 100%;\n  background-color: #fff;\n  padding: 10px;\n  min-height: 100%;\n`;\n\nexport const TitleInput = styled.input`\n  margin-left: 32px;\n  border: none;\n  font-size: 32px;\n  font-weight: bold;\n  outline: none;\n`;\n\nexport const TodoListContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  & + & {\n    margin-top: 0;\n  }\n  .checkbox-span {\n    margin-right: 0.75em;\n    width: 20px;\n    height: 20px;\n  }\n`;\n\nexport const TodoListText = styled.span`\n  flex: 1;\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const HoverMenu = styled.div`\n  & > * + * {\n    margin-left: 15px;\n  }\n  & > button {\n    width: 24px;\n    height: 24px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border-radius: 4px;\n\n    &:hover {\n      background-color: ${COLOR_DEFAULT.HOVER_BG_COLOR};\n    }\n    & > [class^='Tripdocs-'],\n    [class*=' Tripdocs-'] {\n      font-size: 18px;\n    }\n  }\n  display: flex;\n  padding: 6px;\n  position: absolute;\n  z-index: 1;\n  top: -10000px;\n  left: -10000px;\n  margin-top: -6px;\n  opacity: 0;\n  background-color: white;\n  border-radius: 4px;\n  box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #dee0e3;\n`;\n\nexport const PlaceHolder = styled.div<{ size: any; header: boolean }>`\n  color: #eeeeee;\n  -moz-user-select: -moz-none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  font-size: ${props => props.size};\n  font-weight: ${props => (props.header ? 'bold' : 'normal')};\n`;\n\nexport const SiderMemuPlus = styled.div`\n  color: rgba(0, 0, 0, 0.55);\n  width: 24px;\n  height: 24px;\n\n  font-size: 20px;\n  cursor: grab;\n  span {\n    cursor: grab !important;\n  }\n  &:hover span {\n    color: #3370ff;\n  }\n`;\nexport const SiderMemuDelete = styled.div`\n  color: rgba(0, 0, 0, 0.55);\n  &:hover div {\n    color: rgb(245, 74, 69);\n    cursor: pointer;\n  }\n`;\n","import { Editor, Element as SlateElement, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\n\nexport const alignToggle = (editor: any, format: any, selection: any) => {\n  try {\n    Transforms.unsetNodes(editor, 'align', { at: selection });\n    console.log('[at]selection', selection);\n\n    const selectedCells = SEL_CELLS.get(editor);\n    if (selectedCells && selectedCells.length > 0) {\n      alignCells(selectedCells, function (at) {\n        console.log('[at]', at, format);\n        Transforms.setNodes(\n          editor,\n          {\n            align: format,\n          } as Partial<SlateElement>,\n          {\n            at: at,\n          }\n        );\n      });\n    } else {\n      Transforms.setNodes(\n        editor,\n        {\n          align: format,\n        } as Partial<SlateElement>,\n        {\n          at: selection,\n        }\n      );\n    }\n  } catch (e) {}\n};\n\nexport const isAlignActive = (editor: any, format: any, selection: any) => {\n  try {\n    let fo = format.split('-')[1];\n\n    if (!selection && ReactEditor.hasRange(editor, selection) && fo === 'left') {\n      return true;\n    }\n\n    const [match] = Editor.nodes(editor, {\n      match: (n: any) => {\n        if (TABBABLE_TYPES.includes(n.type)) {\n          return n.align ? n.align === fo : fo === 'left';\n        }\n        return false;\n      },\n      at: selection,\n    });\n\n    return !!match;\n  } catch (e) {\n    console.log('isAlignActive e:', e);\n  }\n};\n\nconst alignCells = (selectedCells, fn) => {\n  console.log('[at] getSelectionCells', selectedCells);\n\n  console.log('[at] selectNodes', selectedCells);\n  if (selectedCells && selectedCells.length > 0) {\n    for (let [node, path] of selectedCells) {\n      console.log('[at]path', path);\n\n      fn({\n        anchor: {\n          offset: 0,\n          path: path,\n        },\n        focus: {\n          offset: 0,\n          path: path,\n        },\n      });\n    }\n  }\n};\n\nexport const setVerticalAlign = (editor: any, valign: 'top' | 'middle' | 'bottom', selection: any) => {\n  try {\n    const selectedCells = SEL_CELLS.get(editor);\n    if (selectedCells && selectedCells.length > 0) {\n      for (let [node, path] of selectedCells) {\n        Transforms.setNodes(editor, { verticalAlign: valign } as Partial<SlateElement>, { at: path });\n      }\n      return;\n    }\n    const sel = selection;\n\n    const selectNodes = Editor.nodes(editor, {\n      at: [],\n      match: (n: any) => {\n        return n.type === ELTYPE.TABLE_CELL && !!n.selectedCell;\n      },\n    });\n    let cellsPath: any = [];\n    for (const [, path] of selectNodes) {\n      cellsPath.push(path);\n    }\n\n    let start: any;\n    let end: any;\n    let thisSelection: any;\n\n    if (cellsPath.length !== 0) {\n      let row = 0;\n      let x = 0,\n        xmin = 9999999;\n      let y = 0,\n        ymin = 9999999;\n      for (const path of cellsPath) {\n        row = path[0];\n        if (path[1] > x) {\n          x = path[1];\n        }\n        if (path[2] > y) {\n          y = path[2];\n        }\n        if (path[1] < xmin) {\n          xmin = path[1];\n        }\n        if (path[2] < ymin) {\n          ymin = path[2];\n        }\n      }\n      start = { path: [row, xmin, ymin, 0, 0], offset: 0 };\n      end = { path: [row, x, y, 0, 0], offset: 0 };\n      thisSelection = { anchor: start, focus: end };\n    } else {\n      if (sel && sel.anchor && sel.focus) {\n        thisSelection = sel;\n      } else {\n        return;\n      }\n    }\n\n    const cells = Editor.nodes(editor, {\n      at: thisSelection,\n      match: (n: any) =>\n        !Editor.isEditor(n) &&\n        SlateElement.isElement(n) &&\n        (n as any).type === ELTYPE.TABLE_CELL &&\n        ((n as any).colspan !== null || (n as any).rowspan !== null),\n    });\n    for (let [node, path] of cells) {\n      Transforms.setNodes(editor, { verticalAlign: valign } as Partial<SlateElement>, { at: path });\n    }\n  } catch (e) {}\n};\n\nexport const isVerticalAlignActive = (editor: any, valign: 'top' | 'middle' | 'bottom', selection: any) => {\n  try {\n    const selectedCells = SEL_CELLS.get(editor);\n    if (selectedCells && selectedCells.length > 0) {\n      if (valign === 'top') {\n        const [match] = Editor.nodes(editor, {\n          at: selectedCells[0][1],\n          match: (n: any) => {\n            if (n.verticalAlign === valign) {\n              return n.verticalAlign === valign;\n            }\n            return !Editor.isEditor(n) && SlateElement.isElement(n) && !(n as any).verticalAlign && ELTYPE.TABLE_CELL === ((n as any).type as string);\n          },\n        });\n        return !!match;\n      }\n\n      const [match] = Editor.nodes(editor, {\n        at: selectedCells[0][1],\n        match: (n: any) => n.verticalAlign === valign,\n      });\n      return !!match;\n    }\n    if (valign === 'top') {\n      const [match] = Editor.nodes(editor, {\n        at: selection,\n        match: (n: any) => {\n          if (n.verticalAlign === valign) {\n            return n.verticalAlign === valign;\n          }\n          return !Editor.isEditor(n) && SlateElement.isElement(n) && !(n as any).verticalAlign && ELTYPE.TABLE_CELL === ((n as any).type as string);\n        },\n      });\n      return !!match;\n    }\n    const [match] = Editor.nodes(editor, {\n      match: (n: any) => n.verticalAlign === valign,\n    });\n    return !!match;\n  } catch (e) {}\n};\n","import { Editor, Transforms, Text } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { ELTYPE } from '../config';\n\nconst COLOR_STYLE = ['fontColor', 'backgroundColor'];\n\nexport type ColorFormat = 'fontColor' | 'backgroundColor' | 'cellBackgroundColor';\n\nexport const colorArray = [\n  ...Array.from([0, 67, 102, 153, 183, 204, 217, 239, 243, 255]).map(value => `rgb(${value}, ${value}, ${value})`),\n  ...[\n    [152, 0, 0],\n    [255, 0, 0],\n    [255, 153, 0],\n    [255, 255, 0],\n    [0, 255, 0],\n    [0, 255, 255],\n    [74, 134, 232],\n    [0, 0, 255],\n    [153, 0, 255],\n    [255, 0, 255],\n    [230, 184, 175],\n    [244, 204, 204],\n    [252, 229, 205],\n    [255, 242, 204],\n    [217, 234, 211],\n    [208, 224, 227],\n    [201, 218, 248],\n    [207, 226, 243],\n    [217, 210, 233],\n    [234, 209, 220],\n    [221, 126, 107],\n    [234, 153, 153],\n    [249, 203, 156],\n    [255, 229, 153],\n    [182, 215, 168],\n    [162, 196, 201],\n    [164, 194, 244],\n    [159, 197, 232],\n    [180, 167, 214],\n    [213, 166, 189],\n    [204, 65, 37],\n    [224, 102, 102],\n    [246, 178, 107],\n    [255, 217, 102],\n    [147, 196, 125],\n    [118, 165, 175],\n    [109, 158, 235],\n    [111, 168, 220],\n    [142, 124, 195],\n    [194, 123, 160],\n    [166, 28, 0],\n    [204, 0, 0],\n    [230, 145, 56],\n    [241, 194, 50],\n    [106, 168, 79],\n    [69, 129, 142],\n    [60, 120, 216],\n    [61, 133, 198],\n    [103, 78, 167],\n    [166, 77, 121],\n    [133, 32, 12],\n    [153, 0, 0],\n    [180, 95, 6],\n    [191, 144, 0],\n    [56, 118, 29],\n    [19, 79, 92],\n    [17, 85, 204],\n    [11, 83, 148],\n    [53, 28, 117],\n    [116, 27, 71],\n    [91, 15, 0],\n    [102, 0, 0],\n    [120, 63, 4],\n    [127, 96, 0],\n    [39, 78, 19],\n    [12, 52, 61],\n    [28, 69, 135],\n    [7, 55, 99],\n    [32, 18, 77],\n    [76, 17, 48],\n  ].map(value => `rgb(${value[0]}, ${value[1]}, ${value[2]})`),\n];\n\nconst colorNames = [\n  '黑色',\n  '深灰色 4',\n  '深灰色 3',\n  '深灰色 2',\n  '深灰色 1',\n  '灰色',\n  '浅灰色 1',\n  '浅灰色 2',\n  '浅灰色 3',\n  '白色',\n  '浆果红',\n  '红色',\n  '橙色',\n  '黄色',\n  '绿色',\n  '青色',\n  '矢车菊蓝',\n  '蓝色',\n  '紫色',\n  '洋红色',\n  '浅浆果红色 3',\n  '浅红色 3',\n  '浅橙色 3',\n  '浅黄色 3',\n  '浅绿色 3',\n  '浅青色 3',\n  '浅矢车菊蓝色 3',\n  '浅蓝色 3',\n  '浅紫色 3',\n  '浅洋红色 3',\n  '浅浆果红色 2',\n  '浅红色 2',\n  '浅橙色 2',\n  '浅黄色 2',\n  '浅绿色 2',\n  '浅青色 2',\n  '浅矢车菊蓝色 2',\n  '浅蓝色 2',\n  '浅紫色 2',\n  '浅洋红色 2',\n  '浅浆果红色 1',\n  '浅红色 1',\n  '浅橙色 1',\n  '浅黄色 1',\n  '浅绿色 1',\n  '浅青色 1',\n  '浅矢车菊蓝色 1',\n  '浅蓝色 1',\n  '浅紫色 1',\n  '浅洋红色 1',\n  '深浆果红色 1',\n  '深红色 1',\n  '深橙色 1',\n  '深黄色 1',\n  '深绿色 1',\n  '深青色 1',\n  '深矢车菊蓝色 1',\n  '深蓝色 1',\n  '深紫色 1',\n  '深洋红色 1',\n  '深浆果红色 2',\n  '深红色 2',\n  '深橙色 2',\n  '深黄色 2',\n  '深绿色 2',\n  '深青色 2',\n  '深矢车菊蓝色 2',\n  '深蓝色 2',\n  '深紫色 2',\n  '深洋红色 2',\n  '深浆果红色 3',\n  '深红色 3',\n  '深橙色 3',\n  '深黄色 3',\n  '深绿色 3',\n  '深青色 3',\n  '深矢车菊蓝色 3',\n  '深蓝色 3',\n  '深紫色 3',\n  '深洋红色 3',\n];\n\nlet map = {};\n\ncolorArray.forEach((str, index) => {\n  map = { ...map, [str]: colorNames[index] };\n});\n\nexport const colorNamesMap = map;\n\nexport const colorChoice = (editor: ReactEditor, format: any, color: any) => {\n  const selCells = SEL_CELLS.get(editor);\n\n  if (COLOR_STYLE.includes(format)) {\n    if (selCells && selCells.length > 0) {\n      selCells.forEach(entry => {\n        const [, path] = entry;\n        console.log('[colorChoice] toggleMark', format, entry);\n        if ((format === 'backgroundColor' && color === 'rgb(255, 255, 255)') || (format === 'fontColor' && color === 'rgb(0, 0, 0)')) {\n          Transforms.setNodes(editor, { [format]: null }, { at: path, match: Text.isText, split: true });\n        } else {\n          Transforms.setNodes(editor, { [format]: color }, { at: path, match: Text.isText, split: true });\n        }\n      });\n    } else {\n      if ((format === 'backgroundColor' && color === 'rgb(255, 255, 255)') || (format === 'fontColor' && color === 'rgb(0, 0, 0)')) {\n        Editor.removeMark(editor, format);\n      } else {\n        Editor.addMark(editor, format, color);\n        console.log(Editor.fragment(editor, editor.selection));\n      }\n    }\n  } else if (format === 'cellBackgroundColor' && editor.selection) {\n    if (selCells?.length > 0) {\n      for (let cell of selCells) {\n        Transforms.setNodes(editor, { cellBackgroundColor: color } as any, { at: cell[1] });\n      }\n    } else {\n      editor.selection &&\n        ReactEditor.hasRange(editor, editor.selection) &&\n        editor.selection.focus.path.length === 6 &&\n        Transforms.setNodes(editor, { cellBackgroundColor: color } as any, { at: editor.selection.focus.path.slice(0, 4) });\n    }\n\n    console.log(editor.selection, format, editor.children);\n  }\n};\n","import { Editor, Node, Range } from '@src/components/slate-packages/slate';\nimport { Editable, ReactEditor } from '@src/components/slate-packages/slate-react';\n\nconst FONT_STYLE = ['fontSizeLarger', 'fontSizeSmaller'];\n\nexport const fontSize = (editor: ReactEditor, format: any) => {\n  if (\n    editor &&\n    editor.selection &&\n    ReactEditor.hasRange(editor, editor.selection) &&\n    Node.has(editor, editor.selection.anchor.path) &&\n    FONT_STYLE.includes(format)\n  ) {\n    const marks: any = Editor.marks(editor);\n    if (marks.fontSizeChange) {\n      if (format === 'fontSizeLarger') {\n        Editor.removeMark(editor, 'fontSizeChange');\n        Editor.addMark(editor, 'fontSizeChange', marks.fontSizeChange + 4);\n      } else {\n        Editor.removeMark(editor, 'fontSizeChange');\n        Editor.addMark(editor, 'fontSizeChange', marks.fontSizeChange - 4);\n      }\n    } else {\n      if (format === 'fontSizeLarger') {\n        Editor.addMark(editor, 'fontSizeChange', 4);\n      } else {\n        Editor.addMark(editor, 'fontSizeChange', -4);\n      }\n    }\n\n    return;\n  }\n};\n\nexport const fontSizeByNum = (editor: ReactEditor, num: any) => {\n  if (editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && Node.has(editor, editor.selection.anchor.path) && num >= 12) {\n    const marks: any = Editor.marks(editor);\n    if (marks.fontSizeChange) {\n      Editor.removeMark(editor, 'fontSizeChange');\n      Editor.addMark(editor, 'fontSizeChange', num - 14);\n    } else {\n      Editor.addMark(editor, 'fontSizeChange', num - 14);\n    }\n    return;\n  }\n};\n\nexport const fontLetterByNum = (editor: ReactEditor, num: any) => {\n  if (editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && Node.has(editor, editor.selection.anchor.path)) {\n    const marks: any = Editor.marks(editor);\n    if (marks.fontLetter) {\n      Editor.removeMark(editor, 'fontLetter');\n      Editor.addMark(editor, 'fontLetter', num);\n    } else {\n      Editor.addMark(editor, 'fontLetter', num);\n    }\n    return;\n  }\n};\n","export const getAllMatchedFormatNames = (node: any, formats: any[]) => {\n  const names = Object.getOwnPropertyNames(node);\n  let formatArr: any[] = [];\n  names.forEach(name => {\n    formats.includes(name) && formatArr.push({ [name]: node[name] });\n  });\n  return formatArr;\n};\n","import { Editor, Node, Range } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { ELTYPE } from '../config';\nimport { ColorFormat } from './color';\n\nconst FONT_STYLE = ['fontSizeXLarge', 'fontSizeLarge', 'fontSizeNormal', 'fontSizeSmall'];\n\nexport const toggleMark = (editor: Editor, format: any) => {\n  const isActive = isMarkActive(editor, format);\n\n  if (isActive) {\n    Editor.removeMark(editor, format);\n  } else {\n    Editor.addMark(editor, format, true);\n  }\n};\n\nexport const isMarkActive = (editor: ReactEditor, format: any) => {\n  try {\n    if (\n      editor &&\n      editor.selection &&\n      ReactEditor.hasRange(editor, editor.selection) &&\n      Node.has(editor, editor.selection.anchor.path) &&\n      Node.has(editor, editor.selection.focus.path)\n    ) {\n      let marks = Editor.marks(editor);\n      return marks ? marks[format] === true : false;\n    } else {\n      return false;\n    }\n  } catch (e) {}\n};\n\nexport const getColorMark = (editor: ReactEditor, colorFormat: ColorFormat) => {\n  try {\n    if (colorFormat === 'cellBackgroundColor') {\n      const selCells = SEL_CELLS.get(editor);\n      if (selCells && selCells.length > 0) {\n        const firstCell = selCells[0];\n        const [, path] = firstCell;\n        const cell = Node.get(editor, path);\n\n        return cell[colorFormat];\n      }\n    }\n    if (editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && Node.has(editor, editor.selection.anchor.path)) {\n      const marks = Editor.marks(editor);\n      return marks ? marks[colorFormat] : null;\n    } else {\n      return null;\n    }\n  } catch (e) {\n    console.log(e);\n  }\n};\n","export function addApiListener(fn: Function, docId: string | number, key?: string) {\n  const api = window?.tripdocs?.editorsMap && window.tripdocs.editorsMap[docId].api;\n\n  if (api) {\n    if (key) {\n      api[key] = fn;\n      return;\n    }\n    api[getFunctionName(fn)] = fn;\n  } else {\n    console.error('tripdocs init error, addApiListener  error , listener name:', fn.name);\n  }\n}\n\nfunction getFunctionName(fn: Function) {\n  return fn.name;\n}\n\nexport function applyOpt(key: string, opt: any, docId: string | number, others?: any) {\n  const api = window?.tripdocs?.editorsMap && window.tripdocs.editorsMap[docId]?.api;\n  try {\n    if (api && key && api[key]) {\n      return api[key](opt, others);\n    }\n  } catch (error) {\n    console.log('failed:', error);\n  }\n}\nexport const actionKey = {\n  mentionCallback: 'mentionCallback',\n  roomUsersCallback: 'roomUsersCallback',\n  docStatusCallback: 'docStatusCallback',\n  commentCallback: 'commentCallback',\n  shareCallback: 'shareCallback',\n  initCallback: 'initCallback',\n  onSlateChange: 'onSlateChange',\n  setContent: 'setContent',\n  getContent: 'getContent',\n  getTitle: 'getTitle',\n  getDocHistoryCallback: 'getDocHistoryCallback',\n  getDocBlobByVersionCallback: 'getDocBlobByVersionCallback',\n  restoreDocCallback: 'restoreDocCallback',\n  mdRefreshDocCallback: 'mdRefreshDocCallback',\n};\ninterface mentionCallbackData {\n  type: string;\n  [key: string]: any;\n}\n","import { f } from '@src/resource/string';\nimport { ELTYPE } from '../config';\nimport { CommentType } from './commentOps';\nimport { Path, Range } from '@src/components/slate-packages/slate';\n\nexport const timeFormat = function (dt = new Date(), fmt = 'yyyy-MM-dd hh:mm:ss:S') {\n  let date;\n  if (dt) {\n    date = dt;\n  } else {\n    let timezone = 8;\n    let offset_GMT = new Date().getTimezoneOffset();\n    let nowDate = new Date().getTime();\n    date = new Date(nowDate + offset_GMT * 60 * 1000 + timezone * 60 * 60 * 1000);\n  }\n\n  let o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds(),\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds(),\n  };\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n  Object.keys(o).forEach(k => {\n    if (new RegExp('(' + k + ')').test(fmt))\n      fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] + '' : ('00' + o[k]).substr(('' + o[k]).length));\n  });\n  return fmt;\n};\n\nexport const commentTypeMapToString = (commentType: CommentType) => {\n  const typeMap = {\n    [ELTYPE.INLINEIMAGE]: f('image'),\n    [ELTYPE.CODE_BLOCK]: f('codeBlock'),\n    [ELTYPE.FILE]: f('localFile'),\n    [ELTYPE.VIDEO]: f('video'),\n    [ELTYPE.TABLE]: f('table'),\n  };\n  return `[${typeMap[commentType] || commentType}]`;\n};\n\nexport const rangesMap = comments => {\n  let obj = {};\n  comments.forEach(item => {\n    item.rangeIdList &&\n      item.rangeIdList.forEach(rangeId => {\n        const jsonRangeId = JSON.parse(rangeId);\n        const { selection, refContent, commentType } = jsonRangeId;\n\n        if (Range.isCollapsed(selection) && Path.equals(selection.focus.path, [0, 0]) && selection.focus.offset === 0) {\n          return;\n        }\n        if (!obj[rangeId]) {\n          obj[rangeId] = {\n            text: !!commentType ? refContent : item.text,\n            commentContent: item.commentContent,\n          };\n        } else {\n          obj[rangeId].commentContent = [...obj[rangeId].commentContent, ...item.commentContent];\n        }\n      });\n  });\n\n  return obj;\n};\n","import { Editor, Point, Text, Node } from '../../../../components/slate-packages/slate';\nimport { actionKey, applyOpt } from '../../../../utils/apiListener';\nimport { bodySelectAll } from '../../../../utils/selectionUtils';\nimport { CommentCallbackActionType, ELTYPE, TABBABLE_TYPES } from '../config';\nimport { v4 as uuid } from 'uuid';\nimport { getParentPathByTypes } from '../pluginsUtils/getPathUtils';\nimport { commentTypeMapToString } from './utils';\n\nexport type CommentType = null | ELTYPE.INLINEIMAGE | ELTYPE.CODE_BLOCK | ELTYPE.FILE | ELTYPE.TABLE | ELTYPE.VIDEO;\n\nfunction getPointStrOffset(editor: Editor, point: Point) {\n  console.log('getPointStrOffset', point);\n  const nodes = Node.fragment(editor, {\n    anchor: { path: Node.first(editor, point.path)[1], offset: 0 },\n    focus: point,\n  });\n  const str = Node.string({\n    type: '',\n    children: nodes,\n  } as any);\n  console.log('insertCommentStyle str', str);\n  return str.length;\n}\n\nexport const insertCommentStyle = (\n  editor: any,\n  selection: any,\n  setCurRangeId: any,\n  editorId: string,\n  setIdenticalSelectionRangeId?: any,\n  setWIPCommentRangeId?: any,\n  title?: string,\n  commentType?: CommentType\n) => {\n  if (!selection) {\n    console.error('insertCommentStyle slection error 1', selection);\n    return;\n  }\n  const { focus, anchor } = selection;\n  if (!(focus && anchor)) {\n    console.error('insertCommentStyle slection error 2', selection);\n    return;\n  }\n  const [start, end] = Point.isAfter(focus, anchor) ? [anchor, focus] : [focus, anchor];\n  const anchorOffset = getPointStrOffset(editor, start);\n  const focusOffset = getPointStrOffset(editor, end);\n  const tabbableParentPath = getParentPathByTypes(editor, start.path, TABBABLE_TYPES);\n  console.log('insertCommentStyle0', tabbableParentPath);\n  if (!tabbableParentPath) {\n    return;\n  }\n  const tabbableParentNode: any = Node.get(editor, tabbableParentPath);\n  const rangeId = JSON.stringify({\n    selection: { anchor: start, focus: end },\n    anchorOffset: anchorOffset,\n    focusOffset: focusOffset,\n    refContent: !title && commentType ? commentTypeMapToString(commentType) : title,\n    anchorId: tabbableParentNode.anchorId,\n    commentType: commentType,\n  });\n  const commentId = uuid();\n  const thisEditor = window.tripdocs.editorsMap[editorId.split('-')[1]];\n  thisEditor.cache.commentId = commentId;\n  const timezone = 8;\n  const offset_GMT = new Date().getTimezoneOffset();\n  const nowDate = new Date().getTime();\n  const date = new Date(nowDate + offset_GMT * 60 * 1000 + timezone * 60 * 60 * 1000);\n  thisEditor.api.setCommentData([\n    ...thisEditor.commentData,\n    {\n      userName: thisEditor?.userInfo?.userName,\n      commentId: commentId,\n      rangeId: rangeId,\n      time: date.getTime(),\n      mentionedMemberList: [],\n      replyTarget: null,\n    },\n  ]);\n  console.log('insertCommentStyle setCommentData', [\n    ...thisEditor.commentData,\n    {\n      userName: thisEditor?.userInfo?.userName,\n      commentId: commentId,\n      rangeId: rangeId,\n      time: date.getTime(),\n      mentionedMemberList: [],\n      replyTarget: null,\n    },\n  ]);\n  setCurRangeId(rangeId);\n  setWIPCommentRangeId(rangeId);\n};\n\nexport const getNodesByRangeId = (editor: any, rangeId: string) => {\n  const allDocumentRange = bodySelectAll(editor);\n  const nodes = Editor.nodes(editor, {\n    at: allDocumentRange,\n    match: (n: any) => Text.isText(n) && (n as any).rangeIdList && ((n as any).rangeIdList as any).includes(rangeId),\n  });\n  const nodesEntryArr = [];\n  for (const [node, path] of nodes) {\n    const tabbableParentPath = getParentPathByTypes(editor, path, TABBABLE_TYPES);\n    if (!tabbableParentPath) {\n      return;\n    }\n    const tabbableParentNode: any = Node.get(editor, tabbableParentPath);\n    const anchorId = tabbableParentNode?.anchorId;\n    const newN: any = { node, path, anchorId };\n    nodesEntryArr.push(newN);\n  }\n  console.log('[getNodesByRangeId]', nodesEntryArr);\n  return nodesEntryArr;\n};\n\nexport const applyCommentCallback = (editor, action: CommentCallbackActionType, content, docId) => {\n  const commentArr = window.tripdocs.editorsMap[docId].commentData;\n\n  applyOpt(actionKey.commentCallback, { action, content, commentArr }, docId);\n};\n","export function getItemFromArrByKeyValue(array, key, value) {\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    if (item && item[key].toString() === value.toString()) {\n      return item;\n    }\n  }\n  return;\n}\n\nexport function getArrayFromArrByKeyValue(array, key, val) {\n  const newArr = [];\n  for (let i = 0; i < array.length; i++) {\n    const item = array[i];\n    if (item && Array.isArray(key)) {\n      let value = item;\n      let isGo = true;\n      for (let i = 0; i < key.length; i++) {\n        const cKey = key[i];\n        if (value && value[cKey]) {\n          value = value[cKey];\n        } else {\n          isGo = false;\n          break;\n        }\n      }\n      if (isGo && val && value.toString() === val.toString()) {\n        newArr.push(item);\n      }\n    } else if (item && val && item[key].toString() === val.toString()) {\n      newArr.push(item);\n    }\n  }\n  return newArr;\n}\n\nexport function getArrFromArrByKey(array, key) {\n  return array.map(it => {\n    if (typeof it === 'string') {\n      return it;\n    }\n    return it[key];\n  });\n}\nexport function getStrArrFromArrByKey(array, key) {\n  return array.map(it => {\n    return it[key].toString();\n  });\n}\n\nexport function transformObjStrTimeToNumAndCallback(obj: any, callback) {\n  if (obj?.time && typeof obj.time === 'string') {\n    const time = new Date(obj.time).getTime();\n    if (!isNaN(time)) {\n      obj = {\n        ...obj,\n        time,\n      };\n    } else {\n      console.error('data transform err:\\n', { obj });\n    }\n  }\n  callback(obj);\n}\n","import { transformObjStrTimeToNumAndCallback } from '@src/utils/faster';\nimport { Editor, Text, Transforms } from '../../../../components/slate-packages/slate';\nimport { bodySelectAll } from '../../../../utils/selectionUtils';\nimport { CommentCallbackActionType } from '../config';\nimport { applyCommentCallback } from './commentOps';\n\nexport const deleteCommentByRangeId = (editor: any, rangeId: string, nodesEntryArr: any, docId: any) => {\n  let newContent;\n  const list = window.tripdocs.editorsMap[docId].commentData.filter(item => {\n    const isTargetComment = window.tripdocs.editorsMap[docId].cache.commentId === item.commentId;\n    if (isTargetComment) {\n      window.tripdocs.editorsMap[docId].cache.commentId = '';\n      newContent = item;\n    }\n    return !isTargetComment;\n  });\n  window.tripdocs.editorsMap[docId].api.setCommentData(list);\n  transformObjStrTimeToNumAndCallback(newContent, content => {\n    applyCommentCallback(editor, CommentCallbackActionType.DELETE, content, docId);\n  });\n};\n\nexport const deleteCommentByCommentId = (editor: any, commentId: string, docId: any, isReplyingComment: boolean) => {\n  let newContent;\n  const list = window.tripdocs.editorsMap[docId].commentData.filter(item => {\n    const isTargetComment = commentId === item.commentId;\n    if (isTargetComment) {\n      newContent = item;\n    }\n    return !isTargetComment;\n  });\n  console.log('list', list);\n  window.tripdocs.editorsMap[docId].api.setCommentData(list);\n\n  if (!isReplyingComment) {\n    transformObjStrTimeToNumAndCallback(newContent, content => {\n      applyCommentCallback(editor, CommentCallbackActionType.DELETE, content, docId);\n    });\n  }\n};\n","import { Editor, Text, Transforms } from '@src/components/slate-packages/slate';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { transformObjStrTimeToNumAndCallback } from '@src/utils/faster';\nimport { actionKey, applyOpt } from '../../../../utils/apiListener';\nimport { bodySelectAll } from '../../../../utils/selectionUtils';\nimport { CommentCallbackActionType, getGlobalCommentRangeId } from '../config';\nimport { applyCommentCallback } from './commentOps';\n\nexport interface CommentContentProps {\n  userName: string;\n  content: string;\n  commentId: string;\n  rangeId: string;\n  time: string;\n  mentionedMemberList: any;\n  replyTarget?: any;\n}\n\nexport function insertSideComment(\n  editor: Editor,\n  docId: string | number,\n  content: CommentContentProps,\n  isReplyingComment: boolean,\n  replyTarget?: {\n    commentId: string;\n    content: CommentContentProps;\n    replyTarget?: CommentContentProps;\n  }\n) {\n  console.log('insertSideComment', editor, docId, content, isReplyingComment, replyTarget);\n  if (replyTarget && replyTarget.replyTarget) {\n    delete replyTarget.replyTarget;\n  }\n  const userInfo = getCache(docId, 'options').userInfo;\n  const creator = {\n    headPortrait: userInfo.headPortrait,\n  };\n  let newContent = content;\n  if (isReplyingComment) {\n    const list = window.tripdocs.editorsMap[docId].commentData;\n\n    const timezone = 8;\n    const offset_GMT = new Date().getTimezoneOffset();\n    const nowDate = new Date().getTime();\n    const date = new Date(nowDate + offset_GMT * 60 * 1000 + timezone * 60 * 60 * 1000);\n\n    const newData = [...list, { ...content, replyTarget, replyTo: replyTarget?.commentId, time: date.getTime(), creator }];\n    window.tripdocs.editorsMap[docId].api.setCommentData(newData);\n  } else if (newContent.rangeId === getGlobalCommentRangeId()) {\n    const list = window.tripdocs.editorsMap[docId].commentData;\n\n    const timezone = 8;\n    const offset_GMT = new Date().getTimezoneOffset();\n    const nowDate = new Date().getTime();\n    const date = new Date(nowDate + offset_GMT * 60 * 1000 + timezone * 60 * 60 * 1000);\n\n    const newData = [...list, { ...content, time: date.getTime(), creator }];\n    window.tripdocs.editorsMap[docId].api.setCommentData(newData);\n  } else {\n    const list = window.tripdocs.editorsMap[docId].commentData.map((item: any) => {\n      if (window.tripdocs.editorsMap[docId].cache.commentId === item.commentId) {\n        item.content = content.content;\n        item.userName = content.userName;\n        item.mentionedMemberList = content.mentionedMemberList;\n        window.tripdocs.editorsMap[docId].cache.commentId = '';\n        newContent = item;\n      }\n      return item;\n    });\n\n    window.tripdocs.editorsMap[docId].api.setCommentData([...list]);\n  }\n  transformObjStrTimeToNumAndCallback(newContent, content => {\n    if (content.content) {\n      applyCommentCallback(editor, CommentCallbackActionType.INSERT, content, docId);\n    }\n  });\n}\n","import { Editor } from \"@src/components/slate-packages/slate\"\r\nimport { History } from './history'\r\n\r\n\r\n\r\nexport const HISTORY = new WeakMap<Editor, History>()\r\nexport const SAVING = new WeakMap<Editor, boolean | undefined>()\r\nexport const MERGING = new WeakMap<Editor, boolean | undefined>()\r\n\r\n\r\n\r\nexport interface HistoryEditor extends Editor {\r\n  history: History\r\n  undo: () => void\r\n  redo: () => void\r\n}\r\n\r\nexport const HistoryEditor = {\r\n  \r\n\r\n  isHistoryEditor(value: any): value is HistoryEditor {\r\n    return Editor.isEditor(value) && History.isHistory((value as any).history)\r\n  },\r\n\r\n  \r\n\r\n  isMerging(editor: HistoryEditor): boolean | undefined {\r\n    return MERGING.get(editor)\r\n  },\r\n\r\n  \r\n\r\n  isSaving(editor: HistoryEditor): boolean | undefined {\r\n    return SAVING.get(editor)\r\n  },\r\n\r\n  \r\n\r\n  redo(editor: HistoryEditor): void {\r\n    editor.redo()\r\n  },\r\n\r\n  \r\n\r\n  undo(editor: HistoryEditor): void {\r\n    editor.undo()\r\n  },\r\n\r\n  \r\n\r\n  withoutMerging(editor: HistoryEditor, fn: () => void): void {\r\n    const prev = HistoryEditor.isMerging(editor)\r\n    MERGING.set(editor, false)\r\n    fn()\r\n    MERGING.set(editor, prev)\r\n  },\r\n\r\n  \r\n\r\n  withoutSaving(editor: HistoryEditor, fn: () => void): void {\r\n    const prev = HistoryEditor.isSaving(editor)\r\n    SAVING.set(editor, false)\r\n    fn()\r\n    SAVING.set(editor, prev)\r\n  },\r\n}\r\n","import isPlainObject from 'is-plain-object'\r\nimport { Operation } from \"@src/components/slate-packages/slate\"\r\n\r\n\r\n\r\nexport interface History {\r\n  redos: Operation[][]\r\n  undos: Operation[][]\r\n}\r\n\r\nexport const History = {\r\n  \r\n\r\n  isHistory(value: any): value is History {\r\n    return (\r\n      isPlainObject(value) &&\r\n      Array.isArray(value.redos) &&\r\n      Array.isArray(value.undos) &&\r\n      (value.redos.length === 0 || Operation.isOperationList(value.redos[0])) &&\r\n      (value.undos.length === 0 || Operation.isOperationList(value.undos[0]))\r\n    )\r\n  },\r\n}\r\n","import { Editor, Operation, Path, Range } from \"@src/components/slate-packages/slate\"\r\nimport { ELTYPE } from '../../docs/plugins/config'\r\nimport { HistoryEditor } from './history-editor'\r\n\r\n\r\n\r\n\r\nexport const withHistory = <T extends Editor>(editor: T) => {\r\n  const e = editor as T & HistoryEditor\r\n  const { apply } = e\r\n  e.history = { undos: [], redos: [] }\r\n\r\n  e.redo = () => {\r\n    const { history } = e\r\n    const { redos } = history\r\n    \r\n    history.redos = history.redos.filter((batch) => {\r\n      return !(\r\n        batch[0].type === \"set_node\" &&\r\n        (\r\n          Object.keys(batch[0].newProperties as object).includes(\"selectedRow\")\r\n        )\r\n      );\r\n    })\r\n    \r\n    if (redos.length > 0) {\r\n      const batch = redos[redos.length - 1]\r\n\r\n      HistoryEditor.withoutSaving(e, () => {\r\n        Editor.withoutNormalizing(e, () => {\r\n          for (const op of batch) {\r\n            e.apply(op)\r\n          }\r\n        })\r\n      })\r\n\r\n      history.redos.pop()\r\n      history.undos.push(batch)\r\n    }\r\n  }\r\n\r\n  e.undo = () => {\r\n    const { history } = e\r\n    \r\n\r\n    console.log('history.undos', history.undos)\r\n\r\n    history.undos = history.undos.filter((batch) => {\r\n      \r\n      return !(\r\n        batch[0].type === \"set_node\" &&\r\n        (\r\n          Object.keys(batch[0].newProperties as object).includes(\"selectedRow\") ||\r\n          Object.keys(batch[0].newProperties as object).includes(\"selectedCell\") ||\r\n          Object.keys(batch[0].newProperties as object).includes(\"data-card-value\")\r\n        )\r\n      )\r\n      \r\n    })\r\n    \r\n\r\n    const { undos } = history;\r\n    \r\n\r\n    let isSelection = true\r\n    while (isSelection) {\r\n\r\n      if (undos.length > 0) {\r\n\r\n        const batch = undos[undos.length - 1]\r\n\r\n        HistoryEditor.withoutSaving(e, () => {\r\n          Editor.withoutNormalizing(e, () => {\r\n            const inverseOps = batch.map(Operation.inverse).reverse()\r\n\r\n            for (const op of inverseOps) {\r\n              if (op?.type !== 'set_selection') {\r\n                const isAutoInsert = batch[0]?.type === \"insert_node\" &&\r\n                  (op as any)?.node?.type === ELTYPE.PARAGRAPH && JSON.stringify((op as any)?.node?.children || []) === '[{\"text\":\"\"}]' &&\r\n                  op.path[0] === editor.children.length - 1\r\n                if (!isAutoInsert) {\r\n                  isSelection = false\r\n                }\r\n              }\r\n              \r\n              let isSkip = false\r\n              if (op.type === \"set_selection\") {\r\n                const mySelection = {\r\n                  ...editor.selection, ...op.newProperties as {}\r\n                }\r\n                \r\n                isSkip = Range.isExpanded(mySelection)\r\n              }\r\n\r\n              \r\n              if (\r\n                isSkip || op === inverseOps[inverseOps.length - 1] &&\r\n                op.type === 'set_selection' &&\r\n                op.newProperties == null\r\n              ) {\r\n                continue\r\n              } else {\r\n                \r\n                e.apply(op)\r\n              }\r\n            }\r\n          })\r\n        })\r\n\r\n        history.redos.push(batch)\r\n        history.undos.pop()\r\n      } else {\r\n        isSelection = false\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  e.apply = (op: Operation) => {\r\n    const { operations, history } = e\r\n    const { undos } = history\r\n    const lastBatch = undos[undos.length - 1]\r\n    const lastOp = lastBatch && lastBatch[lastBatch.length - 1]\r\n    const overwrite = shouldOverwrite(op, lastOp)\r\n    let save = HistoryEditor.isSaving(e)\r\n    let merge = HistoryEditor.isMerging(e)\r\n\r\n    if (save == null) {\r\n      save = shouldSave(op, lastOp)\r\n    }\r\n\r\n    if (save) {\r\n      if (merge == null) {\r\n        if (lastBatch == null) {\r\n          merge = false\r\n        } else if (operations.length !== 0) {\r\n          merge = true\r\n        } else {\r\n          merge = shouldMerge(op, lastOp) || overwrite\r\n        }\r\n      }\r\n\r\n      if (lastBatch && merge) {\r\n        if (overwrite) {\r\n          lastBatch.pop()\r\n        }\r\n\r\n        lastBatch.push(op)\r\n      } else {\r\n        const batch = [op]\r\n        let isSkip\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        if (op.type === \"set_node\") {\r\n          const newOp:any = op\r\n          isSkip =  Object.keys(op.newProperties).length===1 &&!!newOp?.newProperties?.num\r\n        }\r\n        !isSkip&&  undos.push(batch)\r\n        \r\n\r\n      }\r\n\r\n      while (undos.length > 100) {\r\n        undos.shift()\r\n      }\r\n\r\n      if (shouldClear(op)) {\r\n        history.redos = []\r\n      }\r\n    }\r\n\r\n    apply(op)\r\n  }\r\n\r\n  return e\r\n}\r\n\r\n\r\n\r\nconst shouldMerge = (op: Operation, prev: Operation | undefined): boolean => {\r\n  if (op.type === 'set_selection') {\r\n    return true\r\n  }\r\n\r\n  if (\r\n    prev &&\r\n    op.type === 'insert_text' &&\r\n    prev.type === 'insert_text' &&\r\n    op.offset === prev.offset + prev.text.length &&\r\n    Path.equals(op.path, prev.path)\r\n  ) {\r\n    return true\r\n  }\r\n\r\n  if (\r\n    prev &&\r\n    op.type === 'remove_text' &&\r\n    prev.type === 'remove_text' &&\r\n    op.offset + op.text.length === prev.offset &&\r\n    Path.equals(op.path, prev.path)\r\n  ) {\r\n    return true\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n\r\n\r\nconst shouldSave = (op: Operation, prev: Operation | undefined): boolean => {\r\n  if (op.type === 'set_selection' && op.newProperties == null) {\r\n    return false\r\n  }\r\n\r\n  return true\r\n}\r\n\r\n\r\n\r\nconst shouldOverwrite = (\r\n  op: Operation,\r\n  prev: Operation | undefined\r\n): boolean => {\r\n  if (prev && op.type === 'set_selection' && prev.type === 'set_selection') {\r\n    return true\r\n  }\r\n\r\n  return false\r\n}\r\n\r\n\r\n\r\nconst shouldClear = (op: Operation): boolean => {\r\n  if (op.type === 'set_selection') {\r\n    return false\r\n  }\r\n\r\n  return true\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Editor, Element, Node, Text, Range, Path } from '@src/components/slate-packages/slate';\nimport { ReactEditor, useFocused, useSelected } from '../../../slate-packages/slate-react/index';\nimport { ELTYPE } from '../config';\nimport { Transforms } from '../../../slate-packages/slate';\nimport { actionKey, applyOpt } from '../../../../utils/apiListener';\nimport { bodySelectAll } from '@src/utils/selectionUtils';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { Avatar, Popover } from 'antd';\nimport { css, cx } from '@emotion/css';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { createUUID } from '@src/utils/randomId';\nimport { f } from '@src/resource/string';\nimport { getCache } from '@src/utils/cacheUtils';\n\ninterface SlateElement {\n  attributes: any;\n  children: any;\n  element: any;\n  editor: any;\n  editorId: string;\n}\n\nfunction MentionInfo(props) {\n  const { user } = props;\n  return (\n    <>\n      <div\n        className={cx(\n          'mention-info-hero',\n          css`\n            display: flex;\n            margin-bottom: 0.5em;\n          `\n        )}\n      >\n        <Avatar src={user?.avatarUrl} size={28} />\n        <div\n          className={cx(\n            'mention-item-info',\n            css`\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n              align-items: start;\n            `\n          )}\n        >\n          <div\n            className={css`\n              margin-left: 0.5em;\n              font-weight: bold;\n            `}\n          >\n            {user?.displayname || user?.c_name}\n          </div>\n        </div>\n      </div>\n      {}\n      <div\n        className={css`\n          display: grid;\n          grid-template-columns: 32px 1fr;\n          grid-gap: 0.5em;\n          grid-template-rows: auto;\n        `}\n      >\n        <div>{f('email')}:</div>\n        <div> {user?.ad_email}</div>\n        <div>{f('empcode')}:</div>\n        <div>{user?.empcode}</div>\n        <div>BU: </div>\n        <div> {user?.businessname}</div>\n        <div>{f('department')}:</div>\n        <div>{user?.department}</div>\n        <div>{f('positionname')}:</div>\n        <div>{user?.positionname}</div>\n      </div>\n    </>\n  );\n}\n\nexport const MentionElement = ({ attributes, children, element, editorId, editor }: SlateElement): any => {\n  const selected = useSelected();\n  const focused = useFocused();\n  const { docId } = useContext(TripdocsSdkContext);\n  const { targetUser, senderUser, id } = element;\n  const [isSelected, setIsSelected] = useState(false);\n  const selCells = SEL_CELLS.get(editor);\n  const [isMe, setIsMe] = useState(false);\n  useEffect(() => {\n    const options = getCache(docId, 'options');\n    const { employee } = options.userInfo;\n\n    if (targetUser.empcode === employee || targetUser.userId === employee) {\n      setIsMe(true);\n    }\n    console.log(options);\n  }, []);\n\n  return (\n    <>\n      <span\n        {...attributes}\n        contentEditable={false}\n        id={element.id}\n        className={cx(\n          'ignore-toggle-readonly',\n          css`\n            & {\n              padding: 0 8px;\n              margin: 0px 3px;\n              box-sizing: border-box;\n              vertical-align: baseline;\n              display: inline-block;\n              border-radius: 4px;\n              font-size: 13px;\n              box-shadow: ${(selected && !selCells?.length) || isSelected ? '0 0 0 2px #B4D5FF' : 'none'};\n              &:focus {\n                background-color: red;\n              }\n            }\n          `\n        )}\n        style={{\n          background: isMe ? 'rgb(20, 120, 222)' : 'rgb(238, 238, 238)',\n          color: isMe ? 'white' : 'black',\n        }}\n        onClick={(e: any) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const data = {\n            id,\n            type: 'click',\n            targetUser: targetUser,\n            senderUser: senderUser,\n            title: (Node.get(editor, [0, 0]) as any).text,\n            href: document.location.href,\n          };\n          applyOpt(actionKey.mentionCallback, data, editorId.split('-')[1]);\n          const path = ReactEditor.findPath(editor, element);\n          Transforms.select(editor, path);\n        }}\n      >\n        <Popover\n          content={<MentionInfo user={element?.targetUser} />}\n          overlayInnerStyle={{ borderRadius: '4px' }}\n          trigger={['click']}\n          placement={'rightTop'}\n          visible={isSelected}\n          onVisibleChange={visible => setIsSelected(visible)}\n        >\n          <span data-target-user={JSON.stringify(element.targetUser)} style={{ display: 'inline-block', userSelect: 'none' }}>\n            {`@${element?.targetUser?.sn}`}\n            <span className={cx('ignore-toggle-readonly')} contentEditable={false} style={{ userSelect: 'none', display: 'none' }}>\n              {children}\n            </span>\n          </span>\n        </Popover>\n      </span>\n    </>\n  );\n};\n\nexport const insertMention = (editor: any, character: any, cUser: any, docId: any) => {\n  const focusPath = editor.selection.focus.path;\n  const postLeafPath = [...focusPath.slice(0, -1), focusPath[focusPath.length - 1] + 2];\n\n  const id = createUUID();\n  const mention = {\n    type: ELTYPE.MENTION,\n    targetUser: character,\n    senderUser: cUser,\n    id,\n    children: [{ text: '' }],\n  };\n  console.log('insertMention', mention);\n  Transforms.insertNodes(editor, mention);\n\n  console.log('{{{postLeafPath}}}', editor, mention, focusPath);\n  const content = Node.string(Node.get(editor, [Range.start(editor.selection).path[0]]));\n  if (Editor.hasPath(editor, postLeafPath)) {\n    Transforms.select(editor, {\n      path: postLeafPath,\n      offset: 0,\n    });\n  }\n\n  const senderUser = cUser || {};\n\n  const data = {\n    id,\n    targetUser: character,\n    senderUser: senderUser,\n    title: (Node.get(editor, [0, 0]) as any).text,\n    href: document.location.href,\n    content: content,\n    format: '',\n    type: 'insert',\n  };\n  applyOpt(actionKey.mentionCallback, data, docId);\n};\n","import { message } from 'antd';\nimport { getCache } from './cacheUtils';\n\nexport function getSlateSlection(docId: string) {\n  if (!docId) {\n    message.error('文档错误，请刷新页面！');\n    return null;\n  }\n  try {\n    let selection = window.tripdocs.editorsMap[docId].editor.selection;\n    if (selection) {\n      return selection;\n    }\n    selection = getCache(docId, 'selection');\n\n    if (selection) {\n      return selection;\n    } else {\n      return [window.tripdocs.editorsMap[docId].editor.children.length - 1];\n    }\n  } catch (error) {\n    message.error('文档错误，请刷新页面！');\n    return null;\n  }\n}\n","export default function myfetch(url: string, fetchConfig?: any): Promise<object> {\n  return new Promise((resolve, reject) => {\n    fetch(url, fetchConfig)\n      .then((res: any) => res.json())\n      .then((response: any) => {\n        if (!response.data) {\n          resolve(response);\n          return;\n        }\n        const { code, data, message } = response.data;\n        if (code === '0' && data) {\n          resolve(data);\n        } else if (code && code !== '0') {\n          if (message) alert!(message);\n          reject(response.data);\n        } else {\n          resolve(response.data);\n        }\n      })\n      .catch((e: { response: { status: number; data: any } }) => {\n        console.log('request - api - err:', url, e);\n        reject(e?.response?.data);\n      });\n  });\n}\n","import { Editor, Node, Path, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { getSlateSlection } from '@src/utils/getSelection';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\nimport { getParentPathByType, getParentPathByTypes } from '../pluginsUtils/getPathUtils';\n\nexport const createCard = cardCenter => {\n  return {\n    type: ELTYPE.CARD,\n    children: [\n      {\n        type: ELTYPE.CARD_PRE,\n        children: [{ text: '' }],\n      },\n      cardCenter,\n      {\n        type: ELTYPE.CARD_SUF,\n        children: [{ text: '' }],\n      },\n    ],\n  };\n};\nexport const insertCard = (editor: ReactEditor, cardCenter: any, atPath?: any) => {\n  const selection = getSlateSlection(editor.docId);\n\n  const card = createCard(cardCenter);\n  if (!selection) {\n    console.log('当前编辑器没有获得焦点...');\n    Transforms.insertNodes(editor, card, { select: true, at: [editor.children.length - 1] });\n    return;\n  }\n  let isNoEmpty = false;\n\n  let at = getParentPathByTypes(editor, selection.focus.path, TABBABLE_TYPES);\n\n  const [parentNode, parentPath]: any = Editor.parent(editor, selection.focus?.path);\n  console.log('G-------', selection);\n  console.log('E-------', parentNode);\n\n  if (Range.isCollapsed(selection)) {\n    if (parentNode.type == ELTYPE.CARD_PRE || parentNode.type == ELTYPE.CARD_SUF || parentNode.type == ELTYPE.DIVIDE) {\n      console.log('A-------');\n      console.log('parentPath-------', parentPath);\n\n      const parentPath2 = Path.parent(parentPath);\n      const parentNode2 = Node.get(editor, parentPath2);\n      console.log('parentNode2----', parentNode2);\n\n      const nextPath = Path.next(parentPath2);\n      at = nextPath;\n      if (parentNode.type == ELTYPE.CARD_PRE) {\n        at = parentPath2;\n      }\n      console.log('nextPath----', nextPath);\n    } else {\n      const text = (Node.get(editor, selection.focus.path) as any).text;\n      if (!text) {\n        if (!at) {\n          console.log('B-------');\n          at = [selection.focus.path[0]];\n        }\n      } else {\n        console.log('C-------');\n\n        if (!at && !selection.focus.offset && !selection.anchor.offset) {\n          console.log('C1-------');\n          at = [selection.focus.path[0]];\n        } else {\n          isNoEmpty = true;\n          console.log('C2-------');\n        }\n      }\n    }\n  } else {\n    isNoEmpty = true;\n    console.log('D-------');\n  }\n\n  if (atPath) {\n    at = atPath;\n  }\n\n  Transforms.insertNodes(editor, card, isNoEmpty ? {} : { at: at });\n\n  if (!isNoEmpty) {\n    setTimeout(() => {\n      const nextPath = Editor.start(editor, Path.next(at));\n      Transforms.select(editor, nextPath);\n    });\n  }\n  console.log('@@@@@@@@@@@@', at, editor?.selection?.anchor);\n};\n","import { Editor, Element as SlateElement, Node, Path, Point, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { getCurrentLineEnd, getCurrentLineStart } from '@src/utils/selectionUtils';\nimport { ELTYPE, inCardEL, TABBABLE_TYPES } from '../config';\nimport { getParentPathByType, getParentPathByTypes } from '../pluginsUtils/getPathUtils';\n\nexport const withCard = (editor: any) => {\n  const { isInline, isVoid, deleteFragment, setFragmentData, deleteForward, deleteBackward } = editor;\n\n  editor.deleteFragment = (direction?: any) => {\n    console.log('[withCard] deleteFragment');\n    const {\n      selection: { anchor, focus },\n    } = editor;\n\n    if (anchor.path[0] !== focus.path[0]) {\n      let path1, path2: any;\n      if (anchor.path[0] > focus.path[0]) {\n        path1 = anchor.path[0];\n        path2 = focus.path[0];\n      } else {\n        path1 = focus.path[0];\n        path2 = anchor.path[0];\n      }\n      const count = path1 - path2;\n      const nodeArr: any[] = [];\n      for (let i = 0; i <= count; i++) {\n        const path = path2 + i;\n\n        nodeArr[i] = Node.get(editor, [path]);\n        const { type, elId, id } = nodeArr[i];\n        if (type === ELTYPE.CARD) {\n          Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH } as any, { at: [path] });\n        }\n      }\n    }\n\n    const isCardSelection = normalizeCardSelection(editor);\n    console.log('[withCard] deleteFragment isCardSelection', isCardSelection);\n    if (isCardSelection) {\n      if (editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isExpanded(editor.selection)) {\n        console.log('[withCard] deleteFragment isCardSelection', editor.selection);\n        Transforms.delete(editor, {\n          at: editor.selection.focus.path.slice(0, -2),\n          reverse: direction === 'backward',\n          voids: true,\n        });\n        return;\n      }\n    } else {\n      deleteFragment(direction);\n    }\n  };\n\n  editor.setFragmentData = (data: DataTransfer) => {\n    setFragmentData(data);\n  };\n\n  editor.deleteForward = () => {\n    const cardSufPath = getParentPathByType(editor, editor.selection.anchor.path, ELTYPE.CARD_SUF);\n    if (cardSufPath) {\n      const cardPath = Path.parent(cardSufPath);\n      const nextPath = cardPath && Path.next(cardPath);\n      if (nextPath) {\n        const nextNode = Node.has(editor, nextPath) && Node.get(editor, nextPath);\n        console.log(\n          '[withCard] deleteForward - 【1】光标在 card_suf 中 delete 删除，处理逻辑：将光标放到下一行开头（如果非空行）',\n          cardSufPath,\n          nextPath,\n          nextNode\n        );\n        if (Node.string(nextNode) === '') {\n          Transforms.removeNodes(editor, { at: nextPath });\n        } else {\n          Transforms.select(editor, nextPath);\n          Transforms.collapse(editor, { edge: 'start' });\n        }\n      }\n      return;\n    }\n\n    const tabbableParentPath = getParentPathByTypes(editor, editor.selection.anchor.path, TABBABLE_TYPES);\n    const curLineEnd = getCurrentLineEnd(editor);\n    if (Range.isCollapsed(editor.selection) && Point.equals(editor.selection.anchor, curLineEnd) && tabbableParentPath) {\n      const nextPath = tabbableParentPath && Path.next(tabbableParentPath);\n      if (nextPath) {\n        const nextNode: any = Node.has(editor, nextPath) && Node.get(editor, nextPath);\n        if (nextNode?.type === ELTYPE.CARD) {\n          console.log('[withCard] deleteForward -【2】在 card 的前一行尾 delete 删除，阻止该行为', nextNode);\n          return;\n        }\n      }\n    }\n\n    const cardPrePath = getParentPathByType(editor, editor.selection.anchor.path, ELTYPE.CARD_PRE);\n    if (cardPrePath) {\n      const cardPath = Path.parent(cardPrePath);\n      Transforms.removeNodes(editor, { at: cardPath });\n      console.log('[withCard] deleteForward -【3】在 card_pre delete 删除，删除一整行', cardPath);\n    }\n\n    let res = parentNodeFirstNodeOrCenterNodeCallBack(editor, [ELTYPE.CARD, ELTYPE.CARD_PRE, ELTYPE.CARD_SUF, ...inCardEL], function (parentPath) {\n      console.log('withCard deleteBackward parentNodeFirstNodeOrCenterNodeCallBack', parentPath);\n      Transforms.removeNodes(editor, { at: parentPath });\n    });\n    if (res) {\n      return;\n    }\n    res = delCellPreviousChildren(editor, editor.selection, true);\n    if (res) {\n      return;\n    }\n    deleteForward();\n  };\n\n  editor.deleteBackward = (unit: any) => {\n    const cardPrePath = getParentPathByType(editor, editor.selection.anchor.path, ELTYPE.CARD_PRE);\n    if (cardPrePath) {\n      const cardPath = Path.parent(cardPrePath);\n      const prevPath = cardPath && Path.hasPrevious(cardPath) ? Path.previous(cardPath) : null;\n      if (prevPath) {\n        const prevNode = Node.has(editor, prevPath) && Node.get(editor, prevPath);\n        console.log(\n          '[withCard] deleteBackward - 【1】光标在 card_pre 中 backspace 删除，处理逻辑：将光标放到上一行末尾（如果非空行）',\n          cardPrePath,\n          prevPath,\n          prevNode\n        );\n        if (Node.string(prevNode) === '') {\n          Transforms.removeNodes(editor, { at: prevPath });\n        } else {\n          Transforms.select(editor, prevPath);\n          Transforms.collapse(editor, { edge: 'end' });\n        }\n      }\n      return;\n    }\n\n    console.log('[withCard deleteBackward] unit', unit);\n    let res = parentNodeLastNodeOrCenterNodeCallBack(editor, [ELTYPE.CARD, ELTYPE.CARD_PRE, ELTYPE.CARD_SUF, ...inCardEL], function (parentPath) {\n      console.log('withCard deleteBackward parentNodeLastNodeOrCenterNodeCallBack', parentPath);\n      Transforms.removeNodes(editor, { at: parentPath });\n    });\n    if (res) {\n      return;\n    }\n\n    console.log('isSameLineSelectingCard 0', editor.selection);\n    if (isSameLineSelectingCard(editor)) {\n      console.log('[withCard] deleteBackward - 【2】 backspace 删除当前选中的 card: 包含{card_pre, card_suf}', editor.selection);\n      Transforms.removeNodes(editor, { voids: true });\n      return;\n    }\n\n    const startPoint = getCurrentLineStart(editor);\n    const elementPath = getParentPathByTypes(editor, startPoint.path, TABBABLE_TYPES);\n    const previousElementPath = Path.hasPrevious(elementPath) && Path.previous(elementPath);\n\n    const isPreviousNodeCardType = (path: Path) => {\n      const node: any = Node.has(editor, path) && Node.get(editor, path);\n      console.log('isPreviousNodeCardType node', path, node);\n      return node && node.type === ELTYPE.CARD;\n    };\n\n    console.log(\n      '[withCard] deleteBackward',\n      startPoint.path,\n      previousElementPath,\n      Range.isCollapsed(editor.selection),\n      Point.equals(startPoint, editor.selection.anchor),\n      isPreviousNodeCardType(previousElementPath)\n    );\n    if (Range.isCollapsed(editor.selection) && Point.equals(startPoint, editor.selection.anchor) && isPreviousNodeCardType(previousElementPath)) {\n      console.log('[withCard] deleteBackward - 【3】光标在 card 的下一行首，点 backspace 删除，全选 card 内容', startPoint.path, previousElementPath);\n      Transforms.select(editor, previousElementPath);\n      return;\n    }\n    deleteBackward(unit);\n  };\n\n  return editor;\n};\n\nexport const isSameLineSelectingCard = (editor: Editor) => {\n  const { selection } = editor;\n  const { anchor, focus } = selection;\n  const cardPath = getParentPathByType(editor, anchor.path, ELTYPE.CARD);\n  let isSameLineSelectingCard = false;\n  const anchorNode: any = Node.has(editor, anchor.path) && Node.get(editor, anchor.path);\n  const focusNode: any = Node.has(editor, focus.path) && Node.get(editor, focus.path);\n  const fillerTypes = [ELTYPE.CARD_PRE, ELTYPE.CARD_SUF];\n  const anchorAtCardFiller = getParentPathByTypes(editor, anchor.path, fillerTypes) || fillerTypes.includes(anchorNode.type);\n  const focusAtCardFiller = getParentPathByTypes(editor, focus.path, fillerTypes) || fillerTypes.includes(focusNode.type);\n\n  if (cardPath) {\n    const isSameLevel = Path.isAncestor(cardPath, anchor.path) && Path.isAncestor(cardPath, focus.path);\n    isSameLineSelectingCard = isSameLevel && !!anchorAtCardFiller && !!focusAtCardFiller;\n  }\n  return isSameLineSelectingCard;\n};\n\nfunction delCellPreviousChildren(editor: any, selection: any, reverse: boolean) {\n  if (selection.anchor.path.length > 4) {\n    const start = Editor.start(editor, selection.anchor.path.slice(0, 4));\n    const cellChildrenNodePath = selection.anchor.path.slice(0, 5);\n    const cellChildrenNode = Node.get(editor, cellChildrenNodePath) as any;\n    const type: any = cellChildrenNode.type;\n    const getNodeFirst = !reverse ? Node.first : Node.last;\n    const [cellChildrenNodeFirstNode, cellChildrenNodeFirstPath] = getNodeFirst(editor, cellChildrenNodePath);\n\n    if (Path.equals(cellChildrenNodeFirstPath, selection.anchor.path) && selection.anchor.offset === 0) {\n      if (cellChildrenNodePath.slice(0, 5).slice(-1)[0] === 0) {\n        return;\n      }\n      let getPrevious = !reverse ? Editor.previous : Editor.last;\n      let [previousNode, previousPath] = getPrevious(editor, {\n        at: cellChildrenNodePath,\n      } as any) as any;\n      if (previousNode.type === ELTYPE.CARD) {\n        Transforms.removeNodes(editor, { at: previousPath });\n        console.log('table inner delete card');\n        return true;\n      }\n    }\n    if (Point.equals(selection.anchor, start) && ![ELTYPE.OLLIST, ELTYPE.ULLIST, ELTYPE.TODO_LIST, ELTYPE.CARD].includes(type)) {\n      return;\n    }\n  }\n}\nfunction parentNodeFirstNodeOrCenterNodeCallBack(editor: any, types: any[], callback: Function) {\n  const { path, offset } = editor.selection.anchor;\n  const parentNode = Node.parent(editor, path) as any;\n  console.log('[first cb]', parentNode);\n  if (types.includes(parentNode.type)) {\n    if ([...inCardEL, ELTYPE.CARD_PRE].includes(parentNode.type)) {\n      callback(path.slice(0, -2));\n      return true;\n    }\n\n    const [cellChildrenNodeFirstNode, cellChildrenNodeFirstPath] = Node.first(editor, path.slice(0, -1));\n\n    if (Path.equals(cellChildrenNodeFirstPath, path) && offset === 0) {\n      callback(path.slice(0, -1));\n\n      return true;\n    }\n  }\n}\nfunction parentNodeLastNodeOrCenterNodeCallBack(editor: any, types: any[], callback: Function) {\n  const { path, offset } = editor.selection.anchor;\n  const parentNode = Node.parent(editor, path) as any;\n  console.log('[last cb]', parentNode, types.includes(parentNode.type));\n  if (types.includes(parentNode.type)) {\n    if ([...inCardEL, ELTYPE.CARD_SUF].includes(parentNode.type)) {\n      callback(path.slice(0, -2));\n      return true;\n    }\n\n    const [cellChildrenNodeFirstNode, cellChildrenNodeFirstPath] = Node.last(editor, path.slice(0, -1));\n\n    if (Path.equals(cellChildrenNodeFirstPath, path) && offset === 0) {\n      callback(path.slice(0, -1));\n\n      return true;\n    }\n  }\n}\n\nexport const normalizeCardSelection = (editor: ReactEditor) => {\n  const { selection } = editor;\n  let isCardSelection = false;\n  if (selection && ReactEditor.hasRange(editor, selection) && Range.isExpanded(selection)) {\n    const { anchor, focus } = selection;\n    const anchorNode: any = Node.has(editor, anchor.path) && Node.get(editor, anchor.path);\n    const focusNode: any = Node.has(editor, focus.path) && Node.get(editor, focus.path);\n    const fillerTypes = [ELTYPE.CARD_PRE, ELTYPE.CARD_SUF];\n    const anchorAtCardFiller = getParentPathByTypes(editor, anchor.path, fillerTypes) || fillerTypes.includes(anchorNode.type);\n    const focusAtCardFiller = getParentPathByTypes(editor, focus.path, fillerTypes) || fillerTypes.includes(focusNode.type);\n\n    const cardPath = getParentPathByType(editor, anchor.path, ELTYPE.CARD);\n\n    const isSelectionCard = isSameLineSelectingCard(editor);\n    console.log('[normalizeCardSelection]', selection, cardPath, anchorAtCardFiller, focusAtCardFiller, isSelectionCard);\n\n    if (isSelectionCard) {\n      Transforms.select(editor, { anchor: { path: [...cardPath, 0, 0], offset: 0 }, focus: { path: [...cardPath, 2, 0], offset: 0 } });\n      isCardSelection = true;\n    }\n  }\n  return isCardSelection;\n};\n\nexport const removeCardSelectionContentBeforeInput = (editor: Editor, e: React.BaseSyntheticEvent) => {\n  const selection = editor.selection;\n  if (!selection) {\n    return;\n  }\n  const cardPath = getParentPathByType(editor, selection.anchor.path, ELTYPE.CARD);\n  if (isSameLineSelectingCard(editor)) {\n    console.log('[removeCardSelectionContentBeforeInput]', cardPath);\n    e.preventDefault();\n    console.log('isSameLineSelectingCard');\n    Transforms.removeNodes(editor, { at: cardPath });\n    (e as any).key && Transforms.insertText(editor, (e as any).key);\n    return;\n  }\n};\n","import { css, cx } from '@emotion/css';\nimport React, { useEffect } from 'react';\nimport { Editor, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor, useFocused, useSelected } from '../../../slate-packages/slate-react';\nimport { ELTYPE } from '../config';\nimport $ from 'jquery';\nimport { MenuOutlined } from '@ant-design/icons';\nimport { hasTarget } from '@src/components/slate-packages/slate-react/components/editable';\nimport { getCache } from '@src/utils/cacheUtils';\nconst CardPreSuf = ({ attributes, children, element }) => {\n  if (element.type === ELTYPE.CARD_PRE) {\n    return (\n      <div\n        className=\"card_pre\"\n        {...attributes}\n        onDragOverCapture={e => {\n          console.log('[card_pre] onDragOverCapture', e.target);\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }}\n      >\n        {children}\n      </div>\n    );\n  } else {\n    return (\n      <div\n        className=\"card_suf\"\n        {...attributes}\n        onDragOverCapture={e => {\n          console.log('[card_suf] onDragOverCapture', e.target);\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n};\n\nconst _onClick = event => {\n  event.preventDefault();\n  return false;\n};\nconst _onDoubleClick = event => {\n  event.preventDefault();\n  return false;\n};\n\nconst _onDragCapture = event => {\n  const { target } = event;\n  if (target) {\n    const { nodeName } = target;\n    if (!['P', 'LI', 'SPAN'].includes(nodeName)) {\n      const isDragHandle = (target as HTMLElement)?.closest('.drag-handle');\n      if (!isDragHandle) {\n        console.log('_onDragCapture: prevented', event);\n        event.preventDefault();\n        return false;\n      }\n    }\n  }\n};\n\nconst Card = React.forwardRef(({ attributes, children, element, editor }: any, ref: any) => {\n  const selected = useSelected();\n  const focused = useFocused();\n  let cn = selected && focused ? true : null;\n\n  let fakeSelected = null;\n\n  const isTable = ref.current && ref.current?.childNodes[1]?.childNodes[2]?.childNodes[0]?.tagName === 'TABLE';\n  if (ref && ref.current && editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isExpanded(editor.selection) && !isTable) {\n    let slateNode = ReactEditor.toSlateNode(editor, ref.current?.children[0]?.children[0]?.children[0]?.children[0]?.children[0]);\n    if (!slateNode) return;\n    let slateNodePath = ReactEditor.findPath(editor, slateNode);\n    if (!slateNodePath) return;\n    fakeSelected = Range.includes(editor.selection, slateNodePath);\n  }\n\n  useEffect(() => {\n    let selection = window.getSelection();\n\n    if (selection.rangeCount) {\n      let range = selection.getRangeAt(0);\n      let results = [];\n\n      $('.card_pre,.card_suf', range.commonAncestorContainer).filter(function () {\n        let card_filter = selection.containsNode(this);\n\n        if (card_filter) {\n          if ($(this).hasClass('card_pre')) {\n            results.push($(this).parent()[0]);\n          } else {\n            results.push($(this).parent()[0]);\n          }\n        }\n      });\n      results = [...new Set(results)];\n      $('.fake-selected2').removeClass('fake-selected2');\n\n      $(results).each(function (i, item) {\n        $(item).addClass('fake-selected2');\n      });\n    }\n  }, [editor?.selection]);\n\n  return (\n    <div\n      {...attributes}\n      contentEditable={false}\n      ref={ref}\n      data-ignore-slate\n      className={cx('card', 'sider-menu-wrapper', fakeSelected ? `fake-selected` : null)}\n      data-activated={cn}\n      onClick={_onClick}\n      onDoubleClick={_onDoubleClick}\n      onDragCapture={_onDragCapture}\n      onDragStartCapture={_onDragCapture}\n      onDragOverCapture={e => {\n        const dragDataTransfer = getCache(editor.docId, 'drag-data-transfer');\n        const allowDragging = dragDataTransfer && !!dragDataTransfer.dragData;\n        if (!allowDragging) {\n          console.log('[card] onDragOverCapture', e.target);\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }\n      }}\n      onDragEndCapture={_onDragCapture}\n    >\n      {children}\n      {}\n    </div>\n  );\n});\nexport { Card, CardPreSuf };\n","import { css, cx } from '@emotion/css';\nimport { TooltipPlacement } from 'antd/lib/tooltip';\nimport React, { CSSProperties, useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.less';\n\nexport const OverlayContainerPortal = ({ children, docId }: any) => {\n  const containerEl: any = document.getElementById(`overlayContainer-${docId}`);\n  if (!containerEl) {\n    return null;\n  }\n  return ReactDOM.createPortal(children, containerEl);\n};\n\nexport interface OverlayProps {\n  show: boolean;\n  children: any;\n  docId: string;\n  overlayRefDom: HTMLElement;\n  bordered?: boolean;\n  placement?: TooltipPlacement;\n  distance?: number;\n  offset?: { top: number; left: number };\n  overlayStyle?: CSSProperties;\n  overlayWrapStyle?: CSSProperties;\n  overlayWrapClassName?: string;\n  left?: any;\n  top?: any;\n  zIndex?: number;\n}\n\nexport const Overlay = (props: OverlayProps) => {\n  const {\n    show,\n    children,\n    docId,\n    distance = 28,\n    left,\n    top,\n    overlayRefDom,\n    placement = 'top',\n    bordered = false,\n    offset = { left: 0, top: 0 },\n    overlayStyle,\n    overlayWrapStyle,\n    overlayWrapClassName,\n    zIndex = 200,\n  } = props;\n\n  const [overlayPos, setOverlayPos] = useState({ left: -999999999, top: -999999999 });\n\n  useEffect(() => {\n    if (!overlayRefDom) return;\n    const editorContainerWrapEl = document.getElementById(`editor-content-wrap-${docId}`);\n    if (!editorContainerWrapEl) return;\n    const editorContainerWrapElRect = editorContainerWrapEl.getBoundingClientRect();\n    const [wrapLeft, wrapTop] = [editorContainerWrapElRect?.left || 0, editorContainerWrapElRect?.top || 0];\n\n    const { left, top, bottom, right } = overlayRefDom.getBoundingClientRect();\n\n    let domPos: { left: number; top: number };\n\n    switch (placement) {\n      case 'top':\n        domPos = {\n          left: (right + left) / 2 - wrapLeft,\n          top: top - wrapTop + editorContainerWrapEl.scrollTop - distance,\n        };\n        break;\n      case 'right':\n        domPos = {\n          left: right - wrapLeft + distance,\n          top: (top + bottom) / 2 - wrapTop + editorContainerWrapEl.scrollTop,\n        };\n        break;\n      case 'bottom':\n        domPos = {\n          left: (right + left) / 2 - wrapLeft,\n          top: bottom - wrapTop + editorContainerWrapEl.scrollTop + distance,\n        };\n        break;\n      case 'left':\n        domPos = {\n          left: left - wrapLeft - distance,\n          top: (top + bottom) / 2 - wrapTop + editorContainerWrapEl.scrollTop,\n        };\n        break;\n      case 'leftTop':\n        domPos = {\n          left: left - wrapLeft - distance,\n          top: top - wrapTop + editorContainerWrapEl.scrollTop,\n        };\n        break;\n      case 'leftBottom':\n        domPos = {\n          left: left - wrapLeft - distance,\n          top: bottom - wrapTop + editorContainerWrapEl.scrollTop,\n        };\n        break;\n      case 'topLeft':\n        domPos = {\n          left: left - wrapLeft,\n          top: top - wrapTop + editorContainerWrapEl.scrollTop - distance,\n        };\n        break;\n      case 'topRight':\n        domPos = {\n          left: right - wrapLeft,\n          top: top - wrapTop + editorContainerWrapEl.scrollTop - distance,\n        };\n        break;\n      case 'rightTop':\n        domPos = {\n          left: right - wrapLeft + distance,\n          top: top - wrapTop + editorContainerWrapEl.scrollTop,\n        };\n        break;\n      case 'rightBottom':\n        domPos = {\n          left: right - wrapLeft + distance,\n          top: bottom - wrapTop + editorContainerWrapEl.scrollTop,\n        };\n        break;\n      case 'bottomLeft':\n        domPos = {\n          left: left - wrapLeft,\n          top: bottom - wrapTop + editorContainerWrapEl.scrollTop + distance,\n        };\n        break;\n      case 'bottomRight':\n        domPos = {\n          left: right - wrapLeft,\n          top: bottom - wrapTop + editorContainerWrapEl.scrollTop + distance,\n        };\n        break;\n    }\n\n    domPos && setOverlayPos(domPos);\n  }, [show, overlayRefDom, left, top, placement]);\n\n  return (\n    <>\n      {show ? (\n        <OverlayContainerPortal docId={docId}>\n          <div\n            className={cx('overlay-tmp-wrap', overlayWrapClassName)}\n            style={{\n              ...overlayWrapStyle,\n              left: overlayPos.left + offset.left,\n              top: overlayPos.top + offset.top,\n\n              zIndex: zIndex,\n            }}\n          >\n            <div\n              className={cx('overlay-tmp', bordered ? 'overlay-tmp-bordered' : null)}\n              style={{\n                ...overlayStyle,\n                transform: ['left', 'right'].includes(placement) ? 'translateY(-50%)' : 'translateX(-50%)',\n              }}\n            >\n              {children}\n            </div>\n          </div>\n        </OverlayContainerPortal>\n      ) : null}\n    </>\n  );\n};\n","import { HolderOutlined } from '@ant-design/icons';\nimport { Editor, Transforms, Node } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { f } from '@src/resource/string';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport { Tooltip } from 'antd';\nimport React, { useEffect, useReducer, useRef, useState, DragEvent, useContext, useCallback } from 'react';\nimport { ELTYPE } from '../../config';\nimport { getInlineImageSelectForPath } from '../../InlineImage/inlineImagePlugins';\nimport { Overlay } from '../Overlay';\nimport './index.less';\n\nlet dragStop = false;\n\ntype DragHandleProps = {\n  editor: any;\n  isOverElement: boolean;\n\n  docId: string;\n  overlayRefDom: HTMLElement;\n  findDomToEl?: (dom: Element) => any;\n  distance?: number;\n};\n\nfunction DragHandle(props: DragHandleProps) {\n  const {\n    editor,\n    docId,\n    isOverElement,\n    overlayRefDom,\n    distance = 24,\n    findDomToEl = (dom: Element) => dom?.closest('[data-slate-node=\"element\"]'),\n  } = props;\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n\n  const [el, setEl] = useState(null);\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n\n  const [showDragHandle, toggleShowDragHandle] = useReducer((state, action) => action === 'on', false);\n  const [hover, toggleHover] = useReducer((state, action) => action === 'on', false);\n  const [drag, toggleDrag] = useReducer((state, action) => action === 'on', false);\n  const handleRef = useRef();\n\n  useEffect(() => {\n    if (hover || drag || isOverElement) {\n      toggleShowDragHandle('on');\n    }\n    if (!hover && !drag && !isOverElement) {\n      toggleShowDragHandle('off');\n    }\n  }, [hover, drag, isOverElement]);\n\n  useEffect(() => {\n    const handle: HTMLElement = handleRef?.current;\n    if (!handle || typeof window === 'undefined') {\n      return;\n    }\n\n    const rect: DOMRect = handle.getBoundingClientRect();\n    const [x, y] = [rect.x, rect.y];\n    const offset = rect.width + distance;\n    const el: HTMLElement = findDomToEl(document.elementFromPoint(x + offset, y));\n\n    if (!el) return;\n    setEl(el);\n  }, [handleRef?.current]);\n\n  function handleDragStart(e: DragEvent<HTMLDivElement>) {\n    e.stopPropagation();\n    setTooltipVisible(false);\n\n    ReactEditor.deselect(editor);\n\n    let node = ReactEditor.toSlateNode(editor, el);\n    console.log('DragHandle 0', node, el, e);\n    if (!node) return;\n    let path = ReactEditor.findPath(editor, node);\n    const parentEntry = Editor.parent(editor, path);\n    if (parentEntry && (parentEntry[0] as any).type === ELTYPE.CARD) {\n      [node, path] = [parentEntry[0], parentEntry[1]];\n    }\n    console.log('DragHandle 0.5', node, path);\n    const isInline = [ELTYPE.INLINEIMAGE].includes((node as any)?.type);\n\n    const dt = new DataTransfer();\n    if (path) {\n      const range = Editor.range(editor, path);\n      Transforms.select(editor, range);\n      const fragment = isInline ? getInlineInFragment(editor, path) : editor.getFragment();\n      console.log('DragHandle 1', isInline, range, path, fragment);\n      console.log('DragHandle 1.5', range, Node.fragment(editor, range));\n\n      dt.setData('text/html', JSON.stringify(fragment));\n      dt.setData('text/plain', JSON.stringify(fragment));\n    }\n\n    const dragDataTransfer = {\n      dragData: dt,\n      dragOriginalPath: path,\n      isInline: isInline,\n    };\n    setCache(docId, 'drag-data-transfer', dragDataTransfer);\n    toggleDrag('on');\n    const handle: any = handleRef?.current;\n    if (handle) handle.style.opacity = '0.4';\n    e.dataTransfer.setData('text/html', JSON.stringify(editor.getFragment()));\n    e.dataTransfer.setData('text/plain', JSON.stringify(editor.getFragment()));\n    e.dataTransfer.setDragImage(el, 0, 0);\n    e.dataTransfer.effectAllowed = 'all';\n    ReactEditor.setFragmentData(editor, e.dataTransfer);\n\n    console.log('DragHandle 2', node, e.dataTransfer, dt, editor.getFragment());\n  }\n\n  const handleDrag = useCallback(e => {\n    const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n    const scrollWrapRect = scrollWrap.getBoundingClientRect();\n    dragStop = true;\n    if (e.clientY < scrollWrapRect.top + Math.floor(scrollWrapRect.height * 0.15)) {\n      dragStop = false;\n      scroll(-10);\n    }\n    if (e.clientY > scrollWrapRect.bottom - Math.floor(scrollWrapRect.height * 0.15)) {\n      dragStop = false;\n      scroll(10);\n    }\n  }, []);\n\n  const scroll = useCallback(step => {\n    const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n    if (scrollWrap) {\n      const scrollY = scrollWrap.scrollTop;\n      scrollWrap.scrollTo({ top: scrollY + step });\n    }\n  }, []);\n\n  function handleDragEnd(e: DragEvent<HTMLDivElement>) {\n    console.log('dragEnd', e);\n    dragStop = true;\n    toggleDrag('off');\n    const handle: any = handleRef?.current;\n    if (handle) handle.style.opacity = '1';\n  }\n\n  return (\n    <Overlay show={!isReadOnly && showDragHandle} docId={docId} placement={'leftTop'} overlayRefDom={overlayRefDom} distance={distance}>\n      <div\n        className=\"drag-handle\"\n        draggable={true}\n        ref={handleRef}\n        onMouseEnter={() => toggleHover('on')}\n        onMouseLeave={() => {\n          setTooltipVisible(false);\n          setTimeout(() => toggleHover('off'), 400);\n        }}\n        onDragStartCapture={handleDragStart}\n        onDrag={handleDrag}\n        onDragEnd={handleDragEnd}\n      >\n        <Tooltip\n          title={<span style={{ fontSize: 12 }}>{f('dragHandle')}</span>}\n          placement=\"top\"\n          visible={tooltipVisible}\n          onVisibleChange={visible => setTooltipVisible(visible)}\n        >\n          <div className=\"drag-handle__container\">\n            <DragHandleBtn toggleHover={toggleHover} />\n          </div>\n        </Tooltip>\n      </div>\n    </Overlay>\n  );\n}\n\nexport function getInlineInFragment(editor, path) {\n  const inlineNode = Node.get(editor, path);\n  const emptyText = { text: '' };\n  const frag = [emptyText, inlineNode, emptyText];\n  return frag;\n}\n\nfunction DragHandleBtn(props) {\n  return (\n    <div className=\"drag-handle__button\">\n      <HolderOutlined />\n    </div>\n  );\n}\n\nasync function copy(data) {\n  console.log('copy');\n  const permit = await navigator.permissions.query({ name: 'clipboard-read' as PermissionName });\n  if (permit.state === 'granted' || permit.state === 'prompt') {\n    const clipboard = await navigator.clipboard.write(data);\n    console.log('clipboard', clipboard);\n  }\n}\n\nexport default DragHandle;\n","import { css, cx } from '@emotion/css';\nimport React, { useEffect, useState } from 'react';\nimport { Tooltip } from 'antd';\nimport { TooltipPlacement } from 'antd/lib/tooltip';\nimport './GeneralOverlayButton.less';\n\ntype GeneralOverlayButtonProps = {\n  title: string;\n  icon: any;\n  tooltipPlacement?: TooltipPlacement;\n  hoverStyle?: 'background' | 'color' | 'danger';\n  className?: string;\n  [key: string]: any;\n};\n\nexport const GeneralOverlayButton = (props: GeneralOverlayButtonProps) => {\n  const { title, icon, tooltipPlacement = 'top', hoverStyle = 'background', className, ...rest } = props;\n  return (\n    <Tooltip title={title} placement={tooltipPlacement}>\n      <div className={cx('general-overlay-button', `hover-${hoverStyle}`, className)} {...rest}>\n        {icon}\n      </div>\n    </Tooltip>\n  );\n};\n","import { DownloadOutlined } from '@ant-design/icons';\nimport { css, cx } from '@emotion/css';\nimport { Editor, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { f } from '@src/resource/string';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { getSlateSlection } from '@src/utils/getSelection';\nimport { createUUID } from '@src/utils/randomId';\nimport { Empty, Image as AntdImage, message } from 'antd';\nimport imageExtensions from 'image-extensions';\nimport isUrl from 'is-url';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { Node } from '../../../slate-packages/slate';\nimport { ReactEditor, useFocused, useSelected } from '../../../slate-packages/slate-react';\nimport { insertCard } from '../Card';\nimport { IconBtn } from '../Components';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\nimport DragHandle from '../OverlayComponents/DragHandle';\nimport { downloadFile } from '../File/filePlugins';\nimport { Overlay } from '../OverlayComponents/Overlay';\nimport { GeneralOverlayButton } from '../OverlayComponents/Overlay/GeneralOverlayButton';\nimport { getParentPathByType, getParentPathByTypes } from '../pluginsUtils/getPathUtils';\nimport { getEditorEventEmitter } from '../table/selection';\n\nexport const insertImage = (editor: any, source: string = '', paths: number[] = editor.selection?.focus?.path, linkSource?: string) => {\n  console.log(paths);\n  let selection, path;\n  if ((selection = getSlateSlection(editor.docId))) {\n    path = selection.focus.path;\n  }\n  const element = {\n    type: ELTYPE.IMAGE,\n    source,\n    linkSource,\n    children: [{ text: '' }],\n    id: createUUID(),\n  };\n  element.source && delete element.linkSource;\n\n  try {\n    const imagePath = getParentPathByTypes(editor, path, TABBABLE_TYPES);\n    console.log('imagePath', imagePath);\n    if (imagePath) {\n      const node: any = Node.has(editor, imagePath) && Node.get(editor, imagePath);\n      console.log(' node', node, path);\n      insertCard(editor, element, imagePath);\n    }\n  } catch (error) {\n    message.error('插入图片时，发生错误');\n    console.error(error);\n  }\n};\n\nexport async function translateImgUrlToBase64(docId: string, url: string | ArrayBuffer, callback: Function) {\n  let myHeaders = new Headers();\n  myHeaders.append('Cookie', 'principal_dev=TripDocs001;; GUID=09031045110005913542; Cookie_1=value');\n  myHeaders.append('Content-Type', 'application/json');\n  let raw = JSON.stringify({ url: url, docId: docId });\n  let requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n  };\n\n  const fetchUrl = getCache(docId, 'options')?.imgUploadUrl || '/tripdocs/api/docs/doc/uploadImg/byLink';\n  fetch(fetchUrl, requestOptions)\n    .then(response => response.json())\n    .then(result => {\n      Promise.resolve(callback(result?.data?.source));\n    })\n    .catch(error => console.log('error', error));\n}\n\nexport async function translateImgFileToBase64(filePath: string, callback: Function) {\n  const result: any = {};\n  Promise.resolve(callback(result?.data?.source));\n}\n\nfunction dealImage(base64: string, w: number, callback: Function) {\n  let newImage = new Image();\n  newImage.crossOrigin = 'Anonymous';\n  let quality = 0.8;\n  newImage.src = base64;\n  newImage.setAttribute('crossOrigin', 'Anonymous');\n  let imgWidth, imgHeight;\n  newImage.onload = function () {\n    imgWidth = (this as any).width;\n    imgHeight = (this as any).height;\n    const newW = w || (this as any).width;\n    let canvas = document.createElement('canvas');\n    let ctx = canvas.getContext('2d');\n    if (Math.max(imgWidth, imgHeight) > newW) {\n      if (imgWidth > imgHeight) {\n        canvas.width = newW;\n        canvas.height = (newW * imgHeight) / imgWidth;\n      } else {\n        canvas.height = newW;\n        canvas.width = (newW * imgWidth) / imgHeight;\n      }\n    } else {\n      canvas.width = imgWidth;\n      canvas.height = imgHeight;\n      quality = 0.6;\n    }\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.drawImage(this as any, 0, 0, canvas.width, canvas.height);\n    let base64 = canvas.toDataURL('image/jpeg', quality);\n\n    callback(base64);\n  };\n}\n\nexport async function translateImgToBase64Native(url: string | ArrayBuffer, callback: Function) {\n  let canvas = document.createElement('canvas');\n  let context = canvas.getContext('2d');\n  let img: HTMLImageElement = new Image();\n  img.crossOrigin = 'Anonymous';\n  img.onload = function () {\n    canvas.width = img.width;\n    canvas.height = img.height;\n    context.drawImage(img, 0, 0);\n    let URLData = canvas.toDataURL('image/png');\n    const imageUrl = URLData;\n\n    const isLt10M = imageUrl.length / 1024 / 1024 < 10;\n    if (!isLt10M) {\n      message.error('图片大小应小于 10MB!');\n      return;\n    }\n    callback(imageUrl);\n  };\n  img.src = url.toString();\n}\n\nexport async function translateImgToBase64(docId: string, url: string | ArrayBuffer, callback: Function) {\n  let canvas = document.createElement('canvas');\n  let context = canvas.getContext('2d');\n  let img: HTMLImageElement = new Image();\n  img.crossOrigin = 'Anonymous';\n  img.onload = function () {\n    canvas.width = img.width;\n    canvas.height = img.height;\n    context.drawImage(img, 0, 0);\n    let URLData = canvas.toDataURL('image/png');\n    const imageUrl = URLData;\n\n    const isLt10M = imageUrl.length / 1024 / 1024 < 10;\n    if (!isLt10M) {\n      message.error('图片大小应小于 10MB!');\n      return;\n    }\n    requestUploadImg(imageUrl, callback, docId);\n  };\n  img.src = url.toString();\n}\n\nexport function insertImgFile(editor: any, docId: string) {\n  const input = document.createElement('input');\n  input.type = 'file';\n  input.accept = '.png,.jpeg,.jpg,.gif,.ico';\n  input.addEventListener('change', (event: any) => {\n    const file = event.target.files[0];\n    if (event.target.files[0].size > 10 * 1024 * 1024) {\n      message.error('文件不能大于10mb');\n      return;\n    }\n\n    readCopyFile(editor.docId, file, source => {\n      insertImageFromSource(editor, source);\n    });\n  });\n  input.click();\n}\n\nfunction requestUploadImg(imageUrl: string, callback: Function, docId: string) {\n  let myHeaders = new Headers();\n  myHeaders.append('Cookie', 'principal_dev=TripDocs001;; GUID=09031045110005913542; Cookie_1=value');\n  myHeaders.append('Content-Type', 'application/json');\n  let raw = JSON.stringify({ type: 'upload', docId: docId, base64: imageUrl });\n  let requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n  };\n  const fetchUrl = getCache(docId, 'options')?.imgUploadUrl || '/tripdocs/api/docs/doc/uploadImg';\n  fetch(fetchUrl, requestOptions)\n    .then(response => response.json())\n    .then(result => {\n      callback && callback(result?.data?.source);\n    })\n    .catch(error => {\n      console.log('error', error);\n      message.destroy();\n      message.error('图片上传失败，请检查网络后重试');\n    });\n}\nexport function isImageBase64(text: string) {\n  return text.indexOf('data:image/') === 0;\n}\nfunction insertImageFromSource(editor: any, source: string) {\n  if (getCache(editor.docId, 'options')?.isInternet) {\n    insertImage(editor, undefined, undefined, source);\n  } else {\n    insertImage(editor, source);\n  }\n}\n\nfunction setImageNodeFromSource(editor: any, source: string, path: number[]) {\n  if (getCache(editor.docId, 'options')?.isInternet) {\n    Transforms.setNodes(editor, { linkSource: source } as Partial<Node>, { at: path });\n  } else {\n    Transforms.setNodes(editor, { source, linkSource: undefined } as Partial<Node>, { at: path });\n  }\n}\n\nfunction deserializeCopyImage(editor: any, files: any[]) {\n  for (const file of files) {\n    const [mime] = file.type.split('/');\n    console.log('imgplugins insertData file mime', mime);\n    if (mime === ELTYPE.IMAGE) {\n      readCopyFile(editor.docId, file, source => {\n        insertImageFromSource(editor, source);\n      });\n    }\n  }\n}\nfunction readCopyFile(docId: string, file: any, callback: Function) {\n  const reader = new FileReader();\n  reader.addEventListener('load', () => {\n    const url = reader.result;\n    translateImgToBase64(docId, url, function (source: string) {\n      callback && callback(source);\n    });\n  });\n\n  reader.readAsDataURL(file);\n}\n\nexport const withImages = (editor: any) => {\n  const { isVoid, insertData, deleteBackward, deleteForward, deleteFragment, isInline } = editor;\n  editor.isVoid = (element: any) => {\n    return element.type === ELTYPE.IMAGE ? true : isVoid(editor);\n  };\n\n  editor.insertData = (data: any) => {\n    insertData(data);\n\n    return;\n  };\n  return editor;\n};\n\nexport const isImageUrl = (urlStr: string) => {\n  if (!urlStr) return false;\n  const url = urlStr.trim();\n\n  if (!isUrl(url)) return false;\n  const ext = new URL(url).pathname.split('.').pop();\n  return [...imageExtensions, 'image'].includes(ext);\n};\n\ninterface ImageProps {\n  attributes: any;\n  children: any;\n  element: any;\n  editor: any;\n  textAlign: any;\n}\n\nexport const SlateImage: React.FC<any> = ({ attributes, children, element, editor, textAlign }: ImageProps) => {\n  const { source, linkSource: lSource } = element;\n  const [data, setData] = useState(lSource);\n  const [show, setShow] = useState(false);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [showPreview, setShowPreview] = useState(false);\n\n  const [isOverElement, setIsOverElement] = useState(false);\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n\n  useEffect(() => {\n    const docId = editor?.docId || '';\n    if (element.linkSource) {\n      console.log('isImageUrl', element);\n      if (!element) {\n        return;\n      }\n      const path = ReactEditor.findPath(editor, element);\n      if (element.linkSource?.indexOf('http') === 0) {\n        if (window.tripdocs.editorsMap[docId]?.isInElectron) {\n          let url = element.linkSource;\n          translateImgToBase64Native(url.trim(), function (source: string) {\n            setData(source);\n          });\n          return;\n        }\n\n        element.linkSource && setData(element.linkSource);\n        return;\n      } else if (element.linkSource?.indexOf('file') === 0) {\n        translateImgFileToBase64(element.linkSource, function (source: string) {\n          Transforms.setNodes(editor, { source, linkSource: undefined } as Partial<Node>, { at: path });\n        });\n      } else if (isImageBase64(element.linkSource)) {\n        console.log('isImageBase64');\n\n        requestUploadImg(\n          element.linkSource,\n          source => {\n            setImageNodeFromSource(editor, source, path);\n          },\n          docId\n        );\n      }\n\n      return;\n    }\n    requestDownloadImg(docId, element);\n  }, [source]);\n\n  useEffect(() => {\n    const docId = editor?.docId || '';\n\n    getEditorEventEmitter(docId).emit('updateCommentTop', docId);\n\n    return () => {};\n  }, [data]);\n\n  function requestDownloadImg(docId: string, element: any) {\n    if (getCache(docId, 'options')?.isInternet || !element.source) {\n      console.log('no resource, isInternet:', getCache(docId, 'options')?.isInternet, ', source:', source);\n      return;\n    }\n    let myHeaders = new Headers();\n    myHeaders.append('Cookie', 'principal_dev=TripDocs001;; GUID=09031045110005913542; Cookie_1=value');\n    myHeaders.append('Content-Type', 'application/json');\n\n    let raw = JSON.stringify({ type: 'get', path: element.source });\n\n    let requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: raw,\n    };\n\n    const fetchUrl = getCache(docId, 'options')?.imgUploadUrl || '/tripdocs/api/docs/doc/uploadImg';\n    fetch(fetchUrl, requestOptions)\n      .then(response => response.json())\n      .then(result => {\n        result?.data?.base64 && setData(result.data.base64);\n      })\n      .catch(error => console.log('error', error));\n  }\n\n  const _onMouseDown = e => {\n    console.log('[currentTarget]', e.currentTarget, e.target, e.target.tagName);\n    console.log('[SlateImage] _onMouseDown', e);\n\n    if (e.target.tagName == 'svg' || e.target.tagName == 'path') {\n      e.stopPropagation();\n      e.preventDefault();\n      setShow(true);\n      setShowPreview(true);\n    } else if (e.target.tagName == 'IMG') {\n      setShow(true);\n    } else if (e.target.tagName === 'DIV' && e.target.classList.contains('imageContainer-inner-wrap')) {\n      e.stopPropagation();\n      e.preventDefault();\n      setShow(false);\n\n      console.log('e.target 非图片区域', e.target, e.target.classList);\n      let division: 'left' | 'right' = null;\n      const { left, right } = e.target.getBoundingClientRect();\n      const middle = (left + right) / 2;\n      if (e.clientX < middle) {\n        division = 'left';\n      } else {\n        division = 'right';\n      }\n      if (division) {\n        const path = ReactEditor.findPath(editor, element);\n        const parentPath = getParentPathByType(editor, path, ELTYPE.CARD);\n        console.log('division', division, path, parentPath);\n        switch (division) {\n          case 'left':\n            Transforms.select(editor, [...path.slice(0, -1), path.slice(-1)[0] - 1]);\n            break;\n          case 'right':\n            Transforms.select(editor, [...parentPath, 2, 0]);\n            break;\n          default:\n            break;\n        }\n      }\n    } else {\n      e.stopPropagation();\n      e.preventDefault();\n      setShow(false);\n    }\n  };\n\n  const _onDrawing = isDrawing => {\n    setIsDrawing(isDrawing);\n  };\n\n  return (\n    <>\n      <div\n        {...attributes}\n        contentEditable={false}\n        data-ignore-slate\n        className={cx(\n          'ignore-toggle-readonly',\n          'imageContainer-outer-wrap',\n          css`\n            background: none;\n            border: 1px solid transparent;\n          `\n        )}\n        id={element.id}\n        onMouseDown={_onMouseDown}\n        onDragOverCapture={e => {\n          console.log('[image] onDragOverCapture', e.target);\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }}\n        onMouseOver={() => {\n          setIsOverElement(true);\n        }}\n        onMouseLeave={() => {\n          setTimeout(() => {\n            setIsOverElement(false);\n          }, 400);\n        }}\n      >\n        <div\n          contentEditable={false}\n          data-ignore-slate\n          className={cx(\n            css`\n              display: flex;\n              flex-direction: row;\n              justify-content: ${textAlign === 'left' ? 'flex-start' : textAlign === 'right' ? 'flex-end' : 'center'};\n              align-items: center;\n              margin: 16px 0;\n            `,\n            'ignore-toggle-readonly',\n            'imageContainer-inner-wrap'\n          )}\n        >\n          <MyImage\n            element={element}\n            editor={editor}\n            data={data}\n            isShow2={show}\n            onDrawing={_onDrawing}\n            isDrawing2={isDrawing}\n            showPreview={showPreview}\n            textAlign={textAlign}\n            overlayRefDom={overlayRefDom}\n            setOverlayRefDom={setOverlayRefDom}\n          />\n          <div>{children}</div>\n        </div>\n      </div>\n      <DragHandle\n        editor={editor}\n        isOverElement={isOverElement}\n        docId={editor?.docId || ''}\n        overlayRefDom={overlayRefDom}\n        findDomToEl={dom => dom?.closest('[data-slate-node=\"element\"]')?.children[0].children[0]}\n      />\n    </>\n  );\n};\n\nfunction MyImage(props: any) {\n  const { data, element, editor, isShow2, onDrawing, isDrawing2, textAlign, overlayRefDom, setOverlayRefDom } = props;\n  const selected2 = useSelected();\n  const focused2 = useFocused();\n\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n\n  const [width, setWidth] = useState(element.width);\n\n  function getMP(e: any) {\n    let e = e || window.event;\n    return {\n      x: e.pageX || e.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft),\n      y: e.pageY || e.clientY + (document.documentElement.scrollTop || document.body.scrollTop),\n    };\n  }\n  const [show, setShow] = useState(false);\n  let target: { x: any; y: any } = null;\n  const centerPoint = {\n    x: 0,\n    y: 0,\n    point1: null,\n    point4: null,\n  };\n\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  useEffect(() => {\n    const dom = editor && ReactEditor.toDOMNode(editor, element);\n    if (dom) {\n      const imgContainerDom = dom.querySelector('.imageContainer');\n      setOverlayRefDom(imgContainerDom);\n      setOverlayRefRect(imgContainerDom.getBoundingClientRect());\n    }\n  }, [selected2, textAlign]);\n\n  function start() {\n    const ids = 'point';\n\n    for (let i = 0; i < 4; i++) {\n      const index = i + 1;\n      const p = document.getElementById(element.id + ids + index);\n      if (index === 1 || index === 4) {\n        const key: any = ids + index;\n        centerPoint[key] = p.getBoundingClientRect();\n      }\n      p.onmouseover = logMouseOver;\n      p.onmouseout = logMouseOut;\n      p.onmousedown = logMouseDown;\n    }\n  }\n\n  function logMouseOver() {\n    const textContent = 'MOUSE OVER detected';\n    console.log(textContent);\n  }\n\n  function logMouseOut() {\n    const textContent = 'MOUSE OUT detected';\n    console.log(textContent);\n  }\n\n  function logMouseDown(e: any) {\n    document.body.onmousemove = logMouseMove;\n    let m = getMP(e);\n    target = m;\n    setShow(true);\n\n    const textContent = 'MOUSE Down detected';\n    console.log(textContent, target);\n  }\n\n  function exce(m: { y: number }) {\n    start();\n    centerPoint.x = (centerPoint.point1.x + centerPoint.point4.x) / 2;\n    centerPoint.y = (centerPoint.point1.y + centerPoint.point4.y) / 2;\n    const mWidth = centerPoint.point4.x - centerPoint.point1.x;\n    const mHeight = centerPoint.point4.y - centerPoint.point1.y;\n    let value = Math.abs(m.y - centerPoint.y) - mHeight / 2;\n    console.log(centerPoint.point1.y + '+' + centerPoint.point4.y, 'get ', centerPoint.y, 'w and h', mWidth, mHeight, 'value', value);\n    if (value > 0) {\n      value = 5;\n    } else if (value < 0) {\n      value = -5;\n    }\n    let targetW = mWidth + value;\n    if (targetW > 600) {\n      targetW = 600;\n    }\n    if (targetW < 10) {\n      targetW = 10;\n    }\n    if (document.body.onmousemove) {\n      Transforms.setNodes(editor, { width: targetW } as any);\n      setWidth(targetW);\n    }\n  }\n\n  function debounce(func: { (m: any): void; apply?: any }, delay: number) {\n    let timeout: NodeJS.Timeout;\n    return function (e: any) {\n      clearTimeout(timeout);\n      let context = this,\n        args = arguments;\n      timeout = setTimeout(function () {\n        console.log('----');\n        func.apply(context, args);\n      }, delay);\n    };\n  }\n  const logMouseMove = (e: any) => {\n    console.log('logMouseMove', target);\n    if (target) {\n      let m = getMP(e);\n      let validate = debounce(function (m: any) {\n        exce(m);\n      }, 50);\n      validate(m);\n    }\n  };\n  function logMouseUp() {\n    document.body.onmousemove = null;\n    let textContent = 'MOUSE Up detected';\n    target = null;\n    setShow(false);\n  }\n  let isDrawing = false;\n  let x = 0;\n  let y = 0;\n  let clientRect: any = {};\n  let dom;\n  let percent;\n  let dataId;\n  const isShow =\n    editor?.selection &&\n    ReactEditor.hasRange(editor, editor.selection) &&\n    Range.isCollapsed(editor.selection) &&\n    (isDrawing2 || (selected2 && focused2 && isShow2));\n  const style1: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    top: -6,\n    left: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nwse-resize',\n  };\n  const style2: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    bottom: -6,\n    left: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nesw-resize',\n  };\n  const style3: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    top: -6,\n    right: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nesw-resize',\n  };\n  const style4: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    bottom: -6,\n    right: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nwse-resize',\n  };\n  const style0: any = {\n    boxShadow: 'none',\n    position: 'relative',\n    display: 'inline-block',\n    width: element.width,\n    height: element.height,\n  };\n\n  const [showPreview, setShowPreview] = useState(false);\n\n  const fn = (e: any) => {\n    console.log('[fn]', e);\n    if (isDrawing === true) {\n      console.log('[x,y]', e.clientX - x, e.clientY - y);\n\n      let diffw = e.clientX - x;\n      let diffh = e.clientY - y;\n      let w = clientRect.width;\n      let h = clientRect.height;\n      let _left = 0;\n      let _top = 0;\n      let _width = 0;\n      let _height = 0;\n      console.log(diffw, diffh);\n\n      if (diffh / diffw > percent) {\n        diffh = percent * diffw;\n      } else {\n        diffw = diffh / percent;\n      }\n\n      if (dataId == 'point1') {\n        _left = diffw;\n        _top = diffh;\n        _width = w - diffw;\n        _height = h - diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        if (_top >= h - 9) {\n          _top = h;\n        }\n        if (_left >= w - 9) {\n          _left = w;\n        }\n        console.log('[point1]', _top, h);\n        dom.style.left = _left + 'px';\n        dom.style.top = _top + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.height = _height + 'px';\n      } else if (dataId == 'point2') {\n        _left = -diffw;\n        _top = 0;\n        _width = w + diffw;\n        _height = h + diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n\n        if (_left >= w - 9) {\n          _left = w;\n        }\n\n        dom.style.left = _left + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.top = _top + 'px';\n        dom.style.height = _height + 'px';\n      } else if (dataId == 'point3') {\n        _left = 0;\n        _top = diffh;\n        _width = w - diffw;\n        _height = h - diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        if (_top >= h - 9) {\n          _top = h;\n        }\n\n        dom.style.top = _top + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.left = _left + 'px';\n        dom.style.height = _height + 'px';\n      } else if (dataId == 'point4') {\n        _left = 0;\n        _top = 0;\n        _width = w + diffw;\n        _height = h + diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        dom.style.left = _left + 'px';\n        dom.style.top = _top + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.height = _height + 'px';\n      }\n\n      dom.querySelector('.title').innerHTML = Math.round(w) + ' X ' + Math.round(h);\n      dom.style.lineHeight = dom.style.height;\n    }\n  };\n\n  const fn2 = () => {\n    document.removeEventListener('mousemove', fn);\n    document.removeEventListener('mouseup', fn2);\n    isDrawing = false;\n    onDrawing(isDrawing);\n    x = 0;\n    y = 0;\n    Transforms.setNodes(editor, { width: dom.style.width, height: dom.style.height } as any);\n    clientRect = {};\n    dom.style.display = 'none';\n    dom.style.left = '0px';\n    dom.style.top = '0px';\n  };\n  const _onMouseDown = e => {\n    console.log('[_onMouseDown]', e.target.getAttribute('id'));\n    x = e.clientX;\n    y = e.clientY;\n    isDrawing = true;\n    onDrawing(isDrawing);\n    document.addEventListener('mousemove', fn);\n    document.addEventListener('mouseup', fn2);\n    dom = e.target.parentNode;\n    dom.style.display = 'block';\n    clientRect = dom.getBoundingClientRect();\n    percent = clientRect.height / clientRect.width;\n    dataId = e.target.getAttribute('data-id');\n  };\n  const _onMouseUp = e => {};\n  const _onMouseMove = e => {};\n\n  const _onClick = e => {\n    console.log('[currentTarget]', e.currentTarget, e.target, e.target.tagName);\n    setShowPreview(true);\n\n    let p = e.currentTarget.parentElement.parentElement;\n    let m = p.getElementsByClassName('ant-image-mask')[0];\n    if (m) {\n      m.click();\n    } else {\n      (function (p) {\n        setTimeout(function () {\n          p.getElementsByClassName('ant-image-mask')[0].click();\n        });\n      })(p);\n    }\n  };\n  return (\n    <div style={style0} className=\"imageContainer\" contentEditable={false}>\n      {data ? (\n        <>\n          <div\n            contentEditable={false}\n            data-ignore-slate\n            className={cx('mask', 'ignore-toggle-readonly')}\n            style={{\n              background: 'black',\n              opacity: 0.5,\n              color: 'white',\n              zIndex: 9,\n              position: 'absolute',\n              display: isShow ? 'block' : 'none',\n              textAlign: 'center',\n              justifyContent: 'center',\n              alignItems: 'center',\n            }}\n          >\n            <div\n              contentEditable={false}\n              data-ignore-slate\n              className={cx(\n                'preview',\n                'Tripdocs-zoom-in',\n                'ignore-toggle-readonly',\n                css`\n                  transform: translate(-50%, -50%);\n                  top: 50%;\n                  left: 50%;\n                  position: absolute;\n                  z-index: 500;\n                `\n              )}\n              onMouseDown={_onClick}\n            ></div>\n            <div\n              contentEditable={false}\n              data-ignore-slate\n              className={cx(\n                'title',\n                'ignore-toggle-readonly',\n                css`\n                  position: absolute;\n                  top: 50%;\n                  left: 50%;\n                  transform: translate(-50%, -20%);\n                `\n              )}\n            ></div>\n            {isReadOnly ? null : element && element.id ? (\n              <>\n                <div\n                  id={element.id + 'point1'}\n                  style={style1}\n                  onMouseDown={_onMouseDown}\n                  onMouseUp={_onMouseUp}\n                  onMouseMove={_onMouseMove}\n                  className={'dot'}\n                  data-id=\"point1\"\n                ></div>\n                <div\n                  id={element.id + 'point2'}\n                  style={style2}\n                  onMouseDown={_onMouseDown}\n                  onMouseUp={_onMouseUp}\n                  onMouseMove={_onMouseMove}\n                  className={'dot'}\n                  data-id=\"point2\"\n                ></div>\n                <div\n                  id={element.id + 'point3'}\n                  style={style3}\n                  onMouseDown={_onMouseDown}\n                  onMouseUp={_onMouseUp}\n                  onMouseMove={_onMouseMove}\n                  className={'dot'}\n                  data-id=\"point3\"\n                ></div>\n                <div\n                  id={element.id + 'point4'}\n                  style={style4}\n                  onMouseDown={_onMouseDown}\n                  onMouseUp={_onMouseUp}\n                  onMouseMove={_onMouseMove}\n                  className={'dot'}\n                  data-id=\"point4\"\n                ></div>\n              </>\n            ) : null}\n          </div>\n          <AntdImage preview={isReadOnly || showPreview} src={data} style={{ width: '100%', height: '100%' }} />\n        </>\n      ) : (\n        <Empty />\n      )}\n\n      <Overlay\n        show={isShow}\n        docId={editor?.docId || ''}\n        placement=\"top\"\n        overlayRefDom={overlayRefDom}\n        left={overlayRefRect?.left}\n        distance={38}\n        bordered\n      >\n        <div\n          className={cx(\n            'overlay-button-wrap',\n            css`\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n            `\n          )}\n        >\n          <GeneralOverlayButton\n            title={f('download')}\n            icon={<IconBtn className=\"Tripdocs-download\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              const elDom = editor && ReactEditor.toDOMNode(editor, element);\n              const imageDom: HTMLImageElement = elDom && elDom.querySelector('.ant-image > img');\n              let imageSource = imageDom && imageDom.src;\n\n              if (imageSource) {\n                const imgSource = element.source || element.linkSource;\n                const filename = imgSource.split('/').pop();\n                if (imageSource.indexOf('http') > -1) {\n                  translateImgToBase64Native(imageSource, function name(urlData: any) {\n                    downloadFile(urlData, filename);\n                  });\n                } else {\n                  downloadFile(imageSource, filename);\n                }\n              }\n            }}\n          />\n          <GeneralOverlayButton\n            title={f('copy')}\n            icon={<IconBtn className=\"Tripdocs-duplicate\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              copyImageForNode(editor, element);\n            }}\n          />\n          {!isReadOnly && (\n            <GeneralOverlayButton\n              title={f('delete')}\n              icon={<IconBtn className=\"Tripdocs-delete\" style={{ fontSize: '15px' }} />}\n              onMouseDown={e => {\n                e.preventDefault();\n                const path = ReactEditor.findPath(editor, element);\n                if (path) {\n                  Transforms.removeNodes(editor, { at: path });\n                  console.log('[delete]', path);\n                }\n              }}\n            />\n          )}\n        </div>\n      </Overlay>\n    </div>\n  );\n}\nexport function copyImageForNode(editor: ReactEditor, element: any) {\n  selectTargetForNode(editor, element);\n  setTimeout(() => {\n    document.execCommand('copy');\n  });\n}\nexport function copyImage(editor: ReactEditor, path: number[]) {\n  selectTargetForPath(editor, path);\n  setTimeout(() => {\n    document.execCommand('copy');\n  });\n}\nexport function cutImage(editor: ReactEditor, path: number[]) {\n  selectTargetForPath(editor, path);\n  setTimeout(() => {\n    document.execCommand('copy');\n    Transforms.delete(editor, { at: path });\n  });\n}\nexport function selectTargetForPath(editor: any, tPath) {\n  const startPoint = Editor.end(editor, Editor.previous(editor, { at: tPath })[1]);\n  const endPoint = Editor.start(editor, Editor.next(editor, { at: tPath })[1]);\n  Transforms.select(editor, { anchor: startPoint, focus: endPoint });\n}\nfunction selectTargetForNode(editor: any, element) {\n  const path = ReactEditor.findPath(editor, element);\n  selectTargetForPath(editor, path);\n}\n","import { css, cx } from '@emotion/css';\nimport { Node, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor, useSelected } from '@src/components/slate-packages/slate-react';\nimport { f } from '@src/resource/string';\nimport { getCache, getGlobalCache } from '@src/utils/cacheUtils';\nimport { createUUID } from '@src/utils/randomId';\nimport { message } from 'antd';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport myFetch from '../../../../utils/request';\nimport { insertCard } from '../Card';\nimport { IconBtn } from '../Components';\nimport { ELTYPE } from '../config';\nimport { translateImgToBase64Native } from '../Image/imagePlugins';\nimport { Overlay } from '../OverlayComponents/Overlay';\nimport { GeneralOverlayButton } from '../OverlayComponents/Overlay/GeneralOverlayButton';\nimport { getParentPathByType } from '../pluginsUtils/getPathUtils';\n\nconst setFile = (editor: any, data: any, file_name: string, docId: string) => {\n  const url = `/tripdocs/api/docs/source/set`;\n  const docContent = data;\n  let headers = new Headers();\n  headers.append('Content-Type', 'application/json');\n\n  const remoteDre = `tripdoc/file/${docId}/${file_name}.json`;\n\n  const options = {\n    method: 'POST',\n    headers: headers,\n    body: JSON.stringify({\n      source: remoteDre,\n      doc: docContent,\n      env: 'fws',\n    }),\n  };\n\n  myFetch(url, options).then((res: any) => {\n    message.success('文档内容已保存');\n    const obj: any = {\n      type: ELTYPE.FILE,\n      fileName: file_name,\n      source: res.docContent.name.slice(4),\n      children: [\n        {\n          text: '',\n        },\n      ],\n      id: createUUID(),\n    };\n    insertCard(editor, obj);\n  });\n};\n\nconst handleDownload = (title: string, dataUrl: string) => {\n  forceDownloadFile(dataUrl, `${title}`);\n};\n\nfunction forceDownload(blob, filename) {\n  let a = document.createElement('a');\n  a.download = filename;\n  a.href = blob;\n\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n}\n\nexport function forceDownloadFile(url, filename) {\n  if (!filename) filename = url.split('\\\\').pop().split('/').pop();\n\n  fetch(url, {\n    headers: new Headers({\n      Origin: location.origin,\n    }),\n    mode: 'cors',\n  })\n    .then((response: any) => {\n      return response.blob();\n    })\n    .then(blob => {\n      let blobUrl = window.URL.createObjectURL(blob);\n\n      forceDownload(blobUrl, filename);\n    })\n    .catch(e => console.error(e));\n}\n\nexport const downloadFile = (url, filename) => {\n  const link = document.createElement('a');\n  link.style.display = 'none';\n  link.href = url;\n  link.download = filename;\n  link.click();\n};\n\nexport function insertFile(editor: any, docId: string) {\n  const input = document.createElement('input');\n  input.type = 'file';\n\n  input.addEventListener('change', (event: any) => {\n    const file = event.target.files[0];\n    insertFileObject(editor, file);\n  });\n  input.click();\n}\n\nexport function formatFileSize(size) {\n  return size > 1024 * 1024 ? Math.round(size / 1024 / 1024) + 'M' : size > 1024 ? Math.round(size / 1024) + 'K' : size + 'B';\n}\n\nfunction getFile(params: any, docId: string) {\n  const { url, fileName } = params;\n  const useTripdocsFileUpload: boolean = getCache(docId, 'options')?.useTripdocsFileUpload;\n\n  if (useTripdocsFileUpload) {\n    const urlSrc = `/tripdocs/api/docs/source/get`;\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    const options = {\n      method: 'POST',\n      headers: headers,\n      body: JSON.stringify({ source: params.url, env: 'fws' }),\n    };\n\n    myFetch(urlSrc, options).then((res: any) => {\n      forceDownload(res.docContent, fileName);\n    });\n    return;\n  }\n  if (url && (fileName.endsWith('.png') || fileName.endsWith('.jpg') || fileName.endsWith('.jpeg'))) {\n    translateImgToBase64Native(url, function name(urlData: any) {\n      downloadFile(urlData, fileName);\n    });\n  } else {\n    downloadFile(url, fileName);\n  }\n}\n\nexport const FileComponent = ({ attributes, children, element, editor }) => {\n  const { docId, isReadOnly, isMobile } = React.useContext(TripdocsSdkContext);\n  const fileRef = useRef(null);\n  const isSelected = useSelected();\n\n  const [showOverlay, setShowOverlay] = useState(false);\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  const handleClickOutside = useCallback(\n    (event: any) => {\n      const file: Element = fileRef?.current;\n      if (file && file.contains(event.target)) {\n        setShowOverlay(true);\n      } else {\n        setShowOverlay(false);\n      }\n    },\n    [fileRef?.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [isReadOnly]);\n\n  const updateOverlay = useCallback(() => {\n    const fileDom = fileRef?.current;\n    if (fileDom) {\n      setOverlayRefDom(fileDom);\n      setOverlayRefRect(fileDom.getBoundingClientRect());\n      const { left, top, bottom, right } = fileDom.getBoundingClientRect();\n    }\n  }, [fileRef?.current]);\n\n  useEffect(() => {\n    if (fileRef?.current) {\n      updateOverlay();\n    }\n  }, [fileRef?.current]);\n\n  useEffect(() => {\n    if (fileRef?.current) {\n      const div = fileRef.current;\n\n      div.querySelectorAll(\"[contenteditable='true']\").forEach((item: any) => {\n        item.setAttribute('contenteditable', 'false');\n      });\n      updateOverlay();\n    }\n  }, [children]);\n\n  return (\n    <>\n      <div\n        {...attributes}\n        id={element.id}\n        ref={fileRef}\n        data-ignore-slate\n        contentEditable={false}\n        suppressContentEditableWarning\n        className=\"ignore-toggle-readonly\"\n        onMouseEnter={e => {\n          const isMousePressed = getCache(docId, 'mouseIsPress');\n          if (isMousePressed && editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isExpanded(editor.selection)) {\n            const { anchor } = editor.selection;\n            const path = ReactEditor.findPath(editor, element);\n            const cardPath = getParentPathByType(editor, path, ELTYPE.CARD);\n\n            if (cardPath) {\n              const focus = { path: [...cardPath, 2], offset: 0 };\n              Transforms.select(editor, { anchor, focus });\n            }\n          }\n        }}\n      >\n        <div\n          data-ignore-slate\n          contentEditable={false}\n          suppressContentEditableWarning\n          className={cx(\n            'ignore-toggle-readonly',\n            css`\n              color: #096dd9;\n              cursor: pointer;\n              box-shadow: 0px 0px 2px 0px #ddd;\n              margin: 12px 0;\n              border-radius: 4px;\n              padding: 10px 5px;\n\n              &:hover {\n                background-color: #f0f0f0;\n              }\n              &:before {\n                content: '📄';\n                margin-right: 8px;\n              }\n            `\n          )}\n          style={{ backgroundColor: isSelected ? '#f0f0f0' : null }}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            if (editor) {\n              const isEmptyFile = element.name === '#empty_file';\n              const path = ReactEditor.findPath(editor, element);\n              Transforms.select(editor, path);\n\n              const cardPath = getParentPathByType(editor, path, ELTYPE.CARD);\n              Transforms.select(editor, cardPath);\n              Transforms.collapse(editor, { edge: 'end' });\n\n              if (!isEmptyFile) {\n                setShowOverlay(true);\n              }\n              return;\n            }\n          }}\n        >\n          <span>{element.fileName}</span>\n          {element.fileSize && (\n            <span\n              contentEditable={false}\n              className={css`\n                margin-left: 10px;\n                color: #a0a0a0;\n                font-size: 12px;\n              `}\n            >\n              {element.fileSize}\n            </span>\n          )}\n          <span className={cx('ignore-toggle-readonly')} contentEditable={false} style={{ display: 'none', userSelect: 'none' }}>\n            {children}\n          </span>\n        </div>\n      </div>\n      <Overlay\n        show={showOverlay}\n        docId={editor?.docId || ''}\n        overlayRefDom={overlayRefDom}\n        left={overlayRefRect?.left}\n        placement={'top'}\n        distance={40}\n        bordered\n      >\n        <GeneralOverlayButton\n          title={f('download')}\n          icon={<IconBtn className=\"Tripdocs-align_bottom\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            if (isMobile) {\n              message.info('请前往桌面端下载');\n              return;\n            }\n            getFile({ url: element.url || element.source, fileName: element.fileName }, docId);\n          }}\n        />\n        {!isReadOnly && (\n          <GeneralOverlayButton\n            title={f('cut')}\n            icon={<IconBtn className=\"Tripdocs-cut\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              e.stopPropagation();\n\n              const path = ReactEditor.findPath(editor, element);\n              if (path.length < 5) {\n                const cardNode = Node.get(editor, path.slice(0, -1));\n                try {\n                  const input = document.createElement('input');\n                  input.oncopy = function (e: any) {\n                    e.preventDefault();\n\n                    e.clipboardData.setData('text/plain', `${element.fileName}`);\n                    const string = JSON.stringify([cardNode]);\n                    const encoded = window.btoa(encodeURIComponent(string));\n                    e.clipboardData.setData('application/x-slate-fragment', encoded);\n                  };\n                  document.body.appendChild(input);\n                  input.select();\n                  document.execCommand('copy');\n                  document.body.removeChild(input);\n                } catch (error) {}\n                Transforms.removeNodes(editor, { at: [path[0]] });\n              }\n            }}\n          />\n        )}\n        <GeneralOverlayButton\n          title={f('copy')}\n          icon={<IconBtn className=\"Tripdocs-duplicate\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const path = ReactEditor.findPath(editor, element);\n            if (path.length < 5) {\n              const cardNode = Node.get(editor, path.slice(0, -1));\n              try {\n                const input = document.createElement('input');\n                input.oncopy = function (e: any) {\n                  e.preventDefault();\n\n                  e.clipboardData.setData('text/plain', `${element.fileName}`);\n                  const string = JSON.stringify([cardNode]);\n                  const encoded = window.btoa(encodeURIComponent(string));\n                  e.clipboardData.setData('application/x-slate-fragment', encoded);\n                };\n                document.body.appendChild(input);\n                input.select();\n                document.execCommand('copy');\n                document.body.removeChild(input);\n              } catch (error) {}\n            }\n          }}\n        />\n        {!isReadOnly && (\n          <GeneralOverlayButton\n            title={f('delete')}\n            icon={<IconBtn className=\"Tripdocs-delete\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              e.stopPropagation();\n\n              const path = ReactEditor.findPath(editor, element);\n              if (path.length < 5) {\n                Transforms.removeNodes(editor, { at: [path[0]] });\n              }\n            }}\n          />\n        )}\n      </Overlay>\n    </>\n  );\n};\n\nexport function insertFileObject(editor: any, file: any) {\n  const { docId } = editor;\n  const file_name = file.name;\n  const file_size = (file.size && formatFileSize(file.size)) || '0B';\n  const useTripdocsFileUpload: boolean = getCache(docId, 'options')?.useTripdocsFileUpload;\n\n  const file_reader = new FileReader();\n  file_reader.onload = event => {\n    const str = event.target.result;\n    console.log('filePlugins insertFile 弹出窗口，触发上传 str', event, file_name);\n\n    setFile(editor, str, file_name, docId);\n  };\n  file_reader.readAsDataURL(file);\n}\n","import { css, cx } from '@emotion/css';\nimport React from 'react';\nimport './index.less';\n\ninterface ResizeDotProps {\n  elementId: string;\n  isResizing: boolean;\n  visible: boolean;\n  metrics: { width: number; height: number };\n  onMouseDown: (e) => void;\n  onMouseUp: (e) => void;\n  onMouseMove: (e) => void;\n}\n\nexport default function ResizeDot(props: ResizeDotProps) {\n  const { elementId, visible, isResizing, metrics, onMouseDown, onMouseUp, onMouseMove } = props;\n\n  return (\n    <>\n      {isResizing && !!metrics.width && !!metrics.width ? (\n        <div\n          contentEditable={false}\n          data-ignore-slate\n          className={cx(\n            'resize-metric',\n            'ignore-toggle-readonly',\n            css`\n              width: 100%;\n              height: 100%;\n              min-width: 50px;\n              white-space: nowrap;\n              overflow: hidden;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n            `\n          )}\n        >\n          {metrics.width} x {metrics.height}\n        </div>\n      ) : null}\n      <div\n        id={elementId + '_point1'}\n        onMouseDown={onMouseDown}\n        onMouseUp={onMouseUp}\n        onMouseMove={onMouseMove}\n        className={'dot'}\n        data-visible={visible}\n        data-id=\"point1\"\n      ></div>\n      <div\n        id={elementId + '_point2'}\n        onMouseDown={onMouseDown}\n        onMouseUp={onMouseUp}\n        onMouseMove={onMouseMove}\n        className={'dot'}\n        data-visible={visible}\n        data-id=\"point2\"\n      ></div>\n      <div\n        id={elementId + '_point3'}\n        onMouseDown={onMouseDown}\n        onMouseUp={onMouseUp}\n        onMouseMove={onMouseMove}\n        className={'dot'}\n        data-visible={visible}\n        data-id=\"point3\"\n      ></div>\n      <div\n        id={elementId + '_point4'}\n        onMouseDown={onMouseDown}\n        onMouseUp={onMouseUp}\n        onMouseMove={onMouseMove}\n        className={'dot'}\n        data-visible={visible}\n        data-id=\"point4\"\n      ></div>\n    </>\n  );\n}\n","import { css, cx } from '@emotion/css';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { TooltipPlacement } from 'antd/lib/tooltip';\nimport React, { useContext, useEffect, useReducer, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { IconBtn } from '../../Components';\nimport { Overlay } from '../../OverlayComponents/Overlay';\nimport './index.less';\n\nexport const ImageInnerButton = (props: any) => {\n  const { icon, cb } = props;\n  return (\n    <div className=\"image-inner-button\" onMouseDownCapture={cb} contentEditable={false} style={{ userSelect: 'none' }}>\n      {icon}\n    </div>\n  );\n};\n\nexport const ImageInnerButtonWrap = (props: any) => {\n  const { editor, setPreviewVisible } = props;\n\n  const { isReadOnly, isMobile } = useContext(TripdocsSdkContext);\n\n  return (\n    <div className={cx('image-inner-button-wrap', isMobile ? '.imageContainer-mobile' : null)} contentEditable={false} style={{ userSelect: 'none' }}>\n      {}\n      <ImageInnerButton\n        icon={<IconBtn className=\"Tripdocs-zoom_in\" />}\n        cb={e => {\n          e.preventDefault();\n          e.stopPropagation();\n          setPreviewVisible(true);\n        }}\n      />\n    </div>\n  );\n};\n","import isUrl from 'is-url';\n\nexport function getLocationPureUrl() {\n  if (typeof location === 'object') {\n    const url = '//' + location.host + '/';\n\n    return url;\n  }\n  return '//localhost:5389/';\n}\n\nexport function judgeIsPrivate(url: string | ArrayBuffer, isReadOnly: boolean = false) {\n  if (typeof url === 'string' && url.replace(/http:|https:/, '').indexOf(getLocationPureUrl()) === 0) {\n    return true;\n  }\n  if (isReadOnly && typeof url === 'string' && (isImageBase64(url) || isUrl(url))) {\n    return true;\n  }\n\n  return false;\n}\n\nexport function isImageBase64(text: string) {\n  return text.indexOf('data:image/') === 0;\n}\n\nexport function execUrl(url: string | ArrayBuffer) {\n  let nUrl: string | ArrayBuffer = '';\n\n  if (typeof url === 'string') {\n    nUrl = url.trim();\n\n    if (url.indexOf('//localhost') != -1 && typeof location !== 'undefined') {\n      nUrl = url.replace('//localhost', '//' + location.hostname);\n    }\n  } else {\n    nUrl = url;\n  }\n  return nUrl;\n}\n","export function consumePlugins(pluginConsumer: any, plugins: Function[]): any[] {\n  let out = pluginConsumer;\n  plugins.forEach(plugin => {\n    out = process(out, plugin);\n  });\n  return out;\n}\n\nfunction process(data, curPlugin) {\n  return curPlugin(data);\n}\n","import { Editor, Element, Node, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { ELTYPE } from '../config';\nimport { createRandomId } from '../../../../utils/randomId';\nimport { removeSelection } from './selection';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\n\nconst ROW_MIN_HEIGHT = '33px';\n\nconst insertRow = (editor: Editor, selection: any) => {\n  const sel = selection;\n  const selectedCells = SEL_CELLS.get(editor) || [];\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n\n  let maxPos: any;\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let x = 0;\n    let y = 0;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[2] > x) {\n        x = path[2];\n      }\n      if (path[3] > y) {\n        y = path[3];\n      }\n    }\n    maxPos = [row, 1, x, y];\n  } else {\n    if (sel.anchor && sel.focus) {\n      maxPos = sel.focus.path[2] >= sel.anchor.path[2] ? sel.focus.path : sel.anchor.path;\n    } else {\n      return;\n    }\n  }\n  const curTablePath = [maxPos[0], 1];\n  const curTable: any = Editor.node(editor, curTablePath);\n  const curRow = [maxPos[0], 1, maxPos[2]];\n  const curRowRowspanNodes = Editor.nodes(editor, {\n    at: curRow,\n    match: (n: any) => {\n      return typeof n.colspan === 'number' && typeof n.rowspan === 'number' && !(n.colspan === 0 && n.rowspan === 0);\n    },\n  });\n  let next;\n  let isLastCount = 0;\n  while (!(next = curRowRowspanNodes.next()).done) {\n    let tempCount = 1;\n    const [curNode, curPath] = next.value as any;\n    console.log('----[curRow Node]:', curNode, curPath);\n    let pointLeftTop = { node: curNode, path: curPath };\n    while (pointLeftTop.node.rowspan === 0) {\n      const p = [pointLeftTop.path[0], 1, pointLeftTop.path[2] - 1, pointLeftTop.path[3]];\n      const [n] = Editor.node(editor, p);\n      pointLeftTop = { node: n, path: p };\n      ++tempCount;\n    }\n\n    if (tempCount === pointLeftTop.node.rowspan) {\n      isLastCount += pointLeftTop.node.colspan;\n    } else {\n      for (let i = 0; i < pointLeftTop.node.colspan; i++) {\n        console.log(\n          'for',\n          { rowspan: (pointLeftTop.node.rowspan as number) + 1 },\n          { at: [pointLeftTop.path[0], 1, pointLeftTop.path[2], pointLeftTop.path[3] + i] }\n        );\n        Transforms.setNodes(editor, JSON.parse(JSON.stringify({ rowspan: (pointLeftTop.node.rowspan as number) + 1 })), {\n          at: [pointLeftTop.path[0], 1, pointLeftTop.path[2], pointLeftTop.path[3] + i],\n        });\n      }\n    }\n  }\n\n  const selSecond = editor.selection;\n  const nodePrev: any = Node.get(editor, [maxPos[0], 1, maxPos[2]]);\n  const thisTable: any = Node.get(editor, [maxPos[0], 1]);\n\n  const col = thisTable.children[0].children.length;\n  const node = {\n    height: nodePrev.height ? nodePrev.height : ROW_MIN_HEIGHT,\n\n    type: ELTYPE.TABLE_ROW,\n    children: [] as any,\n  };\n\n  const newRowNum = (thisTable.row as number) + 1;\n  let newHwEach = [...(thisTable.hwEach as Array<any>)];\n  let skip = 0;\n  for (let i = 0; i < col; i++) {\n    const child = nodePrev.children as Array<any>;\n    if (child[i].colspan) {\n      skip = child[i].colspan;\n    }\n    const tmpColspan = typeof child[i].colspan === 'number' ? (child[i].colspan === 1 ? null : child[i].colspan) : null;\n    const tmpRowspan =\n      typeof child[i].rowspan === 'number' && typeof child[i].colspan === 'number'\n        ? Number.parseInt(child[i].rowspan) * Number.parseInt(child[i].colspan) > 0\n          ? 1\n          : child[i].colspan > 1\n          ? 1\n          : null\n        : null;\n\n    const column: any = {\n      type: ELTYPE.TABLE_CELL,\n      key: createRandomId(),\n      height: child[i].height ? child[i].height : null,\n      colspan: tmpColspan,\n      rowspan: tmpRowspan,\n      children: [\n        {\n          type: ELTYPE.PARAGRAPH,\n          children: [\n            {\n              text: '',\n            },\n          ],\n        },\n      ],\n    };\n    for (let key in column) {\n      if (column[key] === null) {\n        delete column[key];\n      }\n    }\n\n    if (skip === 0) {\n      node.children.push(column);\n    } else if (isLastCount > 0) {\n      isLastCount--;\n      skip--;\n      node.children.push(column);\n    } else {\n      skip--;\n      node.children.push({ ...column, colspan: child[i].colspan, rowspan: 0 });\n    }\n  }\n  const prevRowNum = maxPos[2];\n  const curRowNum = maxPos[2] + 1;\n  const prevRowHwEach = [...newHwEach[prevRowNum]];\n  newHwEach.splice(curRowNum, 0, prevRowHwEach);\n\n  console.log('finally', node, { at: [maxPos[0], 1, maxPos[2] + 1] }, { hwEach: newHwEach, row: newRowNum }, { at: [maxPos[0], 1] });\n\n  Transforms.setNodes(editor, JSON.parse(JSON.stringify({ hwEach: newHwEach, row: newRowNum })), {\n    at: [maxPos[0], 1],\n  });\n  Transforms.insertNodes(editor, JSON.parse(JSON.stringify(node)), {\n    at: [maxPos[0], 1, maxPos[2] + 1],\n  });\n};\n\nconst insertRowReverse = (editor: Editor, selection: any) => {\n  const sel = selection;\n  const selectedCells = SEL_CELLS.get(editor) || [];\n\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n\n  let minPos: any;\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let x = Number.MAX_SAFE_INTEGER;\n    let y = Number.MAX_SAFE_INTEGER;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[2] < x) {\n        x = path[2];\n      }\n      if (path[3] < y) {\n        y = path[3];\n      }\n    }\n    minPos = [row, 1, x, y];\n  } else {\n    if (sel.anchor && sel.focus) {\n      minPos = sel.focus.path[2] >= sel.anchor.path[2] ? sel.focus.path : sel.anchor.path;\n    } else {\n      minPos = sel;\n      return;\n    }\n  }\n  const curTablePath = [minPos[0], 1];\n  const curTable: any = Editor.node(editor, curTablePath);\n  const curRow = [minPos[0], 1, minPos[2]];\n  const curRowRowspanNodes = Editor.nodes(editor, {\n    at: curRow,\n    match: (n: any) => {\n      return typeof n.colspan === 'number' && typeof n.rowspan === 'number' && !(n.colspan === 0 && n.rowspan === 0);\n    },\n  });\n\n  let next;\n  let isLastCount = 0;\n  while (!(next = curRowRowspanNodes.next()).done) {\n    let tempCount = 1;\n    const [curNode, curPath] = next.value as any;\n    console.log('----[curRow Node]:', curNode, curPath);\n    let pointLeftTop = { node: curNode, path: curPath };\n    while (pointLeftTop.node.rowspan === 0) {\n      const p = [pointLeftTop.path[0], 1, pointLeftTop.path[2] - 1, pointLeftTop.path[3]];\n      const [n] = Editor.node(editor, p);\n      pointLeftTop = { node: n, path: p };\n      ++tempCount;\n    }\n    console.log('@@@pointLeftTop.node.rowspan', tempCount, pointLeftTop.node.rowspan);\n    if (tempCount === 1) {\n      isLastCount += pointLeftTop.node.colspan;\n    } else {\n      for (let i = 0; i < pointLeftTop.node.colspan; i++) {\n        console.log(\n          'for',\n          { rowspan: (pointLeftTop.node.rowspan as number) + 1 },\n          { at: [pointLeftTop.path[0], 1, pointLeftTop.path[2], pointLeftTop.path[3] + i] }\n        );\n        Transforms.setNodes(editor, JSON.parse(JSON.stringify({ rowspan: (pointLeftTop.node.rowspan as number) + 1 })), {\n          at: [pointLeftTop.path[0], 1, pointLeftTop.path[2], pointLeftTop.path[3] + i],\n        });\n      }\n    }\n  }\n\n  const nodePrev: any = Node.get(editor, [minPos[0], 1, minPos[2]]);\n  const thisTable: any = Node.get(editor, [minPos[0], 1]);\n\n  const col = thisTable.children[0].children.length;\n  const node = {\n    height: nodePrev.height ? nodePrev.height : ROW_MIN_HEIGHT,\n    type: ELTYPE.TABLE_ROW,\n    children: [] as any,\n  };\n\n  const newRowNum = (thisTable.row as number) + 1;\n  let newHwEach = [...(thisTable.hwEach as Array<any>)];\n  let skip = 0;\n  for (let i = 0; i < col; i++) {\n    const child = nodePrev.children as Array<any>;\n    if (child[i].colspan) {\n      skip = child[i].colspan;\n    }\n    const tmpColspan = typeof child[i].colspan === 'number' ? (child[i].colspan === 1 ? null : child[i].colspan) : null;\n    const tmpRowspan =\n      typeof child[i].rowspan === 'number' && typeof child[i].colspan === 'number'\n        ? Number.parseInt(child[i].rowspan) * Number.parseInt(child[i].colspan) > 0\n          ? 1\n          : child[i].colspan > 1\n          ? 1\n          : null\n        : null;\n\n    const column: any = {\n      type: ELTYPE.TABLE_CELL,\n      key: createRandomId(),\n      colspan: tmpColspan,\n      rowspan: tmpRowspan,\n      children: [\n        {\n          type: ELTYPE.PARAGRAPH,\n          children: [\n            {\n              text: '',\n            },\n          ],\n        },\n      ],\n    };\n    for (let key in column) {\n      if (column[key] === null) {\n        delete column[key];\n      }\n    }\n\n    if (skip === 0) {\n      node.children.push(column);\n    } else if (isLastCount > 0) {\n      isLastCount--;\n      skip--;\n      node.children.push(column);\n    } else {\n      skip--;\n      node.children.push({ ...column, colspan: child[i].colspan, rowspan: 0 });\n    }\n  }\n  const prevRowNum = minPos[2];\n  const curRowNum = newHwEach.length <= minPos[2] + 1 ? newHwEach.length - 1 : minPos[2] + 1;\n  const curRowHwEach = [...newHwEach[curRowNum]];\n  newHwEach.splice(prevRowNum, 0, curRowHwEach);\n\n  console.log('finally', node, { at: [minPos[0], 1, minPos[2] + 1] }, { hwEach: newHwEach, row: newRowNum }, { at: [minPos[0], 1] });\n  Transforms.setNodes(editor, JSON.parse(JSON.stringify({ hwEach: newHwEach, row: newRowNum })), {\n    at: [minPos[0], 1],\n  });\n  Transforms.insertNodes(editor, JSON.parse(JSON.stringify(node)), {\n    at: [minPos[0], 1, minPos[2]],\n  });\n};\n\nconst deleteRow = (editor: any, selection: any) => {\n  if (selection.focus.path.length < 3) {\n    return;\n  }\n  const sel = selection;\n  const selectedCells = SEL_CELLS.get(editor) || [];\n\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n\n  let maxPos: any;\n  let minPos: any;\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let x = 0,\n      xmin = 9999999;\n    let y = 0,\n      ymin = 9999999;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[2] > x) {\n        x = path[2];\n      }\n      if (path[3] > y) {\n        y = path[3];\n      }\n      if (path[2] < xmin) {\n        xmin = path[2];\n      }\n      if (path[3] < ymin) {\n        ymin = path[3];\n      }\n    }\n    maxPos = [row, 1, x, y];\n    minPos = [row, 1, xmin, ymin];\n  } else {\n    if (sel.anchor && sel.focus) {\n      maxPos = sel.focus.path[2] >= sel.anchor.path[2] ? sel.focus.path : sel.anchor.path;\n      minPos = sel.focus.path[3] <= sel.anchor.path[3] ? sel.focus.path : sel.anchor.path;\n    } else {\n      return;\n    }\n  }\n\n  const parentNode: any = Node.get(editor, [maxPos[0], 1]);\n  const rows = parentNode.children as Array<any>;\n  const row = rows.length;\n  console.log(maxPos, minPos);\n  if (maxPos[2] === row - 1 && minPos[2] === 0) {\n    Transforms.removeNodes(editor, { at: [maxPos[0], 1] });\n  } else {\n    let index = [...maxPos];\n    let newRowNum = parentNode.row as number;\n    let newHwEach = [...(parentNode.hwEach as Array<any>)];\n    while (index[2] >= minPos[2]) {\n      newRowNum -= 1;\n      newHwEach.splice(index[2], 1);\n\n      const curRow = [index[0], 1, index[2]];\n      const curRowRowspanNodes = Editor.nodes(editor, {\n        at: curRow,\n        match: (n: any) => {\n          return typeof n.colspan === 'number' && typeof n.rowspan === 'number' && !(n.colspan === 0 && n.rowspan === 0);\n        },\n      });\n\n      let next;\n      while (!(next = curRowRowspanNodes.next()).done) {\n        let tempCount = 1;\n        const [curNode, curPath] = next.value as any;\n        console.log('----[curRow Node]:', curNode, curPath);\n        let pointLeftTop = { node: curNode, path: curPath };\n        while (pointLeftTop.node.rowspan === 0) {\n          const p = [pointLeftTop.path[0], 1, pointLeftTop.path[2] - 1, pointLeftTop.path[3]];\n          const [n] = Editor.node(editor, p);\n          pointLeftTop = { node: n, path: p };\n          ++tempCount;\n        }\n\n        if (tempCount === 1 && pointLeftTop.node.rowspan !== 1) {\n          for (let i = 0; i < pointLeftTop.node.colspan; i++) {\n            console.log('[delrow]', pointLeftTop.node);\n            Transforms.setNodes(\n              editor,\n              {\n                rowspan: (pointLeftTop.node.rowspan as number) - 1,\n              } as Partial<Node>,\n              { at: [pointLeftTop.path[0], 1, pointLeftTop.path[2] + 1, pointLeftTop.path[3] + i] }\n            );\n          }\n        } else {\n          for (let i = 0; i < pointLeftTop.node.colspan; i++) {\n            Transforms.setNodes(\n              editor,\n              {\n                rowspan: (pointLeftTop.node.rowspan as number) - 1,\n              } as Partial<Node>,\n              { at: [pointLeftTop.path[0], 1, pointLeftTop.path[2], pointLeftTop.path[3] + i] }\n            );\n          }\n        }\n      }\n\n      Transforms.removeNodes(editor, { at: curRow });\n      index[2] -= 1;\n    }\n    Transforms.setNodes(editor, { hwEach: newHwEach, row: newRowNum } as Partial<Node>, { at: [index[0], 1] });\n  }\n};\n\nconst insertCol = (editor: any, selection: any) => {\n  const sel = selection;\n\n  const selectedCells = SEL_CELLS.get(editor) || [];\n\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n\n  let initialPath: any;\n\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let y = 0;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[3] > y) {\n        y = path[3];\n      }\n    }\n    initialPath = [row, 1, 0, y + 1];\n  } else {\n    if (sel.anchor && sel.focus) {\n      initialPath = [...sel.focus.path];\n      initialPath[2] = 0;\n      initialPath[3] += 1;\n    } else {\n      return;\n    }\n  }\n  const parentNode: any = Node.get(editor, [initialPath[0], initialPath[1]]);\n  const rows = parentNode.children as Array<any>;\n  const row = rows.length;\n  let newColNum = (parentNode.column as number) + 1;\n  const oldHwEach = [...(parentNode.hwEach as Array<any>)];\n  let newHwEach: any[] = [];\n\n  console.log('initialPath] = ', initialPath, 'parentNode] = ', parentNode);\n  let pointsLeftTop = [];\n\n  for (let i = 1; i <= row; i++) {\n    let isLastCount = 1;\n\n    const [prevNode, prevPath]: any = Editor.node(editor, [initialPath[0], 1, initialPath[2], initialPath[3] - 1]);\n\n    let tmpNode = prevNode;\n    let tmpPath = prevPath;\n\n    if (typeof tmpNode.colspan === 'number') {\n      while (tmpNode.colspan === 0) {\n        [tmpNode, tmpPath] = Editor.node(editor, [...prevPath.slice(0, -1), tmpPath[tmpPath.length - 1] - 1]);\n        ++isLastCount;\n      }\n    }\n    let isLast = isLastCount === tmpNode.colspan;\n    console.log('{prevNode, isLastCount, tmpNode.colspan}', prevNode, isLastCount, tmpNode.colspan);\n\n    tmpNode = prevNode;\n    tmpPath = prevPath;\n    let isLastColspan = typeof tmpNode.colspan === 'number' && isLast;\n    if (typeof tmpNode.colspan === 'number' && !isLastColspan) {\n      while (tmpNode.colspan === 0) {\n        console.log('tmpNode]=', tmpNode);\n        [tmpNode, tmpPath] = Editor.node(editor, [...prevPath.slice(0, -1), tmpPath[tmpPath.length - 1] - 1]);\n      }\n    }\n\n    console.log(' [tmpNode, tmpPath] ', tmpNode, tmpPath);\n\n    if (!isLastColspan) {\n      if (tmpNode.colspan > 1 && tmpNode.rowspan >= 1) {\n        pointsLeftTop.push([tmpNode, tmpPath]);\n      }\n    }\n    const tmpIsNotReal = typeof tmpNode.colspan !== 'undefined' || tmpPath[3] + tmpNode.colspan - 1 > prevPath[3];\n    const node: any = {\n      type: ELTYPE.TABLE_CELL,\n      key: createRandomId(),\n\n      colspan: isLastColspan ? null : tmpIsNotReal ? 0 : null,\n      rowspan: isLastColspan ? null : typeof prevNode.rowspan === 'number' ? prevNode.rowspan : null,\n      children: [\n        {\n          type: ELTYPE.PARAGRAPH,\n          children: [\n            {\n              text: '',\n            },\n          ],\n        },\n      ],\n    };\n    for (let key in node) {\n      if (node[key] === null) {\n        delete node[key];\n      }\n    }\n    let newHwEachCell = [...oldHwEach[i - 1]];\n    const prevHw = newHwEachCell[initialPath[3] - 1];\n    newHwEachCell.splice(initialPath[3], 0, prevHw);\n    newHwEach.push(newHwEachCell);\n    Transforms.insertNodes(editor, JSON.parse(JSON.stringify(node)), {\n      at: [initialPath[0], 1, initialPath[2], initialPath[3]],\n    });\n    initialPath[2] = i;\n  }\n  pointsLeftTop.forEach(([node, path]) => {\n    for (let i = 0; i < node.rowspan; i++) {\n      Transforms.setNodes(editor, JSON.parse(JSON.stringify({ colspan: (node.colspan as number) + 1 })), {\n        at: [path[0], 1, path[2] + i, path[3]],\n      });\n    }\n  });\n  Transforms.setNodes(editor, JSON.parse(JSON.stringify({ hwEach: newHwEach, column: newColNum })), { at: [initialPath[0], 1] });\n};\n\nconst insertColReverse = (editor: any, selection: any) => {\n  const sel = selection;\n\n  const selectedCells = SEL_CELLS.get(editor) || [];\n\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n\n  let initialPath: any;\n\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let y = Number.MAX_SAFE_INTEGER;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[3] < y) {\n        y = path[3];\n      }\n    }\n    initialPath = [row, 1, 0, y + 1];\n  } else {\n    if (sel.anchor && sel.focus) {\n      initialPath = [...sel.focus.path];\n      initialPath[2] = 0;\n      initialPath[3] += 1;\n    } else {\n      return;\n    }\n  }\n  const parentNode: any = Node.get(editor, [initialPath[0], initialPath[1]]);\n  const rows = parentNode.children as Array<any>;\n  const row = rows.length;\n  let newColNum = (parentNode.column as number) + 1;\n  const oldHwEach = [...(parentNode.hwEach as Array<any>)];\n  let newHwEach: any[] = [];\n\n  console.log('initialPath] = ', initialPath, 'parentNode] = ', parentNode);\n  let pointsLeftTop = [];\n\n  for (let i = 1; i <= row; i++) {\n    let isLastCount = 1;\n\n    const [prevNode, prevPath]: any = Editor.node(editor, [\n      initialPath[0],\n      1,\n      initialPath[2],\n      initialPath[3] - 2 >= 0 ? initialPath[3] - 2 : initialPath[3] - 1,\n    ]);\n\n    let tmpNode = prevNode;\n    let tmpPath = prevPath;\n\n    if (typeof tmpNode.colspan === 'number') {\n      while (tmpNode.colspan === 0) {\n        [tmpNode, tmpPath] = Editor.node(editor, [...prevPath.slice(0, -1), tmpPath[tmpPath.length - 1] - 1]);\n        ++isLastCount;\n      }\n    }\n    let isLast = isLastCount === tmpNode.colspan;\n    console.log('{prevNode, isLastCount, tmpNode.colspan}', prevNode, isLastCount, tmpNode.colspan);\n\n    tmpNode = prevNode;\n    tmpPath = prevPath;\n    let isLastColspan = typeof tmpNode.colspan === 'number' && isLast;\n    if (typeof tmpNode.colspan === 'number' && !isLastColspan) {\n      while (tmpNode.colspan === 0) {\n        console.log('tmpNode]=', tmpNode);\n        [tmpNode, tmpPath] = Editor.node(editor, [...prevPath.slice(0, -1), tmpPath[tmpPath.length - 1] - 1]);\n      }\n    }\n\n    let isFirstCol = tmpPath[3] === 0;\n    console.log(' [tmpNode, tmpPath] ', tmpNode, tmpPath, isFirstCol);\n\n    if (!isLastColspan && !isFirstCol) {\n      if (tmpNode.colspan > 1 && tmpNode.rowspan >= 1) {\n        pointsLeftTop.push([tmpNode, tmpPath]);\n      }\n    }\n    const tmpIsNotReal = typeof tmpNode.colspan !== 'undefined' || tmpPath[3] + tmpNode.colspan - 1 > prevPath[3];\n    const node: any = {\n      type: ELTYPE.TABLE_CELL,\n      key: createRandomId(),\n      colspan: isFirstCol ? null : isLastColspan ? null : tmpIsNotReal ? 0 : null,\n      rowspan: isFirstCol ? null : isLastColspan ? null : prevNode.rowspan ? prevNode.rowspan : null,\n      children: [\n        {\n          type: ELTYPE.PARAGRAPH,\n          children: [\n            {\n              text: '',\n            },\n          ],\n        },\n      ],\n    };\n    for (let key in node) {\n      if (node[key] === null) {\n        delete node[key];\n      }\n    }\n    let newHwEachCell = [...oldHwEach[i - 1]];\n    const curHw = newHwEachCell[initialPath[3] - 1];\n    newHwEachCell.splice(initialPath[3], 0, curHw);\n    newHwEach.push(newHwEachCell);\n    Transforms.insertNodes(editor, JSON.parse(JSON.stringify(node)), {\n      at: [initialPath[0], 1, initialPath[2], initialPath[3] - 1],\n    });\n    initialPath[2] = i;\n  }\n  pointsLeftTop.forEach(([node, path]) => {\n    for (let i = 0; i < node.rowspan; i++) {\n      Transforms.setNodes(editor, JSON.parse(JSON.stringify({ colspan: (node.colspan as number) + 1 })), {\n        at: [path[0], 1, path[2] + i, path[3]],\n      });\n    }\n  });\n  Transforms.setNodes(editor, JSON.parse(JSON.stringify({ hwEach: newHwEach, column: newColNum })), { at: [initialPath[0], 1] });\n};\n\nconst deleteCol = (editor: any, selection: any) => {\n  if (selection.focus.path.length < 4) {\n    return;\n  }\n  const sel = selection;\n\n  const selectedCells = SEL_CELLS.get(editor) || [];\n\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n\n  let left: any;\n  let right: any;\n\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let y = 0,\n      ymin = 9999999;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[3] > y) {\n        y = path[3];\n      }\n      if (path[3] < ymin) {\n        ymin = path[3];\n      }\n    }\n    left = [row, 1, 0, ymin];\n    right = [row, 1, 0, y];\n  } else {\n    if (sel.anchor && sel.focus) {\n      left = [...sel.focus.path];\n      left[2] = 0;\n      right = [...sel.focus.path];\n      right[2] = 0;\n    } else {\n      return;\n    }\n  }\n\n  console.log('[left, right]', left, right);\n  const parentNode: any = Node.get(editor, [left[0], 1]);\n  const rows = parentNode.children as Array<any>;\n  const row = rows.length;\n  let newColNum = (parentNode.column as number) - 1;\n  const oldHwEach = JSON.parse(JSON.stringify(parentNode.hwEach as Array<any>));\n  let newHwEach: any[] = [];\n\n  for (let j = right[3]; j >= left[3]; j--) {\n    let thisRow = 0;\n    let pointsLeftTop = [];\n\n    for (let i = 1; i <= row; i++) {\n      oldHwEach[i - 1][j] = null;\n\n      let [curNode, curPath] = Editor.node(editor, [left[0], 1, thisRow, j]);\n      console.log('curNode((((', curNode);\n      let tmpNode: any = curNode;\n      let tmpPath = curPath;\n      if (typeof tmpNode.colspan === 'number' && tmpNode.colspan === 0) {\n        let no = 0;\n        while (tmpNode.colspan === 0) {\n          [tmpNode, tmpPath] = Editor.node(editor, [...curPath.slice(0, -1), tmpPath[tmpPath.length - 1] - 1]);\n          no++;\n        }\n\n        pointsLeftTop.push([tmpNode, tmpPath, no]);\n      } else if (typeof tmpNode.colspan === 'number' && tmpNode.colspan > 1) {\n        Transforms.setNodes(\n          editor,\n          {\n            colspan: (tmpNode.colspan as number) - 1,\n            rowspan: tmpNode.rowspan,\n          } as Partial<Node>,\n          {\n            at: [left[0], 1, thisRow, j + 1],\n          }\n        );\n      }\n      console.log('[pointsLeftTop]', pointsLeftTop);\n      console.log('-----removeNodes: ', [left[0], 1, thisRow, j]);\n      Transforms.removeNodes(editor, { at: [left[0], 1, thisRow, j] });\n      thisRow = i;\n    }\n    pointsLeftTop.forEach(([node, path, no]) => {\n      Transforms.setNodes(\n        editor,\n        {\n          colspan: node.colspan - 1,\n        } as Partial<Node>,\n        { at: path }\n      );\n    });\n  }\n\n  const tempHwEachItem: any[] = [];\n  for (let i = 0; i < oldHwEach[0].length; i++) {\n    const curHw = oldHwEach[0][i];\n    if (!curHw) {\n      continue;\n    }\n    tempHwEachItem.push(curHw);\n  }\n\n  if (tempHwEachItem.length === 0) {\n    Transforms.removeNodes(editor, { at: [left[0]] });\n    return;\n  }\n  newHwEach.length = row;\n  newHwEach.fill(tempHwEachItem);\n  Transforms.setNodes(editor, { hwEach: newHwEach, column: newColNum } as Partial<Node>, { at: [left[0], 1] });\n};\n\nconst deleteTable = (editor: any, selection: any) => {\n  const sel = selection;\n  if (sel.anchor && sel.focus) {\n    if (sel.focus.path.length > 3) {\n      Transforms.removeNodes(editor, { at: [sel.focus.path[0]] });\n    }\n  } else {\n    Transforms.removeNodes(editor, { at: [sel[0]] });\n  }\n};\n\nconst mergeCell = (editor: any, selection: any) => {\n  const sel = selection;\n\n  const selectedNodes = SEL_CELLS.get(editor);\n\n  let cellsPath: any = [];\n  for (const [, path] of selectedNodes) {\n    cellsPath.push(path);\n  }\n  if (cellsPath.length === 0) {\n    return;\n  }\n\n  let start: any;\n  let end: any;\n\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let x = 0,\n      xmin = 9999999;\n    let y = 0,\n      ymin = 9999999;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[2] > x) {\n        x = path[2];\n      }\n      if (path[3] > y) {\n        y = path[3];\n      }\n      if (path[2] < xmin) {\n        xmin = path[2];\n      }\n      if (path[3] < ymin) {\n        ymin = path[3];\n      }\n    }\n    start = { path: [row, 1, xmin, ymin] };\n    end = { path: [row, 1, x, y] };\n  } else {\n    if (sel.anchor && sel.focus) {\n      start = Range.start(sel);\n      end = Range.end(sel);\n    } else {\n      return;\n    }\n  }\n\n  const pointLeftTop = [\n    start.path[0],\n    1,\n    start.path[2] >= end.path[2] ? end.path[2] : start.path[2],\n    start.path[3] >= end.path[3] ? end.path[3] : start.path[3],\n  ];\n\n  let rowspan: any = Math.abs(start.path[2] - end.path[2]) + 1;\n  let colspan: any = Math.abs(start.path[3] - end.path[3]) + 1;\n  for (let row = pointLeftTop[2] + rowspan - 1; row >= pointLeftTop[2]; row--) {\n    for (let col = pointLeftTop[3] + colspan - 1; col >= pointLeftTop[3]; col--) {\n      const thisNode: any = Node.get(editor, [start.path[0], 1, row, col]);\n      if (thisNode.colWidth || thisNode.colHeight) {\n        const addedArr = unmergeCell(editor, [start.path[0], 1, row, col]);\n      }\n    }\n  }\n\n  const x_len = end.path[3] - start.path[3] + 1;\n  const y_len = end.path[2] - start.path[2] + 1;\n  let arr = [];\n  let contentArr = [];\n  for (let i = start.path[2]; i < end.path[2] + 1; i++) {\n    let row = [];\n    for (let j = start.path[3]; j < end.path[3] + 1; j++) {\n      const cellContent: any = (Editor.node(editor, [start.path[0], 1, i, j])[0] as any).children;\n      if (!(i === start.path[2] && j === start.path[3]) && !(cellContent.length === 1 && cellContent[0]?.children[0]?.text === '')) {\n        contentArr.push(...cellContent);\n      }\n      row.push({\n        rowspan: null,\n        colspan: null,\n        path: [i, j],\n      });\n    }\n    arr.push(row);\n  }\n\n  const tablePath = start.path[0];\n\n  let totalWidth = 0;\n\n  let totalHeight = 0;\n\n  const reg = /([0-9])\\w+px/g;\n\n  for (let row = pointLeftTop[2] + rowspan - 1; row >= pointLeftTop[2]; row--) {\n    console.log(Node.get(editor, [start.path[0], 1, row]));\n    const thisNode = Node.get(editor, [start.path[0], 1, row]);\n\n    for (let col = pointLeftTop[3] + colspan - 1; col >= pointLeftTop[3]; col--) {\n      if (row === pointLeftTop[2] + rowspan - 1) {\n        const thisNode = Node.get(editor, [start.path[0], 1, row, col]);\n        console.log('[thisNode]', thisNode);\n      }\n      if (row === pointLeftTop[2] && col === pointLeftTop[3]) {\n        break;\n      }\n\n      Transforms.removeNodes(editor, {\n        at: {\n          anchor: Editor.start(editor, [start.path[0], 1, row, col]),\n          focus: Editor.end(editor, [start.path[0], 1, row, col]),\n        },\n      });\n    }\n  }\n\n  for (let i = 0; i < y_len; i++) {\n    for (let j = 0; j < x_len; j++) {\n      if (i === 0 && j === 0) {\n        arr[i][j].rowspan = rowspan;\n        arr[i][j].colspan = colspan;\n      } else if (i === 0) {\n        arr[i][j].rowspan = rowspan;\n        arr[i][j].colspan = 0;\n      } else if (j === 0) {\n        arr[i][j].rowspan = 0;\n        arr[i][j].colspan = colspan;\n      } else {\n        arr[i][j].rowspan = 0;\n        arr[i][j].colspan = 0;\n      }\n      const path = arr[i][j].path;\n      i === 0 && j === 0 && console.log('****totalWidth****', totalWidth);\n      Transforms.setNodes(\n        editor,\n        {\n          rowspan: arr[i][j].rowspan,\n          colspan: arr[i][j].colspan,\n        } as Partial<Node>,\n        { at: [tablePath, 1, ...path] }\n      );\n      if (i === 0 && j === 0) {\n        Transforms.insertNodes(editor, contentArr, {\n          at: Editor.end(editor, [tablePath, 1, ...path]),\n        });\n      }\n    }\n  }\n};\n\nconst unmergeCell = (editor: any, selection: any) => {\n  const sel = selection;\n\n  const selectedCells = SEL_CELLS.get(editor) || [];\n\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n\n  let start: any;\n  let end: any;\n  let thisSelection: any;\n\n  if (cellsPath.length !== 0) {\n    let row = 0;\n    let x = 0,\n      xmin = 9999999;\n    let y = 0,\n      ymin = 9999999;\n    for (const path of cellsPath) {\n      row = path[0];\n      if (path[2] > x) {\n        x = path[2];\n      }\n      if (path[3] > y) {\n        y = path[3];\n      }\n      if (path[2] < xmin) {\n        xmin = path[2];\n      }\n      if (path[3] < ymin) {\n        ymin = path[3];\n      }\n    }\n    start = { path: [row, 1, xmin, ymin, 0, 0], offset: 0 };\n    end = { path: [row, 1, x, y, 0, 0], offset: 0 };\n    thisSelection = { anchor: start, focus: end };\n  } else {\n    if (sel.anchor && sel.focus) {\n      thisSelection = sel;\n    } else {\n      return;\n    }\n  }\n\n  const cells = Editor.nodes(editor, {\n    at: thisSelection,\n    match: (n: any) =>\n      !Editor.isEditor(n) &&\n      Element.isElement(n) &&\n      (n as any).type === ELTYPE.TABLE_CELL &&\n      (typeof (n as any).colspan !== 'undefined' || typeof (n as any).rowspan !== 'undefined'),\n  });\n\n  const colCellsArr: any = [...cells];\n  console.log('REMOVE COL CELL', colCellsArr);\n\n  for (let [node, path] of colCellsArr) {\n    console.log('[TOPLEFT NODE]', node, path);\n    for (let i = 0; i < node.rowspan; i++) {\n      for (let j = 0; j < node.colspan; j++) {\n        console.log('==[span cell]', [path[0], 1, path[2] + i, path[3] + j]);\n        let nowPath = [path[0], 1, path[2] + i, path[3] + j];\n        Transforms.unsetNodes(editor, ['colspan', 'rowspan'], { at: nowPath });\n      }\n    }\n  }\n};\n\nexport type TableOps =\n  | 'insertRow'\n  | 'insertRowReverse'\n  | 'insertCol'\n  | 'insertColReverse'\n  | 'deleteRow'\n  | 'deleteCol'\n  | 'deleteTable'\n  | 'mergeCell'\n  | 'unmergeCell';\n\nexport const opsTable = (editor: any, ops: TableOps, selection: any) => {\n  if (ops === 'insertRow') {\n    insertRow(editor, selection);\n  } else if (ops === 'insertRowReverse') {\n    insertRowReverse(editor, selection);\n  } else if (ops === 'insertCol') {\n    insertCol(editor, selection);\n  } else if (ops === 'insertColReverse') {\n    insertColReverse(editor, selection);\n  } else if (ops === 'deleteRow') {\n    deleteRow(editor, selection);\n  } else if (ops === 'deleteCol') {\n    deleteCol(editor, selection);\n  } else if (ops === 'deleteTable') {\n    deleteTable(editor, selection);\n  } else if (ops === 'mergeCell') {\n    mergeCell(editor, selection);\n  } else if (ops === 'unmergeCell') {\n    unmergeCell(editor, selection);\n  }\n};\n","import _ from 'lodash';\nexport const convertTabLevel = function (tabLevel) {\n  if (_.isNumber(tabLevel)) {\n    return tabLevel * 2 + 2 + 'rem';\n  } else if (tabLevel) {\n    return Number.parseInt(tabLevel) * 2 + 2 + 'rem';\n  } else {\n    return null;\n  }\n};\n","import classNames from 'classnames';\nimport React, { useState } from 'react';\nimport { CustomTypes, Editor, Element, ExtendedType, Node, Path, Point, Transforms } from '@src/components/slate-packages/slate';\nimport { convertTabLevel } from '../../../../utils/convertTabLevel';\nimport storage from '../../../../utils/storage';\nimport { Range } from '../../../slate-packages/slate';\nimport { ReactEditor, useSlate } from '../../../slate-packages/slate-react';\nimport { ELTYPE, LIST_TYPES } from './../config';\nimport './OlList.less';\nimport { createRandomId, createUUID } from '../../../../utils/randomId';\nimport { css, cx } from '@emotion/css';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\n\ninterface OlListProps {\n  className?: string;\n  children: any;\n  prop: {\n    attributes: any;\n    element: ElementOpt;\n  };\n  elementUniqueId?: string;\n  textAlign?: string;\n  isInAnchor: boolean;\n  lineHeight: number;\n}\n\nexport interface ElementOpt extends Partial<Element> {\n  authCls: string;\n  num: number;\n  liType?: string;\n  tabLevel: number;\n  id: string;\n  type: string;\n  elId: string;\n  oldType?: string;\n}\n\nfunction getPath12FromSelection(anchor: { path: any[] }, focus: { path: any[] }) {\n  let path1, path2: any;\n  if (anchor.path.length > 4) {\n    const tmp1 = anchor.path.slice(0, -1),\n      tmp2 = focus.path.slice(0, -1);\n    if (tmp1[tmp1.length - 1] > tmp2[tmp2.length - 1]) {\n      path1 = tmp1;\n      path2 = tmp2;\n    } else {\n      path1 = tmp2;\n      path2 = tmp1;\n    }\n  } else {\n    if (anchor.path[0] > focus.path[0]) {\n      path1 = [anchor.path[0]];\n      path2 = [focus.path[0]];\n    } else {\n      path1 = [focus.path[0]];\n      path2 = [anchor.path[0]];\n    }\n  }\n\n  const count = path1[path1.length - 1] - path2[path2.length - 1];\n  return { path1, path2, count };\n}\nconst typeArr = [ELTYPE.HEADING_ONE, ELTYPE.HEADING_TWO, ELTYPE.HEADING_THREE, ELTYPE.HEADING_FOUR, ELTYPE.HEADING_FIVE, ELTYPE.HEADING_SIX];\n\nconst updateToOl = (editor: any, opt: ElementOpt, options?: any) => {\n  if ([ELTYPE.IMAGE, ELTYPE.VIDEO].includes(opt.type)) {\n    console.log('updateToOl***********', opt);\n  }\n  if (!opt.elId) {\n    opt.elId = createUUID();\n  }\n  if (editor.selection) {\n    const { anchor, focus } = editor.selection;\n\n    if (Range.isExpanded(editor.selection)) {\n      const { path1, path2, count } = getPath12FromSelection(anchor, focus);\n\n      for (let i = 0; i < count + 1; i++) {\n        const newOpt: ExtendedType<'Element', any> = Object.assign({}, opt, {\n          elId: opt.elId + i,\n          num: i + 1,\n        });\n        const node: any = Node.get(editor, [...path2.slice(0, -1), path2[path2.length - 1] + i]);\n        console.log('*****updateToOl node*****', node, [...path2.slice(0, -1), path2[path2.length - 1] + i]);\n        if (ELTYPE.CARD === node.type) {\n          const cardChildPath = [...path2.slice(0, -1), path2[path2.length - 1] + i, 1];\n          const rowNode: any = Node.get(editor, cardChildPath);\n          console.log('******updateToOl rowNode******', rowNode, cardChildPath);\n          if (ELTYPE.TABLE === rowNode.type) {\n            let [start, end] = Range.edges(editor.selection);\n            console.log(' start, end', start, end);\n            const selectedCells = SEL_CELLS.get(editor);\n\n            const list = [];\n\n            for (const [, path] of selectedCells) {\n              for (const [childNode, childPath] of Node.children(editor, path)) {\n                list.push(childNode);\n              }\n            }\n            const allList = list.every(x => x.type === newOpt.type);\n\n            console.log('list', allList, list, selectedCells);\n            for (const [, path] of selectedCells) {\n              const newLId: string = createRandomId();\n              let numAdd = 0;\n\n              for (const [childNode, childPath] of Node.children(editor, path)) {\n                console.log('path', childPath);\n\n                if (typeArr.includes((childNode as any)?.type as string)) {\n                  newOpt['oldType'] = (childNode as any).type;\n                }\n                Transforms.setNodes(\n                  editor,\n                  {\n                    ...newOpt,\n                    type: allList ? ELTYPE.PARAGRAPH : newOpt.type,\n                    id: newLId,\n                    num: (newOpt.num as number) + numAdd,\n                    elId: newLId + numAdd,\n                  },\n                  {\n                    at: childPath,\n                    match: node => Editor.isBlock(editor, node),\n                  }\n                );\n                numAdd = numAdd + 1;\n              }\n            }\n          } else {\n            const CardType = [ELTYPE.ALERTS];\n            if (CardType.includes(rowNode.type)) {\n              const list = [];\n\n              for (const [childNode, childPath] of Node.children(editor, cardChildPath)) {\n                if (Range.includes(editor.selection, childPath)) {\n                  list.push(childNode);\n                }\n              }\n\n              const allList = list.every(x => x.type === newOpt.type);\n              console.log('******updateToOl rowNode 22222******', rowNode, cardChildPath, list, allList);\n              const newLId: string = createRandomId();\n              let numAdd = 0;\n              for (const [childNode, childPath] of Node.children(editor, cardChildPath)) {\n                console.log('path', childNode, list);\n\n                if (Range.includes(editor.selection, childPath)) {\n                  Transforms.setNodes(\n                    editor,\n                    {\n                      ...newOpt,\n                      type: allList ? ELTYPE.PARAGRAPH : newOpt.type,\n                      id: newLId,\n                      num: (newOpt.num as number) + numAdd,\n                      elId: newLId + numAdd,\n                    },\n                    {\n                      at: childPath,\n                      match: node => Editor.isBlock(editor, node),\n                    }\n                  );\n                  numAdd = numAdd + 1;\n                }\n              }\n            }\n          }\n          continue;\n        } else {\n          if (typeArr.includes(node.type)) {\n            newOpt['oldType'] = node.type;\n          }\n          Transforms.setNodes(editor, newOpt, {\n            at: [...path2.slice(0, -1), path2[path2.length - 1] + i],\n            match: node => Editor.isBlock(editor, node),\n          });\n        }\n      }\n\n      return;\n    }\n  }\n  if (options?.isCopyList) {\n    Transforms.insertNodes(editor, opt as any, options);\n    return;\n  }\n  if (options) {\n    Transforms.setNodes(editor, opt as Partial<Element>, options);\n    return;\n  }\n\n  Transforms.setNodes(editor, opt as Partial<Element>);\n};\n\nexport const insertOl = (editor: any, opts: ElementOpt | string | any[], options: any = {}) => {\n  let opt: any;\n  if (options?.isCopyList) {\n    opt = opts[0];\n  } else {\n    opt = opts;\n  }\n  if (typeof opt !== 'string') {\n    const sel = options.at || editor.selection;\n    const [start, end] = [Range.start(sel), Range.end(sel)];\n\n    let newPath = [end.path[0] + 1];\n    if (editor.children.length == newPath[0]) {\n      newPath = [newPath[0] - 1];\n    }\n    const endNode: any = Node.get(editor, newPath);\n    const lastNode: any = Node.get(editor, [options?.isCopyList ? sel.focus.path[0] : sel.focus.path[0] - 1]);\n    if (!lastNode || !endNode) return;\n    let id = (opt?.id as string) || (lastNode?.id as string);\n    const format: string = LIST_TYPES.includes(opt.type) ? opt.type : (lastNode.type as string);\n\n    if (lastNode.type === format) {\n      id = lastNode.id as string;\n    }\n    if (id === opt.id && endNode.type === format) {\n      id = endNode.id as string;\n    }\n    if (id === opt.id) {\n      const startArr = (editor.children as Array<any>).slice(0, start.path[0]);\n      const endArr = (editor.children as Array<any>).slice(newPath[0]);\n      let startNode: any, endNode: any;\n      for (let i = 0; i < startArr.length; i++) {\n        const el = startArr[i];\n        if (el && opt && el.type === opt.type) {\n          startNode = el;\n          break;\n        }\n      }\n      for (let i = 0; i < endArr.length; i++) {\n        const el = endArr[i];\n        if (el && opt && el.type === opt.type) {\n          endNode = el;\n          break;\n        }\n      }\n      if (endNode && startNode && endNode.id === startNode.id) {\n        console.log('******no no no*****');\n        id = startNode.id;\n      }\n    }\n\n    opt.id = id;\n    opt.type = format;\n    opt.elId = createUUID();\n    if (!opt.tabLevel) {\n      opt.tabLevel = 0;\n    }\n    console.log('insertOl updateToOl', opt, options);\n    if (options?.isCopyList) {\n      let arr: any[] = opts as any[];\n      for (let i = 0; i < arr.length; i++) {\n        const children = JSON.parse(JSON.stringify(arr[i].children));\n        arr[i] = { ...arr[0], children };\n      }\n    }\n    updateToOl(editor, opts as any, options);\n  } else {\n    const employee = storage.get('userInfo')?.employee;\n    const id = opt + '=' + createUUID();\n\n    insertOl(editor, {\n      type: opt,\n      tabLevel: 0,\n      num: 1,\n      id: id,\n      authCls: 'auth-' + employee,\n      elId: createUUID(),\n    });\n  }\n};\n\nexport const updateOlDecreaseIndent = (editor: any, opt: any) => {\n  const tabLevel: number = opt.tabLevel - 1 < 0 ? 0 : opt.tabLevel - 1;\n  const newRowNode = Object.assign({}, opt, { tabLevel });\n  console.log('updateDTabToOl', newRowNode);\n  updateToOl(editor, newRowNode);\n};\n\nexport const insertNewOlFromOl = (editor: any, rowNode: ElementOpt, text: string) => {\n  const { selection } = editor;\n  const { path, offset } = selection.anchor;\n  const selectionStart = Range.start(selection);\n  const selectionEnd = Range.end(selection);\n  const currentNode: any = Editor.node(editor, Range.start(selection));\n\n  if (Range.isExpanded(selection)) {\n    Transforms.select(editor, Editor.unhangRange(editor, selection));\n    Transforms.delete(editor);\n  }\n\n  const parentNodePath = path.slice(0, -1);\n  const parentNodeStart = Range.start(Editor.range(editor, parentNodePath));\n  const parentNodeEnd = Range.end(Editor.range(editor, parentNodePath));\n  const isAtParentNodeEnd = Point.equals(selectionEnd, parentNodeEnd);\n  const isAtParentNodeStart = Point.equals(selectionStart, parentNodeStart);\n\n  console.log('[insertNewOlFromOl]', path, offset, isAtParentNodeEnd);\n\n  if (isAtParentNodeEnd || isAtParentNodeStart) {\n    const employee = storage.get('userInfo')?.employee;\n    const elId = createUUID();\n    const newRowNode: any = Object.assign({}, rowNode, {\n      num: (rowNode.num as number) + 1,\n      children: [{ text: '' }],\n      authCls: 'auth-' + employee,\n      elId,\n    });\n    Transforms.insertNodes(editor, newRowNode);\n  } else {\n    Transforms.splitNodes(editor, { at: selectionStart });\n  }\n\n  Transforms.select(editor, Path.next(parentNodePath));\n  Transforms.collapse(editor, { edge: 'start' });\n};\n\nexport const removeOl = (editor: any) => {\n  updateToOl(editor, {\n    type: ELTYPE.PARAGRAPH,\n    tabLevel: null,\n    num: null,\n    id: null,\n    authCls: null,\n    liType: null,\n    elId: null,\n  });\n};\n\nexport const OlList: React.FC<OlListProps> = (props: OlListProps) => {\n  const [show, setShow] = useState(false);\n\n  const {\n    prop: { attributes, element },\n    className = '',\n    children,\n    elementUniqueId,\n    textAlign,\n    isInAnchor = false,\n    lineHeight,\n  } = props;\n\n  const { num = 1, liType = 'i', tabLevel = 1, authCls = '', id, oldType = '' } = element;\n  let type: any = '1';\n  switch (tabLevel % 3) {\n    case 1:\n      type = 'a';\n      break;\n    case 2:\n      type = 'i';\n      break;\n    case 0:\n      type = '1';\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <ol\n      {...attributes}\n      className={`${className} ${id} ${show ? 'slate_plugins_ol_list' : ''} ${!isInAnchor ? oldType : ''}`}\n      style={{\n        lineHeight,\n        marginLeft: isInAnchor ? '1rem' : convertTabLevel(tabLevel),\n        textAlign: textAlign as any,\n      }}\n      type={type}\n      start={num}\n      data-start={num}\n      data-list-id={id}\n      data-tab-level={tabLevel}\n    >\n      <li\n        id={elementUniqueId}\n        data-start={liType}\n        data-tab-level={tabLevel}\n        data-list-id={id}\n        data-oldtype={oldType}\n        data-li-name={oldType ? 'slate-heading' : ''}\n      >\n        <span className={`${authCls} op-symbol`}>\n          <span\n            className={css(\n              isInAnchor\n                ? `\n            &{\n              overflow: hidden;\n              text-overflow: ellipsis;\n              width: 100%;\n              white-space: nowrap;\n              display: block;\n            }\n          `\n                : ''\n            )}\n            data-string=\"true\"\n          >\n            {children}\n          </span>\n        </span>\n        {}\n      </li>\n    </ol>\n  );\n};\n\nexport const UlList: React.FC<OlListProps> = (props: OlListProps) => {\n  const [show, setShow] = useState(false);\n\n  const {\n    prop: { attributes, element },\n    className = '',\n    children,\n    elementUniqueId,\n    textAlign,\n    isInAnchor = false,\n    lineHeight,\n  } = props;\n  const { num = 1, liType = 'i', tabLevel = 1, authCls = '', id, oldType = '' } = element;\n  let type: any = '1';\n  switch (tabLevel % 3) {\n    case 1:\n      type = 'square';\n      break;\n    case 2:\n      type = 'circle';\n      break;\n    case 0:\n      type = 'disc';\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <ul\n      {...attributes}\n      className={`${className} ${id} ${show ? 'slate_plugins_ol_list' : ''} ${!isInAnchor ? oldType : ''}`}\n      style={{\n        lineHeight,\n        listStyleType: `${type}`,\n        marginLeft: isInAnchor ? '1rem' : convertTabLevel(tabLevel),\n\n        textAlign: textAlign as any,\n      }}\n      data-tab-level={tabLevel}\n      data-list-id={id}\n    >\n      <li id={elementUniqueId} data-tab-level={tabLevel} data-list-id={id} data-oldtype={oldType} data-li-name={oldType ? 'slate-heading' : ''}>\n        <span className={`${authCls} op-symbol`}>\n          <span\n            className={css(\n              isInAnchor\n                ? `\n            &{\n              overflow: hidden;\n              text-overflow: ellipsis;\n              width: 100%;\n              white-space: nowrap;\n              display: block;\n            }\n          `\n                : ''\n            )}\n            data-string=\"true\"\n          >\n            {children}\n          </span>\n        </span>\n      </li>\n    </ul>\n  );\n};\n","export const imagePastingListener = (rtf, html) => {\n  const ret = {};\n  const imgTags = extractTagsFromHtml(html);\n  const newSrcValues = [];\n\n  const hexImages = extractFromRtf(rtf);\n  if (hexImages.length === 0) {\n    return;\n  }\n\n  for (let i = 0; i < hexImages.length; i++) {\n    const base64string = createSrcWithBase64(hexImages[i]);\n\n    newSrcValues.push('data:image/png;base64,' + base64string);\n  }\n\n  if (imgTags.length === newSrcValues.length) {\n    for (let i = 0; i < imgTags.length; i++) {\n      if (imgTags[i].indexOf('file://') === 0 && newSrcValues[i]) {\n        ret[imgTags[i]] = newSrcValues[i];\n      }\n    }\n  }\n\n  return ret;\n};\n\nconst extractFromRtf = rtfContent => {\n  const ret = [];\n  const rePictureHeader = /\\{\\\\pict[\\s\\S]+?\\\\bliptag\\-?\\d+(\\\\blipupi\\-?\\d+)?(\\{\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s\\}]*?/;\n  const rePicture = new RegExp(`(?:(${rePictureHeader.source}))([\\\\da-fA-F\\\\s]+)\\\\}`, 'g');\n  let imageType = '';\n\n  const wholeImages = rtfContent.match(rePicture);\n  if (!wholeImages) {\n    return ret;\n  }\n\n  for (let i = 0; i < wholeImages.length; i++) {\n    if (rePictureHeader.test(wholeImages[i])) {\n      if (wholeImages[i].indexOf('\\\\pngblip') !== -1) {\n        imageType = 'image/png';\n      } else if (wholeImages[i].indexOf('\\\\jpegblip') !== -1) {\n        imageType = 'image/jpeg';\n      } else {\n        continue;\n      }\n\n      ret.push({\n        hex: imageType ? wholeImages[i].replace(rePictureHeader, '').replace(/[^\\da-fA-F]/g, '') : null,\n        type: imageType,\n      });\n    }\n  }\n\n  return ret;\n};\n\nexport const extractTagsFromHtml = html => {\n  const regexp = /<img[^>]+src=\"([^\"]+)[^>]+/g;\n  const ret = [];\n  let item;\n\n  while ((item = regexp.exec(html))) {\n    ret.push(item[1]);\n  }\n\n  return ret;\n};\n\nconst convertHexStringToBytes = hexString => {\n  const bytesArray = [];\n  const bytesArrayLength = hexString.length / 2;\n  let i;\n\n  for (i = 0; i < bytesArrayLength; i++) {\n    bytesArray.push(parseInt(hexString.substr(i * 2, 2), 16));\n  }\n  return bytesArray;\n};\n\nfunction createSrcWithBase64(img) {\n  const ret = null;\n  return convertBytesToBase64(convertHexStringToBytes(img.hex));\n}\n\nconst convertBytesToBase64 = bytesArray => {\n  const base64characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  let base64string = '';\n  const bytesArrayLength = bytesArray.length;\n  let i;\n\n  for (i = 0; i < bytesArrayLength; i += 3) {\n    const array3 = bytesArray.slice(i, i + 3);\n    const array3length = array3.length;\n    const array4 = [];\n\n    if (array3length < 3) {\n      for (let j = array3length; j < 3; j++) {\n        array3[j] = 0;\n      }\n    }\n\n    array4[0] = (array3[0] & 0xfc) >> 2;\n    array4[1] = ((array3[0] & 0x03) << 4) | (array3[1] >> 4);\n    array4[2] = ((array3[1] & 0x0f) << 2) | ((array3[2] & 0xc0) >> 6);\n    array4[3] = array3[2] & 0x3f;\n\n    for (let j = 0; j < 4; j++) {\n      if (j <= array3length) {\n        base64string += base64characters.charAt(array4[j]);\n      } else {\n        base64string += '=';\n      }\n    }\n  }\n  return base64string;\n};\n","import { Node, Path, Text } from \"@src/components/slate-packages/slate\"\r\n\r\n\r\n\r\nconst ANCHOR: WeakMap<Node, [number, AnchorToken]> = new WeakMap()\r\n\r\n\r\n\r\nconst FOCUS: WeakMap<Node, [number, FocusToken]> = new WeakMap()\r\n\r\n\r\n\r\nexport class Token { }\r\n\r\n\r\n\r\nexport class AnchorToken extends Token {\r\n  offset?: number\r\n  path?: Path\r\n\r\n  constructor(\r\n    props: {\r\n      offset?: number\r\n      path?: Path\r\n    } = {}\r\n  ) {\r\n    super()\r\n    const { offset, path } = props\r\n    this.offset = offset\r\n    this.path = path\r\n  }\r\n}\r\n\r\n\r\n\r\nexport class FocusToken extends Token {\r\n  offset?: number\r\n  path?: Path\r\n\r\n  constructor(\r\n    props: {\r\n      offset?: number\r\n      path?: Path\r\n    } = {}\r\n  ) {\r\n    super()\r\n    const { offset, path } = props\r\n    this.offset = offset\r\n    this.path = path\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const addAnchorToken = (text: Text, token: AnchorToken) => {\r\n  const offset = text.text.length\r\n  ANCHOR.set(text, [offset, token])\r\n}\r\n\r\n\r\n\r\nexport const getAnchorOffset = (\r\n  text: Text\r\n): [number, AnchorToken] | undefined => {\r\n  return ANCHOR.get(text)\r\n}\r\n\r\n\r\n\r\nexport const addFocusToken = (text: Text, token: FocusToken) => {\r\n  const offset = text.text.length\r\n  FOCUS.set(text, [offset, token])\r\n}\r\n\r\n\r\n\r\nexport const getFocusOffset = (\r\n  text: Text\r\n): [number, FocusToken] | undefined => {\r\n  return FOCUS.get(text)\r\n}\r\n","import {\r\n  createEditor as makeEditor, Descendant, Editor, Element, Node,\r\n  Range,\r\n  Text\r\n} from \"@src/components/slate-packages/slate\"\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport {\r\n  addAnchorToken,\r\n  addFocusToken, AnchorToken,\r\n  FocusToken, getAnchorOffset,\r\n  getFocusOffset, Token\r\n} from './tokens'\r\n\r\n\r\n\r\nconst STRINGS: WeakSet<Text> = new WeakSet()\r\n\r\nconst resolveDescendants = (children: any[]): Descendant[] => {\r\n  const nodes: Node[] = []\r\n\r\n  const addChild = (child: Node | Token): void => {\r\n    if (child == null) {\r\n      return\r\n    }\r\n\r\n    const prev = nodes[nodes.length - 1]\r\n\r\n    if (typeof child === 'string') {\r\n      const text = { text: child }\r\n      STRINGS.add(text)\r\n      child = text\r\n    }\r\n\r\n    if (Text.isText(child)) {\r\n      const c = child \r\n\r\n      if (\r\n        Text.isText(prev) &&\r\n        STRINGS.has(prev) &&\r\n        STRINGS.has(c) &&\r\n        Text.equals(prev, c, { loose: true })\r\n      ) {\r\n        prev.text += c.text\r\n      } else {\r\n        nodes.push(c)\r\n      }\r\n    } else if (Element.isElement(child)) {\r\n      nodes.push(child)\r\n    } else if (child instanceof Token) {\r\n      let n = nodes[nodes.length - 1]\r\n\r\n      if (!Text.isText(n)) {\r\n        addChild('')\r\n        n = nodes[nodes.length - 1] as Text\r\n      }\r\n\r\n      if (child instanceof AnchorToken) {\r\n        addAnchorToken(n, child)\r\n      } else if (child instanceof FocusToken) {\r\n        addFocusToken(n, child)\r\n      }\r\n    } else {\r\n      handleSlateError( `Unexpected hyperscript child object: ${JSON.stringify(child)}`)\r\n      return\r\n    }\r\n  }\r\n\r\n  for (const child of children.flat(Infinity)) {\r\n    addChild(child)\r\n  }\r\n\r\n  return nodes\r\n}\r\n\r\n\r\n\r\nexport function createAnchor(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): AnchorToken {\r\n  return new AnchorToken(attributes)\r\n}\r\n\r\n\r\n\r\nexport function createCursor(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): Token[] {\r\n  return [new AnchorToken(attributes), new FocusToken(attributes)]\r\n}\r\n\r\n\r\n\r\nexport function createElement(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): Element {\r\n  return { ...attributes, children: resolveDescendants(children) }\r\n}\r\n\r\n\r\n\r\nexport function createFocus(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): FocusToken {\r\n  return new FocusToken(attributes)\r\n}\r\n\r\n\r\n\r\nexport function createFragment(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): Descendant[] {\r\n  return resolveDescendants(children)\r\n}\r\n\r\n\r\n\r\nexport function createSelection(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): Range {\r\n  const anchor: AnchorToken = children.find(c => c instanceof AnchorToken)\r\n  const focus: FocusToken = children.find(c => c instanceof FocusToken)\r\n\r\n  if (!anchor || anchor.offset == null || anchor.path == null) {\r\n    handleSlateError( \r\n      `The <selection> hyperscript tag must have an <anchor> tag as a child with \\`path\\` and \\`offset\\` attributes defined.`\r\n    )\r\n    return\r\n  }\r\n\r\n  if (!focus || focus.offset == null || focus.path == null) {\r\n    handleSlateError( \r\n      `The <selection> hyperscript tag must have a <focus> tag as a child with \\`path\\` and \\`offset\\` attributes defined.`\r\n    )\r\n    return\r\n  }\r\n\r\n  return {\r\n    anchor: {\r\n      offset: anchor.offset,\r\n      path: anchor.path,\r\n    },\r\n    focus: {\r\n      offset: focus.offset,\r\n      path: focus.path,\r\n    },\r\n    ...attributes,\r\n  }\r\n}\r\n\r\n\r\n\r\nexport function createText(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): Text {\r\n  const nodes = resolveDescendants(children)\r\n\r\n  if (nodes.length > 1) {\r\n    handleSlateError( \r\n      `The <text> hyperscript tag must only contain a single node's worth of children.`\r\n    )\r\n    return\r\n  }\r\n\r\n  let [node] = nodes\r\n\r\n  if (node == null) {\r\n    node = { text: '' }\r\n  }\r\n\r\n  if (!Text.isText(node)) {\r\n    handleSlateError( `\r\n    The <text> hyperscript tag can only contain text content as children.${JSON.stringify(node)}`)\r\n    return\r\n  }\r\n\r\n  \r\n  \r\n  STRINGS.delete(node)\r\n\r\n  Object.assign(node, attributes)\r\n  return node\r\n}\r\n\r\n\r\n\r\nexport function createEditor(\r\n  tagName: string,\r\n  attributes: { [key: string]: any },\r\n  children: any[]\r\n): Editor {\r\n  const otherChildren: any[] = []\r\n  let selectionChild: Range | undefined\r\n\r\n  for (const child of children) {\r\n    if (Range.isRange(child)) {\r\n      selectionChild = child\r\n    } else {\r\n      otherChildren.push(child)\r\n    }\r\n  }\r\n\r\n  const descendants = resolveDescendants(otherChildren)\r\n  const selection: Partial<Range> = {}\r\n  const editor = makeEditor()\r\n  Object.assign(editor, attributes)\r\n  editor.children = descendants\r\n\r\n  \r\n  \r\n  for (const [node, path] of Node.texts(editor)) {\r\n    const anchor = getAnchorOffset(node)\r\n    const focus = getFocusOffset(node)\r\n\r\n    if (anchor != null) {\r\n      const [offset] = anchor\r\n      selection.anchor = { path, offset }\r\n    }\r\n\r\n    if (focus != null) {\r\n      const [offset] = focus\r\n      selection.focus = { path, offset }\r\n    }\r\n  }\r\n\r\n  if (selection.anchor && !selection.focus) {\r\n    handleSlateError( \r\n      `Slate hyperscript ranges must have both \\`<anchor />\\` and \\`<focus />\\` defined if one is defined, but you only defined \\`<anchor />\\`. For collapsed selections, use \\`<cursor />\\` instead.`\r\n    )\r\n    return\r\n  }\r\n\r\n  if (!selection.anchor && selection.focus) {\r\n    handleSlateError( \r\n      `Slate hyperscript ranges must have both \\`<anchor />\\` and \\`<focus />\\` defined if one is defined, but you only defined \\`<focus />\\`. For collapsed selections, use \\`<cursor />\\` instead.`\r\n    )\r\n    return\r\n  }\r\n\r\n  if (selectionChild != null) {\r\n    editor.selection = selectionChild\r\n  } else if (Range.isRange(selection)) {\r\n    editor.selection = selection\r\n  }\r\n\r\n  return editor\r\n}\r\n","import isPlainObject from 'is-plain-object'\r\nimport { Element } from \"@src/components/slate-packages/slate\"\r\nimport {\r\n  createAnchor,\r\n  createCursor,\r\n  createEditor,\r\n  createElement,\r\n  createFocus,\r\n  createFragment,\r\n  createSelection,\r\n  createText\r\n} from './creators'\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\n\r\n\r\n\r\nconst DEFAULT_CREATORS = {\r\n  anchor: createAnchor,\r\n  cursor: createCursor,\r\n  editor: createEditor,\r\n  element: createElement,\r\n  focus: createFocus,\r\n  fragment: createFragment,\r\n  selection: createSelection,\r\n  text: createText,\r\n}\r\n\r\n\r\n\r\ntype HyperscriptCreators<T = any> = Record<\r\n  string,\r\n  (tagName: string, attributes: { [key: string]: any }, children: any[]) => T\r\n>\r\n\r\n\r\n\r\ntype HyperscriptShorthands = Record<string, Record<string, any>>\r\n\r\n\r\n\r\nconst createHyperscript = (\r\n  options: {\r\n    creators?: HyperscriptCreators\r\n    elements?: HyperscriptShorthands\r\n  } = {}\r\n) => {\r\n  const { elements = {} } = options\r\n  const elementCreators = normalizeElements(elements)\r\n  const creators = {\r\n    ...DEFAULT_CREATORS,\r\n    ...elementCreators,\r\n    ...options.creators,\r\n  }\r\n\r\n  const jsx = createFactory(creators)\r\n  return jsx\r\n}\r\n\r\n\r\n\r\nconst createFactory = <T extends HyperscriptCreators>(creators: T) => {\r\n  const jsx = <S extends keyof T & string>(\r\n    tagName: S,\r\n    attributes?: Object,\r\n    ...children: any[]\r\n  ): ReturnType<T[S]> => {\r\n    const creator = creators[tagName]\r\n\r\n    if (!creator) {\r\n      handleSlateError( `No hyperscript creator found for tag: <${tagName}>`)\r\n      return\r\n    }\r\n\r\n    if (attributes == null) {\r\n      attributes = {}\r\n    }\r\n\r\n    if (!isPlainObject(attributes)) {\r\n      children = [attributes].concat(children)\r\n      attributes = {}\r\n    }\r\n\r\n    children = children.filter(child => Boolean(child)).flat()\r\n    const ret = creator(tagName, attributes, children)\r\n    return ret\r\n  }\r\n\r\n  return jsx\r\n}\r\n\r\n\r\n\r\nconst normalizeElements = (elements: HyperscriptShorthands) => {\r\n  const creators: HyperscriptCreators<Element> = {}\r\n\r\n  for (const tagName in elements) {\r\n    const props = elements[tagName]\r\n\r\n    if (typeof props !== 'object') {\r\n      handleSlateError( \r\n        `Properties specified for a hyperscript shorthand should be an object, but for the custom element <${tagName}>  tag you passed: ${props}`\r\n      )\r\n      return\r\n    }\r\n\r\n    creators[tagName] = (\r\n      tagName: string,\r\n      attributes: { [key: string]: any },\r\n      children: any[]\r\n    ) => {\r\n      return createElement('element', { ...props, ...attributes }, children)\r\n    }\r\n  }\r\n\r\n  return creators\r\n}\r\n\r\nexport { createHyperscript }\r\nexport type { HyperscriptCreators, HyperscriptShorthands }\r\n\r\n","import {\r\n  createHyperscript,\r\n  HyperscriptCreators,\r\n  HyperscriptShorthands\r\n} from './hyperscript'\r\n\r\n\r\n\r\nconst jsx = createHyperscript()\r\n\r\nexport { jsx, createHyperscript }\r\nexport type { HyperscriptCreators, HyperscriptShorthands }\r\n\r\n","export const copyToClipboard = (content: any) => {\n  const el = document.createElement('textarea');\n  el.value = content;\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n};\n","import { css, cx } from '@emotion/css';\nimport { Divider, message, Select } from 'antd';\nimport isHotkey from 'is-hotkey';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { createEditor, Node, Range, Text, Transforms } from '@src/components/slate-packages/slate';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { withHistory } from '../../../slate-packages/slate-history';\nimport { Editable, ReactEditor, Slate, useSelected, withReact } from '../../../slate-packages/slate-react';\nimport { ELTYPE } from '../config';\nimport { CopyOutlined } from '@ant-design/icons';\nimport { copyToClipboard } from '@src/utils/copyToClipboard';\nimport './index.less';\nimport { f } from '@src/resource/string';\nimport CodeMirror from '@uiw/react-codemirror';\nimport { markdown as cm_md } from '@codemirror/lang-markdown';\nimport { javascript as cm_js } from '@codemirror/lang-javascript';\nimport { css as cm_css } from '@codemirror/lang-css';\nimport { html as cm_html } from '@codemirror/lang-html';\nimport { sql as cm_sql } from '@codemirror/lang-sql';\nimport { rust as cm_rust } from '@codemirror/lang-rust';\nimport { python as cm_python } from '@codemirror/lang-python';\nimport _, { isNull } from 'lodash';\n\nconst { Option } = Select;\nexport const defaultLanguage = 'JavaScript';\n\nconst languageMapping = {\n  css: 'CSS',\n  html: 'HTML',\n\n  javascript: 'JavaScript',\n  typescript: 'TypeScript',\n\n  markdown: 'Markdown',\n\n  python: 'Python',\n  rust: 'Rust',\n  sql: 'SQL',\n};\n\nconst languageExtMapping = {\n  css: cm_css(),\n  html: cm_html({ matchClosingTags: true, autoCloseTags: true }),\n  javascript: cm_js({ jsx: true }),\n  typescript: cm_js({ jsx: true, typescript: true }),\n  markdwon: cm_md(),\n  python: cm_python(),\n  rust: cm_rust(),\n  sql: cm_sql(),\n};\n\nexport const CodeHighlightEditor = (props: any) => {\n  const { element, children, setSelectCB, attributes, editor: parentEditor } = props;\n  const renderLeaf = useCallback(props => <Leaf {...props} />, []);\n  const renderElement = useCallback(props => <p {...props.attributes}>{props.children}</p>, []);\n  const editor = useMemo(() => withHistory(withReact(createEditor())), []);\n  const dataCodeBlockId = element['data-codeblock-id'] ? element['data-codeblock-id'] : element['id'];\n  const editorRef = useRef();\n  const { isReadOnly } = React.useContext(TripdocsSdkContext);\n\n  const cmRef = useRef(null);\n\n  let dataCardValueCode = !element['data-card-value']\n    ? element['data-card-value'] === ''\n      ? ''\n      : element.children[0].text\n    : decodeURIComponent(JSON.parse(decodeURIComponent(element['data-card-value']))['data']['code']);\n\n  let dataCardValueLanguage = !element['data-card-value']\n    ? defaultLanguage\n    : JSON.parse(decodeURIComponent(element['data-card-value']))['data']['mode'];\n\n  const [dataCardValue, setDataCardValue] = useState(\n    element['data-card-value']\n      ? element['data-card-value']\n      : encodeURIComponent(\n          `{\"data\": { \"mode\": \"${defaultLanguage.toLowerCase()}\", \"code\": \"${encodeURIComponent(dataCardValueCode)}\", \"id\": \"${dataCodeBlockId}\" }}`\n        )\n  );\n\n  const [value, setValue] = useState<string>(dataCardValueCode);\n  const [language, setLanguage] = useState(dataCardValueLanguage);\n\n  useEffect(() => {\n    if (props.editor && element.type === ELTYPE.CODE_BLOCK) {\n      const curPath = ReactEditor.findPath(editor, ReactEditor.toSlateNode(props.editor, attributes.ref.current));\n      const encodedValue = encodeURIComponent(\n        `{\"data\": { \"mode\": \"${language.toLowerCase()}\", \"code\": \"${encodeURIComponent(\n          value ? value : dataCardValueCode\n        )}\", \"id\": \"${dataCodeBlockId}\" }}`\n      );\n      console.log(\n        '[dataCardValue]',\n        curPath,\n        `{\"data\": { \"mode\": \"${language.toLowerCase()}\", \"code\": \"${value ? value : dataCardValueCode}\", \"id\": \"${dataCodeBlockId}\" }}`,\n        props.editor,\n        attributes.ref.current\n      );\n      _.throttle(\n        () =>\n          Transforms.setNodes(props.editor, { 'data-card-value': encodedValue } as Partial<Node>, {\n            at: curPath,\n          }),\n        500\n      )();\n    }\n    console.log('[dataCardValueCode]', value, dataCardValueCode, element);\n  }, [value, language]);\n\n  useEffect(() => {\n    console.log('isReadOnly ---- CodeBlock ----', isReadOnly, cmRef?.current);\n    const editorDom = editorRef.current;\n\n    if (editorRef && editorDom) {\n      if (isReadOnly) {\n        $(editorDom).children('div').attr('contenteditable', 'false');\n      } else {\n        $(editorDom).children('div').removeAttr('contenteditable');\n      }\n    }\n\n    const handler = e => {\n      if (!cmRef || !cmRef.current || !cmRef.current.editor) return;\n      const edt = cmRef.current.editor;\n      if (!edt.contains(e.target)) {\n        edt.querySelectorAll('.cm-selectionBackground').forEach(item => {\n          item.remove();\n        });\n      }\n    };\n    let ea = document.getElementById(`editorarea-${parentEditor.docId}`);\n    ea.addEventListener('click', handler);\n    return () => {\n      ea.removeEventListener('click', handler);\n    };\n  }, [isReadOnly]);\n\n  const decorate = useCallback(\n    ([node, path]) => {\n      const ranges: any = [];\n      if (!Text.isText(node)) {\n        return ranges;\n      }\n      const tokens = Prism.tokenize(node.text, Prism.languages[(language as string).toLowerCase()]);\n      let start = 0;\n      for (const token of tokens) {\n        const length = getLength(token);\n        const end = start + length;\n        if (typeof token !== 'string') {\n          ranges.push({\n            [token.type]: true,\n            anchor: { path, offset: start },\n            focus: { path, offset: end },\n          });\n        }\n        start = end;\n      }\n      return ranges;\n    },\n    [language]\n  );\n\n  const onComposition = (e: React.CompositionEvent<HTMLDivElement>) => {\n    if (e.type === 'compositionstart') {\n      editor.insertText(' ');\n    } else if (e.type === 'compositionend') {\n      editor.deleteBackward('character');\n    }\n  };\n\n  const isValidJS = (code: string) => {\n    const frequentKeyword = ['this', 'function', 'if', 'return', 'var', 'else', 'for', 'new', 'const', 'let'];\n    code.includes('this');\n    let result = false;\n    frequentKeyword.forEach(word => {\n      if (!result && code.includes(word)) {\n        result = true;\n      }\n    });\n    return result;\n  };\n\n  const getExtension = (lang: string) => {\n    let ext = languageExtMapping[lang] ?? languageExtMapping['javascript'];\n    return ext;\n  };\n\n  return useMemo(\n    () => (\n      <pre\n        {...attributes}\n        data-block-context\n        name=\"code-block-editor\"\n        className={cx('code-block-editor', 'ignore-toggle-readonly')}\n        data-card-value={dataCardValue}\n        id={dataCodeBlockId}\n        onDragOverCapture={e => {\n          console.log('[code-block] onDragOverCapture', e.target);\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }}\n      >\n        {isReadOnly ? (\n          <div\n            data-ignore-slate\n            className={cx(\n              'ignore-toggle-readonly',\n              css`\n                & {\n                  position: absolute;\n                  z-index: 1;\n                  top: 0px;\n                  right: 0;\n                  display: flex;\n                  justify-content: flex-end;\n                  align-items: center;\n                  user-select: none;\n                  color: rgba(140, 140, 140, 0.8);\n                  font-size: 14px;\n                  letter-spacing: -0.3px;\n                  .lang-wrapper {\n                    margin-right: 8px;\n                    user-select: none;\n                    font-family: sans-serif;\n                    font-size: 12px;\n                  }\n                  .copy-code-btn {\n                    margin: 0 16px 0 8px;\n                    &:hover {\n                      color: #000;\n                      cursor: pointer;\n                    }\n                  }\n                }\n              `\n            )}\n          >\n            <div data-ignore-slate className={cx('ignore-toggle-readonly', 'lang-wrapper')}>\n              {languageMapping[language.toLowerCase()]}\n            </div>\n            <Divider type=\"vertical\" />\n            <div\n              data-ignore-slate\n              className={cx('ignore-toggle-readonly', 'copy-code-btn')}\n              onClick={e => {\n                e.preventDefault();\n                copyToClipboard(dataCardValueCode || '');\n                message.destroy();\n                message.config({ maxCount: 2, top: 70 });\n                message.success('复制成功');\n              }}\n            >\n              <CopyOutlined data-ignore-slate />\n            </div>\n          </div>\n        ) : (\n          <div\n            data-ignore-slate\n            contentEditable={false}\n            className={cx('ignore-toggle-readonly')}\n            style={{\n              position: 'relative',\n              top: '0',\n              right: '5px',\n              background: 'rgba(0,0,0,0.05)',\n              userSelect: 'none',\n            }}\n            onDragOverCapture={e => {\n              console.log('[code-block] onDragOverCapture', e.target);\n              e.dataTransfer.dropEffect = 'none';\n              e.preventDefault();\n            }}\n          >\n            <div className=\"code-block-language-bar ignore-toggle-readonly\" contentEditable={false} style={{ userSelect: 'none' }}>\n              <Select\n                value={language}\n                onChange={val => {\n                  setLanguage(val);\n                }}\n              >\n                {}\n                <Option value=\"css\">CSS</Option>\n                <Option value=\"html\">HTML</Option>\n                {}\n                <Option value=\"javascript\">JavaScript</Option>\n                <Option value=\"typescript\">TypeScript</Option>\n                {}\n                <Option value=\"markdown\">Markdown</Option>\n                {}\n                <Option value=\"python\">Python</Option>\n                <Option value=\"rust\">Rust</Option>\n                <Option value=\"sql\">SQL</Option>\n              </Select>\n            </div>\n          </div>\n        )}\n        <CodeMirror\n          ref={cmRef}\n          data-ignore-slate\n          value={value}\n          height=\"100%\"\n          width=\"100%\"\n          className={cx('ignore-toggle-readonly', isReadOnly ? 'cm-readonly' : null)}\n          placeholder={f('pleaseInputCode')}\n          contentEditable={false}\n          readOnly={isReadOnly ? true : false}\n          basicSetup={{\n            highlightActiveLine: false,\n            lineNumbers: true,\n            autocompletion: true,\n            crosshairCursor: false,\n            bracketMatching: true,\n            foldGutter: false,\n            highlightSelectionMatches: false,\n          }}\n          extensions={[getExtension(language)]}\n          onKeyDown={(e: any) => {\n            if (isReadOnly) {\n              e.preventDefault();\n              return;\n            }\n            if (editor.selection && ReactEditor.hasRange(editor, editor.selection)) {\n              if (isHotkey('mod+Enter', e)) {\n                e.preventDefault();\n                ReactEditor.blur(editor);\n                setSelectCB(ReactEditor.findPath(props.editor, ReactEditor.toSlateNode(props.editor, attributes.ref.current)));\n              }\n              if (isHotkey('Enter', e)) {\n                e.preventDefault();\n                Transforms.insertText(editor, '\\n');\n              }\n            }\n          }}\n          onFocus={e => {\n            if (isReadOnly) {\n              e.preventDefault();\n              return;\n            }\n            ReactEditor.blur(props.editor);\n          }}\n          onChange={val => {\n            setValue(val);\n          }}\n        />\n        {}\n        <div style={{ display: 'none' }}>{children}</div>\n      </pre>\n    ),\n    [value, language, isReadOnly, element, dataCardValue, dataCardValueCode, dataCardValueLanguage]\n  );\n};\n\nconst getLength = (token: any) => {\n  if (typeof token === 'string') {\n    return token.length;\n  } else if (typeof token.content === 'string') {\n    return token.content.length;\n  } else {\n    return token.content.reduce((l: any, t: any) => l + getLength(t), 0);\n  }\n};\n\nconst colorTheme = {\n  gray: '#7D8B99',\n  darkGray: '#666',\n  yellow: '#ffa903',\n  blue: '#1646ad',\n  gold: '#e90',\n  green: '#009e9d',\n  red: '#c92c2c',\n  purple: '#bb51b8',\n  orange: '#ff6800',\n};\n\nconst Leaf = ({ attributes, children, leaf }: any) => {\n  return (\n    <span\n      {...attributes}\n      className={css`\n        ${leaf.comment &&\n        css`\n          color: ${colorTheme.gray};\n        `}\n        ${(leaf.operator || leaf.bold || leaf.url) &&\n        css`\n          color: ${colorTheme.yellow};\n        `}\n        ${(leaf.parameter || leaf.title) &&\n        css`\n          color: ${colorTheme.blue};\n        `}\n        ${(leaf.variable || leaf.regex || leaf.blockquote) &&\n        css`\n          color: ${colorTheme.gold};\n        `}\n        ${(leaf.string || leaf['template-string']) &&\n        css`\n          color: ${colorTheme.orange};\n        `}\n        ${(leaf.number ||\n          leaf.boolean ||\n          leaf.tag ||\n          leaf.constant ||\n          leaf.symbol ||\n          leaf.attr ||\n          leaf.selector ||\n          leaf.code ||\n          leaf.char ||\n          leaf['code-snippet'] ||\n          leaf['front-matter-block']) &&\n        css`\n          color: ${colorTheme.green};\n        `}\n        ${(leaf.punctuation || leaf.hr) &&\n        css`\n          color: ${colorTheme.darkGray};\n        `}\n        ${(leaf.function || leaf.class || leaf['url-reference']) &&\n        css`\n          color: ${colorTheme.red};\n        `}\n        ${leaf.keyword &&\n        css`\n          color: ${colorTheme.purple};\n        `}\n        ${leaf.italic &&\n        css`\n          font-style: italic;\n        `}\n        ${leaf.bold &&\n        css`\n          font-weight: bold;\n        `}\n        ${leaf.strike &&\n        css`\n          text-decoration: line-through;\n        `}\n      `}\n    >\n      {children}\n    </span>\n  );\n};\n\nconst deleteIndent = (editor: any, dataCardValueCode: any) => {\n  if (\n    dataCardValueCode[editor.selection.focus.offset - 1] === ' ' &&\n    dataCardValueCode[editor.selection.focus.offset - 2] === ' ' &&\n    dataCardValueCode[editor.selection.focus.offset - 3] === ' ' &&\n    dataCardValueCode[editor.selection.focus.offset - 4] === ' '\n  ) {\n    Transforms.delete(editor, { reverse: true, distance: 4, hanging: true });\n  } else if (\n    dataCardValueCode[editor.selection.focus.offset - 1] === ' ' &&\n    dataCardValueCode[editor.selection.focus.offset - 2] === ' ' &&\n    dataCardValueCode[editor.selection.focus.offset - 3] === ' '\n  ) {\n    Transforms.delete(editor, { reverse: true, distance: 3, hanging: true });\n  } else if (dataCardValueCode[editor.selection.focus.offset - 1] === ' ' && dataCardValueCode[editor.selection.focus.offset - 2] === ' ') {\n    Transforms.delete(editor, { reverse: true, distance: 2, hanging: true });\n  } else if (dataCardValueCode[editor.selection.focus.offset - 1] === ' ') {\n    Transforms.delete(editor, { reverse: true, distance: 1, hanging: true });\n  }\n};\n\nconst initialValue = [\n  {\n    children: [\n      {\n        text: '<h1>wong</h1>\\n<h2>xxx</h2>',\n      },\n    ],\n  },\n];\n\nlet Prism: any = null;\nif (typeof window !== 'undefined' && typeof window.navigator !== 'undefined') {\n  Prism = require('prismjs');\n  require('prismjs/components/prism-python');\n  require('prismjs/components/prism-php');\n  require('prismjs/components/prism-sql');\n  require('prismjs/components/prism-java');\n  require('prismjs/components/prism-json');\n  require('prismjs/components/prism-markdown');\n  require('prismjs/components/prism-bash');\n  require('prismjs/components/prism-rust');\n\n  Prism.languages.json = Prism.languages.extend('json', {});\n\n  Prism.languages.python = Prism.languages.extend('python', {});\n  Prism.languages.insertBefore('python', 'string', {\n    comment: { pattern: /#[^\\n]*/, alias: 'comment' },\n  });\n  Prism.languages.javascript = Prism.languages.extend('javascript', {});\n  Prism.languages.insertBefore('javascript', 'string', {\n    comment: { pattern: /(\\/\\/[^\\n]*)|(\\/\\*.*?\\*\\/)/, alias: 'comment' },\n  });\n  Prism.languages.html = Prism.languages.extend('html', {});\n  Prism.languages.insertBefore('html', 'string', {\n    comment: { pattern: /<!--[^\\n]*-->/, alias: 'comment' },\n  });\n}\n","import { Node } from '@src/components/slate-packages/slate';\nimport { createRandomId, createUUID } from '@src/utils/randomId';\nimport _ from 'lodash';\nimport { createCard } from '../Card';\nimport { ELTYPE } from '../config';\n\nexport const pasteTable = (row: any, column: any, totalWidth: any, tableArr: any[], tableRows: any[]) => {\n  const realCellWidth = Math.floor(((totalWidth as number) / column) as number);\n\n  let table: any = [\n    {\n      type: ELTYPE.PARAGRAPH,\n      children: [\n        {\n          text: '',\n        },\n      ],\n    },\n    {\n      id: createUUID(),\n      type: ELTYPE.TABLE,\n      row: row,\n      column: column,\n      hwEach: [],\n\n      children: [],\n    },\n    {\n      type: ELTYPE.PARAGRAPH,\n      children: [\n        {\n          text: '',\n        },\n      ],\n    },\n  ];\n  let _unbordered = null;\n  let collaboratedCells = [];\n\n  console.log('[row]', row, column, tableArr);\n\n  for (let i = 0; i < row; i++) {\n    let rowItem = tableRows[i];\n    let tableRow = {\n      type: ELTYPE.TABLE_ROW,\n      height: rowItem?.height || '33px',\n      children: [] as any,\n    };\n    let arr = [];\n\n    for (let j = 0; j < column; j++) {\n      let _item = tableArr[i][j] || {};\n      let readonly = !!tableArr[i][j]?.readonly;\n      let rowspan = _.isNil(tableArr[i][j]?.rowspan) ? 1 : tableArr[i][j]?.rowspan;\n      let colspan = _.isNil(tableArr[i][j]?.colspan) ? 1 : tableArr[i][j]?.colspan;\n      console.log(readonly, 'colspan', colspan, 'rowspan', rowspan);\n      let width = !readonly ? realCellWidth * colspan + 'px' : realCellWidth + 'px';\n      let height = !readonly ? 37 * rowspan + 'px' : 0;\n\n      if (Number.parseInt(colspan) * Number.parseInt(rowspan) > 1) {\n        collaboratedCells.push([i, j, Number.parseInt(rowspan), Number.parseInt(colspan)]);\n      }\n\n      let cellBackgroundColor = _item.cellBackgroundColor;\n      colspan = _item.colspan;\n      height = _item.height;\n      width = _item.width;\n      rowspan = _item.rowspan;\n      let text = _item.text;\n      let textAlign = _item.textAlign;\n      let unbordered = _item.unbordered;\n      let verticalAlign = _item.verticalAlign;\n      if (unbordered) _unbordered = unbordered;\n\n      const createEmptyText = (text?) => {\n        text = text || '';\n        return [\n          {\n            type: 'paragraph',\n            tabLevel: 0,\n            align: 'left',\n            children: [\n              {\n                text: text,\n              },\n            ],\n          },\n        ];\n      };\n\n      const trimBreaks = function (children: any) {\n        return children.map((child: any) => {\n          if (child.text && (/^[\\t\\r\\n\\f]+$/.test(child.text) || encodeURIComponent(child.text) === '%EF%BB%BF%0A')) {\n            return { ...child, text: '' };\n          } else if (child.children && child.children.length > 0) {\n            return { ...child, children: trimBreaks(child.children) };\n          } else {\n            return child;\n          }\n        });\n      };\n\n      if (Array.isArray(text)) {\n        text = trimBreaks(text);\n      } else {\n        text = createEmptyText(text);\n      }\n\n      console.log('TTTTTTTEXT: ', Array.isArray(text), text);\n\n      console.log('[_item]', _item);\n      const tableCell = {\n        type: ELTYPE.TABLE_CELL,\n        key: createRandomId(),\n\n        cellBackgroundColor,\n\n        unbordered,\n        verticalAlign,\n\n        colspan,\n        rowspan,\n\n        children: text,\n      };\n      if (colspan === 1 && rowspan === 1) {\n        delete tableCell.rowspan;\n        delete tableCell.colspan;\n      }\n\n      if (!readonly) {\n        if (tableCell.children && tableCell.children[0] && tableCell.children[0].children && tableCell.children[0].children[0]) {\n          delete tableCell.children[0]?.children[0]?.readonly;\n        }\n      }\n\n      tableRow.children.push(tableCell);\n      arr.push(realCellWidth + 'px');\n    }\n\n    table[1].hwEach.push(arr);\n    table[1].children.push(tableRow);\n  }\n\n  for (let i = 0; i < collaboratedCells.length; i++) {\n    const [row, col, rowspan, colspan] = collaboratedCells[i];\n    const colNode = table[1].children[row].children[col];\n    console.log('colNode', colNode);\n    for (let j = 0; j < rowspan; j++) {\n      for (let k = 0; k < colspan; k++) {\n        if (j === 0 && k === 0) {\n          continue;\n        } else if (j === 0) {\n          table[1].children[row].children[col + k].rowspan = rowspan;\n          table[1].children[row].children[col + k].colspan = 0;\n        } else if (k === 0) {\n          table[1].children[row + j].children[col].rowspan = 0;\n          table[1].children[row + j].children[col].colspan = colspan;\n        } else {\n          table[1].children[row + j].children[col + k].rowspan = 0;\n          table[1].children[row + j].children[col + k].colspan = 0;\n        }\n      }\n    }\n  }\n\n  return table;\n};\n\nexport const pasteTableForHTML = (parent: any, deserialize2, fragId, imageTags, docWidth) => {\n  console.log('pasteTableForHTML parent', parent);\n  let tableArr: any[] = [];\n  let tableRows: any[] = [];\n\n  deserialize(parent, tableArr, null, deserialize2, fragId, tableRows, imageTags);\n  console.log('tableRows', tableRows);\n  console.log('pasteTableForHTML tableArr', tableArr);\n\n  tableArr = validTable(tableArr);\n  let colNum = tableArr[0]?.length;\n  const table = pasteTable(tableArr.length, colNum, docWidth, tableArr, tableRows);\n  console.log('[insertTable]2', JSON.stringify(table[1], null, 4));\n  const card = createCard(table[1]);\n\n  return card;\n};\n\nconst isNullTD = 'isNullTD';\nconst isPlaceHolder = 'isPlaceHolder';\n\nconst fillterForWordTable = texts => {\n  const fn = text => {\n    return text.filter(item => {\n      if (!item) {\n        return false;\n      }\n      if (item.children && item.children.length > 0) {\n        if (item.type == 'edit-link' && item.href == null) {\n          item.type = ELTYPE.PARAGRAPH;\n        }\n        return (item.children = fn(item.children));\n      } else if (item.type == 'edit-link' && item.children.length == 0) {\n        return false;\n      } else if (item !== '\\n' && item != '\\n  ') {\n        return true;\n      } else {\n        return false;\n      }\n    });\n  };\n  const ret = fn(texts);\n  console.log('[ret]', ret);\n  return ret;\n};\n\nconst pttopx = (pt, type) => {\n  let ret = pt;\n  if (pt.indexOf('pt') !== -1) {\n    let num = Math.floor(pt.replace('pt', ''));\n    if (type == 'height') {\n      if (num < 33) num = 33;\n    } else if (type == 'width') {\n      if (num < 41) num = 41;\n    } else {\n    }\n    ret = num + 'px';\n  }\n  return ret;\n};\n\nexport const deserialize = (el: any, tableArr: any[], rowNum: number = 0, deserialize2, fragId, tableRows, imageTags) => {\n  const { nodeType: elNodeType, nodeName: elNodeName } = el;\n\n  console.log('newTable deserialize start', el, elNodeName);\n\n  if (elNodeType === 3) {\n    return el.textContent;\n  } else if (elNodeType !== 1) {\n    return null;\n  } else if (elNodeName === 'BR') {\n    return '\\n';\n  }\n\n  if (elNodeName === 'TABLE') {\n    const tableItems = Array.from(el.childNodes).filter((item: any) => item.nodeName === 'TBODY');\n    if (!tableItems || !tableItems.length) return;\n    const thead: any = Array.from(el.childNodes).filter((item: any) => item.nodeName === 'THEAD')[0];\n    let theadTr = thead?.childNodes?.[0];\n    const tbody: any = tableItems[0];\n    if (theadTr) {\n      theadTr.outerHTML = theadTr.outerHTML.replace(/\\<th\\>/g, '<td>').replace(/\\<\\\\th\\>/g, '<\\\\td>');\n      tbody.insertBefore(theadTr, tbody.firstChild);\n    }\n\n    return deserialize(tbody, tableArr, 0, deserialize2, fragId, tableRows, imageTags);\n  }\n\n  if (['TBODY'].includes(elNodeName)) {\n    let childNodes = Array.from(el.childNodes);\n    childNodes = childNodes.filter((child: any) => child.nodeType != 3);\n    console.log('TABLE TAKING', elNodeName, el, el.parentNode, childNodes);\n    Array.from(childNodes).map((item, index) => {\n      return deserialize(item, tableArr, index, deserialize2, fragId, tableRows, imageTags);\n    });\n  }\n  if (elNodeName === 'TR') {\n    tableRows.push({\n      height: pttopx(el.style.height, 'height') || '33px',\n    });\n\n    Array.from(el.childNodes).map((item: any, realColIndex: number) => {\n      const { nodeName } = item;\n\n      if (nodeName === 'TD' || nodeName === 'TH') {\n        const rowspan = item.getAttribute('rowspan') ? parseInt(item.getAttribute('rowspan')) : 1;\n        const colspan = item.getAttribute('colspan') ? parseInt(item.getAttribute('colspan')) : 1;\n\n        if (!tableArr[rowNum]) {\n          tableArr[rowNum] = [];\n        }\n        if (!(rowspan * colspan)) {\n          console.error('copy table error rowspan * colspan', rowspan * colspan);\n          return false;\n        }\n        let colIndex = tableArr[rowNum].length;\n        for (let i = 0; i < tableArr[rowNum].length; i++) {\n          const el = tableArr[rowNum][i];\n          if (!el) {\n            console.error('copy table error colIndex', tableArr[rowNum], rowNum, i);\n            colIndex = i;\n            break;\n          }\n        }\n\n        let texts = deserialize2(item, fragId, imageTags, { isInTable: true });\n        console.log('[deserialize2]', texts);\n        texts = texts\n          ? texts.map((item: any) => {\n              if (item?.type === undefined) {\n                if (typeof item === 'string') {\n                  return {\n                    type: 'paragraph',\n                    children: [\n                      {\n                        text: item,\n                      },\n                    ],\n                  };\n                } else if (typeof item === 'object') {\n                  if (typeof item.children === 'undefined' && !!item.text) {\n                    return {\n                      type: 'paragraph',\n                      children: [{ ...item, type: undefined }],\n                    };\n                  } else if (Node.isNode(item)) {\n                    return {\n                      type: 'paragraph',\n                      children: [\n                        {\n                          text: Node.string(item),\n                        },\n                      ],\n                    };\n                  }\n                }\n              } else if (Object.values(ELTYPE).includes(item.type)) {\n                return item;\n              }\n\n              return {\n                type: 'paragraph',\n                children: [{ text: '' }],\n              };\n            })\n          : [];\n        texts = texts\n          ? fillterForWordTable(texts)\n          : [\n              {\n                type: 'paragraph',\n                tabLevel: 0,\n                align: 'left',\n                children: [\n                  {\n                    text: '',\n                  },\n                ],\n              },\n            ];\n\n        let textAlign = '';\n        textAlign = item.getElementsByTagName('p') && item.getElementsByTagName('p')[0] && item.getElementsByTagName('p')[0].style.textAlign;\n\n        tableArr[rowNum][colIndex] = {\n          text: texts,\n\n          rowspan,\n          colspan,\n          cellBackgroundColor: item.style.backgroundColor,\n          width: pttopx(item.style.width, 'width') || '145px',\n          height: pttopx(item.style.height, 'height'),\n          unbordered: item.style.border,\n          textAlign: textAlign,\n          verticalAlign: item.style.verticalAlign,\n        };\n\n        console.log('[texts]', item, texts, rowspan, colspan);\n\n        if (colspan > 0) {\n          let yCount = 1;\n          while (yCount < colspan) {\n            tableArr[rowNum][colIndex + yCount] = isNullTD;\n            yCount += 1;\n          }\n        }\n\n        if (rowspan) {\n          let count = 1;\n          while (count < rowspan) {\n            console.log('************rowspan**********', tableArr[rowNum + count], rowspan);\n            if (!tableArr[rowNum + count]) {\n              tableArr[rowNum + count] = [];\n            }\n\n            if (colspan >= 1) {\n              let yCount = 0;\n              while (yCount < colspan) {\n                tableArr[rowNum + count][colIndex + yCount] = isNullTD;\n                yCount += 1;\n              }\n            }\n\n            count += 1;\n          }\n        }\n      }\n\n      for (let k = 0; k < tableArr.length; k++) {\n        const arr = tableArr[k];\n        if (arr.includes(isNullTD)) {\n          for (let l = 0; l < arr.length; l++) {\n            const cell = arr[l];\n            if (cell === isNullTD) {\n              arr[l] = { text: '', readonly: true };\n            }\n          }\n        }\n      }\n      return null;\n    });\n  }\n};\n\nconst validTable = table => {\n  console.log('validTable0 :>> ', table);\n  let maxColumn = table.reduce((max, row) => (row.length > max ? row.length : max), 0);\n  table = table.filter(row => row.length === maxColumn);\n  console.log('validTable :>> ', table, maxColumn);\n  return table;\n};\n","import { Node } from '@src/components/slate-packages/slate';\nimport { createUUID } from '@src/utils/randomId';\nimport storage from '@src/utils/storage';\nimport { ELTYPE } from '../config';\n\nexport interface RenderHTMLProps {\n  el: any;\n  children: any;\n  fragId: any;\n}\n\nconst getAlign = (el: any) => {\n  const ret = el.getAttribute('data-align') || el.style.textAlign || '';\n\n  return ret;\n};\n\nconst getLiAlign = (el: any) => {\n  let ret = '';\n  if (el?.classList && Array.from(el.classList).includes('align-center')) {\n    ret = 'center';\n  }\n  if (el?.classList && Array.from(el.classList).includes('align-right')) {\n    ret = 'right';\n  }\n  return ret;\n};\n\nconst getLineHeight = (el: any) => {\n  const ret = el.getAttribute('data-line-height') || el.style.lineHeight || '';\n  return ret;\n};\n\nconst hasTabLevel = (el: any) => {\n  return el.getAttribute('data-tab-level');\n};\n\nconst getTabLevel = (el: any) => {\n  return hasTabLevel(el) ? Number.parseInt(el.getAttribute('data-tab-level')) : 0;\n};\n\nconst employee = storage.get('userInfo')?.employee;\n\nconst string = (node: any): string => {\n  if (node.text && node.text.length > 0) {\n    return node.text;\n  } else if (node.children && node.children.length > 0) {\n    return node.children.map(string).join('');\n  } else if (Array.isArray(node)) {\n    return node.map(string).join('');\n  } else if (typeof node === 'string') {\n    return node;\n  } else {\n    return '';\n  }\n};\n\nexport const ELEMENT_TAGS: any = {\n  A: ({ el, children }: RenderHTMLProps) => ({\n    type: ELTYPE.LINK,\n    href: el.getAttribute('href') || '',\n    children: [{ text: (children && string(children)) || el.getAttribute('href') || '' }],\n  }),\n  BLOCKQUOTE: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.BLOCK_QUOTE,\n    tabLevel: getTabLevel(el),\n  }),\n  H1: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.HEADING_ONE,\n    tabLevel: getTabLevel(el),\n    align: getAlign(el),\n    lineHeight: getLineHeight(el),\n  }),\n  H2: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.HEADING_TWO,\n    tabLevel: getTabLevel(el),\n    align: getAlign(el),\n    lineHeight: getLineHeight(el),\n  }),\n  H3: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.HEADING_THREE,\n    tabLevel: getTabLevel(el),\n    align: getAlign(el),\n    lineHeight: getLineHeight(el),\n  }),\n  H4: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.HEADING_FOUR,\n    tabLevel: getTabLevel(el),\n    align: getAlign(el),\n    lineHeight: getLineHeight(el),\n  }),\n  H5: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.HEADING_FIVE,\n    tabLevel: getTabLevel(el),\n    align: getAlign(el),\n    lineHeight: getLineHeight(el),\n  }),\n  H6: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.HEADING_SIX,\n    tabLevel: getTabLevel(el),\n    align: getAlign(el),\n    lineHeight: getLineHeight(el),\n  }),\n  H7: ({ el }: RenderHTMLProps) => ({\n    type: ELTYPE.HEADING_SIX,\n    tabLevel: getTabLevel(el),\n    align: getAlign(el),\n    lineHeight: getLineHeight(el),\n  }),\n\n  LI: ({ el, fragId }: RenderHTMLProps) => {\n    const parent = el.parentNode;\n    const parentNodeName = parent.nodeName;\n    console.log('LI!!!!', el, fragId, parent);\n    const elName = el.getAttribute('data-li-name') || '';\n    const tabLevel = getTabLevel(el);\n    const listId: string = el.getAttribute('data-list-id') || '';\n    const oldtype = el.getAttribute('data-oldtype') || '';\n\n    const listType = ['todo-list-item', 'todo-list-item-done'].includes(elName)\n      ? ELTYPE.TODO_LIST\n      : parentNodeName === 'OL'\n      ? ELTYPE.OLLIST\n      : parentNodeName === 'UL'\n      ? ELTYPE.ULLIST\n      : 'null';\n\n    switch (listType) {\n      case ELTYPE.TODO_LIST:\n        console.log(el);\n        if (elName === 'todo-list-item-done') {\n          return {\n            oldType: oldtype,\n            type: ELTYPE.TODO_LIST,\n            todoChecked: true,\n            tabLevel,\n            align: getLiAlign(el),\n          };\n        }\n        return { type: ELTYPE.TODO_LIST, tabLevel, align: getLiAlign(el) };\n\n      case ELTYPE.OLLIST:\n        const remainingStr = (str: string) => str.replace(/^null/, '');\n        const getRandomId = () => 'numbered-list=' + fragId + '_';\n        return {\n          oldType: oldtype,\n          type: ELTYPE.OLLIST,\n          tabLevel,\n          num: parseInt(el.getAttribute('data-start')) || 1,\n\n          id: getRandomId() + remainingStr(listId),\n          authCls: 'auth-' + employee,\n          elId: createUUID(),\n        };\n\n      case ELTYPE.ULLIST:\n        return {\n          oldType: el.getAttribute('data-oldtype') || '',\n          type: ELTYPE.ULLIST,\n          tabLevel,\n          num: 1,\n          authCls: 'auth-' + employee,\n          elId: createUUID(),\n          align: getLiAlign(el),\n        };\n      default:\n        break;\n    }\n  },\n  P: ({ el }: RenderHTMLProps) => {\n    const tabLevel = getTabLevel(el);\n\n    return {\n      type: ELTYPE.PARAGRAPH,\n      tabLevel,\n      align: getAlign(el),\n      lineHeight: getLineHeight(el),\n    };\n  },\n  PRE: ({ el }: RenderHTMLProps) => {\n    console.log(el);\n    return { type: ELTYPE.CODE_BLOCK };\n  },\n  HR: () => ({\n    type: ELTYPE.CARD,\n    children: [\n      {\n        type: ELTYPE.CARD_PRE,\n        children: [{ text: '' }],\n      },\n      { type: ELTYPE.DIVIDE, children: [{ text: '' }] },\n      {\n        type: ELTYPE.CARD_SUF,\n        children: [{ text: '' }],\n      },\n    ],\n  }),\n\n  IMG: ({ el }) => ({ type: ELTYPE.INLINEIMAGE, linkSource: el.getAttribute('src') }),\n  'V:IMAGEDATA': ({ el }) => ({ type: ELTYPE.INLINEIMAGE, linkSource: el.getAttribute('src') }),\n};\n\nexport const TEXT_TAGS: any = {\n  CODE: el => getColor(el, { code: true }),\n  DEL: el => getColor(el, { strikethrough: true }),\n  INS: el => getColor(el, { underline: true }),\n  EM: el => getColor(el, { italic: true }),\n  I: el => getColor(el, { italic: true }),\n  S: el => getColor(el, { strikethrough: true }),\n  STRONG: el => getColor(el, { bold: true }),\n  B: el => getColor(el, { bold: true }),\n  U: el => getColor(el, { underline: true }),\n};\n\nfunction getColor(el, attr: any) {\n  const style = el.getAttribute('style');\n  if (style && style.backgroundColor) {\n    attr.backgroundColor = style.backgroundColor;\n  }\n  if (style && style.fontColor) {\n    attr.fontColor = style.fontColor;\n  }\n  return attr;\n}\n","import { Editor, Node } from '@src/components/slate-packages/slate';\nimport { jsx } from '@src/components/slate-packages/slate-hyperscript';\nimport { v4 as anchorId } from 'uuid';\nimport { createCard } from '../Card';\nimport { defaultLanguage } from '../CodeBlock/renderCodeBlock';\nimport { ELTYPE, HEADING_TYPES, INLINE_TYPES, LIST_TYPES } from '../config';\nimport { pasteTableForHTML } from '../table/pasteTable';\nimport { ELEMENT_TAGS, TEXT_TAGS } from './deserializeTags';\nimport $ from 'jquery';\nimport isUrl from 'is-url';\nimport { createUUID } from '@src/utils/randomId';\nimport { isImageBase64 } from '../InlineImage/utils';\n\nfunction lJsx(type: any, attrs: Object, child: any): any {\n  const nodeText = jsx(type, attrs, child);\n  return nodeText;\n}\n\nexport function allIsText(fragment: any[], id?) {\n  return fragment.every(el => {\n    if (id) el.id = id;\n    return [ELTYPE.PARAGRAPH, ...HEADING_TYPES, ...LIST_TYPES, undefined].includes(el.type);\n  });\n}\n\nconst getTargetUser = (el: any) => {\n  const ret = el.getAttribute('data-target-user') || '';\n  return ret;\n};\n\nexport const hasChildrenWithLink = (children: any) => {\n  return Array.from(children).some((child: any) => child.nodeName === 'A' || (child.getAttribute && child.getAttribute('data-link') === 'true'));\n};\n\nexport const deserializeHTMLToText = (el: any): any => {\n  const { nodeType: elNodeType, nodeName: elNodeName } = el;\n\n  if (elNodeType === 3) {\n    return el.textContent;\n  } else if (elNodeType !== 1) {\n    return null;\n  } else if (elNodeName === 'BR') {\n    return '\\n';\n  }\n  if (Array.isArray(el.children)) {\n    return Array.from(el.children).map(deserializeHTMLToText).flat();\n  }\n  return el.innerText === '\\n' ? '' : el.innerText?.replace('\\n', '');\n};\n\nexport const isInTable = editor => {\n  let ret = null;\n  if (editor.selection) {\n    ret = Editor.above(editor, {\n      match: (n: any) => n.type === ELTYPE.TABLE,\n    });\n  }\n  return ret;\n};\n\ntype DeserializeOptions = {\n  isInTable?: boolean;\n  docWidth?: number;\n};\n\nexport const deserialize = (el: HTMLElement, fragId?: any, imageTags?: any, options?: DeserializeOptions): null | string | Node | Node[] => {\n  const { nodeType: elNodeType, nodeName: elNodeName } = el;\n  const { isInTable = false, docWidth = 610 } = options || {};\n\n  const whitespaceCharsRegex = new RegExp(/[\\t\\r\\n\\f]+/, 'g');\n  console.log('【deserializing】', el, elNodeName, elNodeType, el.textContent && el.textContent.replaceAll(/^[\\t\\r\\n\\f]+|[\\t\\r\\n\\f]+$/g, ''));\n\n  if (elNodeType === 3) {\n    return el.textContent && el.textContent.replaceAll(/^[\\t\\r\\n\\f]+|[\\t\\r\\n\\f]+$/g, '');\n  } else if (elNodeType !== 1) {\n    return null;\n  } else if (elNodeName === 'BR') {\n    return '\\n';\n  }\n\n  const targetUser = getTargetUser(el);\n\n  if (targetUser) {\n    return [\n      { text: '' },\n      lJsx(\n        'element',\n        {\n          type: ELTYPE.MENTION,\n          targetUser: JSON.parse(targetUser),\n        },\n        [{ text: '' }]\n      ),\n      { text: '' },\n    ];\n  }\n\n  let curEl = el;\n  let preWrapSpanFlag = true;\n\n  if (elNodeName === 'PRE') {\n    for (let i = 0; i < el.childNodes.length; i++) {\n      if (el.childNodes[i] && el.childNodes[i].nodeName === 'CODE') {\n        curEl = el.childNodes[i] as HTMLElement;\n        preWrapSpanFlag = false;\n      }\n    }\n  }\n\n  if (elNodeName === 'P' && el.childNodes[0] && el.childNodes[0].nodeName === 'IMG') {\n    curEl = el.childNodes[0] as HTMLElement;\n  }\n\n  const { nodeName } = curEl;\n\n  if (elNodeName === 'TABLE') {\n    console.log('[isInTable]', isInTable);\n    if (isInTable) {\n      return deserializeHTMLToText(curEl);\n    } else {\n      const table = pasteTableForHTML(curEl, deserialize, fragId, imageTags, docWidth);\n      return table;\n    }\n  }\n\n  let children: any = Array.from(curEl.childNodes)\n    .map((item: any) => {\n      return deserialize(item, fragId, imageTags, { isInTable: isInTable, docWidth: docWidth });\n    })\n    .filter(item => {\n      return !!item;\n    })\n    .flat();\n\n  if (TEXT_TAGS[el.nodeName] && Array.isArray(children[0])) {\n    children = children[0];\n  }\n  if (elNodeName === 'OL' || elNodeName === 'UL') {\n    return [...children];\n  }\n\n  const hasLink = hasChildrenWithLink(curEl.childNodes);\n\n  if (nodeName === 'BODY' && !hasLink) {\n    let fragmentChild: any[] = children;\n    if (Array.isArray(children)) {\n      fragmentChild = fragmentChild.filter(item => {\n        if (typeof item === 'string' && item.match(/^[\\t\\r\\n\\f]+$/)) {\n          return false;\n        }\n        return true;\n      });\n    }\n    return lJsx('fragment', {}, fragmentChild);\n  }\n\n  if (nodeName === 'DIV' && $(curEl).hasClass('ant-alert') && !$(curEl).hasClass('alert-card-icon-container')) {\n    console.log('[parent]', curEl, $(curEl).data('alter-type'));\n\n    let alertType = $(curEl).data('alter-type') || 'success';\n    let alert_message = $(curEl).find('.ant-alert-message').text() || '';\n    let alert_description = $(curEl).find('.ant-alert-description').text() || '';\n    let cardCenter = {\n      type: ELTYPE.ALERTS,\n      alertType: alertType,\n      children: [\n        {\n          type: ELTYPE.ALERTMESSAGE,\n          children: [{ text: alert_message }],\n        },\n        {\n          type: ELTYPE.ALERTDESCRIPTION,\n          children: [{ text: alert_description }],\n        },\n      ],\n    };\n    const element = createCard(cardCenter);\n    return lJsx('element', element, element.children);\n  }\n\n  if ((nodeName === 'CODE' && children.length > 1) || (nodeName === 'PRE' && preWrapSpanFlag)) {\n    let codeTextContent = '';\n    let codeLanguage = defaultLanguage;\n    const codeblockId = encodeURI(anchorId());\n\n    curEl.childNodes.forEach((item: any, index: any) => {\n      if (index === 0 && item.firstChild && $(item?.firstChild).hasClass('code-block-language-bar')) {\n        const lang = item.textContent.toLowerCase();\n        codeLanguage = lang;\n      } else if (item) {\n        codeTextContent += item.textContent;\n      }\n    });\n    codeTextContent = codeTextContent.trimEnd();\n    const element = {\n      type: ELTYPE.CODE_BLOCK,\n      children: [{ text: codeTextContent }],\n      code: codeTextContent,\n      'data-codeblock-id': codeblockId,\n      'data-card-value': encodeURI(`{\"data\": { \"mode\": \"${codeLanguage}\", \"code\": \"${encodeURI(codeTextContent)}\", \"id\": \"${codeblockId}\" }}`),\n    };\n    return lJsx('element', element, element.children);\n  }\n\n  if (nodeName === 'IMG' || nodeName === 'V:IMAGEDATA') {\n    console.log('imgplugins withHtml insertData ', curEl.getAttribute('src'));\n    if (curEl.getAttribute('src')?.match(/file:\\/\\//)) {\n      const src = el.getAttribute('src');\n      if (imageTags && imageTags[src]) {\n        el.setAttribute('src', imageTags[src]);\n      }\n      const attrs = ELEMENT_TAGS[nodeName]({ el });\n      const imgEl = {\n        ...attrs,\n        children: [{ text: '' }],\n        id: createUUID(),\n      };\n      const card = nodeName === 'V:IMAGEDATA' ? imgEl : createParagraph(imgEl);\n      console.log('imgplugins withHtml insertData card', card, attrs);\n      return jsx('element', card, card.children);\n    }\n\n    if (isImageBase64(curEl.getAttribute('src')) || curEl.getAttribute('src').indexOf('http') === 0) {\n      let imageContainer = curEl.parentElement.parentElement;\n      let width = imageContainer.style.width;\n      let height = imageContainer.style.height;\n      let textAlign = curEl?.parentElement?.parentElement?.parentElement?.parentElement?.style?.textAlign || 'center';\n      const element = {\n        align: textAlign,\n        width: width,\n        height: height,\n        type: ELTYPE.INLINEIMAGE,\n        children: [{ text: '' }],\n        id: createUUID(),\n        linkSource: curEl.getAttribute('src'),\n      };\n\n      const niu = createParagraph(element);\n\n      const ell = lJsx('element', niu, niu.children);\n      console.log('======ell======', ell);\n      return ell;\n    } else {\n      console.error('图片粘贴失败');\n      return lJsx('element', { type: ELTYPE.PARAGRAPH }, [{ text: '' }]);\n    }\n  }\n\n  if (\n    (nodeName === 'SPAN' && el.getAttribute('class') === 'card_pre') ||\n    (nodeName === 'SPAN' && el.getAttribute('class') === 'card_suf') ||\n    (nodeName === 'SPAN' && el.getAttribute('class') === 'ant-select-selection-item') ||\n    (nodeName === 'SPAN' && el.getAttribute('data-is-caret')) ||\n    (nodeName === 'DIV' && el.getAttribute('class')?.startsWith('Tripdocs-')) ||\n    el.getAttribute('data-ignore-paste')\n  ) {\n    console.log('不应该被拷贝的内容', el);\n    return null;\n  }\n\n  if (nodeName === 'SPAN') {\n    if (isUrl(el.innerText)) {\n      return lJsx('element', { type: ELTYPE.LINK, href: el.innerText }, [{ text: el.innerText }]);\n    }\n\n    if (el.getAttribute('data-fontcolor')) {\n      return children.map((child: any) => {\n        return lJsx('text', { fontColor: el.getAttribute('data-fontcolor') }, child);\n      });\n    }\n    if (el.getAttribute('data-backgroundcolor')) {\n      return children.map((child: any) => {\n        return lJsx('text', { backgroundColor: el.getAttribute('data-backgroundcolor') }, child);\n      });\n    }\n\n    const searchClosestNonSpanParent = el => {\n      if (el?.nodeName !== 'SPAN') {\n        return el;\n      }\n      return searchClosestNonSpanParent(el.parentNode);\n    };\n\n    const closestNonSpanParent = searchClosestNonSpanParent(curEl);\n    if (TEXT_TAGS[closestNonSpanParent?.nodeName]) {\n      const attrs = TEXT_TAGS[closestNonSpanParent?.nodeName](el);\n      console.log('[deserializing TEXT_TAGS]', { el }, children);\n      console.dir(el);\n      const result = children.map((child: any) => {\n        if (Array.isArray(child?.children)) {\n          return child?.children?.map((item: any) => {\n            if (INLINE_TYPES.includes(item?.type) || (typeof item?.type === 'undefined' && typeof item?.text === 'string')) {\n              return item;\n            }\n          });\n        }\n\n        return lJsx('text', attrs, child && typeof child === 'string' ? child.replaceAll(whitespaceCharsRegex, '') : el.innerText);\n      });\n      return result;\n    }\n\n    return children.map((leaf: any) => {\n      if (leaf && typeof leaf === 'object' && typeof leaf.text !== 'string') {\n        return lJsx('element', leaf, leaf.children);\n      }\n\n      return leaf;\n    });\n  }\n\n  if (ELEMENT_TAGS[nodeName]) {\n    const attrs = ELEMENT_TAGS[nodeName]({ el, children, fragId });\n    let emptyRegex = new RegExp(/[\\t\\r\\f]+/, 'g');\n    console.log(\n      '[deserializing ELEMENT_TAGS]',\n      attrs,\n      curEl,\n      children.map(child => encodeURIComponent(child && typeof child === 'string' && child.replaceAll(emptyRegex, '')))\n    );\n\n    if (Array.isArray(children) && children.length === 0) {\n      return lJsx('element', attrs, attrs.children ? attrs.children : [{ text: deserializeHTMLToText(el) }]);\n    }\n\n    const newChildren =\n      attrs && attrs.children\n        ? attrs.children\n        : children.map(child => (child && typeof child === 'string' ? child.replaceAll(emptyRegex, '') : child));\n\n    const filteredNewChildren = (newChildren && newChildren.filter(Boolean)) || [{ text: '' }];\n    return lJsx('element', attrs, filteredNewChildren);\n  }\n\n  if (TEXT_TAGS[nodeName]) {\n    console.log('[TEXT_TAGS]', children);\n\n    if (children.some(child => child && typeof child.type !== 'undefined')) {\n      const attrs = TEXT_TAGS[nodeName] ? TEXT_TAGS[nodeName](el) : {};\n      return children.map((leaf: any) => {\n        if (typeof leaf === 'object' && typeof leaf.text !== 'string') {\n          return lJsx('element', leaf, leaf.children);\n        }\n\n        return lJsx('text', attrs, leaf);\n      });\n    }\n\n    return children.map((child: any) => {\n      if (typeof child === 'string') {\n        const attrs = TEXT_TAGS[nodeName] ? TEXT_TAGS[nodeName](el) : {};\n        return lJsx('text', attrs, child);\n      }\n      if (child?.type === undefined && child?.text) {\n        return child;\n      }\n      if (!child) {\n        return createParagraph('');\n      }\n\n      return deserialize(child, fragId, imageTags, { isInTable: isInTable, docWidth: docWidth });\n    });\n  }\n\n  if (['DIV', 'SPAN', 'TD', 'TH', 'FONT', 'V:SHAPE', 'O:WRAPBLOCK'].includes(elNodeName)) {\n    return children;\n  }\n\n  return null;\n};\n\nexport function createParagraph(element: any) {\n  return {\n    type: ELTYPE.PARAGRAPH,\n    children: element ? [{ text: '' }, element, { text: '' }] : [{ text: '' }],\n  };\n}\n","import { message } from 'antd';\nimport $ from 'jquery';\nimport { Editor, Node, Range, Transforms, Text } from '@src/components/slate-packages/slate';\nimport { jsx } from '@src/components/slate-packages/slate-hyperscript';\nimport { v4 as anchorId } from 'uuid';\nimport storage from '../../../utils/storage';\nimport { createCard, insertCard } from '../plugins/Card';\nimport { ELTYPE, HEADING_TYPES, LIST_TYPES } from './config';\nimport {\n  handleLinkInText,\n  normalizeInlineLink,\n  normalizeInlineNodeAtRoot,\n  normalizeLi,\n  normalizeParagraph,\n  reorderOL,\n  resetOL,\n  trimEmptyText,\n  unwrapCardElement,\n  unwrapSingleCell,\n  updateIdentities,\n} from './deserializers/handleFragmentPlugins';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { defaultLanguage } from './CodeBlock/renderCodeBlock';\nimport { consumePlugins } from '@src/utils/helper/consumePlugins';\nimport { getClipboardData } from '@src/components/slate-packages/slate-react/utils/dom';\nimport { opsTable } from './table/tableOperation';\nimport { matchTable, pasteTableInTable } from './deserializers/handleTablePlugins';\nimport { htmlExportListAndText, htmlExportFirstHeadingAndList, htmlExportFirstTablevel } from './deserializers/handleExportPlugins';\nimport { TEXT_TAGS, ELEMENT_TAGS } from './deserializers/deserializeTags';\nimport { pasteTableForHTML } from './table/pasteTable';\nimport { imagePastingListener } from './deserializers/utils';\nimport { deserialize } from './deserializers/deserialize';\nimport { createUUID } from '@src/utils/randomId';\n\nconst invalidTags = ['o:p', 'xml', 'script', 'meta', 'link'];\nconst catchSlateFragment = /data-slate-fragment=\"(.+?)\"/m;\n\nexport function allIsText(fragment: any[], id?) {\n  return fragment.every(el => {\n    if (id) el.id = id;\n    return [ELTYPE.PARAGRAPH, ...HEADING_TYPES, ...LIST_TYPES, undefined].includes(el.type);\n  });\n}\n\nexport const isInTable = editor => {\n  let ret = null;\n  if (editor.selection) {\n    ret = Editor.above(editor, {\n      match: (n: any) => n.type === ELTYPE.TABLE,\n    });\n  }\n  return ret;\n};\n\nexport const withHtml = (editor: any) => {\n  const { insertData, isInline, isVoid } = editor;\n\n  editor.isInline = (element: any) => {\n    return element.type === ELTYPE.LINK ? true : isInline(element);\n  };\n\n  editor.insertData = (data: any) => {\n    const rtf = data.getData('text/rtf');\n    const files = data.files;\n    const html = data.getData('text/html');\n\n    const plainText = data.getData('text/plain');\n    console.info('[Transforms data types]', data.types);\n    console.info('[Transforms data files]', files);\n    console.info('[Transforms data rtf]', rtf);\n    console.info('[Transforms data html]', html);\n    console.info('[Transforms data plainText]', plainText);\n    console.log('[Transforms.select 2]', editor.selection);\n\n    const parsed = new DOMParser().parseFromString(html, 'text/html');\n    const isPureImg = parsed.body.childElementCount === 1 && parsed.body.children[0].tagName === 'IMG';\n    if (isPureImg && files[0]) {\n      insertData(data);\n      return;\n    }\n\n    const [, dataSlateFragment] = html?.match(catchSlateFragment) || [];\n    const childrenInnerText = handleLinkInText(plainText);\n\n    const imageTags = imagePastingListener(rtf, html);\n\n    try {\n      const fragment = data.getData('application/x-slate-fragment');\n\n      if (fragment) {\n        const decoded = decodeURIComponent(window.atob(fragment));\n        const newDecoded = updateIdentities(decoded);\n        const parsed = JSON.parse(newDecoded) as Node[];\n        console.log('PARSED', parsed);\n        const preprocessPlugins = [unwrapSingleCell];\n        let frag = unwrapCardElement(consumePlugins(parsed, preprocessPlugins), editor);\n\n        editor.insertFragment(frag);\n      } else if (html) {\n        console.log('2');\n        const fragId = createUUID();\n        console.log('withHtml insertData', parsed);\n        const docWidth = (editor && editor.docId && getEditorWidth(editor.docId)) || 610;\n        const preprocessPlugins = [normalizeLi, reorderOL, trimEmptyText, normalizeInlineNodeAtRoot, normalizeInlineLink, normalizeParagraph];\n        const deserializedFrag = deserialize(parsed.body, fragId, imageTags, { isInTable: false, docWidth: docWidth }) as Node[];\n        const fragment = consumePlugins(deserializedFrag, preprocessPlugins);\n\n        console.log('[deserializedFrag]', deserializedFrag, '[fragment]', fragment);\n        const path1 = editor.selection.focus.path[0];\n        const curNode: any = Node.get(editor, [editor.selection.focus.path[0]]);\n        const prevPath = (editor.selection.focus.path[0] || 1) - 1;\n        console.log('curNode', curNode.type);\n\n        if (fragment.length !== 0) {\n          const fragMatchTable = matchTable(fragment);\n\n          if (isInTable(editor) && fragMatchTable.match) {\n            const cardNode = fragment[fragMatchTable.tableIndex];\n            pasteTableInTable(editor, cardNode);\n            return;\n          }\n\n          const firstElement = fragment[0];\n          const firstChildren = firstElement.children || [];\n          if (LIST_TYPES.includes(curNode.type) && allIsText(fragment) && fragment.length > 1) {\n            htmlExportListAndText(fragment, editor, path1);\n            return;\n          }\n\n          const [node, path]: any = Editor.node(editor, editor.selection.focus.path);\n\n          if (HEADING_TYPES.includes(firstElement.oldType) || [...HEADING_TYPES, ...LIST_TYPES, ELTYPE.CARD].includes(firstElement.type)) {\n            htmlExportFirstHeadingAndList(fragment, editor, node, path, prevPath);\n          } else {\n            htmlExportFirstTablevel(fragment, editor, firstElement, path);\n          }\n          return;\n        } else if (typeof childrenInnerText !== 'string') {\n          Transforms.insertFragment(editor, childrenInnerText);\n          return;\n        }\n        insertData(data);\n      } else {\n        insertData(data);\n      }\n    } catch (error) {\n      console.log('withHtml insertData', error);\n      console.error('粘贴失败，请尝试 ctrl+shift+v');\n      insertData(data);\n    }\n  };\n\n  return editor;\n};\n\nfunction getEditorWidth(docId) {\n  const editorRect = document.querySelector(`[id^='editorarea-${docId}']`)?.getBoundingClientRect();\n  const PADDING_X = 120;\n  const MARGIN_X = 20;\n  return (editorRect?.width || 750) - PADDING_X - MARGIN_X;\n}\n","import { Transforms, Editor, Node } from '@src/components/slate-packages/slate';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { ELTYPE } from '../config';\nimport { opsTable } from '../table/tableOperation';\n\nexport const matchTable = frag => {\n  let tableCount = 0;\n  let emptyTextCount = 0;\n  let tableIndexInFragment = -1;\n  for (let i = 0; i < frag.length; i++) {\n    if (frag[i]?.type === ELTYPE.CARD && frag[i].children?.[1].type === ELTYPE.TABLE) {\n      tableCount++;\n      tableIndexInFragment = i;\n    } else if (Node.string(frag[i]) === '') {\n      emptyTextCount++;\n    }\n  }\n  return { match: tableCount === 1 && emptyTextCount === frag.length - 1, tableIndex: tableIndexInFragment };\n};\n\nexport const pasteTableInTable = (editor, cardNode) => {\n  console.log('[pasteTableInTable]');\n\n  const tableNode = cardNode.children[1];\n  if (!tableNode) return;\n  const trNodes = tableNode.children;\n  const targetCellEntry = Editor.above(editor, { at: editor.selection, match: (n: any) => n.type === ELTYPE.TABLE_CELL });\n  const targetTableEntry: any = Editor.above(editor, { at: editor.selection, match: (n: any) => n.type === ELTYPE.TABLE });\n  const targetPos = { row: targetCellEntry[1][2], col: targetCellEntry[1][3] };\n  const subTableContent: any[][] = [];\n  trNodes.forEach(row => {\n    const tmpArr = [];\n    row?.children?.forEach((cell: any) => {\n      tmpArr.push({ content: cell.children });\n    });\n    subTableContent.push(tmpArr);\n  });\n  console.log('纯 table 组件在 table 中粘贴 targetCellEntry', targetCellEntry, targetTableEntry, subTableContent);\n  const { row: tableRow, column: tableCol } = targetTableEntry[0];\n  const rowsToAdd = targetPos.row + subTableContent.length - tableRow > 0 ? targetPos.row + subTableContent.length - tableRow : 0;\n  const colsToAdd = targetPos.col + subTableContent[0].length - tableCol > 0 ? targetPos.col + subTableContent[0].length - tableCol : 0;\n\n  const selectedCells = SEL_CELLS.get(editor) || [];\n  let cellsPath: any = [];\n  for (const [, path] of selectedCells) {\n    cellsPath.push(path);\n  }\n  if (cellsPath.length !== 0) {\n    let x = -1;\n    let y = -1;\n    let newArr = [];\n    let no = 0;\n    for (const path of cellsPath) {\n      console.log('[wxj] selectedCells', path);\n      let path2 = path[2];\n      let path3 = path[3];\n      if (x < 0) {\n        x = path2;\n        newArr[no] = [];\n      } else if (path2 != x) {\n        x = path2;\n        no++;\n        newArr[no] = [];\n      }\n      newArr[no].push(path);\n    }\n    let row = 0;\n    let cell = 0;\n    row = subTableContent.length;\n    cell = subTableContent[0].length;\n\n    if (newArr.length) {\n      newArr.forEach((tr, trIndex) => {\n        tr.forEach((td, tdIndex) => {\n          let tmpTR = trIndex;\n          let tmpTD = tdIndex;\n          if (tdIndex > cell - 1) {\n            tmpTD = tdIndex % cell;\n          } else {\n          }\n\n          if (trIndex > row - 1) {\n            tmpTR = trIndex % row;\n          } else {\n          }\n          Editor.withoutNormalizing(editor, function () {\n            const tdSlateNode: any = Node.get(editor, td);\n            const tdChildren = tdSlateNode.children;\n            console.log('[wxj]tmpTR, tmpTD ', tmpTR, tmpTD, td);\n            for (let i = tdChildren.length - 1; i >= 0; i--) {\n              Transforms.removeNodes(editor, { at: [...td, i] });\n\n              console.log('[wxj]removeNodes', [...td, i]);\n            }\n            Transforms.insertNodes(editor, subTableContent[tmpTR][tmpTD].content, { at: [...td, 0] });\n          });\n        });\n      });\n    }\n    console.log('[wxj]newArr', newArr);\n    console.log('[wxj]subTableContent', subTableContent);\n  } else {\n    for (let i = 0; i < rowsToAdd; i++) {\n      const path = [targetCellEntry[1][0], 1, tableRow + i - 1, 0, 0, 0];\n      opsTable(editor, 'insertRow', { anchor: { path, offset: 0 }, focus: { path, offset: 0 } });\n    }\n    for (let i = 0; i < colsToAdd; i++) {\n      const path = [targetCellEntry[1][0], 1, 0, tableCol + i - 1, 0, 0];\n      opsTable(editor, 'insertCol', { anchor: { path, offset: 0 }, focus: { path, offset: 0 } });\n    }\n    console.log('[DIFF]', rowsToAdd, colsToAdd);\n    Editor.withoutNormalizing(editor, function () {\n      subTableContent.forEach((tr, trIndex) => {\n        tr.forEach((td, tdIndex) => {\n          const tdPath = [targetCellEntry[1][0], 1, targetPos.row + trIndex, targetPos.col + tdIndex];\n          const tdSlateNode: any = Node.get(editor, tdPath);\n          const tdChildren = tdSlateNode.children;\n\n          for (let i = tdChildren.length - 1; i >= 0; i--) {\n            console.log('nodePath', [...tdPath, i], tdSlateNode, tdChildren, td.content);\n            Transforms.removeNodes(editor, { at: [...tdPath, i] });\n          }\n          Transforms.insertNodes(editor, td.content, { at: [...tdPath, 0] });\n          console.log('nodePath insertNodes', [...tdPath, 0]);\n        });\n      });\n      Transforms.select(editor, [...targetCellEntry[1], 0, 0]);\n    });\n  }\n};\n","import { Editor, Transforms, Range } from '@src/components/slate-packages/slate';\nimport { ELTYPE } from '../config';\nimport { insertOl } from '../OLULList/OlList';\n\nexport function htmlExportFirstTablevel(fragment: any[], editor: any, firstElement: any, path: any[]) {\n  if (!fragment.length) return;\n\n  console.log('[insertFragment]', JSON.stringify(fragment, null, 4));\n\n  if (Number.isInteger(firstElement.tabLevel) && firstElement.tabLevel > 0) {\n    Transforms.insertFragment(editor, fragment);\n    Transforms.setNodes(editor, { tabLevel: firstElement.tabLevel } as Partial<any>, {\n      at: [path[0]],\n    });\n  } else {\n    Transforms.insertFragment(editor, fragment);\n  }\n}\n\nexport function htmlExportFirstHeadingAndList(fragment: any[], editor: any, node: any, path: any[], lastPath: number) {\n  if (!fragment.length) return;\n\n  if (Range.isCollapsed(editor.selection) && node.text === '') {\n    let [nodePre, pathPre]: any = Editor.previous(editor, {\n      at: [path[0]],\n    });\n\n    console.log('[previous node]', nodePre, pathPre);\n    if ([ELTYPE.CARD].includes(nodePre.type)) {\n    } else {\n      Transforms.removeNodes(editor, { at: path.slice(0, -1) });\n    }\n\n    Transforms.insertNodes(editor, fragment, { select: true });\n  } else {\n    Transforms.insertNodes(editor, fragment, { select: true });\n  }\n}\n\nexport function htmlExportListAndText(fragment: any[], editor: any, path1: number) {\n  if (!fragment.length) return;\n  console.log('[htmlExportListAndText]', fragment[fragment.length - 1].children);\n  let rel = {\n    anchor: {\n      path: [path1 + fragment.length - 1, 0],\n      offset: Array.isArray(fragment[fragment.length - 1].children) ? fragment[fragment.length - 1].children[0].text.length : 0,\n    },\n    focus: {\n      path: [path1 + fragment.length - 1, 0],\n      offset: Array.isArray(fragment[fragment.length - 1].children) ? fragment[fragment.length - 1].children[0].text.length : 0,\n    },\n  };\n\n  for (let index = 0; index < 2; index++) {\n    const el = fragment[index];\n    if (index === 0) {\n      Transforms.insertText(editor, el.text || el.children[0].text);\n    } else {\n      console.log('allIsText', el, editor.selection, index);\n      insertOl(editor, fragment.slice(1), { isCopyList: true });\n    }\n  }\n  Transforms.setSelection(editor, rel);\n}\n","import { Empty, Image as AntdImage, message, Tooltip } from 'antd';\nimport imageExtensions from 'image-extensions';\nimport isUrl from 'is-url';\nimport React, { useCallback, useEffect, useRef, useState, DragEvent } from 'react';\nimport { useContext, useRef } from 'react';\nimport { BaseElement, Editor, Element, Path, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { Node } from '../../../slate-packages/slate';\nimport { ReactEditor, useFocused, useSelected } from '../../../slate-packages/slate-react';\n\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\nimport { css, cx } from '@emotion/css';\nimport { getSlateSlection } from '@src/utils/getSelection';\nimport { getCache, getGlobalCache, setCache } from '@src/utils/cacheUtils';\nimport { getParentPathByType, getParentPathByTypes } from '../pluginsUtils/getPathUtils';\nimport { createUUID } from '@src/utils/randomId';\nimport { getEditorEventEmitter } from '../table/selection';\nimport { DownloadOutlined } from '@ant-design/icons';\nimport { downloadFile, insertFileObject } from '../File/filePlugins';\nimport { IconBtn } from '../Components';\nimport { f } from '@src/resource/string';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { Overlay } from '../OverlayComponents/Overlay';\nimport DragHandle, { getInlineInFragment } from '../OverlayComponents/DragHandle';\nimport { ResizeDot } from '../ResizeDot';\nimport { ImageInnerButtonWrap } from './ImageInnerButtonWrap';\nimport { addComment } from '../HoveringToolbar/buttons';\nimport { execUrl, getLocationPureUrl, isImageBase64, judgeIsPrivate } from './utils';\nimport { isInTable } from '../withHtml';\n\nlet _isDrawing = false;\nlet dragStop = false;\n\nconst calcInlineImageStorageKey = element => {\n  const { source, linkSource } = element;\n  const key = source || linkSource;\n  return `inline-image-${key}`;\n};\n\nexport const insertImage = (editor: any, source: string = '', paths: number[] = editor.selection?.focus?.path, linkSource?: string) => {\n  let selection, path;\n  const isInlineEditor = editor?.docId?.indexOf?.('#') !== -1;\n  if (!isInlineEditor && (selection = getSlateSlection(editor.docId))) {\n    path = selection.focus.path;\n  }\n  const element = {\n    type: ELTYPE.INLINEIMAGE,\n    source: undefined,\n    linkSource: linkSource || source,\n    children: [{ text: '' }],\n    id: createUUID(),\n  };\n  delete element.source;\n\n  try {\n    const imagePath = isInlineEditor ? paths : getParentPathByTypes(editor, path, TABBABLE_TYPES);\n\n    if (imagePath) {\n      const node: any = Node.has(editor, imagePath) && Node.get(editor, imagePath);\n\n      Transforms.select(editor, selection);\n      Transforms.insertNodes(editor, [element, { text: '' }]);\n    }\n  } catch (error) {\n    message.error('插入图片时，发生错误');\n    console.error(error);\n  }\n};\n\nexport async function translateImgUrlToBase64(docId: string, url: string | ArrayBuffer, callback: Function) {\n  let myHeaders = new Headers();\n  myHeaders.append('Cookie', 'principal_dev=TripDocs001;; GUID=09031045110005913542; Cookie_1=value');\n  myHeaders.append('Content-Type', 'application/json');\n  let raw = JSON.stringify({ url: url, docId: docId });\n  let requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n  };\n\n  const fetchUrl = getCache(docId, 'options')?.imgUploadUrl || '/tripdocs/api/docs/doc/uploadImg/byLink';\n  fetch(fetchUrl, requestOptions)\n    .then(response => response.json())\n    .then(result => {\n      Promise.resolve(callback(result?.data?.source));\n    })\n    .catch(error => console.log('error', error));\n}\n\nexport async function translateImgFileToBase64(docId: any, filePath: string, callback: Function) {\n  const result: any = {};\n  const getLocalImage = getCache(docId, 'options')?.getLocalImage;\n  if (getLocalImage) {\n    getLocalImage([filePath], (base64: any[]) => {\n      Promise.resolve(callback(Array.isArray(base64) && base64[0]));\n    });\n  } else {\n    Promise.resolve(callback(null));\n  }\n}\n\nfunction dealImage(base64: string, w: number, callback: Function) {\n  let newImage = new Image();\n  newImage.crossOrigin = 'Anonymous';\n  let quality = 0.8;\n  newImage.src = base64;\n  newImage.setAttribute('crossOrigin', 'Anonymous');\n  let imgWidth, imgHeight;\n  newImage.onload = function () {\n    imgWidth = (this as any).width;\n    imgHeight = (this as any).height;\n    const newW = w || (this as any).width;\n    let canvas = document.createElement('canvas');\n    let ctx = canvas.getContext('2d');\n    if (Math.max(imgWidth, imgHeight) > newW) {\n      if (imgWidth > imgHeight) {\n        canvas.width = newW;\n        canvas.height = (newW * imgHeight) / imgWidth;\n      } else {\n        canvas.height = newW;\n        canvas.width = (newW * imgWidth) / imgHeight;\n      }\n    } else {\n      canvas.width = imgWidth;\n      canvas.height = imgHeight;\n      quality = 0.6;\n    }\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.drawImage(this as any, 0, 0, canvas.width, canvas.height);\n    let base64 = canvas.toDataURL('image/jpeg', quality);\n\n    callback(base64);\n  };\n}\n\nexport async function translateImgToBase64Native(url: string | ArrayBuffer, callback: Function) {\n  let canvas = document.createElement('canvas');\n  let context = canvas.getContext('2d');\n  let img: HTMLImageElement = new Image();\n  img.crossOrigin = 'Anonymous';\n  img.onload = function () {\n    canvas.width = img.width;\n    canvas.height = img.height;\n    context.drawImage(img, 0, 0);\n    let URLData = canvas.toDataURL('image/png');\n    const imageUrl = URLData;\n\n    const isLt10M = imageUrl.length / 1024 / 1024 < 15;\n    if (!isLt10M) {\n      message.error('图片大小应小于 10MB!');\n      return;\n    }\n    callback(imageUrl);\n  };\n  img.src = url.toString();\n}\n\nexport async function translateImgToBase64AndUpload(docId: string, url: string | ArrayBuffer, callback: Function) {\n  const nUrl: string | ArrayBuffer = execUrl(url);\n\n  const result = judgeIsPrivate(nUrl);\n  if (result) {\n    callback && callback(nUrl);\n    return;\n  }\n  translatePureImgToBase64AndUpload(docId, nUrl, callback);\n}\nfunction limitImgSize(base64: string) {\n  const isLt10M = base64.length / 1024 / 1024 < 15;\n  if (!isLt10M) {\n    console.error('Image LT 10M', base64.length, base64);\n    message.error('图片大小应小于 10MB!');\n    return true;\n  }\n  return false;\n}\n\nexport async function translatePureImgToBase64AndUpload(docId: string, url: string | ArrayBuffer, callback: Function) {\n  const isBase64Url =\n    typeof url === 'string' &&\n    (url.startsWith('data:image/jpeg') || url.startsWith('data:image/jpg') || url.startsWith('data:image/png') || url.startsWith('data:image/gif'));\n  let canvas = document.createElement('canvas');\n  if (isBase64Url && !limitImgSize(url)) {\n    requestUploadImg(url, callback, docId);\n    return;\n  }\n\n  let context = canvas.getContext('2d');\n  let img: HTMLImageElement = new Image();\n  img.crossOrigin = 'anonymous';\n  img.onload = function () {\n    canvas.width = img.width;\n    canvas.height = img.height;\n    context.drawImage(img, 0, 0);\n    let URLData = canvas.toDataURL('image/png');\n    const imageUrl = URLData;\n\n    if (limitImgSize(imageUrl)) {\n      return;\n    }\n    requestUploadImg(imageUrl, callback, docId);\n  };\n  img.src = url.toString();\n}\n\nexport function insertImgFile(editor: any, docId: string) {\n  const input = document.createElement('input');\n  input.type = 'file';\n  input.accept = '.png,.jpeg,.jpg,.gif,.ico';\n\n  input.addEventListener('change', (event: any) => {\n    const file = event.target.files[0];\n    if (event.target.files[0].size > 10 * 1024 * 1024) {\n      message.error('文件不能大于 10mb');\n      return;\n    }\n\n    readCopyFile(editor.docId, file, source => {\n      insertImageFromSource(editor, source);\n    });\n  });\n  input.click();\n}\n\nfunction requestUploadImg(imageUrl: string, callback: Function, docId: string) {\n  const isInternet = getCache(docId, 'options')?.isInternet || getGlobalCache(docId)?.options?.isInternet;\n\n  let myHeaders = new Headers();\n  myHeaders.append('Cookie', 'principal_dev=TripDocs001;; GUID=09031045110005913542; Cookie_1=value');\n  myHeaders.append('Content-Type', 'application/json');\n  let raw = JSON.stringify({ type: 'upload', docId: docId, base64: imageUrl });\n  let requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n  };\n  const fetchUrl = getCache(docId, 'options')?.imgUploadUrl || '/tripdocs/api/docs/doc/uploadImg';\n  fetch(fetchUrl, requestOptions)\n    .then(response => response.json())\n    .then(result => {\n      const url = location.protocol + '//' + location.host + '/' + result?.data?.source;\n      callback && callback(url);\n    })\n    .catch(error => {\n      message.destroy();\n      message.error('图片上传失败，请检查网络后重试');\n    });\n}\n\nfunction insertImageFromSource(editor: any, source: string) {\n  const { docId } = editor;\n\n  const isInternet = getCache(docId, 'options')?.isInternet || getGlobalCache(docId)?.options?.isInternet;\n\n  if (isInternet) {\n    insertImage(editor, undefined, undefined, source);\n  } else {\n    insertImage(editor, source);\n  }\n}\n\nfunction setImageNodeFromSource(editor: any, element: any, source: string, path: number[]) {\n  if (element && element.linkSource !== source && !judgeIsPrivate(element.linkSource) && judgeIsPrivate(source)) {\n    console.log('setImageNodeFromSource', element.linkSource, source, !judgeIsPrivate(element.linkSource));\n\n    Transforms.setNodes(editor, { source: undefined, linkSource: source } as Partial<Node>, { at: path });\n    return;\n  }\n\n  if (\n    element &&\n    element.linkSource !== source &&\n    !judgeIsPrivate(element.linkSource) &&\n    source.startsWith('tripdoc/img/') &&\n    typeof location !== 'undefined'\n  ) {\n    const url = getLocationPureUrl() + source.replace('tripdoc/img/', 'tripdocs/img/old/');\n    console.log('setImageNodeFromSource', url, element.linkSource, source, !judgeIsPrivate(element.linkSource));\n\n    setTimeout(() => {\n      Transforms.setNodes(editor, { source: undefined, linkSource: url } as Partial<Node>, { at: path });\n    }, 500);\n    return;\n  }\n  if (\n    element &&\n    element.linkSource !== source &&\n    !judgeIsPrivate(element.linkSource) &&\n    source.startsWith('tripdocs/img/') &&\n    typeof location !== 'undefined'\n  ) {\n    const url = getLocationPureUrl() + source;\n    console.log('setImageNodeFromSource', url, element.linkSource, source, !judgeIsPrivate(element.linkSource));\n\n    setTimeout(() => {\n      Transforms.setNodes(editor, { source: undefined, linkSource: url } as Partial<Node>, { at: path });\n    }, 500);\n    return;\n  }\n}\n\nfunction deserializeCopyImage(editor: any, files: any[]) {\n  for (const file of files) {\n    const [mime] = file.type.split('/');\n\n    if (mime === 'image') {\n      readCopyFile(editor.docId, file, source => {\n        insertImageFromSource(editor, source);\n      });\n    }\n  }\n}\n\nexport function dragInsertLocalFiles(editor, files: any[]) {\n  if (!editor.selection) {\n    message.error('请选择一个位置插入图片');\n    return;\n  }\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    console.log('[drag uploadLocal]', files, file);\n    const { type } = file;\n    if (isImageType(type)) {\n      if (file.size > 10 * 1024 * 1024) {\n        message.error('图片文件不能大于 10mb');\n        return;\n      }\n      readCopyFile(editor.docId, file, source => {\n        insertImageFromSource(editor, source);\n      });\n    } else {\n      insertFileObject(editor, file);\n    }\n  }\n}\n\nexport function isImageType(type) {\n  return type.startsWith('image');\n}\n\nexport function readCopyFile(docId: string, file: any, callback: Function) {\n  const reader = new FileReader();\n  reader.addEventListener('load', () => {\n    const url = reader.result;\n    console.log('[readCopyFile] load url: ', file, url);\n    translatePureImgToBase64AndUpload(docId, url, function (source: string) {\n      callback && callback(source);\n    });\n  });\n\n  reader.readAsDataURL(file);\n}\n\nexport const withInlineImages = (editor: ReactEditor) => {\n  const { isVoid, insertData, deleteBackward, deleteForward, deleteFragment, isInline, apply, setFragmentData } = editor;\n  editor.isInline = (element: BaseElement) => {\n    return (element as any).type === ELTYPE.INLINEIMAGE ? true : isInline(element);\n  };\n\n  editor.insertData = (data: any) => {\n    const text = data.getData('text/plain');\n    const html = data.getData('text/html');\n    if (html) {\n      if (html.indexOf('table') > -1) {\n        insertData(data);\n        return editor;\n      }\n    }\n\n    const { files } = data;\n\n    if (files && files.length > 0) {\n      deserializeCopyImage(editor, files);\n    } else if (isImageUrl(text)) {\n      translateImgToBase64AndUpload(editor.docId, text.trim(), function (source: string) {\n        insertImageFromSource(editor, source);\n      });\n    } else if (isImageBase64(text)) {\n      translatePureImgToBase64AndUpload(editor.docId, text, function (source: string) {\n        insertImageFromSource(editor, source);\n      });\n    } else {\n      insertData(data);\n    }\n  };\n\n  editor.setFragmentData = (data: DataTransfer) => {\n    if (editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isCollapsed(editor.selection)) {\n      const [inlineImageNodeEntry] = Editor.nodes(editor, { at: editor.selection, match: (n: any) => n.type === ELTYPE.INLINEIMAGE });\n      if (inlineImageNodeEntry) {\n        const [node, path] = inlineImageNodeEntry;\n        const dom = ReactEditor.toDOMNode(editor, node);\n        const img = dom.querySelector('img');\n        data.setData('text/html', img.outerHTML);\n        return;\n      }\n    }\n    setFragmentData(data);\n  };\n  return editor;\n};\n\nexport const isImageUrl = (urlStr: string) => {\n  if (!urlStr) return false;\n  const url = urlStr.trim();\n\n  if (!isUrl(url)) return false;\n  const ext = new URL(url).pathname.split('.').pop();\n  return [...imageExtensions, 'image'].includes(ext);\n};\n\ninterface ImageProps {\n  attributes: any;\n  children: any;\n  element: any;\n  editor: any;\n}\n\nexport const SlateInlineImage: React.FC<any> = ({ attributes, children, element, editor }: ImageProps) => {\n  const { source, linkSource: lSource } = element;\n  const { isReadOnly, docId, focusedRangeId, setFocusedRangeId } = useContext(TripdocsSdkContext);\n  const selected = useSelected();\n  const focused = useFocused();\n  const [data, setData] = useState(null);\n  const [isFocused, setIsFocused] = useState(focused || selected);\n\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [thisImageRangeId, setThisImageRangeId] = useState('');\n  const [hasComment, setHasComment] = useState(false);\n  const isInlineEditor = docId?.indexOf?.('#') !== -1;\n\n  useEffect(() => {\n    if (typeof window !== 'undefined' && editor) {\n      const commentData = window.tripdocs.editorsMap[docId].commentData;\n      if (commentData) {\n        if (commentData.length > 0) {\n          const jsonRangeId_arr = commentData.map(item => item && JSON.parse(item.rangeId));\n          const elementPath = ReactEditor.findPath(editor, element);\n          if (!elementPath) return;\n          const parentEntry: any = Editor.parent(editor, elementPath);\n          if (!parentEntry) return;\n          const [parentNode] = parentEntry;\n          const inlineImage_arr = jsonRangeId_arr.filter(\n            item =>\n              item.commentType === ELTYPE.INLINEIMAGE &&\n              item.anchorId === parentNode.anchorId &&\n              Path.isAncestor(elementPath, item.selection.anchor.path)\n          );\n\n          if (inlineImage_arr.length > 0) {\n            setHasComment(true);\n            setThisImageRangeId(JSON.stringify(inlineImage_arr[0]));\n            return;\n          }\n        }\n\n        setHasComment(false);\n      }\n    }\n  }, [window?.tripdocs?.editorsMap[docId]?.commentData]);\n\n  const [isOverElement, setIsOverElement] = useState(false);\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n\n  useEffect(() => {\n    if (!selected) {\n      setIsFocused(false);\n    }\n  }, [selected]);\n\n  useEffect(() => {\n    console.log('[SlateInlineImage] paste init');\n    const handleClickOutside = (event: any) => {\n      const { target } = event;\n      if (overlayRefDom && overlayRefDom.contains(target)) {\n        return;\n      } else {\n        setIsFocused(false);\n      }\n    };\n\n    if (isReadOnly) {\n      document.addEventListener('click', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [isReadOnly, overlayRefDom]);\n\n  useEffect(() => {\n    if (isReadOnly) {\n      return;\n    }\n    const docId = editor?.docId || '';\n    let isMounted = true;\n    const path = ReactEditor.findPath(editor, element);\n    if (element.linkSource) {\n      if (!element) {\n        return;\n      }\n      if (isUrl(element.linkSource)) {\n        let url = element.linkSource.trim();\n\n        if (!judgeIsPrivate(element.linkSource)) {\n          translateImgToBase64AndUpload(docId, url, function (source: string) {\n            setImageNodeFromSource(editor, element, source, path);\n          });\n        }\n\n        return;\n      } else if (element.linkSource?.indexOf('file') === 0) {\n        translateImgFileToBase64(docId, element.linkSource, function (source: string) {\n          if (source) {\n            Transforms.setNodes(editor, { linkSource: source } as Partial<Node>, { at: path });\n          }\n        });\n      } else if (isImageBase64(element.linkSource)) {\n        requestUploadImg(\n          element.linkSource,\n          source => {\n            if (isMounted) setImageNodeFromSource(editor, element, source, path);\n          },\n          docId\n        );\n      }\n\n      return;\n    }\n\n    setImageNodeFromSource(editor, element, source, path);\n    return () => {\n      isMounted = false;\n    };\n  }, [source, lSource]);\n\n  const _onMouseDown = e => {\n    if (!editor) {\n      return;\n    }\n    const path = ReactEditor.findPath(editor, element);\n    if (!Editor.hasPath(editor, path)) {\n      return;\n    }\n\n    selectInlineImage(editor, element);\n\n    if (e.target.tagName === 'DIV' && e.target.classList.contains('imageContainer-inner-wrap')) {\n      e.stopPropagation();\n      e.preventDefault();\n    } else {\n    }\n  };\n\n  const handleDragStartCapture = useCallback(e => {\n    let { target } = e;\n    if (isReadOnly) return;\n    const el = document.querySelector(`div[id=\"${element.id}\"]`);\n    console.log('drag start ===> ', e);\n    Transforms.deselect(editor);\n\n    let path = ReactEditor.findPath(editor, element);\n    const dt = new DataTransfer();\n    if (path) {\n      const range = Editor.range(editor, path);\n      Transforms.select(editor, range);\n      const fragment = getInlineInFragment(editor, path);\n      console.log('DragHandle 1', range, path, fragment);\n      console.log('DragHandle 1.5', range, Node.fragment(editor, range));\n      dt.setData('text/html', JSON.stringify(fragment));\n      dt.setData('text/plain', JSON.stringify(fragment));\n    }\n    const dragDataTransfer = {\n      dragData: dt,\n      dragOriginalPath: path,\n      isInline: true,\n    };\n    setCache(docId, 'drag-data-transfer', dragDataTransfer);\n    e.dataTransfer.setData('text/html', JSON.stringify(editor.getFragment()));\n    e.dataTransfer.setData('text/plain', JSON.stringify(editor.getFragment()));\n    e.dataTransfer.setDragImage(el, 0, 0);\n    e.dataTransfer.effectAllowed = 'all';\n    dt.effectAllowed = 'all';\n    ReactEditor.setFragmentData(editor, e.dataTransfer);\n    console.log('DragHandle 2', e.dataTransfer, dt, editor.getFragment());\n  }, []);\n\n  const handleDrag = e => {\n    if (isReadOnly) return;\n    const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n    const scrollWrapRect = scrollWrap.getBoundingClientRect();\n    dragStop = true;\n    if (e.clientY < scrollWrapRect.top + Math.floor(scrollWrapRect.height * 0.15)) {\n      dragStop = false;\n      scroll(-10);\n    }\n    if (e.clientY > scrollWrapRect.bottom - Math.floor(scrollWrapRect.height * 0.15)) {\n      dragStop = false;\n      scroll(10);\n    }\n  };\n\n  const scroll = step => {\n    const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n    if (scrollWrap) {\n      const scrollY = scrollWrap.scrollTop;\n      scrollWrap.scrollTo({ top: scrollY + step });\n    }\n  };\n\n  function handleDragEnd(e: DragEvent<HTMLDivElement>) {\n    if (isReadOnly) return;\n    console.log('dragEnd', e);\n    dragStop = true;\n  }\n\n  return (\n    <>\n      <div\n        {...attributes}\n        contentEditable={false}\n        data-ignore-slate\n        className={cx(\n          'ignore-toggle-readonly',\n          'imageContainer-outer-wrap',\n          isReadOnly\n            ? null\n            : css`\n                &::before {\n                  content: '';\n                  background-color: ${selected ? 'rgba(180, 213, 254, 0.5)' : null};\n                  display: ${!selected ? 'none' : 'block'};\n                  width: 100%;\n                  height: 100%;\n                  position: absolute;\n                  z-index: 8;\n                  pointer-events: none;\n                }\n              `\n        )}\n        style={{\n          outline: hasComment ? '3px solid rgba(250, 173, 20, 0.35)' : 'none',\n          border: hasComment ? '1px solid rgba(250, 173, 20, 0.35)' : '1px solid transparent',\n          background: 'none',\n          display: 'inline-block',\n          margin: '5px',\n          userSelect: 'none',\n          maxWidth: 'calc(100% - 12px)',\n          position: 'relative',\n        }}\n        id={element.id}\n        onMouseDown={_onMouseDown}\n        onDragOverCapture={e => {\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }}\n        onMouseOver={() => {\n          setIsOverElement(true);\n        }}\n        onMouseLeave={() => {\n          setTimeout(() => {\n            setIsOverElement(false);\n          }, 400);\n        }}\n        draggable\n        onDragStart={handleDragStartCapture}\n        onDrag={handleDrag}\n        onDragEnd={handleDragEnd}\n      >\n        <div\n          contentEditable={false}\n          data-ignore-slate\n          className={cx(\n            css`\n              display: flex;\n              flex-direction: row;\n              align-items: center;\n              position: relative;\n            `,\n            'ignore-toggle-readonly',\n            'imageContainer-inner-wrap'\n          )}\n        >\n          <MyImage\n            element={element}\n            editor={editor}\n            isFocused={isFocused}\n            setIsFocused={setIsFocused}\n            thisImageRangeId={thisImageRangeId}\n            setIsDrawing={setIsDrawing}\n            isDrawing={isDrawing}\n            overlayRefDom={overlayRefDom}\n            setOverlayRefDom={setOverlayRefDom}\n          />\n          <span className={cx('ignore-toggle-readonly')} contentEditable={false} style={{ userSelect: 'none', display: 'none' }}>\n            {children}\n          </span>\n        </div>\n      </div>\n      {!isInlineEditor && (\n        <DragHandle\n          editor={editor}\n          isOverElement={isOverElement}\n          docId={editor?.docId || ''}\n          overlayRefDom={overlayRefDom}\n          findDomToEl={dom => dom?.closest('[data-slate-node=\"element\"]')?.children[0].children[0]}\n        />\n      )}\n    </>\n  );\n};\n\nfunction MyImage(props: any) {\n  const {\n    element,\n    editor,\n    isFocused,\n    setIsFocused,\n    isSelected,\n    setIsSelected,\n    setIsDrawing,\n    isDrawing,\n    overlayRefDom,\n    setOverlayRefDom,\n    thisImageRangeId,\n  } = props;\n\n  const ref = useRef(null);\n  const {\n    docId,\n    isReadOnly,\n    isMobile,\n    isInElectron,\n    setCurRangeId,\n    setSideCommentRowNum,\n    setIdenticalSelectionRangeId,\n    setWIPCommentRangeId,\n    setFocusedRangeId,\n  } = useContext(TripdocsSdkContext);\n\n  const innerMaskRef = useRef(null);\n  const [width, setWidth] = useState(element.width);\n  const [metrics, setMetrics] = useState({ width: 0, height: 0 });\n  const [showOverlay, setShowOverlay] = useState(isFocused && !isDrawing);\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [isOverlayScrolled, setIsOverlayScrolled] = useState(false);\n  const [isOnVisibleChangeActivated, setIsOnVisibleChangeActivated] = useState(false);\n\n  const isInlineEditor = docId?.indexOf?.('#') !== -1;\n\n  useEffect(() => {\n    const scrollContainerRefDom = document.getElementById(`editor-content-wrap-${docId}`);\n    if (isFocused) {\n      setShowOverlay(true);\n      handleScrollTop();\n      scrollContainerRefDom?.addEventListener('scroll', handleScrollTop);\n    } else {\n      setShowOverlay(false);\n    }\n    return () => {\n      scrollContainerRefDom?.removeEventListener('scroll', handleScrollTop);\n    };\n  }, [isFocused]);\n\n  function handleScrollTop() {\n    const scrollContainerRefDom: HTMLElement = document.getElementById(`editor-content-wrap-${docId}`);\n    const image: HTMLElement = ref?.current;\n    if (!scrollContainerRefDom || !image) return;\n    const containerRect = scrollContainerRefDom.getBoundingClientRect();\n    const imageRect = (image as HTMLElement).getBoundingClientRect();\n\n    const { top: ctnTop, bottom: ctnBottom } = containerRect;\n    const { top: imgTop, bottom: imgBottom } = imageRect;\n    if (isFocused) {\n      if (imgTop - ctnTop < 45) {\n        setIsOverlayScrolled(true);\n      } else {\n        setIsOverlayScrolled(false);\n      }\n      if (imgBottom - ctnTop < 0) {\n        setShowOverlay(false);\n      } else {\n        setShowOverlay(true);\n      }\n    }\n  }\n\n  function getMP(e: any) {\n    let e = e || window.event;\n    return {\n      x: e.pageX || e.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft),\n      y: e.pageY || e.clientY + (document.documentElement.scrollTop || document.body.scrollTop),\n    };\n  }\n\n  let target: { x: any; y: any } = null;\n  const centerPoint = {\n    x: 0,\n    y: 0,\n    point1: null,\n    point4: null,\n  };\n\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  const updateOverlay = useCallback(() => {\n    const dom = editor && ReactEditor.toDOMNode(editor, element);\n    if (dom) {\n      const imgContainerDom = dom.querySelector('.imageContainer');\n      setOverlayRefDom(imgContainerDom);\n      setOverlayRefRect(imgContainerDom.getBoundingClientRect());\n    }\n  }, [editor, element]);\n\n  useEffect(() => {\n    updateOverlay();\n  }, []);\n\n  useEffect(() => {\n    if (editor && element.data) {\n      const path = ReactEditor.findPath(editor, element);\n      Transforms.setNodes(editor, { data: null } as Partial<Node>, { at: path });\n    }\n  }, [element?.data]);\n\n  function start() {\n    const ids = 'point';\n\n    for (let i = 0; i < 4; i++) {\n      const index = i + 1;\n      const p = document.getElementById(element.id + ids + index);\n      if (index === 1 || index === 4) {\n        const key: any = ids + index;\n        centerPoint[key] = p.getBoundingClientRect();\n      }\n      p.onmouseover = logMouseOver;\n      p.onmouseout = logMouseOut;\n      p.onmousedown = logMouseDown;\n    }\n  }\n\n  function logMouseOver() {\n    const textContent = 'MOUSE OVER detected';\n  }\n\n  function logMouseOut() {\n    const textContent = 'MOUSE OUT detected';\n  }\n\n  function logMouseDown(e: any) {\n    document.body.onmousemove = logMouseMove;\n    let m = getMP(e);\n    target = m;\n\n    const textContent = 'MOUSE Down detected';\n  }\n\n  function exce(m: { y: number }) {\n    start();\n    centerPoint.x = (centerPoint.point1.x + centerPoint.point4.x) / 2;\n    centerPoint.y = (centerPoint.point1.y + centerPoint.point4.y) / 2;\n    const mWidth = centerPoint.point4.x - centerPoint.point1.x;\n    const mHeight = centerPoint.point4.y - centerPoint.point1.y;\n    let value = Math.abs(m.y - centerPoint.y) - mHeight / 2;\n\n    if (value > 0) {\n      value = 5;\n    } else if (value < 0) {\n      value = -5;\n    }\n    let targetW = mWidth + value;\n    if (targetW > 600) {\n      targetW = 600;\n    }\n    if (targetW < 10) {\n      targetW = 10;\n    }\n    if (document.body.onmousemove) {\n      const path = ReactEditor.findPath(editor, element);\n      Transforms.setNodes(editor, { width: targetW } as any, { at: path });\n      setWidth(targetW);\n    }\n  }\n\n  function debounce(func: { (m: any): void; apply?: any }, delay: number) {\n    let timeout: NodeJS.Timeout;\n    return function (e: any) {\n      clearTimeout(timeout);\n      let context = this,\n        args = arguments;\n      timeout = setTimeout(function () {\n        func.apply(context, args);\n      }, delay);\n    };\n  }\n  const logMouseMove = (e: any) => {\n    if (target) {\n      let m = getMP(e);\n      let validate = debounce(function (m: any) {\n        exce(m);\n      }, 50);\n      validate(m);\n    }\n  };\n  let x = 0;\n  let y = 0;\n  let clientRect: any = {};\n  let dom: HTMLElement;\n  let percent;\n  let dataId;\n\n  let isMax = false;\n\n  function limitSize(width, height, inTable, cellWidth, editorWidth) {\n    let _width = width;\n    let _height = height;\n    if (inTable) {\n      if (width > cellWidth - 6) {\n        _width = cellWidth - 12;\n        _height = height / (width / _width);\n        isMax = true;\n      } else {\n        isMax = false;\n      }\n    } else {\n      if (width > editorWidth - 6) {\n        _width = editorWidth - 12;\n        _height = height / (width / _width);\n        isMax = true;\n      } else {\n        isMax = false;\n      }\n    }\n    return [_width, _height];\n  }\n  const inTable = editor && isInTable(editor);\n\n  const handleMouseMove = (e: any) => {\n    if (_isDrawing === true) {\n      let editorDom = document.getElementById(`editorarea-${docId}`);\n      let editorWidth = editorDom.getBoundingClientRect().width - 120;\n      let cellEntry = null;\n      let cellWidth;\n      if (editor && inTable) {\n        cellEntry = Editor.above(editor, { at: editor.selection, match: (n: any) => n.type === ELTYPE.TABLE_CELL });\n        if (cellEntry) {\n          let cellDom = ReactEditor.toDOMNode(editor, cellEntry[0]);\n          cellWidth = cellDom.getBoundingClientRect().width - 12;\n        }\n      }\n      console.log('[x,y]', editorDom.getBoundingClientRect(), editorWidth, e.clientX - x, e.clientY - y, isMax);\n      let diffw = e.clientX - x;\n      let diffh = e.clientY - y;\n      let w = clientRect.width;\n      let h = clientRect.height;\n      let _left = 0;\n      let _top = 0;\n      let _width = 0;\n      let _height = 0;\n\n      if (diffh / diffw > percent) {\n        diffh = percent * diffw;\n      } else {\n        diffw = diffh / percent;\n      }\n\n      if (dataId == 'point1') {\n        _left = diffw;\n        _top = diffh;\n        _width = w - diffw;\n        _height = h - diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        if (_top >= h - 9) {\n          _top = h;\n        }\n        if (_left >= w - 9) {\n          _left = w;\n        }\n        [_width, _height] = limitSize(_width, _height, inTable, cellWidth, editorWidth);\n      } else if (dataId == 'point2') {\n        _left = -diffw;\n        _top = 0;\n        _width = w + diffw;\n        _height = h + diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n\n        if (_left >= w - 9) {\n          _left = w;\n        }\n        [_width, _height] = limitSize(_width, _height, inTable, cellWidth, editorWidth);\n      } else if (dataId == 'point3') {\n        _left = 0;\n        _top = diffh;\n        _width = w - diffw;\n        _height = h - diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        if (_top >= h - 9) {\n          _top = h;\n        }\n        [_width, _height] = limitSize(_width, _height, inTable, cellWidth, editorWidth);\n      } else if (dataId == 'point4') {\n        _left = 0;\n        _top = 0;\n        _width = w + diffw;\n        _height = h + diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        [_width, _height] = limitSize(_width, _height, inTable, cellWidth, editorWidth);\n      }\n      if (isMax) {\n        return;\n      }\n      dom.style.left = _left + 'px';\n      dom.style.top = _top + 'px';\n      dom.style.width = _width + 'px';\n      dom.style.height = _height + 'px';\n      setMetrics({\n        width: Math.round(_width),\n        height: Math.round(_height),\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n    _isDrawing = false;\n    setIsDrawing(_isDrawing);\n    isMax = false;\n    setTimeout(() => {\n      setShowOverlay(true);\n      updateOverlay();\n    }, 200);\n    x = 0;\n    y = 0;\n    const path = ReactEditor.findPath(editor, element);\n    Transforms.setNodes(editor, { width: dom.style.width, height: dom.style.height } as any, { at: path });\n    clientRect = {};\n    dom.style.left = '0px';\n    dom.style.top = '0px';\n    dom.style.removeProperty('width');\n    dom.style.removeProperty('height');\n  };\n\n  const _onMouseDown = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const innerMask = innerMaskRef.current;\n    if (innerMask) {\n      innerMask.style.maxWidth = 'none';\n    }\n\n    x = e.clientX;\n    y = e.clientY;\n    _isDrawing = true;\n    setIsDrawing(_isDrawing);\n    setShowOverlay(false);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n    dom = e.target.parentNode;\n\n    dom.style.display = 'block';\n    clientRect = dom.getBoundingClientRect();\n    percent = clientRect.height / clientRect.width;\n    dataId = e.target.getAttribute('data-id');\n  };\n  const _onMouseUp = e => {\n    const innerMask = innerMaskRef.current;\n    if (innerMask) {\n      innerMask.style.removeProperty('max-width');\n    }\n  };\n  const _onMouseMove = e => {};\n\n  function translateOldSource(source: string, linkSource: string) {\n    if (source && source.startsWith('tripdoc/img/') && typeof location !== 'undefined') {\n      const url = getLocationPureUrl() + source.replace('tripdoc/img/', 'tripdocs/img/old/');\n\n      return url;\n    }\n    return linkSource;\n  }\n  function translateLinkSource(linkSource: string) {\n    const link = linkSource.replace(/http:|https:/, '');\n    const curL = getLocationPureUrl();\n    if (link.indexOf(curL) === 0) {\n      return link;\n    }\n    return linkSource;\n  }\n  const imageURL = judgeIsPrivate(element.linkSource, isReadOnly)\n    ? translateLinkSource(element.linkSource)\n    : translateOldSource(element.source, element.linkSource);\n\n  function handlerCopy(e: any) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (isReadOnly) {\n      try {\n        const input = document.createElement('input');\n        input.oncopy = function (e: any) {\n          e.preventDefault();\n\n          e.clipboardData.setData('text/html', `<img src=\"${imageURL}\" width=\"${element.width}\" height=\"${element.height}\" />`);\n        };\n        document.body.appendChild(input);\n        input.select();\n        document.execCommand('copy');\n        document.body.removeChild(input);\n      } catch (error) {}\n    } else {\n      selectInlineImage(editor, element);\n      setTimeout(() => {\n        document.execCommand('copy');\n      });\n    }\n  }\n  return (\n    <div\n      ref={ref}\n      style={{\n        boxShadow: 'none',\n        position: 'relative',\n        display: 'inline-flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n      className={cx('imageContainer', editor ? 'show-outline' : null)}\n      contentEditable={false}\n      onMouseEnter={e => {}}\n    >\n      {!!imageURL ? (\n        <>\n          <div\n            contentEditable={false}\n            data-ignore-slate\n            className={cx('image-inner-mask', 'ignore-toggle-readonly')}\n            ref={innerMaskRef}\n            style={{\n              background: isDrawing ? 'rgba(0,0,0,.5)' : null,\n              outline: editor && (isFocused || isDrawing) ? '1px solid rgb(24, 144, 255)' : null,\n              color: 'white',\n              zIndex: 9,\n              position: 'absolute',\n              display: editor && element && (isFocused || isDrawing) ? 'block' : 'none',\n              textAlign: 'center',\n              justifyContent: 'center',\n              alignItems: 'center',\n              pointerEvents: 'none',\n              inset: 0,\n            }}\n          >\n            {!editor || isReadOnly ? null : element ? (\n              <ResizeDot\n                isResizing={isDrawing}\n                visible={isFocused || isDrawing}\n                elementId={\n                  element.id ||\n                  (element.source && encodeURIComponent(element.source)) ||\n                  (element.linkSource && encodeURIComponent(element.linkSource))\n                }\n                metrics={metrics}\n                onMouseDown={_onMouseDown}\n                onMouseUp={_onMouseUp}\n                onMouseMove={_onMouseMove}\n              />\n            ) : null}\n          </div>\n\n          <AntdImage\n            wrapperStyle={{\n              maxWidth: element.width,\n              maxHeight: element.height,\n            }}\n            onMouseDown={e => {\n              console.log('ANTD image MOUSEDOWN', e.target);\n              if (e.button === 0) {\n                setIsFocused(true);\n              }\n              setTimeout(() => {\n                thisImageRangeId && setFocusedRangeId(thisImageRangeId);\n              }, 400);\n            }}\n            contentEditable={false}\n            preview={{\n              visible: previewVisible,\n              src: imageURL,\n              mask: null,\n              onVisibleChange: (value, prevValue) => {\n                console.log('{previewVisible}', isFocused, previewVisible, value);\n                if (isOnVisibleChangeActivated) {\n                  setPreviewVisible(value);\n                  setIsOnVisibleChangeActivated(false);\n                }\n              },\n            }}\n            src={imageURL}\n            style={{\n              width: '100%',\n              height: '100%',\n              userSelect: isReadOnly ? 'all' : 'none',\n              objectFit: 'cover',\n              objectPosition: 'left',\n            }}\n          />\n          {!isDrawing && !isMobile && (\n            <ImageInnerButtonWrap\n              editor={editor}\n              setPreviewVisible={visible => {\n                if (visible === true) {\n                  setIsOnVisibleChangeActivated(true);\n                }\n                setPreviewVisible(visible);\n              }}\n            />\n          )}\n        </>\n      ) : (\n        <Empty style={{ width: '100%', height: '100%', userSelect: 'none' }} />\n      )}\n      {!isInlineEditor && (\n        <Overlay\n          show={showOverlay && !!imageURL}\n          docId={editor?.docId || ''}\n          overlayRefDom={overlayRefDom}\n          left={overlayRefRect?.left}\n          placement={'top'}\n          distance={40}\n          bordered\n          overlayWrapStyle={{\n            position: isFocused && isOverlayScrolled ? 'fixed' : null,\n          }}\n          overlayWrapClassName={\n            isFocused && isOverlayScrolled\n              ? css`\n                  top: 60px !important;\n                `\n              : ''\n          }\n        >\n          <div\n            className={cx(\n              'overlay-button-wrap',\n              css`\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                padding: 2px;\n              `\n            )}\n          >\n            <ImageOverlayButton\n              title={f('download')}\n              isMobile={isMobile}\n              icon={<DownloadOutlined style={{ fontSize: '15px' }} onClick={undefined} />}\n              onMouseDown={e => {\n                e.preventDefault();\n                const elDom = editor && ReactEditor.toDOMNode(editor, element);\n                const imageDom: HTMLImageElement = elDom && elDom.querySelector('.ant-image > img');\n                let imageSource = imageDom && imageDom.src;\n\n                if (imageSource) {\n                  const filename = element?.source?.split('/')?.pop() || 'image' + new Date().getTime().toString(32);\n                  if (imageSource.indexOf('http') > -1) {\n                    translateImgToBase64Native(imageSource, function name(urlData: any) {\n                      downloadFile(urlData, filename);\n                    });\n                  } else {\n                    downloadFile(imageSource, filename);\n                  }\n                }\n              }}\n            />\n            <ImageOverlayButton\n              title={f('copy')}\n              isMobile={isMobile}\n              icon={<IconBtn className=\"Tripdocs-duplicate\" style={{ fontSize: '15px' }} />}\n              onMouseDown={e => {\n                handlerCopy(e);\n              }}\n            />\n            {!isReadOnly && (\n              <ImageOverlayButton\n                title={f('cut')}\n                isMobile={isMobile}\n                icon={<IconBtn className=\"Tripdocs-cut\" style={{ fontSize: '15px' }} />}\n                onMouseDown={e => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  selectInlineImage(editor, element);\n                  setTimeout(() => {\n                    document.execCommand('copy');\n                    const path = ReactEditor.findPath(editor, element);\n                    if (path) {\n                      Transforms.removeNodes(editor, { at: path });\n                    }\n                  });\n                }}\n              />\n            )}\n            {!isReadOnly && (\n              <ImageOverlayButton\n                title={f('delete')}\n                isMobile={isMobile}\n                icon={<IconBtn className=\"Tripdocs-delete\" style={{ fontSize: '15px' }} />}\n                onMouseDown={e => {\n                  e.preventDefault();\n                  const path = ReactEditor.findPath(editor, element);\n                  if (path) {\n                    Transforms.removeNodes(editor, { at: path });\n                  }\n                }}\n              />\n            )}\n            <ImageOverlayButton\n              title={f('addComment')}\n              isMobile={isMobile}\n              icon={<IconBtn className=\"Tripdocs-comment_add\" style={{ fontSize: '15px' }} />}\n              onMouseDown={e => {\n                e.preventDefault();\n                selectInlineImage(editor, element);\n                addComment(\n                  editor,\n                  setSideCommentRowNum,\n                  setCurRangeId,\n                  `editorarea-${docId}`,\n                  setIdenticalSelectionRangeId,\n                  true,\n                  setWIPCommentRangeId\n                );\n              }}\n            />\n            {isMobile && (\n              <ImageOverlayButton\n                title={f('zoomIn')}\n                isMobile={isMobile}\n                icon={<IconBtn className=\"Tripdocs-zoom_in\" style={{ fontSize: '15px' }} />}\n                onMouseDown={e => {\n                  e.preventDefault();\n                  setIsOnVisibleChangeActivated(true);\n                  setPreviewVisible(true);\n                }}\n              />\n            )}\n          </div>\n        </Overlay>\n      )}\n    </div>\n  );\n}\nfunction selectInlineImage(editor, element) {\n  const path = ReactEditor.findPath(editor, element);\n\n  const startPoint = Editor.end(editor, Editor.previous(editor, { at: path })[1]);\n  const endPoint = Editor.start(editor, Editor.next(editor, { at: path })[1]);\n  Transforms.select(editor, { anchor: startPoint, focus: endPoint });\n}\n\nexport function getInlineImageSelectForPath(editor, path) {\n  const startPoint = Editor.end(editor, Editor.previous(editor, { at: path })[1]);\n  const endPoint = Editor.start(editor, Editor.next(editor, { at: path })[1]);\n  return { anchor: startPoint, focus: endPoint };\n}\n\nexport const ImageOverlayButton = props => {\n  const { title, icon, isMobile, ...rest } = props;\n  return !isMobile ? (\n    <Tooltip title={title}>\n      <div\n        className={cx(\n          'image-overlay-button',\n          css`\n            z-index: 1;\n            background: white;\n            border-radius: 4px;\n            width: 28px;\n            height: 28px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            cursor: pointer;\n            &:hover {\n              background: #f5f5f5;\n            }\n          `\n        )}\n        {...rest}\n      >\n        {icon}\n      </div>\n    </Tooltip>\n  ) : (\n    <div\n      className={cx(\n        'image-overlay-button',\n        css`\n          z-index: 1;\n          background: white;\n          border-radius: 4px;\n          width: 28px;\n          height: 28px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          cursor: pointer;\n          &:hover {\n            background: #f5f5f5;\n          }\n        `\n      )}\n      {...rest}\n    >\n      {icon}\n    </div>\n  );\n};\n","import React from 'react';\nimport '@src/style/iconfont/Tripdocs.css';\nimport _ from 'lodash';\nimport { useRef } from 'react';\n\nimport { ELTYPE } from './plugins/config';\nimport { SlateInlineImage } from './plugins/InlineImage/inlineImagePlugins';\nimport { MentionElement } from './plugins/Mention/mention';\n\nexport const InlineElement: any = (props: any) => {\n  let { attributes, children, element } = props;\n  let newProps = Object.assign({}, props);\n  delete newProps.setIsModalVisible;\n  delete newProps.setModalTitle;\n\n  switch (element.type) {\n    case ELTYPE.MENTION:\n      return <MentionElement {...newProps} />;\n    case ELTYPE.INLINEIMAGE:\n      return <SlateInlineImage {...newProps} textAlign={element.align ? element.align : 'center'} />;\n    default:\n      children = (\n        <p\n          {...attributes}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : 1.75,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </p>\n      );\n      break;\n  }\n  return children;\n};\n","import { Editor, Element, Node, Text, Range, Path, Transforms } from '@src/components/slate-packages/slate';\nimport hotkeys from '@src/components/slate-packages/slate-react/utils/hotkeys';\nimport { ELTYPE } from '../config';\nexport const onKeyDownMention = (e: any, editor: Editor) => {\n  const { selection } = editor;\n  if (!selection) return;\n  if (\n    e.keyCode === 37 &&\n    Range.isCollapsed(selection) &&\n    selection.anchor.path[selection.anchor.path.length - 1] !== 0 &&\n    selection.anchor.offset === 0\n  ) {\n    const beforePath = [...selection.anchor.path.slice(0, -1), selection.anchor.path[selection.anchor.path.length - 1] - 1];\n    const isPathValid = Path.isPath(beforePath);\n    const isNodeValid = Node.has(editor, beforePath);\n    if (isPathValid && isNodeValid) {\n      const rowNode: any = Node.get(editor, beforePath);\n      if (rowNode?.type === 'mention') {\n        const point = Editor.end(editor, [...selection.anchor.path.slice(0, -1), selection.anchor.path[selection.anchor.path.length - 1] - 2]);\n        Transforms.select(editor, point);\n        console.log('before', point);\n        e.preventDefault();\n        return true;\n      }\n    }\n  }\n  if (e.keyCode === 39 && Range.isCollapsed(selection) && selection.anchor.offset === Editor.end(editor, selection.anchor.path).offset) {\n    const afterPath = [...selection.anchor.path.slice(0, -1), selection.anchor.path[selection.anchor.path.length - 1] + 1];\n    const endPath = Editor.end(editor, selection.anchor.path.slice(0, 1));\n    if (selection.anchor.path[selection.anchor.path.length - 1] + 1 <= endPath.path[endPath.path.length - 1]) {\n      console.log('endPath', endPath);\n      const isPathValid = Path.isPath(afterPath);\n      const isNodeValid = Node.has(editor, afterPath);\n      if (isPathValid && isNodeValid) {\n        const rowNode: any = Node.get(editor, afterPath);\n        if (rowNode?.type === 'mention') {\n          const point = Editor.start(editor, [...selection.anchor.path.slice(0, -1), selection.anchor.path[selection.anchor.path.length - 1] + 2]);\n          Transforms.select(editor, point);\n          console.log('after', point);\n          e.preventDefault();\n          return true;\n        }\n      }\n    }\n  }\n\n  const focusPath = selection.focus.path;\n  const prevLeafPath = [...focusPath.slice(0, -1), (focusPath[focusPath.length - 1] || 1) - 1];\n  if (\n    hotkeys.isDeleteBackward(e) &&\n    Node.has(editor, prevLeafPath) &&\n    (Node.get(editor, prevLeafPath) as any).type === ELTYPE.MENTION &&\n    prevLeafPath[0] === focusPath[0] &&\n    selection.focus.offset === 0 &&\n    Range.isCollapsed(editor.selection)\n  ) {\n    e.preventDefault();\n    e.stopPropagation();\n    Transforms.removeNodes(editor, { at: prevLeafPath });\n    return true;\n  }\n};\n","import { Editor, Element } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '../../../slate-packages/slate-react/index';\nimport { ELTYPE } from '../config';\n\nexport const withMention = <T extends Editor>(editor: T) => {\n  const e = editor as T & ReactEditor;\n\n  const { isInline, isVoid, deleteBackward } = e;\n\n  e.isInline = (element: Element) => {\n    return (element as any).type === ELTYPE.MENTION ? true : isInline(element);\n  };\n\n  e.isVoid = (element: Element) => {\n    return (element as any).type === ELTYPE.MENTION ? true : isVoid(element);\n  };\n\n  e.deleteBackward = (unit: any) => {\n    deleteBackward(unit);\n  };\n\n  return e;\n};\n","import React, { useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { Editable, ReactEditor, Slate, withReact } from '../../../slate-packages/slate-react';\nimport { Editor, Range, Text, Node } from '@src/components/slate-packages/slate';\nimport { createEditor, Transforms } from '../../../slate-packages/slate';\nimport { ELTYPE } from '../config';\nimport { withHistory } from '../../../slate-packages/slate-history';\nimport { insertMention } from '../Mention/mention';\nimport { InlineElement } from '../../InlineElement';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport ReactDOM from 'react-dom';\nimport isHotkey from 'is-hotkey';\nimport { Italic } from '../Components';\nimport { onKeyDownMention } from '../Mention/onKeyDownMention';\nimport { withMention } from '../Mention/withMention';\nimport { createRandomId } from '@src/utils/randomId';\nimport { DOMRange } from '@src/components/slate-packages/slate-react/utils/dom';\nimport { IS_READ_ONLY } from '@src/components/slate-packages/slate-react/utils/weak-maps';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport { withInlineImages } from '../InlineImage/inlineImagePlugins';\nimport { withHtml } from '../withHtml';\nimport { getCache, setCache, setGlobalCache } from '@src/utils/cacheUtils';\nimport { Avatar } from 'antd';\nimport { css, cx } from '@emotion/css';\n\nconst string = (node: any): string => {\n  if (node?.type === ELTYPE.MENTION) {\n    return `@[[${JSON.stringify(node?.targetUser)}]]`;\n  } else if (node?.type === ELTYPE.INLINEIMAGE) {\n    return `![[${JSON.stringify({ source: node?.source, linkSource: node?.linkSource, width: node?.width, height: node?.height })}]]`;\n  } else if (Text.isText(node)) {\n    return node.text;\n  } else {\n    return node.children.map(string).join('');\n  }\n};\n\nconst serialize = nodes => {\n  return nodes.map(n => string(n)).join('\\n');\n};\n\nexport const deserialize = string => {\n  let leaves = [];\n  if (/(\\!|\\@)\\[\\[(.*?)\\]\\]/.test(string)) {\n    const inlineElArr = [];\n    const textArr = string?.split(/[\\!\\@]\\[\\[.*?\\]\\]/);\n    string?.replace(/([\\!\\@])\\[\\[(.*?)\\]\\]/g, (_, $1, $2) => {\n      console.log('match', _, $1, $2);\n      if ($2.startsWith('{')) {\n        if ($1 === '!') {\n          const element = JSON.parse($2);\n          inlineElArr.push({\n            type: ELTYPE.INLINEIMAGE,\n            source: element?.source,\n            linkSource: element?.linkSource,\n            width: element?.width,\n            height: element?.height,\n          });\n        } else if ($1 === '@') {\n          inlineElArr.push({ type: ELTYPE.MENTION, data: JSON.parse($2) });\n        }\n      }\n      return '';\n    });\n    if (inlineElArr.length === textArr?.length - 1) {\n      for (let i = 0; i < inlineElArr.length; i++) {\n        leaves.push({ text: textArr[i] });\n        const inline = inlineElArr[i];\n        if (inline.type === ELTYPE.INLINEIMAGE) {\n          leaves.push({\n            type: ELTYPE.INLINEIMAGE,\n            width: inline.width,\n            height: inline.height,\n            source: inline.source,\n            linkSource: inline.linkSource,\n            children: [{ text: '' }],\n          });\n        } else if (inline.type === ELTYPE.MENTION) {\n          leaves.push({\n            type: ELTYPE.MENTION,\n            character: inline.data,\n            targetUser: inline.data,\n            children: [{ text: '' }],\n          });\n        }\n      }\n      leaves.push({ text: textArr[textArr?.length - 1] });\n    }\n    console.log('Deserializing...', string, leaves, textArr, inlineElArr);\n  }\n  return [{ type: ELTYPE.PARAGRAPH, children: leaves.length === 0 ? [{ text: string || '' }] : leaves }];\n};\n\nexport const renderLeaf = (props: any) => <Leaf {...props} />;\n\nconst Leaf: any = ({ attributes, children, leaf }: any) => {\n  if (leaf.bold) {\n    children = <strong>{children}</strong>;\n  }\n  if (leaf.code) {\n    children = (\n      <code\n        style={{\n          backgroundColor: 'rgba(0, 0, 0, 0.08)',\n          border: '1px solid rgba(0, 0, 0, 0.08)',\n          borderRadius: '2px',\n          padding: '0 2px',\n          margin: '2px 4px',\n        }}\n      >\n        {children}\n      </code>\n    );\n  }\n  if (leaf.italic) {\n    children = <Italic>{children}</Italic>;\n  }\n  if (leaf.underline) {\n    children = <u>{children}</u>;\n  }\n  if (leaf.strikethrough) {\n    children = <del>{children}</del>;\n  }\n  return (\n    <span {...attributes} contentEditable={leaf.readonly ? false : true} suppressContentEditableWarning={true}>\n      {children}\n    </span>\n  );\n};\n\nconst ContainerPortal = ({ children, editor }) => {\n  const container = ReactEditor.toDOMNode(editor, editor)?.parentElement;\n  return ReactDOM.createPortal(children, container);\n};\n\nexport const InlineSlateEditor = (props: any) => {\n  const { value, setValue, setCommentValue, setEditor } = props;\n  const { editor: mainEditor, docId: mainDocId, userInfo } = useContext(TripdocsSdkContext);\n\n  const [allUserList, setAllUserList] = useState([]);\n  const docId = useMemo(() => mainDocId + '#' + createRandomId().substring(0, 3), []);\n\n  const editor: any = useMemo(() => withInlineImages(withHtml(withMention(withHistory(withReact(createEditor(docId)))))), []);\n\n  const mentionRef = useRef();\n  const [target, setTarget] = useState<Range | undefined>();\n  const [index, setIndex] = useState(0);\n  const [search, setSearch] = useState('');\n  const [chars, setChars] = useState([]);\n  const [mentionsPosition, setMentionsPosition] = useState({ top: '-9999px', left: '-9999px' });\n  const [editorWrapMaxHeight, setEditorWrapMaxHeight] = useState(\n    document.getElementsByClassName('side-comment-wrapper')[0]?.getBoundingClientRect().height\n  );\n  const [isOverMaxHeight, setIsOverMaxHeight] = useState(false);\n\n  useEffect(() => {\n    setEditor && setEditor(editor);\n    const mainOptions: Options = getCache(mainDocId, 'options');\n    const { isInternet, isInElectron, isRefresh, isWideMode, isMdEditor, userInfo, readOnly } = mainOptions;\n    const options: Partial<Options> = {\n      isInternet,\n      isInElectron,\n      isRefresh,\n      isWideMode,\n      isMdEditor,\n      userInfo,\n      readOnly,\n    };\n    console.log('isInternet 00', docId, options);\n    setAllUserList(mainOptions?.allUserList?.length > 0 ? mainOptions.allUserList : mainOptions.defaultUserList);\n    setGlobalCache(docId, { options });\n  }, []);\n\n  async function setUserList(getUserList) {\n    console.log('setUserList-----------******', search);\n    let userList = [];\n    if (!search) {\n      userList = getCache(mainDocId, 'options').defaultUserList;\n      console.log('setUserList-----------******1', search, userList);\n    } else {\n      userList = await getUserList(search);\n      console.log('setUserList,arr 2', userList);\n      if (!userList) {\n        setChars([]);\n        return;\n      }\n    }\n\n    const newArr = [];\n    userList.filter(c => {\n      if (c?.status === 0) {\n        return false;\n      }\n      newArr.push({ ...c, sn: c.c_name });\n      return true;\n    });\n    console.log('******************', newArr);\n\n    setChars(newArr);\n  }\n\n  useEffect(() => {\n    console.log('search target', search, target, allUserList, window.tripdocs.editorsMap[mainDocId]?.api?.getUserList);\n    if (window.tripdocs.editorsMap[mainDocId]?.api?.getUserList) {\n      setUserList(window.tripdocs.editorsMap[mainDocId]?.api.getUserList);\n    } else {\n      const arr = allUserList.filter(c => {\n        const sn = c?.sn;\n        if (sn?.status === 0) {\n          return false;\n        }\n\n        return sn?.startsWith(search.toLowerCase());\n      });\n      setChars(arr);\n    }\n  }, [search, target, mainDocId]);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const activeItems = document.getElementsByClassName('mention-item-active');\n      if (activeItems.length > 0 && index !== 0) {\n        activeItems[0].scrollIntoView({ block: 'nearest' });\n      }\n    }\n  }, [index]);\n\n  useEffect(() => {\n    const editorDOM = ReactEditor.toDOMNode(editor, editor);\n    console.log(`editorDOM`, editorDOM, target, chars, allUserList);\n    if (editorDOM && target && chars.length > 0) {\n      const el: any = mentionRef.current;\n      const domRange = ReactEditor.toDOMRange(editor, target);\n      const rect = domRange?.getBoundingClientRect();\n      const editorRect = editorDOM.getBoundingClientRect();\n\n      setMentionsPosition({\n        top: `${rect.top - editorRect.top + 24}px`,\n        left: `${rect.left - editorRect.left + 16}px`,\n      });\n\n      const editorHeight = document.getElementsByClassName('inline-side-comment__editor')[0]?.getBoundingClientRect().height;\n      setEditorWrapMaxHeight(editorHeight);\n      if (rect.bottom + 100 > editorWrapMaxHeight) {\n        setIsOverMaxHeight(true);\n      } else {\n        setIsOverMaxHeight(false);\n      }\n    }\n  }, [target]);\n\n  const _onKeyDown = (e: any) => {\n    onKeyDownMention(e, editor);\n    console.log('[Inline Mention]', e.key, chars[index], userInfo, mainDocId);\n    const { selection } = editor;\n    if (target) {\n      switch (e.key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          const prevIndex = index >= chars.length - 1 ? 0 : index + 1;\n          setIndex(prevIndex);\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          const nextIndex = index <= 0 ? chars.length - 1 : index - 1;\n          setIndex(nextIndex);\n          break;\n        case 'Tab':\n        case 'Enter':\n          e.preventDefault();\n          if (chars[index] && chars[index].sn) {\n            Transforms.select(editor, target);\n            insertMention(editor, chars[index], userInfo, docId);\n            setTarget(null);\n          }\n          break;\n        case 'Escape':\n          e.preventDefault();\n          setTarget(null);\n          break;\n      }\n      return;\n    }\n    if (selection) {\n      if (isHotkey('alt+c', e)) {\n        e.preventDefault();\n        console.log('|| selection: ', editor, selection);\n        console.log('|| CURRENT NODE: ', Editor.node(editor, selection)[0]);\n        console.log('|| CURRENT PATH: ', Editor.node(editor, selection)[1]);\n      }\n      if (isHotkey('alt+v', e)) {\n        e.preventDefault();\n        console.log('|| selection: ', editor, selection);\n        console.log('|| PARENT NODE: ', Editor.parent(editor, Editor.node(editor, selection)[1])[0]);\n        console.log('|| PARENT PATH: ', Editor.parent(editor, Editor.node(editor, selection)[1])[1]);\n      }\n      if (isHotkey('Enter', e)) {\n        e.preventDefault();\n        Transforms.insertText(editor, '\\n');\n      }\n    }\n  };\n\n  return (\n    <>\n      <Slate\n        editor={editor}\n        value={value}\n        onChange={(value: any) => {\n          setValue(value);\n          setCommentValue(serialize(value));\n          const { selection } = editor;\n          console.log('value', value, serialize(value));\n          selection &&\n            ReactEditor.hasRange(editor, selection) &&\n            console.log('value', editor.selection, value, Range.isCollapsed(selection), serialize(value));\n          if (selection && ReactEditor.hasRange(editor, selection) && selection.anchor && selection.focus && Range.isCollapsed(selection)) {\n            const [start] = Range.edges(selection);\n            const wordBefore = Editor.before(editor, start, { unit: 'word' });\n            const before = wordBefore && Editor.before(editor, wordBefore) ? Editor.before(editor, wordBefore) : wordBefore;\n            const beforeRange = before && Editor.range(editor, before, start);\n            const beforeText = beforeRange && Editor.string(editor, beforeRange);\n            const beforeMatch = beforeText && beforeText.match(/@([\\u4e00-\\u9fa5\\w ]*)/);\n            const beforeMatchEmpty = beforeText && beforeText.match(/@$/);\n            const after = Editor.after(editor, start);\n            const afterRange = Editor.range(editor, start, after);\n            const afterText = Editor.string(editor, afterRange);\n            const afterMatch = afterText.match(/^(\\s|$)/);\n            const isTarget = beforeText === '@';\n\n            console.log('[beforeMatch] :>> ', beforeMatch);\n            if ((beforeMatch || beforeMatchEmpty || isTarget) && afterMatch) {\n              if (beforeMatchEmpty || isTarget) {\n                beforeRange.anchor = JSON.parse(JSON.stringify(beforeRange.focus));\n                beforeRange.anchor.offset = beforeRange.anchor.offset - 1;\n              }\n              setTarget(beforeRange);\n              const mSearch = (beforeMatch && beforeMatch[1]) || '';\n              setSearch(mSearch);\n\n              setChars(allUserList);\n              setIndex(0);\n              return;\n            }\n          }\n          setTarget(null);\n        }}\n      >\n        <Editable\n          data-ignore-slate\n          scrollSelectionIntoView={inlineScrollSelectionIntoView(mainEditor)}\n          renderElement={InlineElement}\n          renderLeaf={renderLeaf}\n          onKeyDown={_onKeyDown}\n          style={{\n            padding: '6px',\n            border: '1px solid #dadada',\n            borderRadius: '4px',\n\n            background: '#fff',\n            height: '98px',\n            minHeight: '98px',\n            overflow: 'auto',\n            resize: 'vertical',\n          }}\n        ></Editable>\n      </Slate>\n      {editor && target && chars.length > 0 && (\n        <ContainerPortal editor={editor}>\n          <div\n            ref={mentionRef}\n            style={{\n              top: isOverMaxHeight ? null : mentionsPosition.top,\n              bottom: isOverMaxHeight ? 0 : null,\n              left: mentionsPosition.left,\n              position: 'absolute',\n              zIndex: 1,\n              padding: '3px',\n              background: 'white',\n              borderRadius: '4px',\n              boxShadow: '0 1px 5px rgba(0,0,0,.2)',\n              height: 200,\n              maxHeight: 200,\n              overflow: 'auto',\n              minWidth: 250,\n            }}\n          >\n            {chars.map((char, i) => (\n              <div\n                contentEditable=\"false\"\n                suppressContentEditableWarning\n                data-ignore-slate\n                className={i === index ? 'mention-item-active' : 'mention-item'}\n                key={i}\n                style={{\n                  padding: '1px 3px',\n                  borderRadius: '3px',\n                  background: i === index ? '#B4D5FF' : 'transparent',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  justifyContent: 'flex-start',\n                  alignItems: 'center',\n                  userSelect: 'none',\n                }}\n                onMouseEnter={() => {\n                  if (index !== i) setIndex(i);\n                }}\n                onMouseLeave={() => {\n                  setIndex(0);\n                }}\n                onMouseDown={e => {\n                  e.preventDefault();\n                  setIndex(i);\n                  Transforms.select(editor, target);\n                  insertMention(editor, chars[i], userInfo, docId);\n                  setTarget(null);\n                }}\n                onClick={e => {\n                  e.preventDefault();\n                  setIndex(i);\n                  Transforms.select(editor, target);\n                  insertMention(editor, chars[i], userInfo, docId);\n                  setTarget(null);\n                }}\n              >\n                <Avatar src={char?.avatarUrl} size={28} style={{ margin: '0 0.5em' }} />\n                <div\n                  className={cx(\n                    'mention-item-info',\n                    css`\n                      display: flex;\n                      flex-direction: column;\n                      justify-content: center;\n                      align-items: start;\n                    `\n                  )}\n                >\n                  <div className={css``}>{char?.displayname || char?.sn}</div>\n                  <div\n                    className={css`\n                      font-size: 12px;\n                      color: #8090a2;\n                    `}\n                  >\n                    {char?.displayInfo}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </ContainerPortal>\n      )}\n    </>\n  );\n};\n\nexport const inlineScrollSelectionIntoView = (mainEditor: Editor) => (editor: ReactEditor, domRange: DOMRange) => {\n  const inlineEditorEl = ReactEditor.toDOMNode(editor, editor);\n  if (!inlineEditorEl || !mainEditor) return;\n  const editorRect = inlineEditorEl.getBoundingClientRect();\n  if (!editor.selection || (editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isCollapsed(editor.selection))) {\n    const leafEl = domRange.startContainer.parentElement!;\n    leafEl.getBoundingClientRect = domRange.getBoundingClientRect.bind(domRange);\n    const leafRect = leafEl.getBoundingClientRect();\n    if (leafRect.bottom > editorRect.bottom) {\n      inlineEditorEl.scrollTop = inlineEditorEl.scrollTop + leafRect.bottom - editorRect.bottom + leafRect.height * 2;\n    } else if (leafRect.top < editorRect.top) {\n      inlineEditorEl.scrollTop = inlineEditorEl.scrollTop - editorRect.top + leafRect.top - leafRect.height * 2;\n    }\n    if (!isElementInViewport(inlineEditorEl)) {\n      const editorContainerWrapEl = document.getElementById(`editor-content-wrap-${mainEditor?.docId}`);\n      if (!editorContainerWrapEl) return;\n      editorContainerWrapEl.scrollTop = editorContainerWrapEl.scrollHeight - editorContainerWrapEl.clientHeight;\n    }\n    delete leafEl.getBoundingClientRect;\n  }\n};\n\nfunction isElementInViewport(el) {\n  if (typeof jQuery === 'function' && el instanceof jQuery) {\n    el = el[0];\n  }\n\n  let rect = el.getBoundingClientRect();\n\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\n","import ReactDOM from 'react-dom';\n\ninterface ElementProps {\n  children: any;\n  [key: string]: any;\n}\nexport const Portal = (props: ElementProps) => {\n  const { children, editorId } = props;\n  const container = document.getElementById(editorId)?.parentElement;\n  if (!container) return null;\n  return ReactDOM.createPortal(children, container);\n};\nexport const EditorContainerOuterPortal = ({ children, docId }: any) => {\n  const editorEl: any = document.getElementById(`editorarea-${docId}`)?.parentElement?.parentElement?.parentElement;\n  return ReactDOM.createPortal(children, editorEl);\n};\n\nexport const OverlayContainerRelativePortal = ({ children, docId }: any) => {\n  const containerEl: any = document.getElementById(`overlayContainer-relative-${docId}`);\n  if (!containerEl) {\n    return null;\n  }\n  return ReactDOM.createPortal(children, containerEl);\n};\nexport const editorContainerOuterPortalFun = ({ children, docId }: any) => {\n  const editorEl: any = document.getElementById(`editorarea-${docId}`)?.parentElement?.parentElement?.parentElement;\n  return ReactDOM.createPortal(children, editorEl);\n};\nexport const EditorContainerPortal = ({ children, docId }: any) => {\n  const editorEl: any = document.getElementById(`editorarea-${docId}`)?.parentElement?.parentElement;\n  return ReactDOM.createPortal(children, editorEl);\n};\n\nexport const EditorContainerInnerPortal = ({ children, docId }: any) => {\n  const editorEl: any = document.getElementById(`editorarea-${docId}`)?.parentElement;\n  return ReactDOM.createPortal(children, editorEl);\n};\n\nexport const EditorContainerBottomPortal = ({ children, docId }: any) => {\n  const containerEl: any = document.getElementById(`editorContainerBottom-${docId}`);\n  if (!containerEl) {\n    return null;\n  }\n  return ReactDOM.createPortal(children, containerEl);\n};\n","import { css, cx } from '@emotion/css';\nimport Avatar from 'antd/lib/avatar/avatar';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Editor, Node, Path, Range, Text } from '@src/components/slate-packages/slate';\nimport { v4 as anchorId } from 'uuid';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { hashCode, intToRGB } from '../../../../utils/hexColorUtils';\nimport { createRandomId } from '../../../../utils/randomId';\nimport { bodySelectAll } from '../../../../utils/selectionUtils';\nimport { Editable, ReactEditor, Slate, withReact } from '../../../slate-packages/slate-react';\nimport { IconBtn } from '../Components';\nimport { getNodesByRangeId } from './commentOps';\nimport { deleteCommentByCommentId, deleteCommentByRangeId } from './deleteSideComment';\nimport { CommentContentProps, insertSideComment } from './insertSideComment';\nimport { updateSideComment } from './updateSideComment';\nimport { message, Tooltip, Image } from 'antd';\nimport { createEditor, Transforms } from '../../../slate-packages/slate';\nimport { CommentCallbackActionType, ELTYPE } from '../config';\nimport { withHistory } from '../../../slate-packages/slate-history';\nimport { deserialize, InlineSlateEditor } from './inlineSlateEditor';\nimport { rangesMap, timeFormat } from './utils';\nimport { ArrowDownOutlined, CaretDownOutlined, CaretLeftOutlined } from '@ant-design/icons';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { f } from '@src/resource/string';\nimport { EditorContainerInnerPortal } from '@src/utils/createPortal';\nimport { SlateInlineImage } from '../InlineImage/inlineImagePlugins';\n\nconst PortalByRow = ({ children, sideCommentRowNum, editor }: any) => {\n  const container = ReactEditor.toDOMNode(editor, Node.get(editor, [sideCommentRowNum]));\n  return ReactDOM.createPortal(children, container);\n};\n\nexport const getInlineElList = (string: any) => {\n  if (!string) {\n    return [];\n  }\n  const mentionArr: any = [...string.matchAll(/\\@\\[\\[(.*?)\\]\\]/g)].map((item: any) => item[1]);\n  console.log('getMentionedMemberList string', string, mentionArr);\n  return mentionArr;\n};\n\nexport const replaceInlineElements = (string: string = '') => {\n  const inlineElArr = [];\n  const textArr = string?.split(/[\\!\\@]\\[\\[.*?\\]\\]/);\n  string?.replace(/([\\!\\@])\\[\\[(.*?)\\]\\]/g, (_, $1, $2) => {\n    console.log('match', _, $1, $2);\n    if ($2.startsWith('{')) {\n      if ($1 === '!') {\n        const element = JSON.parse($2);\n        inlineElArr.push({\n          type: ELTYPE.INLINEIMAGE,\n          source: element?.source,\n          linkSource: element?.linkSource,\n          width: element?.width,\n          height: element?.height,\n        });\n      } else if ($1 === '@') {\n        inlineElArr.push({ type: ELTYPE.MENTION, data: JSON.parse($2) });\n      }\n    }\n    return '';\n  });\n  console.log('[inlineElArr[', textArr, inlineElArr);\n\n  const leaves = [];\n  if (textArr.length - 1 === inlineElArr.length) {\n    for (let i = 0; i < inlineElArr.length; i++) {\n      leaves.push(<>{textArr[i]}</>);\n      const inline = inlineElArr[i];\n      if (inline.type === ELTYPE.INLINEIMAGE) {\n        console.log('inlineElArr[i].data', inline, inlineElArr[i].data);\n        leaves.push(\n          <SlateInlineImage\n            attributes={{}}\n            children={<div />}\n            element={{ source: inline.source, linkSource: inline.linkSource, width: inline.width, height: inline.height }}\n            editor={null}\n          />\n        );\n      } else if (inline.type === ELTYPE.MENTION) {\n        leaves.push(\n          <span\n            className={css`\n              color: #555555;\n              background-color: rgba(0, 0, 0, 0.05);\n              border-radius: 4px;\n              padding: 0 3px;\n              margin: 0 3px;\n            `}\n          >\n            @{inline.data?.sn}\n          </span>\n        );\n      }\n    }\n    leaves.push(<>{textArr[textArr.length - 1]}</>);\n  }\n  return leaves;\n};\n\nconst SideCommentCreator = (props: any) => {\n  const {\n    editor,\n    docId,\n    sideCommentRowNum,\n    setSideCommentRowNum,\n    rangeId,\n    curUserName,\n    WIPCommentRangeId,\n    setWIPCommentRangeId,\n    identicalSelectionRangeId,\n    setIdenticalSelectionRangeId,\n    editorClientRect,\n    containerClientRect,\n  } = props;\n\n  const sideCommentWidth = 280;\n  const sideCommentRightThreshold = sideCommentWidth + 10;\n\n  const [value, setValue] = useState([\n    {\n      type: ELTYPE.PARAGRAPH,\n      children: [\n        {\n          text: '',\n        },\n      ],\n    },\n  ]);\n  const [sideCommentRight, setSideCommentRight] = useState(-sideCommentWidth);\n  const [commentValue, setCommentValue] = useState('');\n  const creatorRef = useRef();\n\n  useEffect(() => {\n    const editorRight = editorClientRect.right;\n    const containerRight = containerClientRect.right - 20;\n    console.log('[con]', containerRight - editorRight < sideCommentRightThreshold, containerRight, editorRight, sideCommentRightThreshold);\n    if (containerRight - editorRight < sideCommentRightThreshold) {\n      setSideCommentRight(editorRight - containerRight);\n    } else {\n      setSideCommentRight(-sideCommentWidth);\n    }\n  }, [sideCommentRowNum]);\n\n  useEffect(() => {\n    let count = 0;\n    const creatorMouseUpHandler = e => {\n      if (!creatorRef || !creatorRef.current) {\n        return;\n      }\n      let _con: any = creatorRef.current;\n      if (!_con.contains(e.target) && sideCommentRowNum > 0) {\n        if (count >= 1) {\n          setSideCommentRowNum(-1);\n          setWIPCommentRangeId(null);\n          const nodesEntryArr = getNodesByRangeId(editor, rangeId);\n          if (identicalSelectionRangeId) {\n            setIdenticalSelectionRangeId(null);\n          } else {\n            deleteCommentByRangeId(editor, rangeId, nodesEntryArr, docId);\n          }\n          count = 0;\n        } else {\n          ++count;\n        }\n      }\n    };\n    document.addEventListener('mouseup', creatorMouseUpHandler);\n    return () => {\n      document.removeEventListener('mouseup', creatorMouseUpHandler);\n    };\n  }, []);\n\n  const editorDom = document.getElementById(`editorarea-${docId}`);\n  let curRowTop = 0;\n  const curRow = editor?.children[sideCommentRowNum];\n  if (curRow && curRow.type === ELTYPE.CARD) {\n    console.log('curRow', curRow, curRow.children[1]);\n    curRowTop = ReactEditor.toDOMNode(editor, curRow.children[1])?.getBoundingClientRect().top;\n  } else {\n    curRowTop = ReactEditor.toDOMNode(editor, curRow)?.getBoundingClientRect().top;\n  }\n\n  const top = curRowTop + 10 - editorDom.getBoundingClientRect().top;\n\n  const commentValueLength = commentValue?.replace(/[\\!\\@]\\[\\[(.*?)\\]\\]/g, '').length;\n  return (\n    <EditorContainerInnerPortal docId={docId}>\n      <div\n        ref={creatorRef}\n        className=\"comment-creator ignore-toggle-readonly\"\n        data-ignore-slate\n        style={{\n          position: 'absolute',\n          right: sideCommentRight,\n          top: top,\n          width: sideCommentWidth,\n          height: 'fit-content',\n          background: '#fff',\n          borderRadius: '2px',\n          padding: '16px',\n          boxShadow: '0 1px 4px -2px rgba(0,0,0,.13), 0 2px 8px 0 rgba(0,0,0,.08), 0 8px 16px 4px rgba(0,0,0,.04)',\n          fontSize: '14px',\n          zIndex: 1080,\n        }}\n      >\n        <InlineSlateEditor value={value} setValue={setValue} setCommentValue={setCommentValue} />\n        <div style={{ position: 'absolute', right: '16px' }}>\n          <span style={{ color: commentValueLength > 500 ? '#f04f4f' : null }}>{commentValueLength}</span>\n          /500\n        </div>\n        <button\n          className=\"ignore-toggle-readonly\"\n          style={{\n            borderRadius: '4px',\n            color: commentValue === '' || commentValueLength > 500 ? '#bdbdbd' : '#595959',\n            background: '#fafafa',\n            border: '1px solid #d9d9d9',\n            padding: '0 8px',\n            marginTop: '5px',\n            outline: 'none',\n            cursor: commentValue === '' || commentValueLength > 500 ? 'not-allowed' : 'pointer',\n          }}\n          data-ignore-slate\n          disabled={commentValue === '' || commentValueLength > 500}\n          onClick={() => {\n            const commentId = anchorId();\n            const value = getInlineElList(commentValue);\n\n            if (identicalSelectionRangeId) {\n              setIdenticalSelectionRangeId(null);\n              insertSideComment(\n                editor,\n                docId,\n                {\n                  userName: curUserName,\n                  content: commentValue,\n                  commentId,\n                  rangeId: identicalSelectionRangeId,\n                  time: timeFormat(),\n                  mentionedMemberList: value,\n                },\n                false,\n                null\n              );\n            } else {\n              insertSideComment(\n                editor,\n                docId,\n                {\n                  userName: curUserName,\n                  content: commentValue,\n                  commentId,\n                  rangeId,\n                  time: timeFormat(),\n                  mentionedMemberList: value,\n                },\n                false,\n                null\n              );\n            }\n            setSideCommentRowNum(-1);\n            setWIPCommentRangeId(null);\n          }}\n        >\n          {f('submit')}\n        </button>\n      </div>\n    </EditorContainerInnerPortal>\n  );\n};\n\nconst InlineSideCommentButton = (props: any) => {\n  const { comments, editor, position, isShowHoveringCommentButton } = props;\n  const { docId, focusedRangeId, resetFocusedRangeId, setFocusedRangeId, WIPCommentRangeId } = React.useContext(TripdocsSdkContext);\n\n  const [showInlineSideComment, setShowInlineSideComment] = useState(false);\n  const [editingCommentId, setEditingCommentId] = useState(null);\n  const [isReplyingComment, setIsReplyingComment] = useState(false);\n\n  const sideCommentWidth = 280;\n\n  const [sideCommentRight, setSideCommentRight] = useState(-sideCommentWidth);\n  const commentWrapperRef = useRef();\n\n  useEffect(() => {\n    if (showInlineSideComment) {\n      const editorRight = document.getElementById(`editorarea-${docId}`).getBoundingClientRect().right + 20;\n      const containerRight = document.getElementById(`editorContainer-${docId}`).getBoundingClientRect().right;\n\n      if (containerRight - editorRight < sideCommentWidth) {\n        setSideCommentRight(editorRight - containerRight);\n      } else {\n        setSideCommentRight(-sideCommentWidth);\n      }\n\n      if (!!WIPCommentRangeId) return;\n      const editorContent = document.getElementById(`editor-content-${docId}`);\n      const commentItem: HTMLElement =\n        focusedRangeId && editorContent?.querySelector(`[data-commentitem-rangeid='${focusedRangeId.replace(/['\"\\\\]/g, '\\\\$&')}']`);\n      const containerWrapDom = document.getElementById(`editor-content-wrap-${docId}`);\n      if (commentItem && commentItem.offsetParent) {\n        const offsetTop = (commentItem.offsetParent as HTMLElement).offsetTop + commentItem.offsetTop;\n        const height = commentItem?.getBoundingClientRect().height;\n        console.log('[] 自动滚动到 focused 评论', height, containerWrapDom, offsetTop - height, commentItem, commentItem.offsetParent);\n        if (typeof offsetTop === 'number' && typeof height === 'number' && containerWrapDom) {\n          containerWrapDom.scroll({ behavior: 'smooth', top: offsetTop - height });\n        }\n      }\n    }\n  }, [showInlineSideComment, WIPCommentRangeId]);\n\n  useEffect(() => {\n    console.log('1---InlineSideCommentButton---', focusedRangeId);\n    if (focusedRangeId) {\n      const isCommentIncluded = comments.some(item => item.rangeIdList && item.rangeIdList.includes(focusedRangeId));\n      console.log('2---InlineSideCommentButton---', focusedRangeId, isCommentIncluded);\n      if (isCommentIncluded) {\n        setShowInlineSideComment(true);\n      }\n    }\n  }, [focusedRangeId]);\n\n  useEffect(() => {\n    const sideCommentMouseUpHandler = e => {\n      if (!commentWrapperRef || !commentWrapperRef.current) {\n        return;\n      }\n      let _con: any = commentWrapperRef.current;\n\n      if (!_con.contains(e.target) && showInlineSideComment) {\n        setEditingCommentId(prevEditingCommentId => {\n          setIsReplyingComment(prevIsReplyingComment => {\n            if (prevIsReplyingComment) {\n              deleteCommentByCommentId(editor, prevEditingCommentId, docId, true);\n            }\n            return false;\n          });\n          return null;\n        });\n        setShowInlineSideComment(false);\n        resetFocusedRangeId();\n      }\n    };\n    document.addEventListener('mouseup', sideCommentMouseUpHandler);\n    return () => {\n      document.removeEventListener('mouseup', sideCommentMouseUpHandler);\n    };\n  }, [showInlineSideComment]);\n\n  const commentsRC = useMemo(() => {\n    const rangesMapping = rangesMap(comments);\n    console.log('commentData---333', comments, rangesMapping);\n    let result = [];\n    for (const rangeId in rangesMapping) {\n      const filteredCommentContent = rangesMapping[rangeId]?.commentContent?.filter(item => item.rangeId === rangeId);\n      const commentItem = (\n        <div\n          data-ignore-slate\n          data-commentitem-rangeid={rangeId}\n          key={'comment-item_' + rangeId}\n          className={cx(\n            'ignore-toggle-readonly',\n            'inline-side-comment__item',\n            css`\n              &:hover {\n                background: rgba(0, 0, 0, 0.03);\n              }\n              & {\n                padding: 8px 0;\n                background: ${rangeId === focusedRangeId ? `rgba(0,0,0,.03)` : null};\n              }\n            `\n          )}\n          onClick={e => {\n            if (editingCommentId) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n          }}\n          onMouseOver={e => {\n            if (editingCommentId) {\n              e.preventDefault();\n              e.stopPropagation();\n            } else {\n              setFocusedRangeId(rangeId);\n            }\n          }}\n        >\n          <div\n            data-ignore-slate\n            className={cx(\n              'ignore-toggle-readonly',\n              'inline-side-comment__text',\n              css`\n                & {\n                  margin: 0 16px;\n\n                  padding-left: 8px;\n                  border-left: 4px solid rgba(160, 160, 160, 0.3);\n                  color: #a0a0a0;\n                  width: ${sideCommentWidth - 24}px;\n                  text-overflow: ellipsis;\n                  white-space: nowrap;\n                  overflow: hidden;\n                }\n              `\n            )}\n            title={rangesMapping[rangeId]?.text || ''}\n          >\n            {rangesMapping[rangeId]?.text}\n          </div>\n          {filteredCommentContent?.map((content: any, index: number, array: any) => {\n            return (\n              <CommentContent\n                key={index}\n                editor={editor}\n                text={rangesMapping[rangeId]?.text}\n                content={content}\n                index={index}\n                rangeId={rangeId}\n                commentId={content.commentId}\n                editingCommentId={editingCommentId}\n                setEditingCommentId={setEditingCommentId}\n                isReplyingComment={isReplyingComment}\n                setIsReplyingComment={setIsReplyingComment}\n                isShowHoveringCommentButton={isShowHoveringCommentButton}\n                contentCollapseLength={50}\n              />\n            );\n          })}\n        </div>\n      );\n\n      result.push(commentItem);\n    }\n    return result;\n  }, [showInlineSideComment, editingCommentId, JSON.stringify(comments), isReplyingComment]);\n\n  return (\n    <>\n      <IconBtn\n        data-ignore-slate\n        contentEditable=\"false\"\n        suppressContentEditableWarning={true}\n        style={{\n          position: 'absolute',\n          top: position.top,\n          right: '10px',\n          userSelect: 'none',\n          color: 'rgba(0,0,0,0.85)',\n          cursor: 'pointer',\n        }}\n        className={`Tripdocs-comment_multiple ignore-toggle-readonly`}\n        onClick={e => {\n          setShowInlineSideComment(true);\n          e.stopPropagation();\n          e.preventDefault();\n        }}\n      ></IconBtn>\n\n      {showInlineSideComment && comments && (\n        <>\n          <div\n            ref={commentWrapperRef}\n            className=\"side-comment-wrapper ignore-toggle-readonly\"\n            data-ignore-slate\n            contentEditable=\"false\"\n            suppressContentEditableWarning={true}\n            style={{\n              position: 'absolute',\n              top: position.top,\n              right: sideCommentRight,\n              display: 'flex',\n              flexDirection: 'column',\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              padding: '0',\n              background: '#fff',\n              maxHeight: '410px',\n              overflowY: 'auto',\n              width: sideCommentWidth,\n              boxShadow: '0 1px 4px -2px rgba(0,0,0,.13), 0 2px 8px 0 rgba(0,0,0,.08), 0 8px 16px 4px rgba(0,0,0,.04)',\n              fontSize: '14px',\n              zIndex: 1080,\n            }}\n            onClick={e => {}}\n          >\n            {commentsRC}\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport const CommentContent = ({\n  editor,\n  text,\n  content,\n  index,\n  rangeId,\n  editingCommentId,\n  setEditingCommentId,\n  isReplyingComment,\n  setIsReplyingComment,\n  isShowHoveringCommentButton,\n  contentCollapseLength,\n}: any) => {\n  const { docId, userInfo } = React.useContext(TripdocsSdkContext);\n  const { commentId } = content;\n  const [commentValue, setCommentValue] = useState(content.content);\n  const editCommentEditorRef = useRef();\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  const [value, setValue] = useState(deserialize(commentValue));\n\n  const toggleExpanded = () => {\n    setIsExpanded(prev => !prev);\n  };\n\n  useEffect(() => {\n    console.log('content.content', commentValue);\n    setCommentValue(prev => {\n      if (prev !== content.content) {\n        setValue(deserialize(content.content));\n        return content.content;\n      } else {\n        return prev;\n      }\n    });\n  }, [content.content]);\n\n  const editCommentEditor = useMemo(() => {\n    const commentValueLength = commentValue?.replace(/[\\@|\\!]\\[\\[(.*?)\\]\\]/g, '').length;\n    return (\n      <div\n        ref={editCommentEditorRef}\n        data-ignore-slate\n        className={'inline-side-comment__editor'}\n        style={{\n          position: 'relative',\n          padding: '0 16px',\n        }}\n      >\n        {content.replyTarget && (\n          <ReplyTargetContainer docId={docId} editor={editor} replyTarget={content.replyTarget} contentCollapseLength={contentCollapseLength} />\n        )}\n        <InlineSlateEditor value={value} setValue={setValue} setCommentValue={setCommentValue} />\n        <div style={{ position: 'absolute', right: '16px' }}>\n          <span style={{ color: commentValueLength > 500 ? '#f04f4f' : null }}>{commentValueLength}</span>\n          /500\n        </div>\n        <button\n          className=\"ignore-toggle-readonly\"\n          style={{\n            borderRadius: '4px',\n            color: commentValue === '' || commentValueLength > 500 ? '#bdbdbd' : '#595959',\n            background: '#fafafa',\n            border: '1px solid #d9d9d9',\n            outline: 'none',\n            padding: '0 8px',\n            marginTop: '5px',\n            cursor: commentValue === '' || commentValueLength > 500 ? 'not-allowed' : 'pointer',\n            position: 'relative',\n          }}\n          data-ignore-slate\n          disabled={commentValue === '' || commentValueLength > 500}\n          onClick={e => {\n            updateSideComment(\n              editor,\n              rangeId,\n              {\n                ...content,\n                content: commentValue,\n                mentionedMemberList: getInlineElList(commentValue),\n                creator: {\n                  headPortrait: getCache(docId, 'options').userInfo.headPortrait,\n                },\n              },\n              docId,\n              isReplyingComment\n            );\n            setEditingCommentId(null);\n          }}\n        >\n          {f('submit')}\n        </button>\n        <button\n          className=\"ignore-toggle-readonly\"\n          style={{\n            borderRadius: '4px',\n            color: '#595959',\n            background: '#fafafa',\n            border: '1px solid #d9d9d9',\n            outline: 'none',\n            padding: '0 8px',\n            margin: '5px 0 0 10px',\n            cursor: 'pointer',\n            position: 'relative',\n          }}\n          data-ignore-slate\n          onClick={e => {\n            setEditingCommentId(prevEditingCommentId => {\n              setIsReplyingComment(prevIsReplyingComment => {\n                if (prevIsReplyingComment) {\n                  deleteCommentByCommentId(editor, prevEditingCommentId, docId, true);\n                }\n                return false;\n              });\n              return null;\n            });\n          }}\n        >\n          {f('cancel')}\n        </button>\n      </div>\n    );\n  }, [commentId, editingCommentId, commentValue, docId]);\n  const { banCommentNesting } = getCache(docId, 'options');\n  const commentDisplay = useMemo(\n    () => (\n      <div\n        key={'comment-display_' + index}\n        data-ignore-slate\n        className={cx(\n          'inline-side-comment__content',\n          'ignore-toggle-readonly',\n          css`\n            & {\n              display: flex;\n              flex-direction: row;\n              padding: 10px 16px 0;\n\n              div.comment-action__edit,\n              div.comment-action__delete {\n                visibility: hidden;\n              }\n              &:hover {\n                div.comment-action__edit,\n                div.comment-action__delete {\n                  visibility: visible;\n                }\n              }\n            }\n          `\n        )}\n      >\n        <div\n          data-ignore-slate\n          className=\"inline-side-comment__contentLeft ignore-toggle-readonly bbb\"\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'flex-start',\n            margin: '10px 10px 0 0',\n          }}\n        >\n          {!content?.creator?.headPortrait && !(userInfo.userName === content.userName && userInfo.headPortrait) ? (\n            <Avatar\n              style={{\n                backgroundColor:\n                  content && content.userName && content.userName !== ''\n                    ? `#${intToRGB(hashCode(content.userName))}`\n                    : `#${intToRGB(Math.floor(Math.random() * 10000))}`,\n              }}\n            >\n              <span data-ignore-slate contentEditable=\"false\" suppressContentEditableWarning={true}>\n                {content.userName?.split('）')[0].slice(-2)}\n              </span>\n            </Avatar>\n          ) : (\n            <Avatar src={<Image src={content?.creator?.headPortrait || userInfo.headPortrait} preview={false} style={{ width: 32 }} />} />\n          )}\n        </div>\n        <div\n          data-ignore-slate\n          contentEditable=\"false\"\n          suppressContentEditableWarning={true}\n          className=\"inline-side-comment__contentRight ignore-toggle-readonly\"\n          style={{ width: '100%' }}\n        >\n          {}\n          <div\n            data-ignore-slate\n            contentEditable=\"false\"\n            suppressContentEditableWarning={true}\n            className=\"inline-side-comment__userName ignore-toggle-readonly\"\n            onClick={content?.content?.replace(/\\@\\[\\[.*?\\]\\]/g, '')?.length < contentCollapseLength ? null : toggleExpanded}\n            style={{ cursor: 'pointer', position: 'relative' }}\n          >\n            <div style={{ color: '#a0a0a0', fontSize: 12 }}>{content?.creator?.displayName || content.userName}</div>\n            <div style={{ color: '#bfbfbf', fontSize: 12 }}>\n              {}\n              {timeFormat(new Date(content.time)) === new Date().getFullYear().toString()\n                ? timeFormat(new Date(content.time)).slice(5, 16)\n                : timeFormat(new Date(content.time)).slice(2, 16)}\n              {}\n            </div>\n            <div\n              className={css`\n                position: absolute;\n                right: 1rem;\n                top: 1rem;\n                color: #0a56bb99;\n                ${isExpanded ? `transform: rotateZ(180deg);` : null}\n                transition: transform 0.3s ease-in-out;\n              `}\n            >\n              {content?.content?.replace(/\\@\\[\\[.*?\\]\\]/g, '')?.length < contentCollapseLength ? null : <CaretDownOutlined />}\n            </div>\n          </div>\n          {}\n          {content.replyTarget && (\n            <ReplyTargetContainer docId={docId} editor={editor} replyTarget={content.replyTarget} contentCollapseLength={contentCollapseLength} />\n          )}\n          <div\n            data-ignore-slate\n            contentEditable=\"false\"\n            suppressContentEditableWarning={true}\n            className={cx([\n              'inline-side-comment__desc',\n              'ignore-toggle-readonly',\n              css`\n                & {\n                  word-break: break-all;\n                  display: -webkit-box;\n                  -webkit-box-orient: vertical;\n                  -webkit-line-clamp: ${isExpanded ? `none` : 1};\n                  overflow: hidden;\n                  white-space: pre-line;\n                }\n              `,\n            ])}\n          >\n            {replaceInlineElements(content.content)}\n          </div>\n          <div\n            data-ignore-slate\n            contentEditable=\"false\"\n            suppressContentEditableWarning={true}\n            className={cx(\n              'inline-side-comment__action',\n              'ignore-toggle-readonly',\n              css`\n                & {\n                  display: flex;\n                }\n              `\n            )}\n          >\n            {commentId && isShowHoveringCommentButton && (\n              <>\n                {!(banCommentNesting && content.replyTarget) && (\n                  <CommentActionButton\n                    action=\"reply\"\n                    onClickFn={e => {\n                      const replyCommentId = createRandomId();\n                      const contentObj = {\n                        userName: content.userName,\n                        content: '',\n                        commentId: replyCommentId,\n                        rangeId,\n                        time: timeFormat(),\n                        mentionedMemberList: [],\n                      };\n                      const replyTargetObj = { rangeId, ...content };\n                      setEditingCommentId(replyCommentId);\n                      setIsReplyingComment(true);\n                      insertSideComment(editor, docId, contentObj, true, replyTargetObj);\n                    }}\n                  />\n                )}\n                {content.userName === userInfo.userName && (\n                  <CommentActionButton\n                    action=\"edit\"\n                    onClickFn={e => {\n                      setIsReplyingComment(false);\n                      setEditingCommentId(commentId);\n                    }}\n                  />\n                )}\n                {content.userName === userInfo.userName && (\n                  <CommentActionButton\n                    action=\"delete\"\n                    onClickFn={e => {\n                      deleteCommentByCommentId(editor, commentId, docId, false);\n                    }}\n                  />\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    ),\n    [editingCommentId, commentId, commentValue, isExpanded, isReplyingComment, content.content]\n  );\n\n  return commentId === editingCommentId ? editCommentEditor : commentDisplay;\n};\n\nconst commentActionsMap = function () {\n  const cMap = new Map();\n  cMap.set('edit', f('edit'));\n  cMap.set('delete', f('delete'));\n  cMap.set('reply', f('reply'));\n  return cMap;\n};\n\nexport const CommentActionButton = ({ action, onClickFn }: any) => {\n  if (!commentActionsMap().has(action)) return;\n\n  return (\n    <div\n      data-ignore-slate\n      contentEditable=\"false\"\n      suppressContentEditableWarning={true}\n      className={cx([\n        `comment-action__${action}`,\n        'ignore-toggle-readonly',\n        css`\n          & {\n            color: #a0a0a0;\n            margin-right: 8px;\n            cursor: pointer;\n            user-select: none;\n            font-size: 14px;\n          }\n          &:hover {\n            color: #000;\n          }\n        `,\n      ])}\n      onClick={onClickFn}\n    >\n      {' '}\n      {commentActionsMap().get(action)}\n    </div>\n  );\n};\n\nexport const ReplyTargetContainer = ({ editor, replyTarget, docId, contentCollapseLength }) => {\n  const targetCommentId = replyTarget?.commentId;\n\n  let targetObj = null;\n  const commentContent = window.tripdocs.editorsMap[docId].commentData;\n  commentContent && (targetObj = (commentContent as any).find(item => item.commentId === targetCommentId));\n\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const toggleExpanded = () => {\n    setIsExpanded(prev => !prev);\n  };\n  return (\n    <div\n      className=\"comment-content__replyContainer ignore-toggle-readonly\"\n      style={{\n        background: 'rgba(0,0,0,.04)',\n        padding: '4px 8px',\n        margin: '4px 0',\n        color: '#a0a0a0',\n        borderRadius: '4px',\n      }}\n    >\n      {!targetObj ? (\n        <>{f('commentHasBeenDeleted')}</>\n      ) : (\n        <>\n          {}\n          <div\n            className=\"comment-content__userName ignore-toggle-readonly\"\n            style={{ color: 'rgb(191, 191, 191)', cursor: 'pointer', position: 'relative' }}\n            onClick={targetObj?.content?.replace(/\\@\\[\\[.*?\\]\\]/g, '')?.length < contentCollapseLength ? null : toggleExpanded}\n          >\n            {f('replyTo')} {targetObj?.userName}\n            <div\n              className={css`\n                position: absolute;\n                right: 0.5rem;\n                top: 0.3rem;\n                color: rgb(143, 149, 158);\n                ${isExpanded ? `transform: rotateZ(180deg);` : null}\n                transition: transform 0.3s ease-in-out;\n              `}\n            >\n              {targetObj?.content?.replace(/\\@\\[\\[.*?\\]\\]/g, '')?.length < contentCollapseLength ? null : <CaretDownOutlined />}\n            </div>\n          </div>\n          {}\n          <div\n            className={cx([\n              'comment-content__content',\n              css`\n                & {\n                  word-break: break-all;\n                  display: -webkit-box;\n                  -webkit-box-orient: vertical;\n                  -webkit-line-clamp: ${isExpanded ? 5 : 1};\n                  overflow: hidden;\n                }\n              `,\n            ])}\n          >\n            {replaceInlineElements(targetObj?.content)}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport { SideCommentCreator, InlineSideCommentButton };\n","import { Editor, Text, Transforms } from '@src/components/slate-packages/slate';\nimport { transformObjStrTimeToNumAndCallback } from '@src/utils/faster';\nimport { actionKey, applyOpt } from '../../../../utils/apiListener';\nimport { bodySelectAll } from '../../../../utils/selectionUtils';\nimport { CommentCallbackActionType } from '../config';\nimport { applyCommentCallback } from './commentOps';\nimport { CommentContentProps } from './insertSideComment';\n\nexport function updateSideComment(editor: any, rangeId: string, content: CommentContentProps, docId: string, isReplyingComment: boolean) {\n  let newContent;\n  const list = window.tripdocs.editorsMap[docId].commentData.map((item: any) => {\n    const isTargetComment = content.commentId === item.commentId;\n    if (isTargetComment) {\n      item.content = content.content;\n      item.mentionedMemberList = content.mentionedMemberList;\n      window.tripdocs.editorsMap[docId].cache.commentId = '';\n      newContent = item;\n    }\n    return item;\n  });\n\n  window.tripdocs.editorsMap[docId].api.setCommentData(list);\n\n  transformObjStrTimeToNumAndCallback(newContent, content => {\n    applyCommentCallback(editor, isReplyingComment ? CommentCallbackActionType.REPLY : CommentCallbackActionType.UPDATE, { ...content }, docId);\n  });\n}\n","import { Node } from '@src/components/slate-packages/slate';\nimport { debounce, throttle } from 'lodash';\nimport React, { useEffect, useState } from 'react';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { ELTYPE } from '../config';\nimport { getEditorEventEmitter } from '../table/selection';\nimport { InlineSideCommentButton } from './renderSideComment';\n\nexport const AllCommentsList = (props: any) => {\n  const { editor, docId, isShowHoveringCommentButton } = props;\n  const allRows = editor?.children || [];\n\n  const allRowsButtons = allRows.map((element, index) => {\n    return (\n      <CommentsItem\n        element={element}\n        index={index}\n        key={index}\n        docId={docId}\n        editor={editor}\n        isShowHoveringCommentButton={isShowHoveringCommentButton}\n      />\n    );\n  });\n  return allRowsButtons;\n};\n\nfunction CommentsItem(props: any) {\n  const { element, index, docId, editor, isShowHoveringCommentButton } = props;\n\n  let isTable = false;\n  if (!element) {\n    return null;\n  }\n\n  if ([ELTYPE.CARD].includes(element?.type)) {\n    const cardCenter = element.children[1];\n    if ([ELTYPE.TABLE].includes(cardCenter.type)) {\n      isTable = true;\n    } else {\n      return null;\n    }\n  }\n  const curElementCommentsArr = element?.children?.filter(item => item.rangeIdList && item.rangeIdList.length) ?? [];\n  const curElementComments = curElementCommentsArr.length ? curElementCommentsArr : [];\n\n  const tCommentRanges = window.tripdocs.editorsMap[docId].commentRanges;\n  const tCommentData = window.tripdocs.editorsMap[docId].commentData;\n\n  const elementStr = JSON.stringify(element);\n\n  const commentData = tCommentData.filter(it => {\n    const anchorId = JSON.parse(it.rangeId).anchorId;\n    return (\n      it.rangeId &&\n      !it.rangeId.startsWith('global-comment_') &&\n      anchorId &&\n      anchorId.length !== 1 &&\n      elementStr.indexOf(JSON.parse(it.rangeId).anchorId) > -1\n    );\n  });\n  commentData?.length && console.log('commentData__', commentData);\n\n  const hasSideComment = !!commentData.length;\n\n  if (!hasSideComment) {\n    return null;\n  }\n  const [sideCommentTop, setSideCommentTop] = useState(null);\n\n  useEffect(() => {\n    function updateTop() {\n      let curRowTop = 0;\n      const editor = window.tripdocs.editorsMap[docId].editor;\n      const curRow = editor?.children[index];\n      if (curRow && curRow.type === ELTYPE.CARD) {\n        console.log('curRow', curRow, curRow.children[1]);\n        curRowTop = ReactEditor.toDOMNode(editor, curRow.children[1])?.getBoundingClientRect().top;\n      } else {\n        curRowTop = ReactEditor.toDOMNode(editor, curRow)?.getBoundingClientRect().top;\n      }\n      const editorTop = document.getElementById(`editorarea-${docId}`)?.getBoundingClientRect().top;\n      console.log('[CommentsItem Top]', editor, editor.children[index], curRowTop, editorTop);\n      const EDITOR_PADDING = 10;\n      const INPUT_EDITOR_HEIGHT = 68;\n      const val = curRowTop - editorTop + EDITOR_PADDING + INPUT_EDITOR_HEIGHT;\n      setSideCommentTop(val);\n    }\n    const debounceUpdateTop = debounce(updateTop, 500);\n    debounceUpdateTop();\n    getEditorEventEmitter(docId).on('updateCommentTop', debounceUpdateTop, docId);\n    return () => {\n      debounceUpdateTop.cancel();\n      getEditorEventEmitter(docId).off('updateCommentTop', debounceUpdateTop, docId);\n    };\n  }, [index]);\n\n  const nativeComment = [];\n\n  for (let i = 0; i < commentData.length; i++) {\n    const comment = commentData[i];\n    const { refContent } = JSON.parse(comment.rangeId);\n    nativeComment.push({\n      text: refContent,\n      rangeIdList: [comment.rangeId],\n      commentContent: [comment],\n    });\n  }\n\n  return nativeComment?.length > 0 ? (\n    <InlineSideCommentButton\n      key={index}\n      editor={editor}\n      comments={nativeComment}\n      position={{ top: sideCommentTop }}\n      isShowHoveringCommentButton={isShowHoveringCommentButton}\n    />\n  ) : null;\n}\n","import * as Y from 'yjs';\n\nexport function getDefaultValueByBase64(base64: string) {\n  const state2 = _base64ToArrayBuffer(base64);\n  const ydoc1 = new Y.Doc();\n  Y.applyUpdate(ydoc1, state2);\n  const defaultValue = ydoc1.getArray('content').toJSON();\n  console.log('options.defaultValue', defaultValue);\n  return defaultValue;\n}\nfunction _base64ToArrayBuffer(base64) {\n  let binary_string = window.atob(base64);\n  let len = binary_string.length;\n  let bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binary_string.charCodeAt(i);\n  }\n  return bytes;\n}\n","import produce from 'immer';\n\ntype HistoryDocFetch = {\n  content: any;\n  versionId: string;\n  isError: boolean;\n  isLoading: boolean;\n};\n\ntype HistoryDocState = {\n  docPrevious: HistoryDocFetch;\n  docCurrent: HistoryDocFetch;\n  versionList: {\n    pageNum: number;\n    total: number;\n  };\n};\n\nenum HistoryDocActionType {\n  setPreviousDoc,\n  setPreviousError,\n  setPreviousLoading,\n  setPreviousVersionId,\n  setCurrentDoc,\n  setCurrentError,\n  setCurrentLoading,\n  setCurrentVersionId,\n  setPageNum,\n  setTotal,\n}\n\ntype HistoryDocAction = {\n  type: HistoryDocActionType;\n  payload: any;\n};\n\nconst historyDocStore: HistoryDocState = {\n  docPrevious: {\n    content: [],\n    versionId: '',\n    isError: false,\n    isLoading: false,\n  },\n  docCurrent: {\n    content: [],\n    versionId: '0',\n    isError: false,\n    isLoading: false,\n  },\n  versionList: {\n    pageNum: 1,\n    total: 1,\n  },\n};\n\nconst historyDocReducer = produce((draft: HistoryDocState, action: HistoryDocAction) => {\n  switch (action.type) {\n    case HistoryDocActionType.setPreviousDoc:\n      draft.docPrevious.content = action.payload;\n      break;\n    case HistoryDocActionType.setCurrentDoc:\n      draft.docCurrent.content = action.payload;\n      break;\n    case HistoryDocActionType.setPreviousError:\n      draft.docPrevious.isError = action.payload;\n      break;\n    case HistoryDocActionType.setCurrentError:\n      draft.docCurrent.isError = action.payload;\n      break;\n    case HistoryDocActionType.setPreviousLoading:\n      draft.docPrevious.isLoading = action.payload;\n      break;\n    case HistoryDocActionType.setCurrentLoading:\n      draft.docCurrent.isLoading = action.payload;\n      break;\n    case HistoryDocActionType.setPreviousVersionId:\n      draft.docPrevious.versionId = action.payload;\n      break;\n    case HistoryDocActionType.setCurrentVersionId:\n      draft.docCurrent.versionId = action.payload;\n      break;\n    case HistoryDocActionType.setPageNum:\n      draft.versionList.pageNum = action.payload;\n      break;\n    case HistoryDocActionType.setTotal:\n      draft.versionList.total = action.payload;\n      break;\n    default:\n      break;\n  }\n});\n\nexport { historyDocReducer, historyDocStore, HistoryDocActionType };\nexport type { HistoryDocAction, HistoryDocState };\n","import { css, cx } from '@emotion/css';\nimport React, { useContext, useEffect, useState } from 'react';\n\ninterface Caret {\n  color: string;\n  isForward: boolean;\n  name: string;\n}\n\nconst Caret: React.FC<Caret> = leaf => {\n  const {\n    data: { name, alphaColor: color },\n    isMe,\n    isMobile,\n    isForward,\n  } = leaf as any;\n\n  const cursorStyles = {\n    position: 'absolute',\n    top: 0,\n    left: '-3px',\n\n    userSelect: 'none',\n    transform: 'translateY(-100%)',\n    fontSize: 10,\n    color: 'white',\n    whiteSpace: 'nowrap',\n    background: isMe ? '#000' : color,\n    borderRadius: '4px',\n    padding: '0 4px',\n  };\n\n  const [show, setShow] = useState(false);\n  const [displayTooltip, setDisplayTooltip] = useState(false);\n\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShow(!show);\n    }, 600);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [show]);\n\n  const caretStyles: any = {\n    position: 'absolute',\n    userSelect: 'none',\n    height: '1.2em',\n    width: 2,\n\n    background: isMe ? (show ? '#000' : 'transparent') : color,\n  };\n\n  return (\n    <>\n      <span\n        contentEditable={false}\n        style={\n          {\n            ...caretStyles,\n            top: !isForward ? 0 : null,\n            left: !isForward ? 0 : null,\n            bottom: isForward ? 0 : null,\n            right: isForward ? 0 : null,\n            pointerEvents: isMobile ? 'none' : null,\n          } as any\n        }\n        data-ignore-slate\n        data-is-caret\n        className={cx(\n          'ignore-toggle-readonly',\n          css`\n            & * {\n              user-select: none;\n            }\n          `\n        )}\n        onMouseEnter={e => {\n          setDisplayTooltip(true);\n        }}\n        onClick={e => {\n          setDisplayTooltip(true);\n        }}\n      >\n        <span contentEditable={false} data-ignore-slate style={{ position: 'relative', ...caretStyles }}>\n          {!isMe && (\n            <span\n              contentEditable={false}\n              data-ignore-slate\n              className={cx(\n                'ignore-toggle-readonly',\n                css`\n                  transition: all 0.3s ease-in-out;\n                `\n              )}\n              style={\n                {\n                  ...cursorStyles,\n                  width: displayTooltip ? 'fit-content' : '7px',\n                  height: displayTooltip ? 'auto' : '7px',\n                  borderRadius: '4px',\n                } as any\n              }\n              onMouseEnter={e => {\n                setDisplayTooltip(true);\n              }}\n              onMouseLeave={e => {\n                setTimeout(() => {\n                  setDisplayTooltip(false);\n                }, 600);\n              }}\n            >\n              {displayTooltip ? name : null}\n            </span>\n          )}\n        </span>\n      </span>\n    </>\n  );\n};\n\nexport default Caret;\n","import _ from 'lodash';\nimport React from 'react';\nimport { Editor, Path, Transforms, Node } from '@src/components/slate-packages/slate';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\nimport './index.less';\nimport { getParentPathByTypes } from '../pluginsUtils/getPathUtils';\n\ninterface SlateElementProps {\n  attributes: any;\n  element: any;\n  children: any;\n  editor: any;\n  elementUniqueId: any;\n}\n\nexport const withBlockquote = <T extends Editor>(editor: T) => {\n  const e = editor as T;\n\n  const { deleteBackward } = e;\n\n  e.deleteBackward = (unit: any) => {\n    console.log('[withBlockquote] deleteBackward', unit);\n    const { path, offset } = editor.selection.anchor;\n\n    const parentNode = Node.parent(editor, path) as any;\n    if ([ELTYPE.BLOCK_QUOTE].includes(parentNode.type)) {\n      const [cellChildrenNodeFirstNode, cellChildrenNodeFirstPath] = Node.first(editor, path.slice(0, -1));\n\n      const text = Node.string(parentNode);\n      if (Path.equals(cellChildrenNodeFirstPath, path) && offset === 0 && text.length === 0) {\n        console.log('withBlockquote deleteBackward', cellChildrenNodeFirstPath, cellChildrenNodeFirstNode, path);\n        Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH } as any);\n        console.log('[withBlockquote] returned ', text);\n        return;\n      }\n    }\n    deleteBackward(unit);\n  };\n\n  return e;\n};\n\nexport const BlockQuote = (props: SlateElementProps) => {\n  const { attributes, element, children, elementUniqueId } = props;\n\n  return (\n    <blockquote\n      {...attributes}\n      id={elementUniqueId}\n      style={{\n        lineHeight: element.lineHeight,\n        textAlign: element.align ? element.align : 'left',\n        display: 'block',\n      }}\n      className=\"component-block-quote\"\n      data-tab-level={element.tabLevel}\n      data-line-height={element.lineHeight}\n    >\n      <span\n        style={{\n          marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 20}px` : null,\n        }}\n      >\n        {children}\n      </span>\n    </blockquote>\n  );\n};\n","import { v4 as anchorId } from 'uuid';\nimport { Transforms, Node, Path } from '@src/components/slate-packages/slate';\nimport { insertCard } from '../Card';\nimport { ELTYPE } from '../config';\n\nexport const insertCodeBlock = (editor: any, selectionFocusPath: Path = editor.selection.focus.path) => {\n  const voidNode = {\n    type: ELTYPE.CODE_BLOCK,\n    children: [{ text: '' }],\n    'data-codeblock-id': encodeURI(anchorId()),\n    'data-card-value': '',\n  };\n\n  insertCard(editor, voidNode, [selectionFocusPath[0] + 1]);\n  Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as Node, {\n    at: [selectionFocusPath[0] + 2],\n  });\n  Transforms.select(editor, [selectionFocusPath[0] + 1, 0]);\n};\n","import { ReactEditor } from '../../../slate-packages/slate-react';\nimport { insertCard } from '../Card';\nimport { ELTYPE } from '../config';\n\nexport const insertDivide = (editor: ReactEditor) => {\n  insertCard(editor, {\n    type: ELTYPE.DIVIDE,\n    children: [{ text: '' }],\n  });\n};\n","import React, { useContext, useReducer, useRef, useState } from 'react';\nimport { Editor, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor, useEditor, useFocused, useSelected } from '../../../slate-packages/slate-react';\nimport DragHandle from '../OverlayComponents/DragHandle';\nimport { TripdocsSdkContext } from '@src/Docs';\n\nexport const Divide = ({ attributes, children, element }) => {\n  return <Hr attributes={attributes} element={element} children={children} />;\n};\n\nconst Hr = ({ attributes, children, element }) => {\n  const editor = useEditor();\n  const selected = useSelected();\n  const focused = useFocused();\n\n  let cn = selected && focused ? 'card-hr hr-activated' : 'card-hr';\n  const divideRef = useRef(null);\n\n  const [isOverElement, setIsOverElement] = useState(false);\n\n  const { docId } = useContext(TripdocsSdkContext);\n\n  return (\n    <>\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        data-activated={cn}\n        style={{ userSelect: 'none' }}\n        className={'ignore-toggle-readonly'}\n        onClick={() => {\n          console.log('ref:deom', divideRef, divideRef.current);\n\n          let SlateNode = ReactEditor.toSlateNode(editor, divideRef.current);\n          let SlatePath = ReactEditor.findPath(editor, SlateNode);\n          console.log('-----', SlatePath);\n          let [, lastPath] = Editor.last(editor, [SlatePath[0]]);\n          console.log('+++++', lastPath);\n          Transforms.select(editor, lastPath);\n        }}\n        onMouseOver={() => {\n          setIsOverElement(true);\n        }}\n        onMouseLeave={() => {\n          setTimeout(() => {\n            setIsOverElement(false);\n          }, 400);\n        }}\n      >\n        <div {...attributes} className=\"card-hr\">\n          <hr />\n          <span ref={divideRef} style={{ display: 'none' }}>\n            {children}\n          </span>\n        </div>\n      </div>\n      <DragHandle editor={editor} isOverElement={isOverElement} docId={docId} overlayRefDom={divideRef?.current && divideRef?.current.parentNode} />\n    </>\n  );\n};\n","import { Button, Input, Menu, Tooltip, Popover } from 'antd';\nimport isUrl from 'is-url';\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { Editor, Range, Transforms, Node } from '@src/components/slate-packages/slate';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { HistoryEditor } from '../../../slate-packages/slate-history';\nimport { ReactEditor, useSlate } from '../../../slate-packages/slate-react';\nimport { COLOR_DEFAULT, IconBtn } from '../Components';\nimport { ELTYPE } from '../config';\nimport { isSameLineSelection } from '../pluginsUtils/selectionUtils';\nimport './index.less';\nimport { css, cx } from '@emotion/css';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { f } from '@src/resource/string';\nimport { Overlay } from '../OverlayComponents/Overlay';\nimport { EditorContainerPortal, Portal } from '@src/utils/createPortal';\n\nexport interface LinkEditor extends Editor {\n  insertData: (data: any) => void;\n  setFragmentData: (data: any) => void;\n}\n\nexport const withEditLink = (editor: Editor & ReactEditor) => {\n  const { insertData, insertText, isInline, isVoid, setFragmentData, deleteBackward } = editor;\n\n  editor.isInline = (element: any) => {\n    return element.type === ELTYPE.LINK ? true : isInline(element);\n  };\n\n  editor.deleteBackward = (unit: any) => {\n    deleteBackward(unit);\n  };\n  editor.insertText = (text: string) => {\n    if (text && isUrl(text)) {\n      wrapLink(editor, text, editor.selection);\n    } else {\n      insertText(text);\n    }\n  };\n\n  editor.insertData = (data: any) => {\n    const text = data.getData('text/plain');\n    console.log(' withEditLink insertData *******');\n    if (text && isUrl(text)) {\n      wrapLink(editor, text, editor.selection);\n    } else {\n      insertData(data);\n    }\n  };\n\n  editor.setFragmentData = (data: DataTransfer) => {\n    console.log('withEditLink setFragment', data);\n    setFragmentData(data);\n  };\n\n  return editor;\n};\n\nexport const insertEditLink = (editor: ReactEditor, href: string, selection: any) => {\n  console.log('insertEditLink *******', editor, href, selection);\n\n  if (selection) {\n    wrapLink(editor, href, selection);\n  }\n};\n\nexport const isEditLinkActive = (editor: Editor) => {\n  const [link] = Editor.nodes(editor, { match: (n: any) => n.type === ELTYPE.LINK });\n  return !!link;\n};\n\nexport const unwrapEditLink = (editor: Editor) => {\n  Transforms.unwrapNodes(editor, { match: (n: any) => n.type === ELTYPE.LINK });\n};\n\nexport const delLinks = (editor: any, element: any, node: any) => {\n  const { text } = element;\n  const path = ReactEditor.findPath(editor, ReactEditor.toSlateNode(editor, node));\n  console.log('delLinks', editor, element, node, path);\n  Transforms.unwrapNodes(editor, { at: path, match: (n: any) => n.type === ELTYPE.LINK });\n};\n\nexport const setLinks = (editor: any, element: any, node: any, text: string) => {\n  const path = ReactEditor.findPath(editor, ReactEditor.toSlateNode(editor, node));\n  console.log('setLinks', editor, element, node, path);\n\n  Transforms.setNodes(editor, element, { at: path, match: (n: any) => n.type === ELTYPE.LINK });\n  editor.apply({ type: 'insert_text', path: path.concat([0]), offset: 0, text });\n  Transforms.delete(editor, {\n    at: {\n      focus: { path: path.concat([0]), offset: text.length },\n      anchor: { path: path.concat([0]), offset: element.children[0].text.length + text.length },\n    },\n  });\n};\n\nexport const addHttp = (url: string) => {\n  if (!url.startsWith('http://') && !url.startsWith('https://')) {\n    return `http://${url}`;\n  }\n  return url;\n};\n\nexport const wrapLink = (editor: ReactEditor, href: string, selection: any) => {\n  if (isEditLinkActive(editor)) {\n    unwrapEditLink(editor);\n  }\n\n  const isCollapsed = selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection);\n  const link = {\n    type: ELTYPE.LINK,\n    href,\n    isInit: true,\n    children: isCollapsed ? [{ text: href || '链接' }] : [],\n  };\n\n  if (isCollapsed) {\n    Transforms.insertNodes(editor, link);\n  } else {\n    Transforms.wrapNodes(editor, link, { split: true, at: selection });\n    Transforms.collapse(editor, { edge: 'end' });\n  }\n};\n\ninterface SlateElementProps {\n  attributes: any;\n  element: any;\n  children: any;\n  editor: any;\n  ref: any;\n  editorId: any;\n}\n\nexport const EditLink = (props: SlateElementProps) => {\n  const { attributes, element, children, editor, editorId } = props;\n  const { href = '', isInit } = element;\n  const text = element?.children?.[0]?.text || '';\n  const [vText, setVText] = useState(text);\n  const [vHref, setVHref] = useState(href);\n  const [isShow, setIsShow] = useState(false);\n  const editWrapRef = useRef();\n  const linkRef = useRef();\n  const [isEdit, setIsEdit] = useState(isInit);\n  const { docId, isReadOnly } = useContext(TripdocsSdkContext);\n  const isInElectron: boolean = getCache(docId, 'options')?.isInElectron;\n  const [isSingleLine, setIsSingleLine] = useState(true);\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  useEffect(() => {\n    const dom = editor && ReactEditor.toDOMNode(editor, element);\n    if (dom) {\n      const rect = dom.getBoundingClientRect();\n      setOverlayRefDom(dom);\n      setOverlayRefRect(rect);\n      const singleLineHeight = getComputedStyle(dom).lineHeight;\n      const domHeight = rect.height;\n      if (domHeight > parseInt(singleLineHeight)) {\n        setIsSingleLine(false);\n      }\n    }\n  }, [editor, element]);\n\n  const openLink = useCallback(() => {\n    if (isInElectron) {\n      console.log('[openLink] isInElectron', href);\n      window.tripdocs.editorsMap[docId]?.api?.linkClickCallBack(href || '');\n    } else {\n      let newWindow = window.open(href, '_blank');\n      newWindow.sessionStorage.clear();\n      newWindow.opener = null;\n    }\n  }, [href, isReadOnly]);\n\n  useEffect(() => {\n    setVText(text);\n    setVHref(href ? href : '');\n  }, [text, href]);\n\n  useEffect(() => {\n    if (isInit && attributes.ref.current) {\n      HistoryEditor.withoutSaving(editor, () => {\n        Transforms.setNodes(editor, { isInit: false } as any, {\n          at: ReactEditor.findPath(editor, ReactEditor.toSlateNode(editor, attributes.ref.current)),\n        });\n      });\n    }\n  }, [isInit]);\n\n  useEffect(() => {\n    if (isEdit && attributes.ref.current && !isReadOnly) {\n      const el: any = editWrapRef.current;\n      const container = document.getElementById(editorId);\n      const containerRect = container.getBoundingClientRect();\n      const dom = attributes.ref.current;\n\n      const rect = dom.getBoundingClientRect();\n      el.style.top = `${rect.bottom + window.pageYOffset - containerRect.top + 83}px`;\n      el.style.zIndex = 9999;\n      let leftOffset = rect.left + window.pageXOffset + 300 - window.innerWidth;\n      if (leftOffset < 0) {\n        leftOffset = 0;\n      }\n      el.style.left = `${rect.left + window.pageXOffset - containerRect.left - leftOffset}px`;\n    }\n  }, [isEdit, attributes.ref.current]);\n\n  const scroll = () => {\n    const link: Element = linkRef?.current;\n    if (link) {\n      if (document.body.getBoundingClientRect().bottom - link.getBoundingClientRect().bottom < 200) {\n        const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n        if (scrollWrap) {\n          const scrollY = scrollWrap.scrollTop;\n          scrollWrap.scrollTo({ top: scrollY + 150, behavior: 'smooth' });\n        }\n      }\n    }\n  };\n\n  const handleClickOutside = useCallback(\n    (event: any) => {\n      const link: Element = linkRef?.current;\n      const editWrap: Element = editWrapRef?.current;\n\n      if ((link && link.contains(event.target)) || (editWrap && editWrap.contains(event.target))) {\n        setIsShow(true);\n        scroll();\n      } else {\n        setIsShow(false);\n      }\n    },\n    [linkRef?.current, editWrapRef?.current]\n  );\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside);\n    return () => {\n      document.removeEventListener('click', handleClickOutside);\n    };\n  }, [isReadOnly]);\n\n  return (\n    <a\n      ref={linkRef}\n      data-link\n      data-href={href}\n      data-slate-node=\"element\"\n      title={isReadOnly ? vHref : null}\n      style={{\n        fontStyle: 'normal',\n        wordBreak: 'break-all',\n        wordWrap: 'break-word',\n        whiteSpace: 'pre-wrap',\n        color: isShow ? '#275b8c' : '#0269c8',\n        borderBottom: ' 1px solid #d1e9ff',\n        textDecoration: 'none',\n        cursor: isReadOnly ? 'pointer' : 'text',\n        margin: '0 2px',\n      }}\n      href={href}\n      onClick={e => {\n        if (isReadOnly) {\n          e.preventDefault();\n        }\n      }}\n      onMouseDownCapture={e => {\n        if (e.button === 2) {\n          return;\n        }\n        if (isReadOnly) {\n          e.preventDefault();\n          openLink();\n        }\n      }}\n    >\n      {}\n      <span {...attributes}>\n        {children}\n        <span className={'ignore-toggle-readonly'} data-ignore-slate contentEditable={false} style={{ userSelect: 'none' }}>\n          {'\\uFEFF'}\n        </span>\n      </span>\n\n      {isEdit && !isReadOnly && (\n        <Portal editorId={editorId}>\n          <div\n            ref={editWrapRef}\n            className=\"component-edit-link\"\n            onMouseDown={e => {\n              e.stopPropagation();\n            }}\n            style={{ width: isEdit ? 350 : 96 }}\n          >\n            <div className=\"edit-wrap\">\n              <InputRow txt={f('text')} placeholder={f('textHint')} value={vText} callback={v => setVText(v)} editor={editor} autoFocus={!vText} />\n              <Hint show={vText.length === 0} text={f('textHint')} />\n              <InputRow\n                txt={f('link')}\n                placeholder={'http://'}\n                value={vHref}\n                callback={v => setVHref(v ? v : '')}\n                editor={editor}\n                autoFocus={!!vText}\n                trim={true}\n              />\n              <Hint show={vHref ? vHref?.length === 0 : true} text={f('linkHint')} />\n              <div\n                className=\"row\"\n                style={{\n                  justifyContent: 'flex-end',\n                }}\n              >\n                <Button\n                  className=\"btn\"\n                  type=\"default\"\n                  style={{ marginRight: '10px' }}\n                  onMouseDown={e => {\n                    e.preventDefault();\n                    setIsEdit(false);\n                    setIsShow(false);\n                    setVHref(href ? href : '');\n                    setVText(text);\n                  }}\n                >\n                  {f('cancel')}\n                </Button>\n\n                <Button\n                  disabled={(vText ? vText?.length === 0 : true) || (vHref ? vHref?.length === 0 : true)}\n                  className=\"btn\"\n                  type=\"primary\"\n                  onMouseDown={e => {\n                    e.preventDefault();\n                    if ((vText ? vText?.length === 0 : true) || (vHref ? vHref?.length === 0 : true)) return;\n                    setLinks(editor, { ...element, ...{ href: addHttp(vHref) } }, attributes.ref.current, vText);\n                    setIsEdit(false);\n                    setIsShow(false);\n                  }}\n                >\n                  {f('complete')}\n                </Button>\n              </div>\n              <div\n                className=\"mask\"\n                onMouseDown={e => {\n                  e.preventDefault();\n                  setIsEdit(false);\n                  setIsShow(false);\n                  setVHref(href ? href : '');\n                  setVText(text);\n                }}\n              />\n            </div>\n          </div>\n        </Portal>\n      )}\n      <Overlay\n        show={!isEdit && isShow}\n        docId={editor?.docId || ''}\n        overlayRefDom={overlayRefDom}\n        left={overlayRefRect?.left}\n        placement={isReadOnly ? 'top' : isSingleLine ? 'bottom' : 'bottomLeft'}\n        distance={isReadOnly ? 40 : 5}\n        offset={{ left: isReadOnly || isSingleLine ? null : 50, top: 0 }}\n        bordered\n      >\n        {isReadOnly ? null : (\n          <div className=\"component-link-buttons\" style={{ width: 96 }}>\n            <div className=\"wrap\">\n              <VisitButton\n                onClick={(e: any) => {\n                  openLink();\n                }}\n              />\n              <EditButton\n                className=\"href\"\n                onClick={(e: any) => {\n                  setIsEdit(true);\n                  scroll();\n                }}\n              />\n              <CancelButton\n                onClick={() => {\n                  delLinks(editor, element, attributes.ref.current);\n                }}\n              />\n            </div>\n          </div>\n        )}\n      </Overlay>\n    </a>\n  );\n};\n\nexport const EditLinkButton = (props: any) => {\n  const { ...attributes } = props;\n\n  const editor = useSlate();\n  const sel = editor.selection;\n\n  const isActive = isEditLinkActive(editor);\n\n  const selection = editor.selection;\n\n  const [hover, setHover] = useState(false);\n  const MenuItem = Menu.Item;\n  return (\n    <MenuItem\n      {...attributes}\n      key=\"1\"\n      style={{\n        backgroundColor: isActive ? '#e8efff' : hover ? '#EEEEEE' : 'unset',\n      }}\n      icon={<IconBtn className=\"Tripdocs-add_link\" style={{ fontSize: 16, paddingRight: 10 }}></IconBtn>}\n      onMouseEnter={e => {\n        setHover(true);\n      }}\n      onMouseLeave={e => {\n        setHover(false);\n      }}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        if (selection && ReactEditor.hasRange(editor, selection) && min(selection.anchor.path[0], selection.focus.path[0]) !== 0) {\n          if (isActive) return unwrapEditLink(editor);\n\n          if (!isSameLineSelection(editor.selection)) {\n            return;\n          }\n\n          insertEditLink(editor, '', sel);\n        }\n      }}\n    >\n      链接\n    </MenuItem>\n  );\n};\n\nconst min = (a: any, b: any) => {\n  return a > b ? b : a;\n};\n\nfunction CancelButton(props: any) {\n  const { onClick } = props;\n  return (\n    <div className=\"link-modify-delete\" onClick={() => onClick && onClick()}>\n      <Tooltip title={f('cancelLink')}>\n        <IconBtn className=\"Tripdocs-fdelete_link\"></IconBtn>\n      </Tooltip>\n    </div>\n  );\n}\n\nfunction InputRow(props: any) {\n  const { txt, placeholder, value, callback, editor, autoFocus, trim } = props;\n\n  const inputRef = useRef();\n\n  useEffect(() => {\n    if (autoFocus) {\n      ReactEditor.blur(editor);\n      setTimeout(() => {\n        inputRef && inputRef.current && (inputRef.current as HTMLElement).focus();\n      }, 100);\n    }\n  }, []);\n\n  return (\n    <div className=\"row\">\n      <span className=\"txt\">{txt}</span>\n      <Input\n        ref={inputRef}\n        placeholder={placeholder}\n        className={cx(\n          'input',\n          css`\n            &,\n            &:focus,\n            &:hover {\n              ${value.length === 0 ? `box-shadow: 0 0 0 2px rgba(255, 77, 79, .2); border-color: #ff4d4f;` : null}\n            }\n          `\n        )}\n        value={value}\n        onChange={e => {\n          if (trim) {\n            callback(e.target.value?.trim());\n          } else {\n            callback(e.target.value);\n          }\n        }}\n      />\n    </div>\n  );\n}\n\nfunction Hint(props: any) {\n  const { show, text } = props;\n  return (\n    <div className=\"row\" style={{ margin: 0, fontSize: '12px' }}>\n      <span className=\"txt\"></span>\n      <span style={{ color: show ? '#ff4d4f' : null, visibility: show ? 'visible' : 'hidden', marginLeft: '-6px' }}>{text}</span>\n    </div>\n  );\n}\n\nfunction VisitButton(props: any) {\n  const { onClick } = props;\n  return (\n    <div className=\"link-modify-edit\" onClick={() => onClick && onClick()}>\n      <Tooltip title={f('visitLink')}>\n        <IconBtn className=\"Tripdocs-upper_right\"></IconBtn>\n      </Tooltip>\n    </div>\n  );\n}\n\nfunction EditButton(props: any) {\n  const { onClick } = props;\n  return (\n    <div className=\"link-modify-edit\" onClick={() => onClick && onClick()}>\n      <Tooltip title={f('editLink')}>\n        <IconBtn className=\"Tripdocs-edit\"></IconBtn>\n      </Tooltip>\n    </div>\n  );\n}\n","import { Transforms, Range, Node, Point } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { getCurrentLineStart } from '@src/utils/selectionUtils';\nimport { ELTYPE, TABBABLE_TYPES } from './config';\n\nexport const MAX_TABLEVEL = 20;\n\nexport const increaseIndent = (editor: any, rowNode: any, selection: any) => {\n  if (!rowNode) return;\n  let { tabLevel, type } = rowNode;\n  let tempType = type;\n  let tempRowNode = rowNode;\n\n  if (type && type == ELTYPE.CARD && (rowNode.children[1].type == ELTYPE.TABLE || rowNode.children[1].type == ELTYPE.ALERTS)) {\n    tempRowNode = Node.get(editor, selection.focus.path.slice(0, -1));\n    tempType = tempRowNode.type;\n    tabLevel = tempRowNode.tabLevel;\n  }\n\n  if (tempType && TABBABLE_TYPES.includes(tempType)) {\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n      if (!tempRowNode.tabLevel) {\n        Transforms.setNodes(editor, { tabLevel: 1 } as Partial<Node>, {\n          at: selection.focus.path.slice(0, -1),\n        });\n      } else if (tempRowNode.tabLevel < MAX_TABLEVEL) {\n        Transforms.setNodes(editor, { tabLevel: 1 + tabLevel } as Partial<Node>, {\n          at: selection.focus.path.slice(0, -1),\n        });\n      }\n    } else if (selection && ReactEditor.hasRange(editor, selection) && Range.isExpanded(selection)) {\n      let [start, end] = [Range.start(selection), Range.end(selection)];\n      let curRow: any;\n      let startPath = start.path.slice(0, -1);\n      let startIndex = startPath[startPath.length - 1];\n      let endPath = end.path.slice(0, -1);\n      let endIndex = endPath[endPath.length - 1];\n      for (let i = startIndex; i <= endIndex; i++) {\n        curRow = Node.get(editor, [...startPath.slice(0, -1), i]);\n\n        if (!curRow.tabLevel) {\n          Transforms.setNodes(editor, { tabLevel: 1 } as Partial<Node>, {\n            at: [...startPath.slice(0, -1), i],\n          });\n        } else if (curRow.tabLevel < MAX_TABLEVEL) {\n          Transforms.setNodes(editor, { tabLevel: Number.parseInt(curRow.tabLevel) + 1 } as Partial<Node>, { at: [...startPath.slice(0, -1), i] });\n        }\n      }\n    }\n  }\n};\n\nexport const decreaseIndent = (editor: any, rowNode: any, selection: any) => {\n  if (!rowNode) return;\n  let { tabLevel, type } = rowNode;\n  let tempType = type;\n  let tempRowNode = rowNode;\n\n  if (type && type == ELTYPE.CARD && (rowNode.children[1].type == ELTYPE.TABLE || rowNode.children[1].type == ELTYPE.ALERTS)) {\n    tempRowNode = Node.get(editor, selection.focus.path.slice(0, -1));\n    tempType = tempRowNode.type;\n    tabLevel = tempRowNode.tabLevel;\n  }\n  if (tempType && TABBABLE_TYPES.includes(tempType)) {\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n      if (!tempRowNode.tabLevel) {\n        Transforms.setNodes(editor, { tabLevel: 0 } as Partial<Node>, {\n          at: selection.focus.path.slice(0, -1),\n        });\n      } else if (tempRowNode.tabLevel > 0) {\n        Transforms.setNodes(editor, { tabLevel: tabLevel - 1 } as Partial<Node>, {\n          at: selection.focus.path.slice(0, -1),\n        });\n      }\n    } else if (selection && ReactEditor.hasRange(editor, selection) && Range.isExpanded(selection)) {\n      let [start, end] = [Range.start(selection), Range.end(selection)];\n      let curRow: any;\n      let startPath = start.path.slice(0, -1);\n      let startIndex = startPath[startPath.length - 1];\n      let endPath = end.path.slice(0, -1);\n      let endIndex = endPath[endPath.length - 1];\n      for (let i = startIndex; i <= endIndex; i++) {\n        curRow = Node.get(editor, [...startPath.slice(0, -1), i]);\n\n        if (!curRow.tabLevel) {\n          Transforms.setNodes(editor, { tabLevel: 0 } as Partial<Node>, {\n            at: [...startPath.slice(0, -1), i],\n          });\n        } else if (curRow.tabLevel > 0) {\n          Transforms.setNodes(editor, { tabLevel: Number.parseInt(curRow.tabLevel) - 1 } as Partial<Node>, { at: [...startPath.slice(0, -1), i] });\n        }\n      }\n    }\n  }\n};\n","import { Transforms } from '@src/components/slate-packages/slate';\nimport { ELTYPE } from '../config';\nimport { deserializeMD } from './deserializeMD';\n\nexport const withDeserializeMD = (editor: any) => {\n  const { insertData } = editor;\n\n  editor.insertData = (data: { getData: (arg0: string) => any }) => {\n    const content = data.getData('text/plain');\n\n    if (content.indexOf('#') === 0) {\n      const fragment: any = deserializeMD(editor, content);\n\n      if (!fragment.length) return;\n\n      if (fragment[0].type) {\n        Transforms.setNodes(editor, { type: fragment[0].type } as any);\n      }\n\n      Transforms.insertFragment(editor, [...fragment, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] }]);\n      return;\n    }\n\n    insertData(data);\n  };\n\n  return editor;\n};\n","import markdown from 'remark-parse';\nimport slate from 'remark-slate';\nimport unified from 'unified';\nimport { ELTYPE } from '../config';\n\nexport const deserializeMD = (editor: any, content: string) => {\n  const tree = unified()\n    .use(markdown)\n    .use(slate, {\n      nodeTypes: {\n        paragraph: ELTYPE.PARAGRAPH,\n        block_quote: ELTYPE.BLOCK_QUOTE,\n        link: ELTYPE.LINK,\n        code_block: ELTYPE.CODE_BLOCK,\n        ul_list: ELTYPE.ULLIST,\n        ol_list: ELTYPE.OLLIST,\n        listItem: ELTYPE.ULLIST,\n        heading: {\n          1: ELTYPE.HEADING_ONE,\n          2: ELTYPE.HEADING_TWO,\n          3: ELTYPE.HEADING_THREE,\n          4: ELTYPE.HEADING_FOUR,\n          5: ELTYPE.HEADING_FIVE,\n          6: ELTYPE.HEADING_SIX,\n        },\n      },\n      linkDestinationKey: 'href',\n    })\n    .processSync(content);\n\n  return tree.result;\n};\n","import Item from 'antd/lib/list/Item';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { createCard, insertCard } from '../Card';\nimport { ELTYPE } from '../config';\nimport { createRandomId, createUUID } from '../../../../utils/randomId';\nimport { Node } from '@src/components/slate-packages/slate';\nimport { getSlateSlection } from '@src/utils/getSelection';\n\nexport const newTable = (editor: ReactEditor, row: any, column: any, totalWidth: any, selection: any) => {\n  const sel = getSlateSlection(editor.docId);\n  const realCellWidth = Math.floor(((totalWidth as number) / column) as number);\n  let table: any = [\n    {\n      id: createUUID(),\n      type: ELTYPE.TABLE,\n      row: row,\n      column: column,\n      hwEach: [],\n      children: [],\n    },\n  ];\n\n  for (let i = 0; i < row; i++) {\n    let tableRow = {\n      type: ELTYPE.TABLE_ROW,\n      height: '33px',\n      children: [] as any,\n    };\n    let arr = [];\n\n    for (let j = 0; j < column; j++) {\n      const tableCell = {\n        type: ELTYPE.TABLE_CELL,\n        key: createRandomId(),\n        children: [\n          {\n            type: ELTYPE.PARAGRAPH,\n            children: [\n              {\n                text: '',\n              },\n            ],\n          },\n        ],\n      };\n      tableRow.children.push(tableCell);\n      arr.push(realCellWidth.toString() + 'px' || '40px');\n    }\n    table[0].hwEach.push(arr);\n    table[0].children.push(tableRow);\n  }\n  insertTable(editor, table[0], sel.focus.path);\n};\n\nexport const insertTable = (editor: ReactEditor, table: any, selection: any) => {\n  console.log('[insertTable]', JSON.stringify(table, null, 4));\n  insertCard(editor, table, [selection[0]]);\n};\n","import { PlusCircleOutlined, VideoCameraOutlined } from '@ant-design/icons';\nimport { Menu, Popover, Tooltip } from 'antd';\n\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { Editor, Node, Path, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { v4 as anchorId } from 'uuid';\nimport { TripdocsSdkContext } from '../../../Docs';\nimport '@src/style/iconfont/Tripdocs.css';\nimport '../../../style/less/siderMenu.less';\nimport { copyToClipboard } from '../../../utils/copyToClipboard';\nimport storage from '../../../utils/storage';\nimport { HistoryEditor } from '../../slate-packages/slate-history';\nimport { ReactEditor, useSlate } from '../../slate-packages/slate-react';\nimport { insertEditLink } from '../plugins/EditLink/index';\nimport { isBlockActive, toggleBlock } from './block';\nimport { insertCodeBlock } from './CodeBlock';\nimport { COLOR_ACTIVE, COLOR_DEFAULT, IconBtn, SiderMemuDelete, SiderMemuPlus } from './Components';\nimport { ELTYPE } from './config';\nimport { alignToggle, isAlignActive } from './HoveringToolbar';\nimport { insertOl } from './OLULList/OlList';\nimport { isSameLineSelection } from './pluginsUtils/selectionUtils';\nimport { newTable } from './table/newTable';\nimport { createUUID } from '@src/utils/randomId';\n\nconst { SubMenu } = Menu;\n\ninterface SiderMenuProps {\n  editor: any;\n  children: any;\n  selectedRow: any;\n  type: any;\n  setIsModalVisible: Function;\n  setModalTitle: Function;\n  menuIndex: number;\n  [key: string]: any;\n}\n\ninterface DeleteSiderButtonProps {\n  editor: any;\n  children: any;\n  selectedRow: any;\n  type: any;\n}\n\nconst lineHeightMapping: any = {\n  H1: 1.8,\n  H2: 1.6,\n  H3: 1.4,\n  H4: 1.3,\n  H5: 1.2,\n  H6: 1.1,\n  H7: 1,\n  H8: 1,\n  H9: 1,\n};\nconst tooltipInnerBlock = (title: string, content: string) => {\n  return (\n    <div className=\"tooltip-inner-block\">\n      <span>{title}</span>\n      <span>{content}</span>\n    </div>\n  );\n};\nexport const iconMenus = [\n  {\n    format: ELTYPE.HEADING_ONE,\n    icon: 'head1',\n    text: tooltipInnerBlock('一级标题', 'Markdown：# 空格'),\n  },\n  {\n    format: ELTYPE.HEADING_TWO,\n    icon: 'head2',\n    text: tooltipInnerBlock('二级标题', 'Markdown：## 空格'),\n  },\n  {\n    format: ELTYPE.HEADING_THREE,\n    icon: 'head3',\n    text: tooltipInnerBlock('三级标题', 'Markdown：### 空格'),\n  },\n  {\n    format: ELTYPE.HEADING_FOUR,\n    icon: 'head4',\n    text: tooltipInnerBlock('四级标题', 'Markdown：#### 空格'),\n  },\n  {\n    format: ELTYPE.HEADING_FIVE,\n    icon: 'head5',\n    text: tooltipInnerBlock('五级标题', 'Markdown：##### 空格'),\n  },\n  {\n    format: ELTYPE.HEADING_SIX,\n    icon: 'head6',\n    text: tooltipInnerBlock('六级标题', 'Markdown：###### 空格'),\n  },\n  { format: ELTYPE.BLOCK_QUOTE, icon: 'quote', text: tooltipInnerBlock('引用', 'Markdown：> 空格') },\n  {\n    format: ELTYPE.CODE_BLOCK,\n    icon: 'code_braces',\n    text: tooltipInnerBlock('代码块', 'Markdown：``` 空格'),\n  },\n  { format: ELTYPE.OLLIST, icon: 'ordered', text: tooltipInnerBlock('有序列表', 'Markdown：1. 空格') },\n  { format: ELTYPE.ULLIST, icon: 'unordered', text: tooltipInnerBlock('无序列表', 'Markdown：- 空格') },\n  { format: ELTYPE.TODO_LIST, icon: 'tasklist', text: tooltipInnerBlock('待做事项', '') },\n  { format: 'align-left', icon: 'align_left', text: tooltipInnerBlock('左对齐', '') },\n  { format: 'align-center', icon: 'align_center', text: tooltipInnerBlock('居中对齐', '') },\n  { format: 'align-right', icon: 'align-right', text: tooltipInnerBlock('右对齐', '') },\n];\nexport const blockMenus = [\n  { format: 'set-link', icon: 'add_link', text: '插入链接' },\n  {\n    format: ELTYPE.IMAGE,\n    icon: 'photo',\n    text: '图片',\n  },\n  {\n    format: 'emoji',\n    icon: 'photo',\n    text: '表情',\n  },\n];\nconst SiderMenu = ({ editor, setMenuIndex, children, selectedRow, type, menuIndex, setIsModalVisible, setModalTitle }: SiderMenuProps) => {\n  const [hover, setHover] = useState(false);\n  const [select, setSelect] = useState(false);\n  const [prevSR, setPrevSR] = useState(null);\n  const [fullPath, setFullPath] = useState([]);\n  const [tableHover, setTableHover] = useState(null);\n  const [curNodeName, setCurNodeName] = useState(null);\n  const [siderMenuVisible, setSiderMenuVisible] = useState(false);\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n\n  const _onClick = () => {\n    let path: any;\n\n    path = selectedRow.anchor.path;\n  };\n\n  const [pathNum, setPath] = useState(null);\n  useEffect(() => {\n    let path: any;\n\n    if (type === ELTYPE.IMAGE) {\n      path = selectedRow.anchor.path;\n    }\n    if (type === ELTYPE.VIDEO) {\n      path = selectedRow.anchor.path;\n    } else {\n      path = selectedRow.anchor.path;\n    }\n    setPath(path[0]);\n    setFullPath(path);\n  }, [selectedRow]);\n  const getPath = useCallback(() => {\n    if (selectedRow?.anchor?.path) {\n      let path: any;\n\n      path = selectedRow.anchor.path?.slice(0, -1);\n\n      return path;\n    } else {\n      return undefined;\n    }\n  }, [pathNum]);\n  const thisPath = getPath();\n\n  return (\n    <>\n      <div\n        className=\"pmenu-block-wrapper\"\n        onClick={() => {\n          setSiderMenuVisible(false);\n        }}\n      >\n        {iconMenus.map((props, index) => {\n          return (\n            <BlockIcon\n              {...props}\n              key={index}\n              path={thisPath}\n              type={type}\n              menuIndex={menuIndex}\n              setMenuIndex={setMenuIndex}\n              style={{ background: menuIndex === index ? '#eee' : undefined }}\n            />\n          );\n        })}\n      </div>\n      <Menu\n        onClick={() => {\n          setSiderMenuVisible(false);\n        }}\n      >\n        <Menu.Divider />\n        {blockMenus.map((props, index) => {\n          return (\n            <BlockMenu\n              {...props}\n              key={index + iconMenus.length}\n              menuIndex={menuIndex}\n              path={thisPath}\n              type={type}\n              setModalTitle={setModalTitle}\n              setMenuIndex={setMenuIndex}\n              setIsModalVisible={setIsModalVisible}\n              style={{ background: menuIndex === index + iconMenus.length ? '#eee' : undefined }}\n            />\n          );\n        })}\n\n        <Menu.Divider />\n        <Menu.Item\n          key=\"deleteWhole\"\n          style={{\n            background: menuIndex === blockMenus.length + iconMenus.length ? '#eee' : undefined,\n          }}\n          icon={<IconBtn className={`tripdocs-sdk-iconfont Tripdocs-delete`} style={{ fontSize: 16, color: 'red' }}></IconBtn>}\n          onMouseDown={(event: any) => {\n            const path = thisPath;\n            Transforms.removeNodes(editor, { at: path });\n          }}\n        >\n          删除\n        </Menu.Item>\n\n        {process.env.NODE_ENV !== 'production' && (\n          <BlockMenu setMenuIndex={setMenuIndex} format=\"get-node\" icon=\"quanbudingdan\" text=\"获取节点\" path={thisPath} />\n        )}\n        {process.env.NODE_ENV !== 'production' && (\n          <BlockMenu\n            format=\"set-node\"\n            icon=\"quanbudingdan\"\n            text=\"触发api\"\n            path={thisPath}\n            setMenuIndex={setMenuIndex}\n            setModalTitle={setModalTitle}\n            setIsModalVisible={setIsModalVisible}\n          />\n        )}\n        {process.env.NODE_ENV !== 'production' && (\n          <BlockMenu\n            format=\"set-remote-node\"\n            icon=\"quanbudingdan\"\n            text=\"更新？？\"\n            path={thisPath}\n            setMenuIndex={setMenuIndex}\n            setModalTitle={setModalTitle}\n            setIsModalVisible={setIsModalVisible}\n          />\n        )}\n      </Menu>\n    </>\n  );\n};\n\nexport default SiderMenu;\n\nexport const TableCellSelect = (setMenuVisible: any, setTableHover: any, tableHover: any, editor: any, docWidth: any, thisPath: any) => {\n  let cells = [];\n  for (let i = 0; i < 81; i++) {\n    const mod = (i % 9) + 1;\n    const cons = Math.ceil((i + 1) / 9);\n    cells.push(\n      <div\n        key={'cellSelect_' + anchorId()}\n        style={{\n          width: 26,\n          height: 26,\n          cursor: 'pointer',\n        }}\n        onMouseOver={e => {\n          e.preventDefault();\n\n          setTableHover(i);\n        }}\n        onMouseLeave={e => {\n          e.preventDefault();\n\n          setTableHover(null);\n        }}\n        onClick={e => {\n          e.preventDefault();\n\n          setTimeout(() => setMenuVisible(false), 50);\n\n          newTable(editor, cons, mod, docWidth - 15, thisPath);\n        }}\n      >\n        <div\n          style={{\n            width: 20,\n            height: 20,\n            margin: '3px',\n            border: Math.ceil((tableHover + 1) / 9) >= cons && (tableHover % 9) + 1 >= mod ? '1px solid rgb(50, 100, 255)' : '1px solid lightgray',\n            backgroundColor: Math.ceil((tableHover + 1) / 9) >= cons && (tableHover % 9) + 1 >= mod ? 'rgb(232, 242, 255)' : 'transparent',\n          }}\n        ></div>\n      </div>\n    );\n  }\n  return cells;\n};\n\nconst BlockMenu: React.FC<any> = (props: any) => {\n  const { format, icon, text, path, antIcon, setMenuIndex, style, setIsModalVisible, setModalTitle, ...attributes } = props;\n  const editor = useSlate();\n  return (\n    <Menu.Item\n      {...attributes}\n      key={format || anchorId()}\n      className={'sider_menu_item'}\n      icon={antIcon ? antIcon : <IconBtn className={`tripdocs-sdk-iconfont Tripdocs-${icon}`} style={{ fontSize: 16 }}></IconBtn>}\n      style={{\n        ...style,\n      }}\n      onMouseEnter={() => {\n        setMenuIndex(-1);\n      }}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        execFormat(format, editor, path, setIsModalVisible, setModalTitle);\n      }}\n    >\n      {text}\n    </Menu.Item>\n  );\n};\n\nconst BlockIcon: React.FC<any> = (props: any) => {\n  const { format, icon, setMenuIndex, key, text, path, style, setIsModalVisible, setModalTitle, ...attributes } = props;\n  const editor = useSlate();\n\n  const selection = path;\n\n  const active = isBlockActive(editor, format, selection);\n  let alignActive: any;\n  if (format.startsWith('align')) {\n    alignActive = isAlignActive(editor, format, selection);\n  }\n  return (\n    <Tooltip title={text} overlayStyle={{ userSelect: 'none' }} mouseEnterDelay={0} mouseLeaveDelay={0}>\n      <div\n        className=\"pmenu-block-icon sider_icon\"\n        {...attributes}\n        key={format}\n        style={{\n          ...style,\n        }}\n        onMouseEnter={() => {\n          setMenuIndex(-1);\n        }}\n        onMouseDown={(event: any) => {\n          event.preventDefault();\n\n          execFormat(format, editor, path, setIsModalVisible, setModalTitle);\n        }}\n      >\n        <IconBtn\n          className={`tripdocs-sdk-iconfont Tripdocs-${icon}`}\n          style={{ color: active ? COLOR_ACTIVE.COLOR : COLOR_DEFAULT.COLOR, fontSize: 16 }}\n        ></IconBtn>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport const min = (a: any, b: any) => {\n  return a > b ? b : a;\n};\n\nconst max = (a: any, b: any) => {\n  return a > b ? a : b;\n};\n\nexport const DeleteSiderButton = ({ editor, children, selectedRow, type }: DeleteSiderButtonProps) => {\n  const blockRef = useRef(null);\n  const [hover, setHover] = useState(false);\n  const [select, setSelect] = useState(false);\n  const [path, setPath] = useState(null);\n  const [curNodeName, setCurNodeName] = useState(null);\n\n  useEffect(() => {\n    if (type === ELTYPE.CODE_BLOCK) {\n      let path = 0;\n      for (let i = 0; i < children.props.editor.children.length; i++) {\n        if (\n          children.props.editor.children[i].type === ELTYPE.CODE_BLOCK &&\n          children.props.editor.children[i]['data-codeblock-id'] &&\n          children.props.editor.children[i]['data-codeblock-id'] === children.props.element['data-codeblock-id']\n        ) {\n          path = i;\n        }\n      }\n      setPath([path]);\n    } else if (type === ELTYPE.IMAGE) {\n      let path = 0;\n      for (let i = 0; i < children.props.editor.children.length; i++) {\n        if (\n          children.props.editor.children[i].type === ELTYPE.IMAGE &&\n          children.props.editor.children[i]['id'] &&\n          children.props.editor.children[i]['id'] === children.props.element['id']\n        ) {\n          path = i;\n        }\n      }\n      setPath([path]);\n    } else if (type === ELTYPE.VIDEO) {\n      let path = 0;\n      for (let i = 0; i < children.props.editor.children.length; i++) {\n        if (\n          children.props.editor.children[i].type === ELTYPE.VIDEO &&\n          children.props.editor.children[i]['id'] &&\n          children.props.editor.children[i]['id'] === children.props.element['id']\n        ) {\n          path = i;\n        }\n      }\n      setPath([path]);\n    }\n  }, [selectedRow]);\n\n  return (\n    <div\n      className=\"sider-menu-wrapper\"\n      ref={blockRef}\n      style={{\n        position: 'relative',\n        marginLeft: hover ? -30 : 0,\n      }}\n      onMouseEnter={e => {\n        setCurNodeName(blockRef.current && blockRef.current.childNodes[1].childNodes[0].nodeName);\n      }}\n      onMouseLeave={e => {\n        setHover(false);\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          left: 0,\n          top: 0,\n          display: (hover || select) && path && path[0] !== 0 ? 'inline' : 'none',\n          lineHeight: lineHeightMapping[curNodeName] ?? 1,\n          userSelect: 'none',\n        }}\n        contentEditable={false}\n      >\n        <SiderMemuDelete>\n          <Tooltip title={`移除${type === ELTYPE.CODE_BLOCK ? `代码块` : type === ELTYPE.IMAGE ? `图片` : type === ELTYPE.VIDEO ? `视频` : ''}`}>\n            <IconBtn\n              className=\"tripdocs-sdk-iconfont icon-ic24-delete\"\n              style={{ fontSize: 20 }}\n              onMouseDown={(event: any) => {\n                event.preventDefault();\n                if (type === ELTYPE.CODE_BLOCK) {\n                  let path = 0;\n                  for (let i = 0; i < children.props.editor.children.length; i++) {\n                    if (\n                      children.props.editor.children[i].type === ELTYPE.CODE_BLOCK &&\n                      children.props.editor.children[i]['data-codeblock-id'] &&\n                      children.props.editor.children[i]['data-codeblock-id'] === children.props.element['data-codeblock-id']\n                    ) {\n                      path = i;\n                    }\n                  }\n                  Transforms.removeNodes(editor, { at: [path] });\n                } else if (type === ELTYPE.IMAGE) {\n                  Transforms.removeNodes(editor, { at: path });\n                }\n              }}\n              onMouseLeave={() => {\n                setSelect(false);\n              }}\n            ></IconBtn>\n          </Tooltip>\n        </SiderMemuDelete>\n      </div>\n      <div\n        style={{\n          marginLeft: hover ? 30 : 0,\n        }}\n        onMouseEnter={e => {\n          setHover(true);\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport function execFormat(format: any, editor: ReactEditor, path: Path, setIsModalVisible, setModalTitle) {\n  editor.deleteBackward('character');\n  const selection = path;\n  const { type } = Node.get(editor, path) as any;\n\n  if (format.startsWith('align')) {\n    const fo = format.split('-')[1];\n    alignToggle(editor, fo, selection);\n    return;\n  }\n\n  if (format === ELTYPE.CODE_BLOCK) {\n    insertCodeBlock(editor, path);\n    return;\n  }\n\n  if (type !== format && [ELTYPE.OLLIST, ELTYPE.ULLIST].includes(format)) {\n    let id = format + '=' + createUUID();\n\n    const employee = storage.get('userInfo')?.employee;\n    insertOl(\n      editor,\n      {\n        type: format,\n        tabLevel: 0,\n        num: 1,\n        id: id,\n        authCls: 'auth-' + employee,\n        elId: createUUID(),\n      },\n      { at: editor.selection }\n    );\n    return;\n  }\n\n  if (format === 'emoji') {\n    Transforms.insertText(editor, '\\\\');\n\n    return;\n  }\n  if (format === 'set-link') {\n    if (editor && editor.selection && Node.has(editor, selection) && !isSameLineSelection(editor.selection)) {\n      return;\n    }\n    insertEditLink(editor, '', editor.selection);\n    return;\n  }\n  if (format === 'get-node') {\n    const mynode: any = Node.get(editor, 0 as any);\n    console.log(`BlockMenu get-node path[0]:${0} mynode:`, mynode, Editor.above(editor, { at: [0, 0] }));\n    copyToClipboard(JSON.stringify(mynode.children));\n    return;\n  }\n  if (format === 'set-remote-node') {\n  }\n  if (format === 'set-node') {\n    return;\n  }\n  if ([ELTYPE.INLINEIMAGE, ELTYPE.IMAGE].includes(format)) {\n    setIsModalVisible(true);\n    setModalTitle(1);\n\n    return;\n  }\n  if (format === ELTYPE.VIDEO) {\n    setIsModalVisible(true);\n    setModalTitle(0);\n    return;\n  }\n  if (format === 'delete') {\n    Transforms.removeNodes(editor, { at: path });\n    return;\n  }\n\n  if (selection && Node.has(editor, selection) && selection[0] !== 0) {\n    toggleBlock(editor, format, selection);\n  } else {\n    if (selection) {\n      toggleBlock(editor, format, selection);\n    }\n  }\n}\n","import { useEffect, useRef } from 'react';\n\nexport const useWindowUnloadEffect = (handler: any, callOnCleanup: any) => {\n  const cb: any = useRef();\n\n  cb.current = handler;\n\n  useEffect(() => {\n    const handler: any = () => cb.current();\n\n    window.addEventListener('beforeunload', handler);\n\n    return () => {\n      if (callOnCleanup) handler();\n\n      window.removeEventListener('beforeunload', handler);\n    };\n  }, [cb]);\n};\n","import { css } from '@emotion/css';\nimport { Menu } from 'antd';\nimport React from 'react';\nimport { IconBtn } from '../docs/plugins/Components';\nimport { setVerticalAlign } from '../docs/plugins/HoveringToolbar';\nimport { min } from '../docs/plugins/siderMenu';\nimport { opsTable } from '../docs/plugins/table/tableOperation';\nimport { ReactEditor, useSlate } from '../slate-packages/slate-react';\nimport { Editor, Node, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { f } from '@src/resource/string';\n\nconst tableMenu = (thisPath: any, setVisible) => (\n  <>\n    <Menu\n      className={css`\n        .ant-menu-item {\n          line-height: 22px !important;\n          height: 22px !important;\n          margin-top: 6px !important;\n          margin-bottom: 6px !important;\n        }\n      `}\n      contentEditable={false}\n      style={{ userSelect: 'none' }}\n    >\n      <TableOpsMenu ops=\"insertRowReverse\" icon=\"Tripdocs-add_row_below\" text={f('tableInsertUp')} path={thisPath} setVisible={setVisible} />\n      <TableOpsMenu ops=\"insertRow\" icon=\"Tripdocs-add_row_above\" text={f('tableInsertDown')} path={thisPath} setVisible={setVisible} />\n      <TableOpsMenu ops=\"insertColReverse\" icon=\"Tripdocs-add_col_before\" text={f('tableInsertLeft')} path={thisPath} setVisible={setVisible} />\n      <TableOpsMenu ops=\"insertCol\" icon=\"Tripdocs-add_col_after\" text={f('tableInsertRight')} path={thisPath} setVisible={setVisible} />\n      <Menu.Divider />\n      <TableOpsMenu ops=\"deleteRow\" icon=\"Tripdocs-delete_row\" text={f('tableDeleteSelectedRow')} path={thisPath} setVisible={setVisible} />\n      <TableOpsMenu ops=\"deleteCol\" icon=\"Tripdocs-delete_col\" text={f('tableDeleteSelectedColumn')} path={thisPath} setVisible={setVisible} />\n      <Menu.Divider />\n      <TableOpsMenu ops=\"deleteTable\" icon=\"Tripdocs-delete_table\" text={f('tableDelete')} path={thisPath} setVisible={setVisible} />\n      <Menu.Divider />\n      <TableOpsMenu ops=\"mergeCell\" icon=\"Tripdocs-combine\" text={f('tableMerge')} path={thisPath} setVisible={setVisible} />\n      <TableOpsMenu ops=\"unmergeCell\" icon=\"Tripdocs-split\" text={f('tableUnmerge')} path={thisPath} setVisible={setVisible} />\n      {}\n    </Menu>\n  </>\n);\n\nconst TableOpsMenu: React.FC<any> = (props: any) => {\n  const { ops, icon, text, format, path, valign, setVisible, ...attributes } = props;\n  const editor = useSlate();\n  let selection = path;\n  if (\n    editor.selection &&\n    ReactEditor.hasRange(editor, selection) &&\n    selection &&\n    ReactEditor.hasRange(editor, selection) &&\n    editor.selection.focus.path[0] === selection[0]\n  ) {\n    selection = editor.selection;\n  }\n\n  if (ops === 'setVerticalAlign') {\n    return (\n      <Menu.Item\n        {...attributes}\n        contentEditable={false}\n        data-ignore-slate\n        key={valign}\n        onMouseDown={(event: any) => {\n          setVerticalAlign(editor, valign, selection);\n          setVisible(false);\n        }}\n      >\n        {text}\n      </Menu.Item>\n    );\n  }\n\n  return (\n    <Menu.Item\n      {...attributes}\n      contentEditable={false}\n      data-ignore-slate\n      key={ops}\n      icon={<IconBtn className={icon} style={{ fontSize: 22, opacity: 0.8 }}></IconBtn>}\n      style={{\n        color: ops === 'deleteTable' ? 'rgb(245, 74, 69)' : null,\n      }}\n      onMouseDown={(event: any) => {\n        if (\n          selection &&\n          ReactEditor.hasRange(editor, selection) &&\n          ((selection.anchor && min(selection.anchor.path[0], selection.focus.path[0]) !== 0) || (!selection.anchor && selection[0] !== 0))\n        ) {\n          opsTable(editor, ops, selection);\n        } else {\n          if (\n            selection &&\n            ReactEditor.hasRange(editor, selection) &&\n            selection.anchor &&\n            Range.start(selection).path[0] === path[0] &&\n            Range.end(selection).path[0] === path[0]\n          ) {\n            if (selection.anchor.path[0] < selection.focus.path[0]) {\n              let sel = {\n                anchor: {\n                  path: [selection.anchor.path[0] + 1, selection.anchor.path[1]],\n                  offset: 0,\n                },\n                focus: selection.focus,\n              };\n              opsTable(editor, ops, sel);\n            } else {\n              let sel = {\n                anchor: selection.anchor,\n                focus: { path: [selection.focus.path[0] + 1, selection.focus.path[1]], offset: 0 },\n              };\n              opsTable(editor, ops, sel);\n            }\n          } else if (selection && ReactEditor.hasRange(editor, selection) && !selection.anchor) {\n            opsTable(editor, ops, selection);\n          }\n        }\n        setVisible(false);\n      }}\n    >\n      {text}\n    </Menu.Item>\n  );\n};\n\nexport default tableMenu;\n","import { cx } from '@emotion/css';\nimport {\n  RESIZING_ROW,\n  SEL_CELLS,\n  RESIZING_ROW_MIN_HEIGHT,\n  RESIZING_ROW_ORIGIN_HEIGHT,\n  RESIZING_COL,\n  RESIZING_COL_MIN_WIDTH,\n  RESIZING_COL_ORIGIN_WIDTH,\n} from '@src/utils/weak-maps';\nimport ReactDOM from 'react-dom';\nimport { tableMargin } from './tableElement';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { Path, Editor, Node } from '@src/components/slate-packages/slate';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { ELTYPE } from '../config';\nimport { getParentPathByType } from '../pluginsUtils/getPathUtils';\n\nconst tdPaddingAndBorder = 4 + 1;\n\nfunction ResizeMask(props) {\n  const {\n    editor,\n    tableRect,\n    setMaskRectSide,\n    tableResizeMaskRect,\n    curCell,\n    startPositionX,\n    startPositionY,\n    setStartPositionX,\n    setStartPositionY,\n    differenceY,\n    differenceX,\n    isDragging,\n    setIsDragging,\n    setRowMovingLine,\n    setColMovingLine,\n    rowMovingLine,\n    colMovingLine,\n    startKey,\n  } = props;\n\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n\n  useEffect(() => {\n    if (differenceY === null) {\n      setRowMovingLine({\n        top: null,\n      });\n    }\n\n    if (differenceX === null) {\n      setColMovingLine({\n        left: -9999,\n      });\n    }\n  }, [differenceY, differenceX]);\n\n  function getNodeOfDomHeight(node: any) {\n    if (node.type === ELTYPE.CARD) {\n      if (node.children?.[1]) {\n        const innerNode = node.children[1];\n        let margins = 0;\n        const dom = ReactEditor.toDOMNode(editor, innerNode);\n        console.log('[contentNodes dom]', dom);\n        if ([ELTYPE.IMAGE].includes(innerNode.type)) {\n          margins = 16 * 2;\n        }\n        return dom.clientHeight + margins;\n      }\n    } else {\n      const dom = ReactEditor.toDOMNode(editor, node);\n      return dom.clientHeight;\n    }\n  }\n  return isReadOnly ? null : (\n    <>\n      <div\n        suppressContentEditableWarning\n        className={cx('table-resize-mask', 'ignore-toggle-readonly')}\n        contentEditable=\"false\"\n        style={{\n          background: 'rgba(200,245,233,.5)',\n          height: tableResizeMaskRect.height,\n          width: tableResizeMaskRect.width,\n          left: tableResizeMaskRect.left + tableMargin.left,\n          top: tableResizeMaskRect.top + tableMargin.top,\n          display: SEL_CELLS.get(editor) && SEL_CELLS.get(editor).length > 0 ? 'none' : null,\n        }}\n      >\n        <div\n          data-ignore-slate\n          suppressContentEditableWarning\n          contentEditable=\"false\"\n          className={cx('table-resize-top', 'ignore-toggle-readonly')}\n          style={{\n            left: 0,\n            top: -3,\n            cursor: rowMovingLine.display === 'none' ? 'default' : null,\n          }}\n          onMouseEnter={e => {\n            if (isDragging || startKey) return;\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              const calcultedTop = thisDomRect.top + 3 - tableRect.top;\n\n              if (calcultedTop < 1) {\n                setRowMovingLine({ top: null });\n                thisDom.style.cursor = 'default';\n              } else {\n                setRowMovingLine({\n                  top: Math.round(calcultedTop),\n                });\n                thisDom.style.cursor = 'row-resize';\n              }\n            }\n          }}\n          onMouseLeave={(e: any) => {\n            if (!isDragging) {\n              setRowMovingLine({ top: null });\n            }\n            e.target.style.cursor = 'default';\n          }}\n          onMouseDown={e => {\n            if (differenceY !== null) return;\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              if (thisDomRect) {\n                const calcultedTop = thisDomRect.top + 3 - tableRect.top;\n                if (calcultedTop < 1) {\n                  e.preventDefault();\n                  return;\n                }\n                setStartPositionY(thisDomRect.top + 3);\n                setIsDragging(true);\n                setMaskRectSide('top');\n                if (curCell) {\n                  const tdSlateNodePath = ReactEditor.findPath(editor, curCell);\n                  const trSlateNodePath = Path.parent(tdSlateNodePath);\n\n                  const prevTrSlateNodePath = Path.hasPrevious(trSlateNodePath) && Path.previous(trSlateNodePath);\n\n                  if (prevTrSlateNodePath) {\n                    const trEntry: any = Editor.node(editor, prevTrSlateNodePath);\n                    let minHeight = 33;\n                    const tdNodes = trEntry[0]?.children;\n                    tdNodes.forEach(tdNode => {\n                      const tdDOM = ReactEditor.toDOMNode(editor, tdNode);\n                      if (!tdDOM) return;\n                      let tdHeight = 0;\n                      const contentNodes = tdNode.children;\n                      if (!contentNodes) return;\n                      contentNodes.forEach(node => {\n                        console.log('[contentNodes top]', node);\n                        tdHeight += getNodeOfDomHeight(node);\n                      });\n\n                      console.log('settingMINHEIGHT :>> ', minHeight);\n\n                      if (tdHeight > minHeight) {\n                        minHeight = tdHeight + tdPaddingAndBorder * 2;\n                      }\n                    });\n                    RESIZING_ROW.set(editor, trEntry);\n                    RESIZING_ROW_ORIGIN_HEIGHT.set(editor, ReactEditor.toDOMNode(editor, trEntry[0])?.clientHeight || minHeight);\n                    RESIZING_ROW_MIN_HEIGHT.set(editor, minHeight);\n                  }\n                }\n              }\n            }\n          }}\n        ></div>\n        <div\n          data-ignore-slate\n          suppressContentEditableWarning\n          contentEditable=\"false\"\n          className={cx('table-resize-right', 'ignore-toggle-readonly')}\n          style={{\n            left: tableResizeMaskRect.width - 3,\n            top: 0,\n          }}\n          onMouseEnter={e => {\n            if (isDragging || startKey) return;\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              setColMovingLine({\n                left: Math.round(thisDomRect.left + 3 - tableRect.left),\n              });\n              thisDom.style.cursor = 'col-resize';\n            }\n          }}\n          onMouseLeave={(e: any) => {\n            if (!isDragging) {\n              setColMovingLine({ left: -9999 });\n            }\n            e.target.style.cursor = 'default';\n          }}\n          onMouseDown={e => {\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              if (thisDomRect) {\n                setStartPositionX(thisDomRect.right);\n                setIsDragging(true);\n                setMaskRectSide('right');\n                if (curCell) {\n                  const tdSlateNodePath = ReactEditor.findPath(editor, curCell);\n\n                  if (tdSlateNodePath) {\n                    const tdEntry = Editor.node(editor, tdSlateNodePath);\n                    let isColCell = false;\n                    let col = 1;\n                    let entry: any = tdEntry;\n                    let path = entry[1];\n                    const tablePath = getParentPathByType(editor, tdSlateNodePath, ELTYPE.TABLE);\n                    if (!tablePath) return;\n                    const tableNode: any = Node.has(editor, tablePath) && Node.get(editor, tablePath);\n                    const hwEach = tableNode.hwEach[0];\n                    let originWidth = Number.parseInt(hwEach[path[3]]) || 40;\n                    if (entry[0] && entry[0].colspan > 1) {\n                      isColCell = true;\n                      col = entry[0].colspan;\n                    }\n                    if (isColCell) {\n                      for (let i = 1; i < col; i++) {\n                        path = Path.next(path);\n                        entry = Editor.node(editor, path);\n                      }\n                      originWidth = Number.parseInt(hwEach[path[3]]);\n                    }\n                    let minWidth = 40;\n                    RESIZING_COL.set(editor, entry);\n                    RESIZING_COL_ORIGIN_WIDTH.set(editor, originWidth >= minWidth ? originWidth : minWidth);\n                    RESIZING_COL_MIN_WIDTH.set(editor, minWidth);\n\n                    const tableDOM = ReactEditor.toDOMNode(editor, tableNode);\n                    tableDOM?.setAttribute('data-col-arr', JSON.stringify(hwEach));\n                  }\n                }\n              }\n            }\n          }}\n        ></div>\n        <div\n          data-ignore-slate\n          suppressContentEditableWarning\n          contentEditable=\"false\"\n          className={cx('table-resize-bottom', 'ignore-toggle-readonly')}\n          style={{\n            left: 0,\n            top: tableResizeMaskRect.height - 3,\n          }}\n          onMouseEnter={e => {\n            if (isDragging || startKey) return;\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              setRowMovingLine({\n                top: Math.round(thisDomRect.top + 3 - tableRect.top),\n              });\n              thisDom.style.cursor = 'row-resize';\n            }\n          }}\n          onMouseLeave={(e: any) => {\n            if (!isDragging) {\n              setRowMovingLine({ top: null });\n            }\n            e.target.style.cursor = 'default';\n          }}\n          onMouseDown={e => {\n            if (differenceY !== null) return;\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              if (thisDomRect) {\n                setStartPositionY(thisDomRect.top - 3);\n                setIsDragging(true);\n                setMaskRectSide('bottom');\n                if (curCell) {\n                  const tdSlateNodePath = ReactEditor.findPath(editor, curCell);\n                  const trSlateNodePath = Path.parent(tdSlateNodePath);\n\n                  if (trSlateNodePath) {\n                    const trEntry: any = Editor.node(editor, trSlateNodePath);\n                    let entry = trEntry;\n                    let path = trSlateNodePath;\n                    let isColCell = false;\n                    let row = 1;\n                    const tdEntry: any = Editor.node(editor, tdSlateNodePath);\n                    if (tdEntry[0] && tdEntry[0].rowspan > 1) {\n                      isColCell = true;\n                      row = tdEntry[0].rowspan;\n                    }\n                    if (isColCell) {\n                      for (let i = 1; i < row; i++) {\n                        path = Path.next(path);\n                        entry = Editor.node(editor, path);\n                      }\n                    }\n\n                    let minHeight = 33;\n                    const tdNodes = entry[0]?.children;\n                    tdNodes.forEach(tdNode => {\n                      const tdDOM = ReactEditor.toDOMNode(editor, tdNode);\n                      if (!tdDOM) return;\n                      let tdHeight = 0;\n                      const contentNodes = tdNode.children;\n                      if (!contentNodes) return;\n                      contentNodes.forEach(node => {\n                        console.log('[contentNodes bottom]', node);\n                        tdHeight += getNodeOfDomHeight(node);\n                      });\n\n                      console.log('settingMINHEIGHT :>> ', minHeight);\n\n                      if (tdHeight > minHeight) {\n                        minHeight = tdHeight + tdPaddingAndBorder * 2;\n                      }\n                    });\n\n                    RESIZING_ROW.set(editor, entry);\n                    RESIZING_ROW_ORIGIN_HEIGHT.set(editor, ReactEditor.toDOMNode(editor, entry[0])?.clientHeight || minHeight);\n                    RESIZING_ROW_MIN_HEIGHT.set(editor, minHeight);\n                  }\n                }\n              }\n            }\n          }}\n        ></div>\n        <div\n          data-ignore-slate\n          suppressContentEditableWarning\n          contentEditable=\"false\"\n          className={cx('table-resize-left', 'ignore-toggle-readonly')}\n          style={{\n            left: -3,\n            top: 0,\n            cursor: colMovingLine.display === 'none' ? 'default' : null,\n          }}\n          onMouseEnter={e => {\n            if (isDragging || startKey) return;\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              const calculatedLeft = thisDomRect.left + 3 - tableRect.left;\n              console.log('*******************************************', calculatedLeft);\n              if (calculatedLeft < 1) {\n                setColMovingLine({ left: -9999 });\n                thisDom.style.cursor = 'default';\n              } else {\n                setColMovingLine({\n                  left: Math.round(calculatedLeft),\n                });\n                thisDom.style.cursor = 'col-resize';\n              }\n            }\n          }}\n          onMouseLeave={(e: any) => {\n            if (!isDragging) {\n              setColMovingLine({ left: -9999 });\n            }\n            e.target.style.cursor = 'default';\n          }}\n          onMouseDown={e => {\n            const thisDom: any = e.target;\n            if (thisDom) {\n              const thisDomRect = thisDom.getBoundingClientRect();\n              if (thisDomRect) {\n                const calculatedLeft = thisDomRect.left + 3 - tableRect.left;\n                if (calculatedLeft < 1) {\n                  e.preventDefault();\n                  return;\n                }\n                setStartPositionX(thisDomRect.right);\n                setIsDragging(true);\n                setMaskRectSide('left');\n                if (curCell) {\n                  const tdSlateNodePath = ReactEditor.findPath(editor, curCell);\n                  const prevTdSlateNodePath = Path.hasPrevious(tdSlateNodePath) && Path.previous(tdSlateNodePath);\n                  if (prevTdSlateNodePath) {\n                    const tdEntry = Editor.node(editor, prevTdSlateNodePath);\n                    let entry: any = tdEntry;\n                    let path = entry[1];\n                    const tablePath = getParentPathByType(editor, prevTdSlateNodePath, ELTYPE.TABLE);\n                    if (!tablePath) return;\n                    const tableNode: any = Node.has(editor, tablePath) && Node.get(editor, tablePath);\n                    const hwEach = tableNode.hwEach[0];\n                    let originWidth = Number.parseInt(hwEach[path[3]]) || 40;\n                    let minWidth = 40;\n                    RESIZING_COL.set(editor, tdEntry);\n                    RESIZING_COL_ORIGIN_WIDTH.set(editor, originWidth >= minWidth ? originWidth : minWidth);\n                    RESIZING_COL_MIN_WIDTH.set(editor, minWidth);\n\n                    const tableDOM = ReactEditor.toDOMNode(editor, tableNode);\n                    tableDOM?.setAttribute('data-col-arr', JSON.stringify(hwEach));\n                  }\n                }\n              }\n            }\n          }}\n        ></div>\n      </div>\n    </>\n  );\n}\n\nexport default ResizeMask;\n","import { HolderOutlined } from '@ant-design/icons';\nimport { Editor, Transforms, Node } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { f } from '@src/resource/string';\nimport { setCache } from '@src/utils/cacheUtils';\nimport { Tooltip } from 'antd';\nimport React, { useEffect, useReducer, useRef, useState, DragEvent, useContext, useMemo, useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport { ELTYPE } from '../../config';\nimport { getInlineImageSelectForPath } from '../../InlineImage/inlineImagePlugins';\nimport { Overlay, OverlayContainerPortal, OverlayProps } from '../Overlay';\nimport './index.less';\n\nfunction TableAddBtnOverlay(props: OverlayProps & { tableRef: any }) {\n  const {\n    show,\n    children,\n    docId,\n    distance = 28,\n    left,\n    top,\n    overlayRefDom,\n    placement = 'top',\n    bordered = false,\n    offset = { left: 0, top: 0 },\n    overlayStyle,\n    tableRef,\n    ...rest\n  } = props;\n\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n  const [tableOverlayStyle, setTableOverlayStyle] = useState({});\n\n  useEffect(() => {\n    const tableEl = tableRef.current;\n\n    if (!overlayRefDom || !tableEl) return;\n    const editorContainerWrapEl = document.getElementById(`editor-content-wrap-${docId}`);\n    const editorContainerWrapElRect = editorContainerWrapEl.getBoundingClientRect();\n    const [wrapLeft, wrapTop] = [editorContainerWrapElRect?.left || 0, editorContainerWrapElRect?.top || 0];\n\n    const tableElRect = tableEl.getBoundingClientRect();\n    const { left, top, bottom, right } = overlayRefDom.getBoundingClientRect();\n\n    if (\n      (placement === 'topRight' && right - wrapLeft - 5 > tableElRect.right) ||\n      (placement === 'topLeft' && left - wrapLeft + 5 < tableElRect.left)\n    ) {\n      setTableOverlayStyle({ display: 'none' });\n    } else {\n      setTableOverlayStyle({ display: null });\n    }\n  }, [show, overlayRefDom, left, top, placement]);\n\n  return (\n    <Overlay {...props} overlayStyle={{ ...overlayStyle, ...tableOverlayStyle }}>\n      {children}\n    </Overlay>\n  );\n}\n\nexport default TableAddBtnOverlay;\n","import { css, cx } from '@emotion/css';\nimport { Editor, Path } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport React, { CSSProperties, useCallback, useContext, useEffect, useReducer, useRef, useState } from 'react';\nimport { addSelection, removeSelection } from './selection';\nimport { colDivBarMargin, rowDivBarMargin, tableMargin } from './tableElement';\nimport $ from 'jquery';\nimport { Overlay } from '../OverlayComponents/Overlay';\nimport { GeneralOverlayButton } from '../OverlayComponents/Overlay/GeneralOverlayButton';\nimport { IconBtn } from '../Components';\nimport { f } from '@src/resource/string';\nimport { opsTable } from './tableOperation';\nimport TableAddBtnOverlay from '../OverlayComponents/TableOverlay';\nimport _ from 'lodash';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { getEditorEventEmitter } from '@src/components/docs/plugins/table/selection';\n\ntype ActivationType = 'none' | 'half' | 'full';\n\nexport function RowSideDiv(props) {\n  const { editor, isShowBar, tableRef, getTableNode, selCells, setSelCells } = props;\n\n  const tableDom = (tableRef as any)?.current?.childNodes[2].childNodes[0].childNodes[1];\n  const [rowDomArr, setRowDomArr] = useState(Array.from(tableDom?.children || []));\n\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  const [tableOverlayHover, toggleTableOverlayHover] = useReducer((state, action) => action === 'on', false);\n  const [isOverSideDiv, toggleIsOverSideDiv] = useReducer((state, action) => action === 'on', false);\n  const [showOverlay, toggleShowOverlay] = useReducer((state, action) => action === 'on', false);\n\n  const [overlayPlacement, setOverlayPlacement] = useState<null | 'leftTop' | 'leftBottom'>(null);\n  const [hoveringIndex, setHoveringIndex] = useState(-1);\n\n  const [activationArr, setActivationArr] = useState<ActivationType[]>([]);\n\n  useEffect(() => {\n    console.log('[selCells]', selCells);\n    const rowMap = {};\n    const arr = [];\n    const tableSlateNode = getTableNode();\n\n    selCells.forEach(cellEntry => {\n      const [node, path] = cellEntry;\n      const rowIndex = path[2];\n      rowMap[rowIndex] ? rowMap[rowIndex]++ : (rowMap[rowIndex] = 1);\n    });\n    for (let i in rowMap) {\n      arr[i] = rowMap[i] === tableSlateNode.column ? 'full' : rowMap[i] === 0 ? 'none' : 'half';\n    }\n    setActivationArr(arr);\n  }, [JSON.stringify(selCells.map((cell: Path) => cell[1]))]);\n\n  useEffect(() => {\n    if (tableOverlayHover || isOverSideDiv) {\n      toggleShowOverlay('on');\n    }\n    if (!tableOverlayHover && !isOverSideDiv) {\n      toggleShowOverlay('off');\n    }\n  }, [tableOverlayHover, isOverSideDiv]);\n\n  useEffect(() => {\n    const resizeObserver = new ResizeObserver(entries => {\n      console.log('Body height changed:', entries[0].target.clientHeight);\n      const target = entries[0].target;\n\n      if (target?.children?.length) {\n        const tableSlateNode = getTableNode();\n        const rows = tableSlateNode?.children;\n        console.log(\n          'ROWS',\n          Array.from(tableDom?.children)?.map((item: any) => item.offsetHeight),\n          tableSlateNode,\n          rows\n        );\n        setRowDomArr(Array.from(tableDom.children || []));\n      }\n    });\n\n    tableDom && resizeObserver.observe(tableDom);\n    return () => {\n      tableDom && resizeObserver.unobserve(tableDom);\n    };\n  }, [tableDom]);\n\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n\n  return (\n    <>\n      <div\n        data-ignore-slate\n        className=\"row-div-bar-inner ignore-toggle-readonly\"\n        style={{\n          display: isShowBar ? 'block' : 'none',\n          borderBottom: '1px solid #DFDFDF',\n          zIndex: 100,\n        }}\n        contentEditable={false}\n        onMouseMove={_.debounce(e => {\n          toggleIsOverSideDiv('on');\n        })}\n        onMouseLeave={e => {\n          setTimeout(() => {\n            toggleIsOverSideDiv('off');\n          }, 400);\n        }}\n      >\n        {rowDomArr?.map((tr: any, index: number) => (\n          <AbstractSideDiv\n            index={index}\n            editor={editor}\n            type={'row'}\n            divStyle={{ width: '14px', height: tr?.getBoundingClientRect?.()?.height || tr?.clientHeight }}\n            activationArr={activationArr}\n            isOverSideDiv={isOverSideDiv}\n            toggleIsOverSideDiv={toggleIsOverSideDiv}\n            getTableNode={getTableNode}\n            setSelCells={setSelCells}\n            setOverlayPlacement={setOverlayPlacement}\n            setOverlayRefDom={setOverlayRefDom}\n            setOverlayRefRect={setOverlayRefRect}\n            setHoveringIndex={setHoveringIndex}\n          />\n        ))}\n      </div>\n      {!isReadOnly && overlayPlacement && (\n        <TableAddBtnOverlay\n          show={showOverlay}\n          docId={editor?.docId || ''}\n          placement={overlayPlacement}\n          overlayRefDom={overlayRefDom}\n          left={overlayRefRect?.left}\n          distance={14}\n          offset={{ left: 0, top: -14 }}\n          overlayStyle={{ border: '1px solid #dee0e3' }}\n          tableRef={tableRef}\n        >\n          <div\n            className={cx(\n              'overlay-button-wrap',\n              css`\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n              `\n            )}\n            onMouseEnter={() => toggleTableOverlayHover('on')}\n            onMouseLeave={() => {\n              setTimeout(() => toggleTableOverlayHover('off'), 400);\n            }}\n          >\n            <GeneralOverlayButton\n              title={f('tableInsertRow')}\n              tooltipPlacement=\"topRight\"\n              hoverStyle=\"color\"\n              style={{ width: '20px', height: '20px' }}\n              icon={<IconBtn className=\"Tripdocs-add\" style={{ fontSize: '14px' }} />}\n              onMouseDown={e => {\n                const tableSlateNode = getTableNode();\n                const curIndex = hoveringIndex;\n                if (tableSlateNode && curIndex !== -1) {\n                  const isTopZone = overlayPlacement === 'leftTop';\n                  const tablePath = ReactEditor.findPath(editor, tableSlateNode);\n                  const startPath = [tablePath[0], 1, curIndex, 0, 0, 0];\n                  const point = { path: startPath, offset: 0 };\n                  const range = { anchor: point, focus: point };\n                  if (isTopZone) {\n                    opsTable(editor, 'insertRowReverse', range);\n                  } else {\n                    opsTable(editor, 'insertRow', range);\n                  }\n                }\n              }}\n            />\n          </div>\n        </TableAddBtnOverlay>\n      )}\n    </>\n  );\n}\n\nexport function ColSideDiv(props) {\n  const { editor, tableRef, isShowBar, getTableNode, selCells, setSelCells, colArr } = props;\n\n  const colDivBarInnerRef = useRef(null);\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  const [tableOverlayHover, toggleTableOverlayHover] = useReducer((state, action) => action === 'on', false);\n  const [isOverSideDiv, toggleIsOverSideDiv] = useReducer((state, action) => action === 'on', false);\n  const [showOverlay, toggleShowOverlay] = useReducer((state, action) => action === 'on', false);\n\n  const [overlayPlacement, setOverlayPlacement] = useState<null | 'topLeft' | 'topRight'>(null);\n  const [hoveringIndex, setHoveringIndex] = useState(-1);\n\n  const [activationArr, setActivationArr] = useState<ActivationType[]>([]);\n\n  useEffect(() => {\n    console.log('[selCells]', selCells);\n    const colMap = {};\n    const arr = [];\n    const tableSlateNode = getTableNode();\n\n    selCells.forEach(cellEntry => {\n      const [node, path] = cellEntry;\n      const colIndex = path[3];\n      colMap[colIndex] ? colMap[colIndex]++ : (colMap[colIndex] = 1);\n    });\n    for (let i in colMap) {\n      arr[i] = colMap[i] === tableSlateNode.row ? 'full' : colMap[i] === 0 ? 'none' : 'half';\n    }\n    setActivationArr(arr);\n  }, [JSON.stringify(selCells.map((cell: Path) => cell[1]))]);\n\n  useEffect(() => {\n    if (tableOverlayHover || isOverSideDiv) {\n      toggleShowOverlay('on');\n    }\n    if (!tableOverlayHover && !isOverSideDiv) {\n      toggleShowOverlay('off');\n    }\n  }, [tableOverlayHover, isOverSideDiv]);\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n\n  return (\n    <>\n      <div\n        ref={colDivBarInnerRef}\n        data-ignore-slate\n        className=\"col-div-bar-inner ignore-toggle-readonly\"\n        style={{\n          display: isShowBar ? 'flex' : 'none',\n          borderRight: '1px solid #DFDFDF',\n        }}\n        onMouseMove={_.debounce(e => {\n          toggleIsOverSideDiv('on');\n        })}\n        onMouseLeave={e => {\n          setTimeout(() => {\n            toggleIsOverSideDiv('off');\n          }, 400);\n        }}\n      >\n        {colArr?.map((colWidth: any, index: number) => (\n          <AbstractSideDiv\n            index={index}\n            editor={editor}\n            type={'column'}\n            divStyle={{ height: '14px', width: colWidth }}\n            activationArr={activationArr}\n            getTableNode={getTableNode}\n            setSelCells={setSelCells}\n            setOverlayPlacement={setOverlayPlacement}\n            setOverlayRefDom={setOverlayRefDom}\n            setOverlayRefRect={setOverlayRefRect}\n            setHoveringIndex={setHoveringIndex}\n            scrollContainerRefDom={colDivBarInnerRef?.current?.closest('.table-inner-wrap')}\n          />\n        ))}\n      </div>\n      {!isReadOnly && overlayPlacement && (\n        <TableAddBtnOverlay\n          show={showOverlay}\n          docId={editor?.docId || ''}\n          placement={overlayPlacement}\n          overlayRefDom={overlayRefDom}\n          left={overlayRefRect?.left}\n          distance={14}\n          offset={{ left: 0, top: -10 }}\n          overlayStyle={{ border: '1px solid #dee0e3' }}\n          tableRef={tableRef}\n        >\n          <div\n            className={cx(\n              'overlay-button-wrap',\n              css`\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n              `\n            )}\n            onMouseEnter={() => toggleTableOverlayHover('on')}\n            onMouseLeave={() => {\n              setTimeout(() => toggleTableOverlayHover('off'), 400);\n            }}\n          >\n            <GeneralOverlayButton\n              title={f('tableInsertColumn')}\n              tooltipPlacement=\"top\"\n              hoverStyle=\"color\"\n              style={{ width: '20px', height: '20px' }}\n              icon={<IconBtn className=\"Tripdocs-add\" style={{ fontSize: '14px' }} />}\n              onMouseDown={e => {\n                const tableSlateNode = getTableNode();\n                const curIndex = hoveringIndex;\n                if (tableSlateNode && curIndex !== -1) {\n                  const isLeftZone = overlayPlacement === 'topLeft';\n                  const tablePath = ReactEditor.findPath(editor, tableSlateNode);\n                  const startPath = [...tablePath, 0, curIndex, 0, 0];\n                  const point = { path: startPath, offset: 0 };\n                  const range = { anchor: point, focus: point };\n                  console.log('[overlayPlacement]', overlayPlacement, isLeftZone, curIndex, range);\n                  if (isLeftZone) {\n                    opsTable(editor, 'insertColReverse', range);\n                  } else {\n                    opsTable(editor, 'insertCol', range);\n                  }\n                }\n              }}\n            />\n          </div>\n        </TableAddBtnOverlay>\n      )}\n    </>\n  );\n}\n\ntype AbstractSideDivProps = {\n  index: number;\n  editor: any;\n  type: 'column' | 'row';\n  divStyle: CSSProperties;\n  activationArr: ActivationType[];\n  getTableNode: any;\n  setSelCells: any;\n  setOverlayPlacement: any;\n  setOverlayRefDom: any;\n  setOverlayRefRect: any;\n  setHoveringIndex: any;\n  scrollContainerRefDom?: HTMLElement;\n  [key: string]: any;\n};\n\nexport function AbstractSideDiv(props: AbstractSideDivProps) {\n  const {\n    index,\n    editor,\n    type,\n    divStyle,\n    activationArr,\n    getTableNode,\n    setSelCells,\n    setOverlayPlacement,\n    setOverlayRefDom,\n    setOverlayRefRect,\n    setHoveringIndex,\n    scrollContainerRefDom,\n  } = props;\n\n  const isColumn = type === 'column';\n\n  const { docId, isReadOnly } = useContext(TripdocsSdkContext);\n  const [deleteBtnHover, setDeleteBtnHover] = useState(false);\n  const [deleteBtnHidden, setDeleteBtnHidden] = useState(false);\n  const [showDeleteBtnOverlay, setShowDeleteBtnOverlay] = useState(false);\n  const [startScrollLeft, setStartScrollLeft] = useState(null);\n  const [colOffsetLeft, setColOffsetLeft] = useState(0);\n  const tableSideDivRef = useRef();\n\n  useEffect(() => {\n    const handleClickOutside = (e: any) => {\n      if (!editor) return;\n      const btn: HTMLElement = document.querySelector('.table-delete-rowcol-overlay');\n      if (btn && showDeleteBtnOverlay) {\n        console.log('{CLICK}', btn, e.target, btn.contains(e.target), showDeleteBtnOverlay);\n        const isTableSideDiv = Array.from(e.target.classList).some((cls: string) => ['table-side-div'].includes(cls));\n        if (btn.contains(e.target)) {\n          return;\n        } else {\n          if (!isTableSideDiv) {\n            removeSelection(editor, setSelCells);\n          }\n          setShowDeleteBtnOverlay(false);\n        }\n      }\n    };\n    const offShowDeleteBtnOverlay = () => setShowDeleteBtnOverlay(false);\n    if (!isReadOnly) {\n      document.addEventListener('mousedown', handleClickOutside);\n      getEditorEventEmitter(docId).on('removeTableRowColDelete', offShowDeleteBtnOverlay, docId);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n      getEditorEventEmitter(docId).off('removeTableRowColDelete', offShowDeleteBtnOverlay, docId);\n    };\n  }, [showDeleteBtnOverlay]);\n\n  useEffect(() => {\n    if (!editor) return;\n    const tableSlateNode = getTableNode();\n    const dom = ReactEditor.toDOMNode(editor, tableSlateNode);\n    const selectedCells = dom.querySelectorAll('.selected-cell-td');\n    if (deleteBtnHover) {\n      selectedCells.forEach(cell => {\n        cell.classList.add('delete-btn-hover');\n      });\n    } else {\n      selectedCells.forEach(cell => {\n        cell.classList.remove('delete-btn-hover');\n      });\n    }\n    return () => {};\n  }, [deleteBtnHover]);\n\n  const handleScrollLeft = useCallback(\n    (e: any) => {\n      if (!editor) return;\n      const { target } = e;\n      if (!scrollContainerRefDom || !tableSideDivRef?.current) return;\n      const containerRect = scrollContainerRefDom.getBoundingClientRect();\n      const sideDivRect = (tableSideDivRef?.current as HTMLElement).getBoundingClientRect();\n      const { left: containerLeft, right: containerRight } = containerRect;\n      const { left: sideDivLeft, right: sideDivRight, width: sideDivWidth } = sideDivRect;\n      const sideDivCenter = (sideDivRight + sideDivLeft) / 2;\n      const colOffsetHorizontal = startScrollLeft - target.scrollLeft;\n\n      const isLeftMost = sideDivCenter <= containerLeft;\n      const isRightMost = sideDivCenter >= containerRight;\n      console.log('handleScrollLeft0', containerLeft, containerRight, sideDivCenter, isLeftMost, isRightMost, colOffsetHorizontal);\n      if (isLeftMost || isRightMost) {\n        setDeleteBtnHidden(true);\n      } else {\n        setDeleteBtnHidden(false);\n      }\n      setColOffsetLeft(colOffsetHorizontal);\n    },\n    [startScrollLeft, scrollContainerRefDom, tableSideDivRef?.current]\n  );\n\n  useEffect(() => {\n    if (!editor || !isColumn || !scrollContainerRefDom || !showDeleteBtnOverlay) return;\n\n    scrollContainerRefDom.addEventListener('scroll', handleScrollLeft);\n\n    return () => {\n      scrollContainerRefDom.removeEventListener('scroll', handleScrollLeft);\n    };\n  }, [scrollContainerRefDom, startScrollLeft, showDeleteBtnOverlay]);\n\n  return (\n    <>\n      <div\n        ref={tableSideDivRef}\n        key={index}\n        data-ignore-slate\n        contentEditable={false}\n        suppressContentEditableWarning\n        className={cx(\n          'table-side-div',\n          'ignore-toggle-readonly',\n          activationArr[index] === 'full' ? 'full-active' : activationArr[index] === 'half' ? 'half-active' : 'none-active',\n          deleteBtnHover ? 'delete-btn-hover' : ''\n        )}\n        style={{\n          ...divStyle,\n        }}\n        onMouseEnter={e => {\n          const dom = e.target as HTMLElement;\n          const rect = dom.getBoundingClientRect();\n          setOverlayRefDom(dom);\n          setOverlayRefRect(rect);\n        }}\n        onMouseMove={e => {\n          const dom = e.target as HTMLElement;\n          const rect = dom.getBoundingClientRect();\n          if (isColumn) {\n            const middle = rect.left + rect.width / 2;\n            const isLeftZone = e.clientX < middle;\n\n            if (isLeftZone) {\n              setOverlayPlacement('topLeft');\n            } else {\n              setOverlayPlacement('topRight');\n            }\n          } else if (type === 'row') {\n            const middle = rect.top + rect.height / 2;\n            const isTopZone = e.clientY < middle;\n            if (isTopZone) {\n              setOverlayPlacement('leftTop');\n            } else {\n              setOverlayPlacement('leftBottom');\n            }\n          }\n          setHoveringIndex(index);\n        }}\n        onMouseLeave={e => {\n          setOverlayRefDom(null);\n          setOverlayRefRect(null);\n        }}\n        onMouseDown={e => {\n          e.stopPropagation();\n          e.preventDefault();\n          const tableSlateNode = getTableNode();\n\n          if (tableSlateNode && index !== -1) {\n            const tablePath = ReactEditor.findPath(editor, tableSlateNode);\n            const tableEntry = Editor.node(editor, tablePath);\n            const len = isColumn ? (tableSlateNode.children as Array<any>).length : (tableSlateNode.children as Array<any>)[0].children.length;\n            const startPath = isColumn ? [...tablePath, 0, index] : [tablePath[0], 1, index, 0];\n            const endPath = isColumn ? [...tablePath, len - 1, index] : [tablePath[0], 1, index, len - 1];\n            addSelection(editor, tableEntry, startPath, endPath, setSelCells);\n          }\n          setTimeout(() => {\n            setShowDeleteBtnOverlay(true);\n          });\n          const scrollLeft = scrollContainerRefDom?.scrollLeft;\n          if (typeof scrollLeft === 'number') {\n            setStartScrollLeft(scrollLeft);\n          }\n          setColOffsetLeft(0);\n          getEditorEventEmitter(editor.docId).emit('removeTableRowColDelete', editor.docId);\n        }}\n      ></div>\n\n      {!isReadOnly && (\n        <Overlay\n          show={showDeleteBtnOverlay}\n          docId={editor?.docId || ''}\n          overlayRefDom={tableSideDivRef?.current}\n          placement={isColumn ? 'top' : 'topRight'}\n          offset={{\n            top: 4,\n            left: isColumn ? colOffsetLeft : 14,\n          }}\n          zIndex={210}\n          overlayStyle={{ border: '1px solid #dee0e3', display: deleteBtnHidden ? 'none' : null }}\n        >\n          <GeneralOverlayButton\n            className={cx(\n              'table-delete-rowcol-overlay',\n              css`\n                &:hover {\n                  color: #f5222d;\n                }\n              `\n            )}\n            title={f(isColumn ? 'tableDeleteSelectedColumn' : 'tableDeleteSelectedRow')}\n            tooltipPlacement=\"top\"\n            hoverStyle=\"background\"\n            style={{ width: '20px', height: '20px' }}\n            icon={<IconBtn className=\"Tripdocs-delete\" style={{ fontSize: '14px' }} />}\n            onMouseEnter={e => setDeleteBtnHover(true)}\n            onMouseLeave={e => setDeleteBtnHover(false)}\n            onMouseDown={e => {\n              const tableSlateNode = getTableNode();\n              const curIndex = index;\n              if (tableSlateNode && curIndex !== -1) {\n                const tablePath = ReactEditor.findPath(editor, tableSlateNode);\n\n                if (isColumn) {\n                  const startPath = [...tablePath, 0, curIndex, 0, 0];\n                  const point = { path: startPath, offset: 0 };\n                  const range = { anchor: point, focus: point };\n                  opsTable(editor, 'deleteCol', range);\n                } else {\n                  const startPath = [...tablePath, curIndex, 0, 0, 0];\n                  const point = { path: startPath, offset: 0 };\n                  const range = { anchor: point, focus: point };\n                  opsTable(editor, 'deleteRow', range);\n                }\n                setDeleteBtnHover(false);\n                setShowDeleteBtnOverlay(false);\n              }\n            }}\n          />\n        </Overlay>\n      )}\n    </>\n  );\n}\n\nexport function IntersectionPointDiv(props) {\n  const { editor, tableRef, tableDom, selCells, getTableNode, setSelCells, isShowBar } = props;\n\n  const [active, setActive] = useState<boolean>(false);\n\n  useEffect(() => {\n    let act = false;\n    const tableSlateNode = getTableNode();\n    const total = tableSlateNode.column * tableSlateNode.row;\n    if (selCells.length === total) {\n      act = true;\n    }\n    setActive(act);\n  }, [JSON.stringify(selCells.map((cell: Path) => cell[1]))]);\n\n  return (\n    <div\n      data-ignore-slate\n      contentEditable={false}\n      suppressContentEditableWarning\n      className={cx('intersection-point', 'ignore-toggle-readonly', active ? 'active' : null)}\n      style={{\n        display: isShowBar ? 'flex' : 'none',\n      }}\n      onMouseDown={e => {\n        e.stopPropagation();\n        const tableSlateNode = getTableNode();\n        if (tableSlateNode) {\n          const tablePath = ReactEditor.findPath(editor, tableSlateNode);\n          const tableEntry = Editor.node(editor, tablePath);\n          const colLen = (tableSlateNode.children as Array<any>).length;\n          const rowLen = (tableSlateNode.children as Array<any>)[0].children.length;\n\n          const startPath = [tablePath[0], 1, 0, 0];\n          const endPath = [tablePath[0], 1, colLen - 1, rowLen - 1];\n          addSelection(editor, tableEntry, startPath, endPath, setSelCells);\n        }\n        getEditorEventEmitter(editor.docId).emit('removeTableRowColDelete', editor.docId);\n      }}\n    ></div>\n  );\n}\n","import { css, cx } from '@emotion/css';\nimport { Editor, Node, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { f } from '@src/resource/string';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { Dropdown, Tooltip } from 'antd';\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { IconBtn, IconButton } from '../../plugins/Components';\nimport { ELTYPE } from '../../plugins/config';\nimport { insertEditLink } from '../../plugins/EditLink';\nimport { colorChoice, dropdownMenuColor, FormatButton, getColorMark, MarkButton } from '../../plugins/HoveringToolbar';\nimport { isSameLineSelection } from '../../plugins/pluginsUtils/selectionUtils';\nimport { getEditorEventEmitter } from '../table/selection';\nimport {\n  AlignSelectButton,\n  BlockIconButton,\n  CardMenuButton,\n  FileButton,\n  FontLetterSelectButton,\n  LineHeightSelectButton,\n  SizeSelectButton,\n  StaticToolbarMoreMenuButton,\n  TabButton,\n  TocButton,\n  ToolbarArrowButton,\n  ToolbarButton,\n  TypeSelectButton,\n  VersionButton,\n} from './buttons';\n\nconst noOpHandler = e => {\n  e.preventDefault();\n  e.stopPropagation();\n  return false;\n};\n\nexport const isTableUnbordered = (editor: ReactEditor) => {\n  if (!editor) return false;\n  const { selection } = editor;\n  const [table] = Editor.nodes(editor, { match: (n: any) => n.type === 'table' });\n  if (table && selection) {\n    return table[0]['unbordered'];\n  }\n  return false;\n};\n\nexport const StaticToolbar = ({\n  editor,\n  editorSelection,\n  docWidth,\n  modalState,\n  currentColor,\n  setCurrentColor,\n  anchorTrigger,\n  setValue,\n  isShowAnchor,\n  setIsShowAnchor,\n}: any) => {\n  const { isReadOnly, docId } = React.useContext(TripdocsSdkContext);\n  const { elementPath, elementType } = editorSelection;\n  const isInElectron: boolean = getCache(editor?.docId, 'options')?.isInElectron;\n\n  const [isTitle, setIsTitle] = useState(elementType === 'heading-one' && elementPath[0] === 0);\n  const [visible, setVisible] = useState({\n    fontColorVisible: false,\n    bgColorVisible: false,\n    cellBgColorVisible: false,\n  });\n  const sel = editor && editor.selection;\n  const [docSelection, setDocSelection] = useState(null);\n\n  const [isTable, setIsTable] = useState({\n    hasSelCells: SEL_CELLS.get(editor)?.length > 0,\n    cursorInTable: elementPath.length > 4,\n    both: SEL_CELLS.get(editor)?.length > 0 || elementPath.length > 4,\n  });\n\n  const selectionHandler = useCallback(\n    _.debounce(() => {\n      editor?.selection && setDocSelection(editor.selection);\n    }, 50),\n    [editor]\n  );\n\n  useEffect(() => {\n    document.addEventListener('selectionchange', selectionHandler);\n    return () => {\n      document.removeEventListener('selectionchange', selectionHandler);\n    };\n  }, [editor]);\n\n  useEffect(() => {\n    console.log('DOC_SEL', docSelection, docSelection?.focus?.path[0] === 0);\n\n    if (docSelection?.focus?.path[0] === 0 || !docSelection) {\n      $(`#editorContainer-${docId} .header-static-toolbar`).addClass('disabled-static-toolbar');\n    } else {\n      $(`#editorContainer-${docId} .header-static-toolbar`).removeClass('disabled-static-toolbar');\n    }\n\n    const elPath = editor?.selection?.anchor?.path;\n\n    setIsTable({\n      hasSelCells: SEL_CELLS.get(editor)?.length > 0,\n      cursorInTable: elPath?.length > 4,\n      both: SEL_CELLS.get(editor)?.length > 0 || elPath?.length > 4,\n    });\n\n    return () => {};\n  }, [docSelection]);\n\n  useEffect(() => {\n    setIsTitle(elementType === 'heading-one' && elementPath[0] === 0);\n  }, [elementPath, elementType]);\n\n  const cellBgColorClick = () => {\n    const selectedCells = SEL_CELLS.get(editor);\n\n    if (selectedCells?.length > 0) {\n      for (let cell of selectedCells) {\n        Transforms.setNodes(editor, { cellBackgroundColor: currentColor.cellBgColor } as Partial<Node>, { at: cell[1] });\n      }\n    } else {\n      editor.selection &&\n        ReactEditor.hasRange(editor, editor.selection) &&\n        editor.selection.focus.path.length === 6 &&\n        Transforms.setNodes(editor, { cellBackgroundColor: currentColor.cellBgColor } as Partial<Node>, {\n          at: editor.selection.focus.path.slice(0, 4),\n        });\n    }\n  };\n\n  const bgColorClick = () => {\n    colorChoice(editor, 'backgroundColor', currentColor.bgColor);\n  };\n\n  const fontColorClick = () => {\n    colorChoice(editor, 'fontColor', currentColor.fontColor);\n  };\n\n  const resetClick = () => {\n    const selectedCells = SEL_CELLS.get(editor);\n\n    if (selectedCells?.length > 0) {\n      for (let cell of selectedCells) {\n        Transforms.setNodes(editor, { cellBackgroundColor: null } as Partial<Node>, { at: cell[1] });\n      }\n    } else {\n      editor?.selection &&\n        ReactEditor.hasRange(editor, editor.selection) &&\n        editor.selection.focus.path.length === 6 &&\n        Transforms.setNodes(editor, { cellBackgroundColor: null } as Partial<Node>, { at: editor.selection.focus.path.slice(0, 4) });\n    }\n  };\n\n  const [shouldShrink, setShouldShrink] = useState(false);\n\n  useEffect(() => {\n    const SHRINK_THRESHOLD = { LARGE: 1200, MIDDLE: 811 };\n\n    const contentWrapListener = rect => {\n      if (rect.width <= SHRINK_THRESHOLD.LARGE) {\n        setShouldShrink(true);\n      } else if (rect.width > SHRINK_THRESHOLD.LARGE) {\n        setShouldShrink(false);\n      }\n    };\n\n    getEditorEventEmitter(docId).on('resizeContentWrap', contentWrapListener, docId);\n    return () => {\n      getEditorEventEmitter(docId).off('resizeContentWrap', contentWrapListener, docId);\n    };\n  }, [docId]);\n\n  const en = 'en';\n  return (\n    <div\n      className={cx(\n        'header-static-toolbar',\n        css`\n          .ant-dropdown-open {\n            background-color: rgba(50, 100, 255, 0.1);\n            color: rgb(50, 100, 255);\n          }\n        `\n      )}\n      style={{\n        pointerEvents: isReadOnly ? 'none' : 'auto',\n        filter: isReadOnly ? 'opacity(0.5)' : 'none',\n      }}\n      onMouseDown={(e: any) => {\n        e.preventDefault();\n      }}\n    >\n      <CardMenuButton\n        editor={editor}\n        editorSelection={editorSelection}\n        docWidth={docWidth}\n        modalState={modalState}\n        isDisabled={isTable.hasSelCells}\n      />\n      <span className=\"static-toolbar__line\"></span>\n\n      {}\n      <FileButton\n        title={f('undo')}\n        icon={<IconBtn className=\"Tripdocs-repeal\" />}\n        callback={() => {\n          editor.undo();\n        }}\n        style={{\n          cursor: editor && editor.history.undos.length === 0 ? 'not-allowed' : null,\n          opacity: editor && editor.history.undos.length === 0 ? '0.4' : null,\n        }}\n      />\n      <FileButton\n        title={f('redo')}\n        icon={<IconBtn className=\"Tripdocs-redo\" />}\n        callback={() => {\n          editor.redo();\n        }}\n        style={{\n          cursor: editor && editor.history.redos.length === 0 ? 'not-allowed' : null,\n          opacity: editor && editor.history.redos.length === 0 ? '0.4' : null,\n        }}\n      />\n      <ToolbarButton title={f('cleanFormatting')} button={<FormatButton editor={editor} format=\"reset\" onClick={resetClick} />} />\n      <ToolbarButton title={f('paintFormat')} button={<FormatButton editor={editor} format=\"copy\" />} />\n\n      <span className=\"static-toolbar__line\"></span>\n      <SizeSelectButton editor={editor} anchorTrigger={anchorTrigger} />\n      <FontLetterSelectButton editor={editor} anchorTrigger={anchorTrigger} />\n      <TypeSelectButton editor={editor} anchorTrigger={anchorTrigger} />\n\n      <>\n        <ToolbarButton title={`${f('bold')}（Ctrl+B）`} button={<MarkButton editor={editor} format=\"bold\" icon=\"Tripdocs-bold\" />} />\n        <ToolbarButton title={`${f('italic')}（Ctrl+I）`} button={<MarkButton format=\"italic\" editor={editor} icon=\"Tripdocs-italic\" />} />\n        <ToolbarButton title={`${f('underline')}（Ctrl+U）`} button={<MarkButton format=\"underline\" editor={editor} icon=\"Tripdocs-underline\" />} />\n        <ToolbarButton\n          title={`${f('strikethrough')}（Ctrl+Shift+X）`}\n          button={<MarkButton format=\"strikethrough\" editor={editor} icon=\"Tripdocs-strikethrough\" />}\n        />\n        <ToolbarButton title={`${f('code')}（Ctrl+E）`} button={<MarkButton format=\"code\" editor={editor} icon=\"Tripdocs-code_braces\" />} />\n        <ToolbarArrowButton\n          button={\n            <div className=\"toolbar-color-button-wrap\">\n              <Tooltip title={`${f('fontColor')}`}>\n                <IconButton\n                  className=\"embedded-color-button\"\n                  fontColor={currentColor.fontColor}\n                  onMouseDown={(e: any) => {\n                    e.preventDefault();\n                    fontColorClick();\n                  }}\n                >\n                  <IconBtn className=\"Tripdocs-text_color\"></IconBtn>\n                </IconButton>\n              </Tooltip>\n              <Dropdown\n                overlay={dropdownMenuColor(\n                  editor,\n                  'fontColor',\n                  flag => setCurrentColor({ ...currentColor, fontColor: flag }),\n                  getColorMark(editor, 'fontColor')\n                )}\n                trigger={['click']}\n                visible={visible.fontColorVisible}\n                onVisibleChange={flag => setVisible({ ...visible, fontColorVisible: flag })}\n              >\n                <button className=\"embedded-arrow-button\">\n                  <IconBtn className=\"Tripdocs-drop_down_fill\" style={{ fontSize: '14px' }}></IconBtn>\n                </button>\n              </Dropdown>\n            </div>\n          }\n        />\n        <ToolbarArrowButton\n          button={\n            <div className=\"toolbar-color-button-wrap\">\n              <Tooltip title={`${f('bgColor')}`}>\n                <IconButton\n                  className=\"embedded-color-button\"\n                  backgroundColor={currentColor.bgColor}\n                  onMouseDown={(e: any) => {\n                    e.preventDefault();\n                    bgColorClick();\n                  }}\n                >\n                  <IconBtn className=\"Tripdocs-highlight_fill\"></IconBtn>\n                </IconButton>\n              </Tooltip>\n              <Dropdown\n                overlay={dropdownMenuColor(\n                  editor,\n                  'backgroundColor',\n                  flag => setCurrentColor({ ...currentColor, bgColor: flag }),\n                  getColorMark(editor, 'backgroundColor')\n                )}\n                trigger={['click']}\n                visible={visible.bgColorVisible}\n                onVisibleChange={flag => setVisible({ ...visible, bgColorVisible: flag })}\n              >\n                <button className=\"embedded-arrow-button\">\n                  <IconBtn className=\"Tripdocs-drop_down_fill\" style={{ fontSize: '14px' }}></IconBtn>\n                </button>\n              </Dropdown>\n            </div>\n          }\n        />\n        <span className=\"static-toolbar__line\"></span>\n      </>\n      {}\n\n      {isTable.both && (\n        <>\n          {}\n          <ToolbarArrowButton\n            button={\n              <div className=\"toolbar-color-button-wrap\">\n                <Tooltip title={`${f('tableCellBg')}`}>\n                  <IconButton\n                    className=\"embedded-color-button\"\n                    cellBgColor={currentColor.cellBgColor}\n                    onMouseDown={(e: any) => {\n                      e.preventDefault();\n                      cellBgColorClick();\n                    }}\n                  >\n                    <IconBtn className=\"Tripdocs-cell_color_fill\" style={{ marginTop: -2 }}></IconBtn>\n                  </IconButton>\n                </Tooltip>\n                <Dropdown\n                  overlay={dropdownMenuColor(\n                    editor,\n                    'cellBackgroundColor',\n                    flag => setCurrentColor({ ...currentColor, cellBgColor: flag }),\n                    getColorMark(editor, 'cellBackgroundColor')\n                  )}\n                  visible={visible.cellBgColorVisible}\n                  onVisibleChange={flag => setVisible({ ...visible, cellBgColorVisible: flag })}\n                  trigger={['click']}\n                >\n                  <button className=\"embedded-arrow-button\">\n                    <IconBtn className=\"Tripdocs-drop_down_fill\" style={{ fontSize: '14px' }}></IconBtn>\n                  </button>\n                </Dropdown>\n              </div>\n            }\n          />\n\n          <ToolbarButton\n            title={isTableUnbordered(editor) ? `${f('showBorder')}` : `${f('hideBorder')}`}\n            button={\n              <IconButton\n                active={isTableUnbordered(editor)}\n                onMouseDown={(e: any) => {\n                  e.preventDefault();\n                  const sel = editor.selection;\n                  if (sel && sel.focus.path.length > 3) {\n                    const [tableNode, tablePath]: any = Editor.node(editor, [sel.focus.path[0], 1]);\n                    console.log(sel, tableNode, tablePath);\n\n                    if (tableNode.unbordered) {\n                      Transforms.setNodes(editor, { unbordered: null } as Partial<Node>, { at: tablePath });\n                    } else {\n                      Transforms.setNodes(editor, { unbordered: true } as Partial<Node>, { at: tablePath });\n                    }\n                  }\n                }}\n              >\n                <IconBtn className={`Tripdocs-no_border`}></IconBtn>\n              </IconButton>\n            }\n          />\n          {}\n          <span className=\"static-toolbar__line\"></span>\n          <AlignSelectButton editor={editor} isVertical />\n        </>\n      )}\n\n      {}\n      <AlignSelectButton editor={editor} />\n\n      {shouldShrink ? (\n        <StaticToolbarMoreMenuButton\n          editor={editor}\n          editorSelection={editorSelection}\n          docWidth={docWidth}\n          modalState={modalState}\n          setValue={setValue}\n          isShowAnchor={isShowAnchor}\n          setIsShowAnchor={setIsShowAnchor}\n          isDisabled={docSelection?.focus?.path[0] === 0 || !docSelection}\n          hasSelCells={isTable.hasSelCells}\n        />\n      ) : (\n        <>\n          <ToolbarButton\n            title={`${f('numberedList')}`}\n            button={<BlockIconButton format={ELTYPE.OLLIST} icon=\"Tripdocs-ordered\" editor={editor} isDisabled={isTable.hasSelCells} />}\n            isDisabled={isTable.hasSelCells}\n          />\n          <ToolbarButton\n            title={`${f('bulletedList')}`}\n            button={<BlockIconButton format={ELTYPE.ULLIST} icon=\"Tripdocs-unordered\" editor={editor} isDisabled={isTable.hasSelCells} />}\n            isDisabled={isTable.hasSelCells}\n          />\n          <ToolbarButton\n            title={`${f('toDoList')}（Ctrl+Alt+T）`}\n            button={<BlockIconButton format={ELTYPE.TODO_LIST} icon=\"Tripdocs-checkbox_selected\" editor={editor} isDisabled={isTable.hasSelCells} />}\n            isDisabled={isTable.hasSelCells}\n          />\n          <LineHeightSelectButton editor={editor} />\n          <ToolbarButton\n            title={`${f('quote')}`}\n            button={<BlockIconButton format={ELTYPE.BLOCK_QUOTE} icon=\"Tripdocs-quote\" editor={editor} isDisabled={isTable.hasSelCells} />}\n            isDisabled={isTable.hasSelCells}\n          />\n          <ToolbarButton\n            title={`${f('link')}`}\n            button={<IconBtn className={`Tripdocs-add_link`} style={{ fontSize: 16 }}></IconBtn>}\n            isDisabled={\n              (editor &&\n                editor.selection &&\n                Range.isRange(editor.selection) &&\n                ReactEditor.hasRange(editor, editor.selection) &&\n                !isSameLineSelection(editor.selection)) ||\n              isTable.hasSelCells\n            }\n            onMouseDown={e => {\n              e.preventDefault();\n              if (\n                editor &&\n                editor.selection &&\n                Range.isRange(editor.selection) &&\n                ReactEditor.hasRange(editor, editor.selection) &&\n                !isSameLineSelection(editor.selection)\n              ) {\n                return;\n              }\n\n              insertEditLink(editor, '', sel);\n              return;\n            }}\n          />\n\n          <span className=\"static-toolbar__line\"></span>\n\n          <ToolbarButton\n            title={`${f('increaseIndentation')}（Tab）`}\n            button={<TabButton icon={<IconBtn className=\"Tripdocs-outdent\" />} editor={editor} />}\n          />\n          <ToolbarButton\n            title={`${f('decreaseIndentation')}（Shift+Tab）`}\n            button={<TabButton isDecrease icon={<IconBtn className=\"Tripdocs-lnent\" />} editor={editor} />}\n          />\n          {}\n\n          {}\n          <span className=\"static-toolbar__line\"></span>\n\n          {!isInElectron && (\n            <ToolbarButton\n              title={`${f('historyVersion')}（Alt+H）`}\n              buttonClass={'version-btn'}\n              button={<VersionButton icon={<IconBtn className=\"Tripdocs-history\" />} editor={editor} setValue={setValue} />}\n            />\n          )}\n\n          <ToolbarButton\n            title={isShowAnchor ? `${f('hideOutline')}` : `${f('showOutline')}`}\n            buttonClass={'toc-btn'}\n            button={\n              <TocButton icon={<IconBtn className=\"Tripdocs-menu\" />} editor={editor} setIsShowAnchor={setIsShowAnchor} isShowAnchor={isShowAnchor} />\n            }\n          />\n        </>\n      )}\n    </div>\n  );\n};\n","import { CodeSandboxCircleFilled, LeftOutlined } from '@ant-design/icons';\nimport { css, cx } from '@emotion/css';\nimport { Divider, Dropdown } from 'antd';\nimport $ from 'jquery';\nimport _, { transform } from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useContext } from 'react';\nimport { Path, Node, BaseElement, Text, Point } from '@src/components/slate-packages/slate';\nimport { Editor, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { useWindowUnloadEffect } from '../../../../utils/apiOperations/hooks/useWindowUnloadEffect';\nimport tableMenu from '../../../DropdownMenu/tableMenu';\nimport { ReactEditor, useSelected, useFocused } from '../../../slate-packages/slate-react';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\nimport { addRemoveSelectionListener, addSelection, removeSelection } from './selection';\nimport {\n  CACHED_SEL_CELLS,\n  SEL_CELLS,\n  RESIZING_ROW,\n  RESIZING_ROW_MIN_HEIGHT,\n  RESIZING_ROW_ORIGIN_HEIGHT,\n  RESIZING_COL_MIN_WIDTH,\n  RESIZING_COL_ORIGIN_WIDTH,\n  RESIZING_COL,\n  ACTIVE_TABLE,\n} from '@src/utils/weak-maps';\nimport ResizeMask from './ResizeMask';\nimport { ColSideDiv, IntersectionPointDiv, RowSideDiv } from './renderSideDiv';\nimport { getParentPathByType } from '../pluginsUtils/getPathUtils';\nimport { opsTable } from './tableOperation';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport { getEditorEventEmitter } from '@src/components/docs/plugins/table/selection';\nimport { Overlay } from '../OverlayComponents/Overlay';\nimport { f } from '@src/resource/string';\nimport { GeneralOverlayButton } from '../OverlayComponents/Overlay/GeneralOverlayButton';\nimport { IconBtn, IconButton } from './../Components';\nimport { handleTableOps } from '../StaticToolbar/buttons';\nimport { isTableUnbordered } from '../StaticToolbar/renderStaticToolbar';\nimport { EditorContainerPortal } from '@src/utils/createPortal';\nimport { getCurrentLineEnd } from '@src/utils/selectionUtils';\n\nlet selCells_stop = false;\n\nexport const tableMargin = { left: 14, top: 14 };\nexport const rowDivBarMargin = {\n  left: 0,\n  top: tableMargin.top,\n};\nexport const colDivBarMargin = {\n  top: 0,\n  left: tableMargin.left,\n};\n\nexport function testActiveTable(editor, activeTableRow) {\n  const cells = SEL_CELLS.get(editor);\n  return (\n    (cells?.length > 0 && cells?.[0]?.[1]?.[0] === activeTableRow) ||\n    (editor?.selection &&\n      ReactEditor.hasRange(editor, editor.selection) &&\n      editor.selection.focus?.path?.length >= 4 &&\n      editor.selection?.focus?.path[0] === activeTableRow)\n  );\n}\n\nconst TableElement = React.forwardRef(({ element, attributes, editor, children, maxWidth, editorId }: any, ref) => {\n  const tableRef = ref as any;\n  const tableTargetRef = useRef();\n  const [startKey, setStartKey] = useState('');\n  const [selCells, setSelCells] = useState([]);\n  const [colArr, setColArr] = useState(element.hwEach[0]);\n  const [rowArr, setRowArr] = useState([]);\n  const [domRowArr, setDomRowArr] = useState([]);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const { docId, isReadOnly, isMobile } = useContext(TripdocsSdkContext);\n  const [isFakeSelected, setIsFakeSelected] = useState(false);\n  const [isFocused, setIsFocused] = useState(false);\n  const [isOverElement, setIsOverElement] = useState(false);\n  const [isOnTableToolBar, setIsOnTableToolBar] = useState(false);\n  const [isShowTableToolbar, setIsShowTableToolbar] = useState(false);\n\n  const [tableResizeMaskRect, setTableResizeMaskRect] = useState({\n    height: 0,\n    width: 0,\n    top: 0,\n    left: 0,\n  });\n\n  const [tableRect, setTableRect] = useState({\n    height: 0,\n    width: 0,\n    top: 0,\n    left: 0,\n  });\n\n  const [maskRectSide, setMaskRectSide] = useState<'top' | 'right' | 'bottom' | 'left' | null>(null);\n  const [curCell, setCurCell] = useState(null);\n  const [startPositionX, setStartPositionX] = useState<number | null>(null);\n  const [startPositionY, setStartPositionY] = useState<number | null>(null);\n  const [differenceX, setDifferenceX] = useState<number | null>(null);\n  const [differenceY, setDifferenceY] = useState<number | null>(null);\n\n  const rowMovingLineRef = useRef(null);\n  const colMovingLineRef = useRef(null);\n\n  const [rowMovingLine, setRowMovingLine] = useState({\n    top: 0,\n  });\n\n  const [colMovingLine, setColMovingLine] = useState({\n    left: 0,\n  });\n\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  const [visible, setVisible] = useState(false);\n\n  const [isShowBar, setIsShowBar] = useState(() => {\n    let activeTableRow = -1;\n    let isCurTableActive = false;\n    if ((tableTargetRef as any).current?.childNodes?.[1]) {\n      const curTableNode = ReactEditor.toSlateNode(editor, (tableTargetRef as any).current.childNodes[1]);\n      const curTablePath = ReactEditor.findPath(editor, curTableNode);\n      activeTableRow = curTablePath[0];\n      isCurTableActive = testActiveTable(editor, activeTableRow);\n    }\n    return isCurTableActive;\n  });\n\n  const [isTableBtnWrapScrolled, setIsTableBtnWrapScrolled] = useState(false);\n\n  useEffect(() => {\n    if (isOverElement || isOnTableToolBar) {\n      setIsShowTableToolbar(true);\n    } else {\n      setIsShowTableToolbar(false);\n    }\n  }, [isOverElement, isOnTableToolBar]);\n\n  useEffect(() => {\n    const tableDom = tableRef?.current;\n    if (!tableDom) return;\n\n    const handleIsShowBar = (e: any) => {\n      const { target } = e;\n      if (tableDom) {\n        const preventDefault = Array.from(target.classList).some((cls: string) =>\n          ['general-overlay-button', 'Tripdocs-delete', 'Tripdocs-add'].includes(cls)\n        );\n        if (tableDom.contains(target) || preventDefault) {\n          setIsShowBar(true);\n          return;\n        } else {\n          setIsShowBar(false);\n        }\n      }\n    };\n\n    const handleMouseMove = _.throttle((e: any) => {\n      const y = e.clientY;\n      const x = e.clientX;\n      const rect = tableDom.getBoundingClientRect();\n      const { top, left, right, bottom } = rect;\n\n      if (y > top - 27 && y < bottom && x > left - 27 && x < right) {\n        setIsOverElement(true);\n      } else {\n        setIsOverElement(false);\n      }\n    }, 500);\n    document.addEventListener('mousedown', handleIsShowBar);\n    document.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      document.removeEventListener('mousedown', handleIsShowBar);\n      document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [tableRef?.current]);\n\n  const getTableNode = useCallback(() => {\n    return ReactEditor.toSlateNode(editor, (tableTargetRef as any).current.childNodes[1]);\n  }, [editor, tableTargetRef]);\n\n  const handleSelCells = useCallback(e => {\n    const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n    const scrollWrapRect = scrollWrap.getBoundingClientRect();\n    selCells_stop = true;\n    if (e.clientY < scrollWrapRect.top + Math.floor(scrollWrapRect.height * 0.15)) {\n      selCells_stop = false;\n      scroll(-10);\n    }\n    if (e.clientY > scrollWrapRect.bottom - Math.floor(scrollWrapRect.height * 0.15)) {\n      selCells_stop = false;\n      scroll(10);\n    }\n  }, []);\n\n  const scroll = useCallback(step => {\n    const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n    if (scrollWrap) {\n      const scrollY = scrollWrap.scrollTop;\n      scrollWrap.scrollTo({ top: scrollY + step });\n    }\n  }, []);\n\n  useEffect(() => {\n    addRemoveSelectionListener(editor, setSelCells);\n  }, []);\n\n  useEffect(() => {\n    const dom = editor && ReactEditor.toDOMNode(editor, element);\n    if (dom) {\n      const tableDom = dom.closest('.table-wrap');\n      setOverlayRefDom(tableDom);\n      setOverlayRefRect(tableDom?.getBoundingClientRect());\n    }\n  }, [isShowBar]);\n\n  useEffect(() => {\n    if (!editor) return;\n    const cachedSelCells = CACHED_SEL_CELLS?.get(editor);\n\n    cachedSelCells?.forEach(cell => {\n      const [cellNode, cellPath] = cell;\n      const cellDom = ReactEditor.toDOMNode(editor, cellNode);\n      if (cellDom) {\n        cellDom.classList.remove('selected-cell-td');\n      }\n    });\n\n    selCells?.forEach(cell => {\n      const [cellNode, cellPath] = cell;\n      const cellDom = ReactEditor.toDOMNode(editor, cellNode);\n      if (cellDom) {\n        cellDom.classList.add('selected-cell-td');\n      }\n    });\n\n    CACHED_SEL_CELLS.set(editor, selCells);\n  }, [JSON.stringify(selCells)]);\n\n  const startNode = useMemo(() => {\n    if (!editor) return null;\n\n    const [node] = Editor.nodes(editor, {\n      match: (n: any) => n.key === startKey,\n      at: [],\n    });\n\n    return node;\n  }, [startKey, editor]);\n\n  const [tableDom, setTableDom] = useState((tableRef as any).current && (tableRef as any).current.childNodes[2].childNodes[0].childNodes[1]);\n  const [tableSlateNode, setTableSlateNode] = useState(\n    tableDom && !tableDom.getAttribute('data-ignore-slate') && ReactEditor.toSlateNode(editor, tableDom)\n  );\n\n  const handleTableCellsMouseMove = useCallback(\n    e => {\n      if (isReadOnly || !editor) return;\n\n      const cell = (e.target as HTMLBaseElement).closest('td');\n\n      if (cell) {\n        const tdSlateNode = ReactEditor.toSlateNode(editor, cell);\n        const tdClientBounding = cell.getBoundingClientRect();\n        const tbodyDom = (e.target as HTMLBaseElement).closest('tbody');\n        if (tbodyDom && tdSlateNode && tdClientBounding) {\n          const tbodyClientBounding = tbodyDom.getBoundingClientRect();\n          const scrollLeft = (tableRef as any)?.current?.childNodes[2]?.scrollLeft || 0;\n          const maskLeft = (tdClientBounding.left || 0) - tbodyClientBounding.left - scrollLeft;\n          const maskTop = (tdClientBounding.top || 0) - tbodyClientBounding.top;\n          setCurCell(tdSlateNode);\n          if (\n            tableResizeMaskRect.height !== tdClientBounding.height ||\n            tableResizeMaskRect.width !== tdClientBounding.width ||\n            tableResizeMaskRect.left !== maskLeft ||\n            tableResizeMaskRect.top !== maskTop\n          ) {\n            setTableResizeMaskRect({\n              height: tdClientBounding.height || 0,\n              width: tdClientBounding.width || 0,\n              left: maskLeft,\n              top: maskTop,\n            });\n          }\n          if (\n            tableRect.height !== tbodyClientBounding.height ||\n            tableRect.width !== tbodyClientBounding.width ||\n            tableRect.left !== tbodyClientBounding.left ||\n            tableRect.top !== tbodyClientBounding.top\n          ) {\n            setTableRect({\n              height: tbodyClientBounding.height || 0,\n              width: tbodyClientBounding.width || 0,\n              left: tbodyClientBounding.left || 0,\n              top: tbodyClientBounding.top || 0,\n            });\n          }\n        }\n      }\n\n      if (cell && startKey) {\n        handleSelCells(e);\n        const endKey = cell.getAttribute('data-key');\n        const cur = (tableRef as any).current && (tableRef as any).current.childNodes[2].childNodes[0].childNodes[1];\n        if (tableDom !== cur) {\n          setTableDom(cur);\n        }\n\n        const [endNode] = Editor.nodes(editor, {\n          match: (n: any) => n.key === endKey,\n          at: [],\n        });\n\n        const startPath = Editor.path(editor, startNode[1]);\n        const endPath = endNode ? Editor.path(editor, endNode[1]) : null;\n\n        const getSelection = Editor.range(editor, startPath);\n\n        if (editor.selection && ReactEditor.hasRange(editor, editor.selection) && endKey) {\n          const anchor = editor.selection.anchor;\n          const focus = editor.selection.focus;\n\n          if (\n            anchor.path[0] === getSelection.anchor.path[0] &&\n            anchor.path[1] === getSelection.anchor.path[1] &&\n            anchor.path[2] === getSelection.anchor.path[2] &&\n            anchor.path[3] === getSelection.anchor.path[3] &&\n            focus.path[0] === getSelection.focus.path[0] &&\n            focus.path[1] === getSelection.focus.path[1] &&\n            focus.path[2] === getSelection.focus.path[2] &&\n            focus.path[3] === getSelection.focus.path[3] &&\n            !(\n              (anchor.offset === getSelection.anchor.offset && focus.offset === getSelection.focus.offset) ||\n              (anchor.offset === getSelection.focus.offset && focus.offset === getSelection.anchor.offset)\n            ) &&\n            anchor.offset === focus.offset\n          ) {\n            return;\n          }\n        }\n\n        if (!(tableRef as any).current) {\n          return;\n        }\n\n        if (tableSlateNode) {\n          try {\n            const tablePath = ReactEditor.findPath(editor, tableSlateNode);\n            const tableEntry = Editor.node(editor, tablePath);\n            if (startPath && endPath) {\n              if (_.isEqual(startPath, endPath) || isReadOnly) {\n                removeSelection(editor, setSelCells);\n              } else {\n                addSelection(editor, tableEntry, startPath, endPath, setSelCells);\n              }\n            }\n          } catch (e) {\n            console.log('[handleTableCellsMouseMove] err', e);\n          }\n        }\n      }\n    },\n    [startKey, editor?.selection, (tableRef as any).current]\n  );\n\n  const handleMovingLineMouseMove = useCallback(\n    e => {\n      const editorDom = getEditorDom();\n      editorDom.setPointerCapture(e.pointerId);\n\n      if (!curCell) return;\n\n      if (startPositionY !== null && isDragging) {\n        const resizingRowEntry: any = RESIZING_ROW.get(editor);\n        const minHeight = RESIZING_ROW_MIN_HEIGHT.get(editor);\n        const originHeight = RESIZING_ROW_ORIGIN_HEIGHT.get(editor);\n        const diffY = e.pageY - startPositionY;\n        const calculatedHeight = Math.floor(originHeight + diffY);\n        let isMinValue = false;\n\n        if (minHeight - originHeight >= diffY) {\n          isMinValue = true;\n        }\n\n        isMinValue ? setDifferenceY(minHeight - originHeight) : setDifferenceY(diffY);\n\n        console.log('[resizingRowEntry 1 ]', curCell, minHeight, resizingRowEntry);\n\n        document.body.style.cursor = 'row-resize';\n\n        const trDOM = ReactEditor.toDOMNode(editor, resizingRowEntry[0]);\n        let dataHeight = minHeight + 'px';\n\n        switch (maskRectSide) {\n          case 'top':\n            if (minHeight && isMinValue) {\n            } else {\n              dataHeight = calculatedHeight + 'px';\n            }\n            trDOM.style.height = dataHeight;\n            trDOM.setAttribute('data-height', dataHeight);\n\n            break;\n          case 'bottom':\n            if (minHeight && isMinValue) {\n            } else {\n              dataHeight = calculatedHeight + 'px';\n            }\n            trDOM.style.height = dataHeight;\n            trDOM.setAttribute('data-height', dataHeight);\n            break;\n          default:\n            break;\n        }\n        console.log('differenceY]', startPositionY, differenceY);\n        return;\n      }\n\n      if (startPositionX !== null && isDragging) {\n        const minWidth = RESIZING_COL_MIN_WIDTH.get(editor);\n        const tdEntry = RESIZING_COL.get(editor);\n        console.log('[tdEntry]', tdEntry);\n        const tablePath = tdEntry && tdEntry[1] && getParentPathByType(editor, tdEntry[1], ELTYPE.TABLE);\n        if (!tablePath) return;\n        const tableNode = Editor.node(editor, tablePath);\n        const tableDOM = ReactEditor.toDOMNode(editor, tableNode[0]);\n        console.log('[col 1 ]', tdEntry);\n\n        const colNumber = tdEntry && tdEntry[1] && tdEntry[1][3];\n        const originWidth = RESIZING_COL_ORIGIN_WIDTH.get(editor);\n        const diffX = e.pageX - startPositionX;\n        const calculatedWidth = Math.floor(originWidth + diffX);\n        let isMinValue = false;\n\n        if (minWidth - originWidth + 3 >= diffX) {\n          isMinValue = true;\n        }\n        isMinValue ? setDifferenceX(minWidth - originWidth) : setDifferenceX(diffX);\n\n        console.log('[diffX 1 ]', diffX, maskRectSide);\n\n        document.body.style.cursor = 'col-resize';\n        switch (maskRectSide) {\n          case 'right':\n            setColArr(prev => {\n              const res = [...prev];\n              if (isMinValue) {\n                res.splice(colNumber, 1, minWidth + 'px');\n              } else {\n                res.splice(colNumber, 1, calculatedWidth + 'px');\n              }\n              tableDOM?.setAttribute('data-col-arr', JSON.stringify(res));\n              return res;\n            });\n\n            console.log(`RRRRRR right`, originWidth, calculatedWidth);\n\n            break;\n          case 'left':\n            setColArr(prev => {\n              const res = [...prev];\n              if (isMinValue) {\n                res.splice(colNumber, 1, minWidth + 'px');\n              } else {\n                res.splice(colNumber, 1, calculatedWidth + 'px');\n              }\n              tableDOM?.setAttribute('data-col-arr', JSON.stringify(res));\n              return res;\n            });\n            console.log(`LLLLLL left`, originWidth, calculatedWidth);\n            break;\n          default:\n            break;\n        }\n        console.log('differenceX]', startPositionX, differenceX);\n        return;\n      }\n    },\n    [startPositionY, startPositionX, isDragging, curCell, maskRectSide]\n  );\n\n  const handleMovingLineMouseUp = useCallback(\n    e => {\n      const editorDom = getEditorDom();\n      editorDom.releasePointerCapture(e.pointerId);\n\n      console.log(`**MouseUp* start x, start y, dragging`, startPositionX, startPositionY, isDragging);\n      if (startPositionY !== null && isDragging) {\n        setStartPositionY(null);\n        setDifferenceY(null);\n        setRowMovingLine({ top: null });\n        setIsDragging(false);\n        document.body.style.cursor = 'default';\n\n        const resizingRowEntry: any = RESIZING_ROW.get(editor);\n\n        const trDOM = resizingRowEntry && resizingRowEntry[0] && ReactEditor.toDOMNode(editor, resizingRowEntry[0]);\n        if (!trDOM) {\n          return;\n        }\n        const dataHeight = trDOM.getAttribute('data-height');\n        Transforms.setNodes(editor, { height: dataHeight } as any, { at: resizingRowEntry[1] });\n\n        editorDom.removeEventListener('pointermove', handleMovingLineMouseMove);\n        editorDom.removeEventListener('pointerup', handleMovingLineMouseUp);\n      }\n\n      if (startPositionX !== null && isDragging) {\n        setStartPositionX(null);\n        setDifferenceX(null);\n        setColMovingLine({ left: -9999 });\n        setIsDragging(false);\n        document.body.style.cursor = 'default';\n\n        const tdEntry = RESIZING_COL.get(editor);\n        const tablePath = tdEntry && tdEntry[1] && getParentPathByType(editor, tdEntry[1], ELTYPE.TABLE);\n\n        if (!tablePath) return;\n        const tableNode = Editor.node(editor, tablePath);\n        const tableDOM = ReactEditor.toDOMNode(editor, tableNode[0]);\n        const dataColArr: string = tableDOM.getAttribute('data-col-arr');\n\n        if (dataColArr) {\n          const howWideEach = new Array(element.hwEach?.length || 1).fill(JSON.parse(dataColArr));\n          Transforms.setNodes(editor, { hwEach: howWideEach } as Partial<Node>, { at: tablePath });\n        }\n\n        editorDom.removeEventListener('pointermove', handleMovingLineMouseMove);\n        editorDom.removeEventListener('pointerup', handleMovingLineMouseUp);\n      }\n    },\n    [startPositionY, startPositionX, isDragging]\n  );\n\n  const handleResetStartKey = useCallback(() => {\n    setStartKey('');\n    setCurCell(null);\n  }, []);\n\n  const getEditorDom = useCallback(() => {\n    const editorDom = document.getElementById(`editorContainer-${docId}`);\n    return editorDom;\n  }, [docId]);\n\n  useEffect(() => {\n    const editorDom = getEditorDom();\n    if (isDragging) {\n      editorDom.addEventListener('pointermove', handleMovingLineMouseMove);\n      editorDom.addEventListener('pointerup', handleMovingLineMouseUp);\n    }\n    editorDom.addEventListener('pointerup', handleResetStartKey);\n    return () => {\n      editorDom.removeEventListener('pointermove', handleMovingLineMouseMove);\n      editorDom.removeEventListener('pointerup', handleMovingLineMouseUp);\n      editorDom.removeEventListener('pointerup', handleResetStartKey);\n    };\n  }, [isDragging]);\n\n  useEffect(() => {\n    const tbodyDom = (tableTargetRef as any).current?.childNodes?.[1];\n    if (tbodyDom) {\n      const tbodyClientBounding = tbodyDom.getBoundingClientRect();\n      if (\n        tableRect.height !== tbodyClientBounding.height ||\n        tableRect.width !== tbodyClientBounding.width ||\n        tableRect.left !== tbodyClientBounding.left ||\n        tableRect.top !== tbodyClientBounding.top\n      ) {\n        setTableRect({\n          height: tbodyClientBounding.height || 0,\n          width: tbodyClientBounding.width || 0,\n          left: tbodyClientBounding.left || 0,\n          top: tbodyClientBounding.top || 0,\n        });\n      }\n    }\n  }, [differenceX, differenceY]);\n\n  useEffect(() => {\n    tableDom && setTableSlateNode(ReactEditor.toSlateNode(editor, tableDom));\n  }, [tableDom]);\n\n  useEffect(() => {\n    console.log('table element state', element);\n    if ((tableRef as any).current) {\n      const newColArr = element.hwEach[0];\n      console.log('newColArr 1', newColArr, element.column, element.hwEach?.[0]?.length, element);\n      setColArr(newColArr);\n    }\n  }, [element]);\n\n  useEffect(() => {\n    const tableEl = (tableTargetRef as any)?.current?.childNodes?.[1];\n    const rowPathNum =\n      (tableTargetRef as any).current?.childNodes?.[1] &&\n      ReactEditor.findPath(editor, ReactEditor.toSlateNode(editor, (tableTargetRef as any).current.childNodes[1]))[0];\n\n    if (element.unbordered) {\n      if (editor?.selection?.focus?.path?.length >= 4 && editor.selection.focus.path[0] === rowPathNum) {\n        $(tableEl).find('td').css('border', '1px dashed #d9d9d9');\n      } else if (element.unbordered) {\n        $(tableEl).find('td').css('border', '1px dashed transparent');\n      }\n    } else {\n      $(tableEl).find('td').css('border', '1px solid #d9d9d9');\n    }\n  }, [element.unbordered, element.column, element.row, editor && editor.selection, (tableTargetRef as any).current]);\n\n  useEffect(() => {\n    console.log('[useEffect isDragging]', isDragging);\n  }, [isDragging]);\n\n  useEffect(() => {\n    if (selCells.length === 0) {\n      return;\n    }\n    if (\n      !editor?.selection ||\n      ((tableRef as any).current &&\n        editor.selection &&\n        ReactEditor.hasRange(editor, editor.selection) &&\n        tableSlateNode &&\n        ReactEditor.findPath(editor, tableSlateNode)[0] !== editor?.selection.focus.path[0])\n    ) {\n      removeSelection(editor, setSelCells);\n    }\n  }, [editor?.selection, ReactEditor.isFocused(editor)]);\n\n  useEffect(() => {\n    if ((tableRef as any).current && !isReadOnly) {\n      const thisTableDom = tableDom;\n      if (selCells.length > 0) {\n        $(thisTableDom).find('.sider-menu-btn').css('display', 'none');\n\n        $(thisTableDom).addClass('transparent-selection');\n        $(document).find('.hovering-toolbar-wrap').css('display', 'none');\n      } else {\n        $(thisTableDom).removeClass('transparent-selection');\n      }\n    }\n    if (selCells?.length) {\n      Transforms.collapse(editor, { edge: 'start' });\n    }\n  }, [selCells, editor?.selection, tableDom]);\n\n  useWindowUnloadEffect(() => {\n    removeSelection(editor, setSelCells);\n  }, false);\n\n  useEffect(() => {\n    const observerRoot = (tableTargetRef as any).current?.parentNode;\n    const observerTarget = (tableTargetRef as any).current;\n    const overflowShadowContainer = (tableRef as any).current.parentNode;\n    overflowShadowContainer.classList.add('overflow-shadow-container');\n    overflowShadowContainer.classList.add('card-table-wrap');\n    const options = {\n      root: observerRoot,\n      threshold: 1,\n    };\n\n    new IntersectionObserver(([entry]) => {\n      if (entry.intersectionRatio !== 1) {\n        overflowShadowContainer.classList.add('is-overflowing', 'is-scrolled-left');\n      } else {\n        overflowShadowContainer.classList.remove('is-overflowing');\n      }\n    }, options).observe(observerTarget);\n\n    let handleScrollX = e => {\n      if (e.target.scrollLeft < 1) {\n        overflowShadowContainer.classList.add('is-scrolled-left');\n      } else {\n        overflowShadowContainer.classList.remove('is-scrolled-left');\n      }\n      if (Math.abs(e.target.scrollLeft + e.target.offsetWidth - observerTarget.offsetWidth) <= 1) {\n        overflowShadowContainer.classList.add('is-scrolled-right');\n      } else {\n        overflowShadowContainer.classList.remove('is-scrolled-right');\n      }\n    };\n\n    observerRoot.addEventListener('scroll', handleScrollX);\n\n    return () => {\n      observerRoot.removeEventListener('scroll', handleScrollX);\n    };\n  }, []);\n\n  const handleScrollTop = useCallback(\n    (e?: any) => {\n      const scrollContainerRefDom: HTMLElement = document.getElementById(`editor-content-wrap-${docId}`);\n      const table: HTMLElement = tableRef?.current;\n\n      if (!scrollContainerRefDom || !table) return;\n      const containerRect = scrollContainerRefDom.getBoundingClientRect();\n      const tableRect = (table as HTMLElement).getBoundingClientRect();\n      const { top: containerTop, bottom: containerBottom } = containerRect;\n      const { top: tableTop, bottom: tableBottom, height: height } = tableRect;\n\n      const isScrolled = tableTop < containerTop;\n\n      if (isScrolled) {\n        setIsTableBtnWrapScrolled(true);\n      } else {\n        setIsTableBtnWrapScrolled(false);\n      }\n    },\n    [tableRef?.current]\n  );\n\n  useEffect(() => {\n    if (!isShowBar || !isShowTableToolbar) return;\n    handleScrollTop();\n    const scrollContainerRefDom = document.getElementById(`editor-content-wrap-${docId}`);\n\n    scrollContainerRefDom.addEventListener('scroll', handleScrollTop);\n\n    return () => {\n      scrollContainerRefDom.removeEventListener('scroll', handleScrollTop);\n    };\n  }, [isShowBar, isShowTableToolbar]);\n\n  const isSelectionMergedCell = isMergedCell(editor);\n\n  const editorContainerWrap = getCache(editor?.docId, 'editorWrapDom');\n  const editorContainerWrapRect = editorContainerWrap?.getBoundingClientRect();\n\n  const tableBtnWrap = useMemo(\n    () => (\n      <div\n        className={cx(\n          'overlay-button-wrap',\n          css`\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 2px;\n          `\n        )}\n        onMouseEnter={() => {\n          setIsOnTableToolBar(true);\n        }}\n        onMouseLeave={() => {\n          setTimeout(() => {\n            setIsOnTableToolBar(false);\n          }, 400);\n        }}\n      >\n        <GeneralOverlayButton\n          title={f('tableInsertUp')}\n          icon={<IconBtn className=\"Tripdocs-add_row_below\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            handleTableOps(editor, 'insertRowReverse');\n          }}\n        />\n        <GeneralOverlayButton\n          title={f('tableInsertDown')}\n          icon={<IconBtn className=\"Tripdocs-add_row_above\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            handleTableOps(editor, 'insertRow');\n          }}\n        />\n        <GeneralOverlayButton\n          title={f('tableDeleteSelectedRow')}\n          hoverStyle=\"danger\"\n          icon={<IconBtn className=\"Tripdocs-delete_row\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            handleTableOps(editor, 'deleteRow');\n          }}\n        />\n        <Divider type=\"vertical\" />\n        <GeneralOverlayButton\n          title={f('tableInsertLeft')}\n          icon={<IconBtn className=\"Tripdocs-add_col_before\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            handleTableOps(editor, 'insertColReverse');\n          }}\n        />\n        <GeneralOverlayButton\n          title={f('tableInsertRight')}\n          icon={<IconBtn className=\"Tripdocs-add_col_after\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            handleTableOps(editor, 'insertCol');\n          }}\n        />\n        <GeneralOverlayButton\n          title={f('tableDeleteSelectedColumn')}\n          hoverStyle=\"danger\"\n          icon={<IconBtn className=\"Tripdocs-delete_col\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            handleTableOps(editor, 'deleteCol');\n          }}\n        />\n        <Divider type=\"vertical\" />\n        <GeneralOverlayButton\n          title={isTableUnbordered(editor) ? `${f('showBorder')}` : `${f('hideBorder')}`}\n          icon={\n            <IconButton active={isTableUnbordered(editor)} style={{ borderRadius: '4px', height: '100%', width: '100%' }}>\n              <IconBtn className={`Tripdocs-no_border`}></IconBtn>\n            </IconButton>\n          }\n          onMouseDown={(e: any) => {\n            e.preventDefault();\n            e.stopPropagation();\n            const sel = editor.selection;\n            if (sel && sel.focus.path.length > 3) {\n              const [tableNode, tablePath]: any = Editor.node(editor, [sel.focus.path[0], 1]);\n              if (tableNode.unbordered) {\n                Transforms.setNodes(editor, { unbordered: null } as Partial<Node>, { at: tablePath });\n              } else {\n                Transforms.setNodes(editor, { unbordered: true } as Partial<Node>, { at: tablePath });\n              }\n            }\n          }}\n        />\n        {!isMobile && (\n          <GeneralOverlayButton\n            title={f('copyTable')}\n            icon={<IconBtn className=\"Tripdocs-duplicate\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              removeSelection(editor, setSelCells);\n              const path = ReactEditor.findPath(editor, element);\n              if (path) {\n                const cardPath = getParentPathByType(editor, path, ELTYPE.CARD);\n                const range = Editor.range(editor, cardPath);\n                const start = Editor.end(editor, Editor.previous(editor, { at: range })[1]);\n                const end = Editor.start(editor, Editor.next(editor, { at: range })[1]);\n                Transforms.select(editor, { anchor: start, focus: end });\n                console.log('1111 [copy]', range, cardPath);\n                setTimeout(() => {\n                  document.execCommand('copy');\n                  Transforms.deselect(editor);\n                });\n              }\n            }}\n          />\n        )}\n        <GeneralOverlayButton\n          title={f('deleteTable')}\n          hoverStyle=\"danger\"\n          icon={<IconBtn className=\"Tripdocs-delete_table\" style={{ fontSize: '15px' }} />}\n          onMouseDown={e => {\n            e.preventDefault();\n            const path = ReactEditor.findPath(editor, element);\n            if (path) {\n              Transforms.removeNodes(editor, { at: path });\n            }\n          }}\n        />\n\n        {selCells?.length > 0 || isSelectionMergedCell ? <Divider type=\"vertical\" /> : null}\n        {selCells?.length > 0 && (\n          <GeneralOverlayButton\n            title={f('tableMerge')}\n            icon={<IconBtn className=\"Tripdocs-combine\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              handleTableOps(editor, 'mergeCell');\n            }}\n          />\n        )}\n        {isSelectionMergedCell ? (\n          <GeneralOverlayButton\n            title={f('tableUnmerge')}\n            icon={<IconBtn className=\"Tripdocs-split\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              handleTableOps(editor, 'unmergeCell');\n            }}\n          />\n        ) : null}\n      </div>\n    ),\n    [editor, element, selCells?.length, isSelectionMergedCell]\n  );\n\n  return (\n    <div\n      data-ignore-slate\n      contentEditable={false}\n      ref={tableRef}\n      className={cx(\n        'table-wrap',\n        isMobile\n          ? ''\n          : css`\n              &:not(:hover) .table-inner-wrap {\n                &::-webkit-scrollbar,\n                &::-webkit-scrollbar-track,\n                &::-webkit-scrollbar-thumb {\n                  visibility: ${isFocused ? null : 'hidden'};\n                }\n              }\n            `\n      )}\n      style={{\n        position: 'relative',\n        margin: '0 0 0 -10px',\n        userSelect: isReadOnly ? null : 'none',\n        overflow: 'hidden',\n      }}\n      onDragStartCapture={e => {\n        const target: any = e.target;\n        const isDraggable = target.getAttribute('draggable');\n        console.log('[table] onDragStartCapture', target, isDraggable);\n        if (!isDraggable) {\n          e.preventDefault();\n        }\n      }}\n      onDragCapture={e => {\n        const dragDataTransfer = getCache(editor?.docId, 'drag-data-transfer');\n        const allowDragging = dragDataTransfer && !!dragDataTransfer.dragData;\n        if (!allowDragging) {\n          console.log('[table] onDragCapture', e.target);\n          e.preventDefault();\n        }\n      }}\n      onDragOverCapture={e => {\n        const dragDataTransfer = getCache(editor?.docId, 'drag-data-transfer');\n        const allowDragging = dragDataTransfer && !!dragDataTransfer.dragData;\n        if (!allowDragging) {\n          console.log('[table] onDragOverCapture', e.target);\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }\n      }}\n      onDragEndCapture={e => {\n        console.log('[table] onDragEndCapture', e.target);\n        e.preventDefault();\n      }}\n      onMouseDown={(e: any) => {\n        console.log('Mouse Down TableWrap', e.target?.classList.contains('table-side-div'));\n        if (isReadOnly) return;\n\n        const innerWrap = (e.currentTarget as HTMLElement)?.getElementsByClassName('table-inner-wrap')?.[0];\n        if (innerWrap && e.target === innerWrap) {\n          e.preventDefault();\n          const tablePath = ReactEditor.findPath(editor, element);\n          const linePath = tablePath.slice(0, -1);\n\n          const [lineNode]: any = Editor.node(editor, linePath);\n          const lastTextLength = lineNode.children[lineNode.children.length - 1]?.text?.length || 0;\n          const end = Editor.end(editor, {\n            path: [...linePath, lineNode.children.length - 1, 0],\n            offset: lastTextLength,\n          });\n          Transforms.select(editor, end);\n          return;\n        }\n        const cell = (e.target as HTMLBaseElement).closest('td');\n        const key = cell?.getAttribute('data-key') || '';\n        let btnNum = e.button;\n\n        if (editor && (tableTargetRef as any).current?.childNodes?.[1]) {\n          const curTableNode = ReactEditor.toSlateNode(editor, (tableTargetRef as any).current.childNodes[1]);\n          const curTablePath = ReactEditor.findPath(editor, curTableNode);\n          ACTIVE_TABLE.set(editor, [curTableNode, curTablePath]);\n        }\n\n        if (btnNum === 2 || e.target?.classList.contains('table-side-div')) {\n          e.preventDefault();\n          return;\n        }\n\n        removeSelection(editor, setSelCells);\n        setStartKey(key);\n      }}\n      onMouseMove={handleTableCellsMouseMove}\n      onMouseLeave={e => {\n        setCurCell(null);\n\n        if (selCells.length > 0 && e.buttons === 1) {\n          removeSelection(editor, setSelCells);\n          setIsShowBar(false);\n        }\n        setIsFocused(false);\n      }}\n      onMouseEnter={e => {\n        if (editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isExpanded(editor.selection) && e.buttons === 1) {\n          e.preventDefault();\n          console.log('MOUSE ENTER');\n          setIsFakeSelected(true);\n        }\n        setIsFocused(true);\n      }}\n    >\n      <div\n        data-ignore-slate\n        className=\"row-div-bar ignore-toggle-readonly\"\n        style={{\n          position: 'absolute',\n          left: rowDivBarMargin.left,\n          top: rowDivBarMargin.top,\n          width: 15,\n          display: 'flex',\n          flexDirection: 'column',\n          userSelect: 'none',\n          msUserSelect: 'none',\n          MozUserSelect: 'none',\n          WebkitUserSelect: 'none',\n        }}\n        contentEditable={false}\n      >\n        <RowSideDiv\n          editor={editor}\n          isShowBar={isReadOnly ? false : isShowBar}\n          tableRef={tableRef}\n          getTableNode={getTableNode}\n          selCells={selCells}\n          setSelCells={setSelCells}\n        />\n        <div\n          data-ignore-slate\n          ref={rowMovingLineRef}\n          className=\"table-row-moving-line\"\n          style={{\n            top: rowMovingLine?.top || 0,\n            display: !rowMovingLine?.top ? 'none' : 'block',\n            left: isShowBar ? 0 : tableMargin.left,\n            width: isShowBar ? tableRect?.width + tableMargin.left : tableRect?.width || 0,\n            position: 'absolute',\n\n            marginTop: Math.round(differenceY) || 0,\n          }}\n          contentEditable={false}\n        ></div>\n      </div>\n      <IntersectionPointDiv\n        editor={editor}\n        tableDom={tableDom}\n        getTableNode={getTableNode}\n        selCells={selCells}\n        setSelCells={setSelCells}\n        isShowBar={isReadOnly ? false : isShowBar}\n      />\n      <div\n        data-ignore-slate\n        className={cx(\n          'table-inner-wrap',\n          isFocused ? `table-focused` : null,\n          css`\n            position: absolute;\n            margin: 0 0 10px 14px;\n            padding-top: 14px;\n            display: block;\n            overflow-y: hidden;\n            overflow-x: auto;\n            position: relative;\n            z-index: 1;\n          `\n        )}\n        style={{ userSelect: isReadOnly ? null : 'none' }}\n        contentEditable={false}\n      >\n        <table\n          ref={tableTargetRef}\n          className={cx('table-element', isFakeSelected ? `table-fake-selected` : null, selCells?.length ? `table-hideselection` : null)}\n          style={{\n            position: 'relative',\n            tableLayout: 'fixed',\n            marginBottom: '3px',\n            marginRight: '1px',\n            width: 'max-content',\n            userSelect: isReadOnly ? null : 'none',\n          }}\n          contentEditable={false}\n        >\n          <colgroup data-ignore-slate className=\"ignore-toggle-readonly\" style={{ userSelect: 'none' }} contentEditable={false}>\n            {colArr.map(colWidth => (\n              <col data-ignore-slate width={Number.parseInt(colWidth) || '40px'}></col>\n            ))}\n          </colgroup>\n          <Dropdown\n            overlay={visible ? tableMenu(editor?.selection, setVisible) : <></>}\n            trigger={isReadOnly ? [] : ['contextMenu']}\n            visible={visible}\n            onVisibleChange={flag => setVisible(flag)}\n            overlayStyle={{\n              position: 'absolute',\n              boxShadow: '0 0 15px 0 rgba(0, 0, 0, 0.2)',\n              overflow: 'auto',\n              zIndex: 1000,\n              maxHeight: window.innerHeight,\n            }}\n            getPopupContainer={() => (tableRef as any).current.parentNode}\n          >\n            <tbody\n              {...attributes}\n              style={{ userSelect: 'auto' }}\n              contentEditable={false}\n              onDrag={e => {\n                e.preventDefault();\n              }}\n              onContextMenuCapture={e => {\n                const target = e.target as HTMLElement;\n                if (editor && target) {\n                  try {\n                    let node: any = ReactEditor.toSlateNode(editor, target);\n                    if (Text.isText(node)) {\n                      const nodeEntry = Editor.parent(editor, ReactEditor.findPath(editor, node));\n                      nodeEntry && (node = nodeEntry[0]);\n                    } else if (node && node.type === ELTYPE.TABLE_CELL && node.children?.length > 0) {\n                      node = node.children[node.children.length - 1];\n                    }\n                    console.log('[tbody] onContextMenu node', node);\n                    if (node && node.type && [...TABBABLE_TYPES].includes(node.type)) {\n                      const path = ReactEditor.findPath(editor, node);\n                      console.log('[tbody] onContextMenu', e, path, node);\n                      Transforms.select(editor, path);\n                      Transforms.collapse(editor, { edge: 'end' });\n                    } else if (node && node.type && [ELTYPE.IMAGE].includes(node.type)) {\n                      e.stopPropagation();\n                      e.preventDefault();\n                    }\n                  } catch (err) {\n                    console.log('[tbody] onContextMenu', err);\n                  }\n                }\n              }}\n              onMouseDown={e => {}}\n            >\n              {children}\n            </tbody>\n          </Dropdown>\n        </table>\n        <div\n          className=\"col-div-bar ignore-toggle-readonly\"\n          style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            display: 'flex',\n            userSelect: 'none',\n            msUserSelect: 'none',\n            MozUserSelect: 'none',\n            WebkitUserSelect: 'none',\n          }}\n          data-ignore-slate\n          contentEditable={false}\n        >\n          <ColSideDiv\n            editor={editor}\n            isShowBar={isReadOnly ? false : isShowBar}\n            tableRef={tableRef}\n            getTableNode={getTableNode}\n            selCells={selCells}\n            setSelCells={setSelCells}\n            colArr={colArr}\n          />\n          <div\n            data-ignore-slate\n            ref={colMovingLineRef}\n            className=\"table-col-moving-line\"\n            style={{\n              top: isShowBar ? 0 : tableMargin.top,\n              left: colMovingLine?.left || -9999,\n              height: isShowBar ? tableRect?.height + tableMargin.top : tableRect?.height || 0,\n              position: 'absolute',\n              marginLeft: Math.round(differenceX) || 0,\n            }}\n          ></div>\n        </div>\n      </div>\n\n      {editor?.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isExpanded(editor.selection) ? null : (\n        <ResizeMask\n          rowMovingLineRef={rowMovingLineRef}\n          colMovingLineRef={colMovingLineRef}\n          editor={editor}\n          tableRect={tableRect}\n          curCell={curCell}\n          setMaskRectSide={setMaskRectSide}\n          tableResizeMaskRect={tableResizeMaskRect}\n          startPositionX={startPositionX}\n          startPositionY={startPositionY}\n          setStartPositionX={setStartPositionX}\n          setStartPositionY={setStartPositionY}\n          differenceX={differenceX}\n          differenceY={differenceY}\n          setRowMovingLine={setRowMovingLine}\n          setColMovingLine={setColMovingLine}\n          rowMovingLine={rowMovingLine}\n          colMovingLine={colMovingLine}\n          isDragging={isDragging}\n          setIsDragging={setIsDragging}\n          startKey={startKey}\n        />\n      )}\n\n      {!isReadOnly && isTableBtnWrapScrolled && isShowBar && isShowTableToolbar && editorContainerWrapRect && overlayRefRect && (\n        <EditorContainerPortal docId={docId}>\n          <div\n            className={cx(css`\n              display: flex;\n              z-index: 200;\n              padding: 2px;\n              background-color: white;\n              border-radius: 4px;\n              box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n              border: 1px solid #dee0e3;\n              position: absolute;\n            `)}\n            style={{\n              position: 'fixed',\n              top: editorContainerWrapRect?.top + 20,\n              left: overlayRefRect.left + overlayRefRect.width / 2,\n              transform: 'translateX(-50%)',\n            }}\n          >\n            {tableBtnWrap}\n          </div>\n        </EditorContainerPortal>\n      )}\n      <Overlay\n        bordered\n        show={!isReadOnly && !isTableBtnWrapScrolled && isShowBar && isShowTableToolbar}\n        docId={docId}\n        placement=\"top\"\n        distance={60}\n        overlayRefDom={overlayRefDom}\n        left={overlayRefRect?.left}\n      >\n        {tableBtnWrap}\n      </Overlay>\n    </div>\n  );\n});\n\nfunction isMergedCell(editor) {\n  if (!editor || !editor.selection) return false;\n  const cellPath = getParentPathByType(editor, editor.selection.anchor.path, ELTYPE.TABLE_CELL);\n  if (!cellPath) return false;\n  const cellNode: any = Node.get(editor, cellPath);\n  if (!cellNode) return false;\n  return (cellNode.colspan >= 1 && cellNode.rowspan > 1) || (cellNode.colspan > 1 && cellNode.rowspan >= 1);\n}\n\nexport default TableElement;\n","import { Editor, Element as SlateElement, Node, Path, Point, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react/plugin/react-editor';\nimport { getPlainText } from '@src/components/slate-packages/slate-react/utils/dom';\nimport { IS_READ_ONLY } from '@src/components/slate-packages/slate-react/utils/weak-maps';\nimport { delChildrenComponent } from '@src/utils/normalize';\nimport { currentCellSelectAll, getCurrentLineEnd } from '@src/utils/selectionUtils';\nimport { ACTIVE_TABLE, SEL_CELLS } from '@src/utils/weak-maps';\nimport { ELTYPE, HEADING_TYPES, LIST_TYPES, TABBABLE_TYPES } from '../config';\nimport { getParentPathByType, getParentPathByTypes, isPathDescendantOfTable } from '../pluginsUtils/getPathUtils';\nimport { removeSelection, removeSelectionForAllTables } from './selection';\nimport { testActiveTable } from './tableElement';\n\nexport const withTable = (editor: any) => {\n  const { deleteBackward, deleteForward, insertBreak, deleteFragment, insertText, setFragmentData } = editor;\n\n  editor.setFragmentData = (data: DataTransfer) => {\n    const isReadOnly = IS_READ_ONLY.get(editor);\n    const selCellsFromDom = [];\n    if (isReadOnly) {\n      const domSelection = window.getSelection();\n      const newSelection = ReactEditor.toSlateRange(editor, domSelection, {\n        exactMatch: false,\n\n        suppressThrow: true,\n      });\n      if (newSelection && ReactEditor.hasRange(editor, editor.selection) && Range.isExpanded(newSelection)) {\n        const [start, end] = Range.edges(newSelection);\n        const common = Path.common(start.path, end.path);\n        const edgesInSameCell = common.length === 4;\n\n        if (!edgesInSameCell) {\n          editor.selection = newSelection;\n          const cells = Editor.nodes(editor, { at: newSelection, match: (n: any) => n.type === ELTYPE.TABLE_CELL });\n          selCellsFromDom.push(...cells);\n          console.log('newSelection ~~', newSelection, selCellsFromDom);\n        }\n      }\n    }\n    if (!editor.selection || !Range.isRange(editor.selection)) return;\n    const selectedCells = isReadOnly ? selCellsFromDom : SEL_CELLS.get(editor);\n    console.log('[isOneTable]', editor.selection);\n    const { anchor, focus } = editor.selection;\n    const isInOneTable = anchor.path.length >= 6 && focus.path.length >= 6 && Path.equals(anchor.path.slice(0, 2), focus.path.slice(0, 2));\n\n    let selectedCellsArr: Array<{ selectedNode; selectedPath }> = [];\n    let contents;\n    const div = document.createElement('div');\n    div.setAttribute('hidden', 'true');\n    let no = null;\n    let tableEL = document.createElement('table');\n    let tbodyEL = document.createElement('tbody');\n    let tr = document.createElement('tr');\n    if (selectedCells && isInOneTable) {\n      for (const [selectedNode, selectedPath] of selectedCells) {\n        selectedCellsArr.push({ selectedNode, selectedPath });\n        if (\n          typeof selectedNode.colspan === 'number' &&\n          typeof selectedNode.rowspan === 'number' &&\n          selectedNode.colspan * selectedNode.rowspan === 0\n        ) {\n          continue;\n        }\n        let dom = ReactEditor.toDOMNode(editor, selectedNode);\n        let domClone = trimSlateDom(dom.cloneNode(true));\n\n        contents = document.createDocumentFragment().appendChild(domClone);\n        let attach = contents.childNodes[0] as HTMLElement;\n        contents.childNodes.forEach((node: any) => {\n          if (node.textContent && node.textContent.trim() !== '') {\n            attach = node as HTMLElement;\n          }\n        });\n        let no1 = selectedPath.slice(2, -1)[0];\n        if (no != no1) {\n          tr = document.createElement('tr');\n          tr.appendChild(contents);\n          no = no1;\n        } else {\n          tr.appendChild(contents);\n        }\n        tbodyEL.appendChild(tr);\n        tableEL.appendChild(tbodyEL);\n        console.log('[tab setFragmentData ] dom', tableEL);\n      }\n    }\n\n    if (selectedCellsArr.length > 1) {\n      div.appendChild(tableEL);\n\n      document.body.appendChild(div);\n      data.setData('text/html', div.innerHTML);\n      data.setData('text/plain', getPlainText(div));\n      console.log('[tab setFragmentData ] innerHTML', div.innerHTML);\n      document.body.removeChild(div);\n      console.log('[tab setFragmentData ]', selectedCellsArr);\n    } else {\n      setFragmentData(data);\n    }\n  };\n\n  editor.deleteBackward = (unit: any) => {\n    const { selection } = editor;\n\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n      if (isPathDescendantOfTable(editor, selection.anchor.path)) {\n        const tableCellPath = getParentPathByType(editor, selection.anchor.path, ELTYPE.TABLE_CELL);\n        const parentPath = getParentPathByTypes(editor, selection.anchor.path, TABBABLE_TYPES);\n        if (parentPath) {\n          const start = Editor.start(editor, parentPath);\n          const type: any = (Node.get(editor, start.path.slice(0, parentPath.length)) as any).type;\n\n          const isFirstInTableCell = parentPath[tableCellPath.length] === 0;\n          console.log('[deleteBackward] 阻止删除前面的 Cell', start, tableCellPath, parentPath, type, isFirstInTableCell);\n\n          if (Point.equals(selection.anchor, start) && isFirstInTableCell && ![...LIST_TYPES, ...HEADING_TYPES].includes(type)) {\n            return;\n          }\n        }\n      }\n    }\n\n    deleteBackward(unit);\n  };\n\n  editor.deleteForward = (unit: any) => {\n    console.log('table deleteForward', unit);\n    const { selection } = editor;\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n      if (isPathDescendantOfTable(editor, selection.anchor.path)) {\n        const tableCellPath = getParentPathByType(editor, selection.anchor.path, ELTYPE.TABLE_CELL);\n        const parentPath = getParentPathByTypes(editor, selection.anchor.path, [...TABBABLE_TYPES]);\n        if (parentPath && Path.isChild(parentPath, tableCellPath)) {\n          const end = Editor.end(editor, parentPath);\n\n          const type: any = (Node.get(editor, end.path.slice(0, parentPath.length)) as any).type;\n          const cellLastEntry = Editor.last(editor, tableCellPath);\n          if (cellLastEntry) {\n            const [lastnode, lastpath] = cellLastEntry;\n\n            const isLastRowInCell = Path.isCommon(parentPath, lastpath);\n\n            console.log('[deleteForward] 阻止继续删除后续 Cell', Point.equals(selection.anchor, end), isLastRowInCell);\n            if (Point.equals(selection.anchor, end) && isLastRowInCell) {\n              return;\n            }\n          }\n        }\n      }\n    }\n\n    deleteForward(unit);\n  };\n\n  editor.deleteFragment = () => {\n    console.log('table deleteFragment', editor.deleteFragment);\n    deleteFragment();\n  };\n\n  editor.insertBreak = () => {\n    const { selection } = editor;\n    console.log('withTable insertBreak');\n    if (selection) {\n      if (selection.focus.path[0] === 0) {\n        const TABLE_TYPE = [ELTYPE.TABLE, ELTYPE.TABLE_ROW, ELTYPE.TABLE_CELL];\n        const allNodes = (Node.get(editor, selection.focus.path[0]) as any).children as Array<any>;\n        if (selection.focus.path[0] < allNodes.length - 1 && TABLE_TYPE.includes((Node.child(editor, selection.focus.path[0] + 1) as any).type)) {\n          Transforms.insertNodes(\n            editor,\n            {\n              type: ELTYPE.PARAGRAPH,\n              children: [\n                {\n                  text: '',\n                },\n              ],\n            } as Node,\n            { at: selection }\n          );\n          return;\n        }\n      }\n    }\n\n    insertBreak();\n  };\n\n  editor.insertText = (text: any) => {\n    console.log('withTable insertText');\n    const { selection } = editor;\n\n    ReactEditor.focus(editor);\n    const selectedCells = SEL_CELLS.get(editor);\n    if (selectedCells && selectedCells.length > 0) {\n      removeSelectionForAllTables(editor);\n      const [nodeTopLeft, pathTopLeft] = selectedCells[0];\n      const path = [...pathTopLeft, 0, 0];\n      console.log('[withTable] insertText 左上单元格', nodeTopLeft, path);\n      Transforms.select(editor, { focus: { path, offset: 0 }, anchor: { path, offset: 0 } });\n      const range: any = currentCellSelectAll(editor);\n      Transforms.select(editor, range);\n    }\n    insertText(text);\n  };\n\n  return editor;\n};\n\nconst max = (a: any, b: any) => {\n  return a > b ? a : b;\n};\n\nfunction trimSlateDom(dom: globalThis.Node) {\n  console.log('trimSlateDom', dom);\n  if (['TD', 'TH'].includes(dom.nodeName) && dom.hasChildNodes()) {\n    const { childNodes } = dom;\n\n    let arr = Array.from(childNodes).map(child => child.cloneNode(true));\n    for (let i = 0; i < arr.length - 1; i++) {\n      const child = childNodes[i];\n      const isNextToEnd = i + 1 >= arr.length - 1;\n\n      if (!child) {\n        continue;\n      }\n\n      while (child.nodeName === 'UL' && childNodes[i + 1]?.nodeName === 'UL') {\n        const nextChildNodes = childNodes[i + 1]?.childNodes;\n        if (!nextChildNodes || nextChildNodes.length === 0) {\n          break;\n        }\n        child.appendChild(nextChildNodes[0]);\n        childNodes[i + 1].remove();\n        if (isNextToEnd) {\n          break;\n        }\n      }\n\n      while (child.nodeName === 'OL' && childNodes[i + 1]?.nodeName === 'OL') {\n        const nextChildNodes = childNodes[i + 1]?.childNodes;\n        if (!nextChildNodes || nextChildNodes.length === 0) {\n          break;\n        }\n        child.appendChild(nextChildNodes[0]);\n        childNodes[i + 1].remove();\n        if (isNextToEnd) {\n          break;\n        }\n      }\n\n      if (['P'].includes(child.nodeName)) {\n        const newChild = document.createElement('div');\n        let tempNode = child.firstChild;\n        let nextNode;\n        while (tempNode) {\n          nextNode = tempNode.nextSibling;\n          newChild.appendChild(tempNode);\n          tempNode = nextNode;\n        }\n        newChild.className = (child as any).className;\n        newChild.id = (child as any).id;\n        dom.replaceChild(newChild, child);\n      }\n    }\n  }\n  return dom;\n}\n","import { Empty, message, Space, Tooltip } from 'antd';\nimport imageExtensions from 'image-extensions';\nimport isUrl from 'is-url';\nimport React, { useEffect, useState } from 'react';\nimport { useContext } from 'react';\nimport { Editor, Path, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { Node } from '../../../slate-packages/slate';\nimport { ReactEditor, useFocused, useSelected } from '../../../slate-packages/slate-react';\nimport { insertCard } from '../Card';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\nimport { css, cx } from '@emotion/css';\nimport { getSlateSlection } from '@src/utils/getSelection';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport { getParentPathByType, getParentPathByTypes } from '../pluginsUtils/getPathUtils';\nimport { getEditorEventEmitter } from '../table/selection';\nimport { DownloadOutlined } from '@ant-design/icons';\nimport { IconBtn } from '../Components';\nimport { f } from '@src/resource/string';\nimport { Overlay } from '../OverlayComponents/Overlay';\nimport DragHandle from '../OverlayComponents/DragHandle';\nimport { GeneralOverlayButton } from '../OverlayComponents/Overlay/GeneralOverlayButton';\n\ninterface VideoProps {\n  attributes: any;\n  children: any;\n  element: any;\n  editor: any;\n  setShow: any;\n  isResizing?: any;\n}\n\nexport const SlateVideo: React.FC<any> = ({ attributes, children, element, editor }: VideoProps) => {\n  const { url, source, align = 'left' } = element;\n\n  const selected = useSelected();\n  const focused = useFocused();\n  const [show, setShow] = useState(false);\n  const [isDrawing, setIsDrawing] = useState(false);\n\n  const [isOverElement, setIsOverElement] = useState(false);\n  const [overlayRefDom, setOverlayRefDom] = useState(null);\n\n  useEffect(() => {\n    selected && focused && setShow(true);\n  }, [selected, focused]);\n\n  const _onMouseDown = e => {\n    console.log('[currentTarget]', e.currentTarget, e.target, e.target.tagName);\n    console.log('[SlateVideo] _onMouseDown', e);\n\n    if (e.target.tagName == 'svg' || e.target.tagName == 'path') {\n      e.stopPropagation();\n      e.preventDefault();\n    } else if (e.target.tagName == 'VIDEO') {\n    } else if (e.target.tagName === 'DIV' && e.target.classList.contains('videoContainer-inner-wrap')) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      console.log('e.target 非图片区域', e.target, e.target.classList);\n      let division: 'left' | 'right' = null;\n      const { left, right } = e.target.getBoundingClientRect();\n      const middle = (left + right) / 2;\n      if (e.clientX < middle) {\n        division = 'left';\n      } else {\n        division = 'right';\n      }\n      if (division) {\n        const path = ReactEditor.findPath(editor, element);\n        const parentPath = getParentPathByType(editor, path, ELTYPE.CARD);\n        console.log('division', division, path, parentPath);\n        switch (division) {\n          case 'left':\n            Transforms.select(editor, [...path.slice(0, -1), path.slice(-1)[0] - 1]);\n            break;\n          case 'right':\n            Transforms.select(editor, [...parentPath, 2, 0]);\n            break;\n          default:\n            break;\n        }\n      }\n    } else {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  };\n\n  const _onDrawing = isDrawing => {\n    setIsDrawing(isDrawing);\n  };\n\n  return (\n    <>\n      <div\n        {...attributes}\n        contentEditable={false}\n        data-ignore-slate\n        className={cx(\n          'ignore-toggle-readonly',\n          'videoContainer-outer-wrap',\n          css`\n            background: none;\n            border: 1px solid transparent;\n          `\n        )}\n        id={element.id}\n        onMouseDown={_onMouseDown}\n        onDragOverCapture={e => {\n          console.log('[video] onDragOverCapture', e.target);\n          e.dataTransfer.dropEffect = 'none';\n          e.preventDefault();\n        }}\n        onMouseOver={() => {\n          setIsOverElement(true);\n        }}\n        onMouseLeave={() => {\n          setTimeout(() => {\n            setIsOverElement(false);\n          }, 400);\n        }}\n      >\n        <div\n          contentEditable={false}\n          data-ignore-slate\n          className={cx(\n            css`\n              display: flex;\n              flex-direction: row;\n              justify-content: ${align === 'left' ? 'flex-start' : align === 'right' ? 'flex-end' : 'center'};\n              align-items: center;\n              margin: 16px 0;\n              user-select: none;\n            `,\n            'ignore-toggle-readonly',\n            'videoContainer-inner-wrap'\n          )}\n        >\n          <MyVideo\n            element={element}\n            editor={editor}\n            isShow={show}\n            setShow={setShow}\n            onDrawing={_onDrawing}\n            isDrawing2={isDrawing}\n            align={align}\n            overlayRefDom={overlayRefDom}\n            setOverlayRefDom={setOverlayRefDom}\n          />\n\n          <div>{children}</div>\n        </div>\n      </div>\n      <DragHandle\n        editor={editor}\n        isOverElement={isOverElement}\n        docId={editor?.docId || ''}\n        overlayRefDom={overlayRefDom}\n        findDomToEl={dom => dom?.closest('[data-slate-node=\"element\"]')?.children[0].children[0]}\n      />\n    </>\n  );\n};\n\nfunction MyVideo(props: any) {\n  const { element, editor, isShow, onDrawing, setShow, align, overlayRefDom, setOverlayRefDom, attributes, children } = props;\n  const selected2 = useSelected();\n  const focused2 = useFocused();\n\n  const [isResizing, setIsResizing] = useState(false);\n\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n\n  const [width, setWidth] = useState(element.width);\n  const [height, setHeight] = useState(element.height);\n\n  const [overlayRefRect, setOverlayRefRect] = useState(null);\n\n  useEffect(() => {\n    console.log('[video selected2]', selected2, editor.selection);\n    const dom = editor && ReactEditor.toDOMNode(editor, element);\n    if (dom) {\n      const videoContainerDom = dom.querySelector('.videoContainer');\n      setOverlayRefDom(videoContainerDom);\n      setOverlayRefRect(videoContainerDom.getBoundingClientRect());\n    }\n  }, [selected2, align]);\n\n  let isDrawing = false;\n  let x = 0;\n  let y = 0;\n  let clientRect: any = {};\n  let dom;\n  let percent;\n  let dataId;\n\n  const style1: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    top: -6,\n    left: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nwse-resize',\n  };\n  const style2: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    bottom: -6,\n    left: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nesw-resize',\n  };\n  const style3: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    top: -6,\n    right: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nesw-resize',\n  };\n  const style4: any = {\n    background: `${isShow ? '#1890ff' : 'transparent'}`,\n    position: 'absolute',\n    bottom: -6,\n    right: -6,\n    height: 12,\n    width: 12,\n    cursor: 'nwse-resize',\n  };\n  const style0: any = {\n    boxShadow: 'none',\n    position: 'relative',\n    display: 'inline-block',\n    width: width,\n    height: height,\n  };\n\n  const fn = (e: any) => {\n    console.log('[fn]', e);\n    if (isDrawing === true) {\n      console.log('[x,y]', e.clientX - x, e.clientY - y);\n\n      let diffw = e.clientX - x;\n      let diffh = e.clientY - y;\n      let w = clientRect.width;\n      let h = clientRect.height;\n      let _left = 0;\n      let _top = 0;\n      let _width = 0;\n      let _height = 0;\n      console.log(diffw, diffh);\n\n      if (diffh / diffw > percent) {\n        diffh = percent * diffw;\n      } else {\n        diffw = diffh / percent;\n      }\n\n      if (dataId == 'point1') {\n        _left = diffw;\n        _top = diffh;\n        _width = w - diffw;\n        _height = h - diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        if (_top >= h - 9) {\n          _top = h;\n        }\n        if (_left >= w - 9) {\n          _left = w;\n        }\n        console.log('[point1]', _top, h);\n        dom.style.left = _left + 'px';\n        dom.style.top = _top + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.height = _height + 'px';\n      } else if (dataId == 'point2') {\n        _left = -diffw;\n        _top = 0;\n        _width = w + diffw;\n        _height = h + diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n\n        if (_left >= w - 9) {\n          _left = w;\n        }\n\n        dom.style.left = _left + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.top = _top + 'px';\n        dom.style.height = _height + 'px';\n      } else if (dataId == 'point3') {\n        _left = 0;\n        _top = diffh;\n        _width = w - diffw;\n        _height = h - diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        if (_top >= h - 9) {\n          _top = h;\n        }\n\n        dom.style.top = _top + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.left = _left + 'px';\n        dom.style.height = _height + 'px';\n      } else if (dataId == 'point4') {\n        _left = 0;\n        _top = 0;\n        _width = w + diffw;\n        _height = h + diffh;\n        if (_width <= 0) {\n          _width = 6;\n        }\n        if (_height <= 0) {\n          _height = 6;\n        }\n        dom.style.left = _left + 'px';\n        dom.style.top = _top + 'px';\n        dom.style.width = _width + 'px';\n        dom.style.height = _height + 'px';\n      }\n\n      dom.style.lineHeight = dom.style.height;\n    }\n  };\n\n  const fn2 = () => {\n    setIsResizing(false);\n    document.removeEventListener('mousemove', fn);\n    document.removeEventListener('mouseup', fn2);\n\n    isDrawing = false;\n    onDrawing(isDrawing);\n    x = 0;\n    y = 0;\n    Transforms.setNodes(editor, { width: dom.style.width, height: dom.style.height } as any);\n    setWidth(dom.style.width);\n    setHeight(dom.style.height);\n    clientRect = {};\n    dom.style.display = 'none';\n    dom.style.left = '0px';\n    dom.style.top = '0px';\n\n    setTimeout(() => {\n      setCache(editor.docId, 'videoMouseIsDown', false);\n      setShow(false);\n    });\n  };\n  const _onMouseDown = e => {\n    if (!editor) return;\n    setIsResizing(true);\n    const path = ReactEditor.findPath(editor, element);\n\n    Transforms.select(editor, path);\n\n    setCache(editor.docId, 'videoMouseIsDown', true);\n    console.log('[_onMouseDown]', e.target.getAttribute('id'));\n    x = e.clientX;\n    y = e.clientY;\n    isDrawing = true;\n    onDrawing(isDrawing);\n    document.addEventListener('mousemove', fn);\n    document.addEventListener('mouseup', fn2);\n    dom = e.target.parentNode;\n    dom.style.display = 'block';\n    clientRect = dom.getBoundingClientRect();\n    percent = clientRect.height / clientRect.width;\n    dataId = e.target.getAttribute('data-id');\n  };\n  const _onMouseUp = e => {};\n  const _onMouseMove = e => {};\n\n  useEffect(() => {}, [isShow]);\n  return (\n    <div\n      style={style0}\n      className=\"videoContainer\"\n      contentEditable={false}\n      onMouseEnter={() => {\n        const videoMouseLeaveTimeout = getCache(editor.docId, 'videoMouseLeaveTimeout');\n        clearTimeout(videoMouseLeaveTimeout);\n        setShow(true);\n      }}\n      onMouseLeave={() => {\n        const videoMouseLeaveTimeout = setTimeout(() => {\n          if (!getCache(editor.docId, 'videoMouseIsDown')) {\n            setShow(false);\n          }\n        }, 1500);\n        setCache(editor.docId, 'videoMouseLeaveTimeout', videoMouseLeaveTimeout);\n      }}\n    >\n      {!isReadOnly && (\n        <div\n          contentEditable={false}\n          data-ignore-slate\n          className={cx('mask', 'ignore-toggle-readonly')}\n          style={{\n            background: 'black',\n            opacity: 0.5,\n            color: 'white',\n            position: 'absolute',\n            display: isShow ? 'block' : 'none',\n            textAlign: 'center',\n            justifyContent: 'center',\n            alignItems: 'center',\n            padding: 20,\n            bottom: 0,\n            right: 0,\n            left: 0,\n            top: 0,\n            zIndex: isResizing ? 9 : 0,\n            outline: '1px solid rgb(24, 144, 255)',\n          }}\n        >\n          <>\n            <div\n              id={element.id + 'point1'}\n              style={style1}\n              onMouseDown={_onMouseDown}\n              onMouseUp={_onMouseUp}\n              onMouseMove={_onMouseMove}\n              className={'dot'}\n              data-id=\"point1\"\n            ></div>\n            <div\n              id={element.id + 'point2'}\n              style={style2}\n              onMouseDown={_onMouseDown}\n              onMouseUp={_onMouseUp}\n              onMouseMove={_onMouseMove}\n              className={'dot'}\n              data-id=\"point2\"\n            ></div>\n            <div\n              id={element.id + 'point3'}\n              style={style3}\n              onMouseDown={_onMouseDown}\n              onMouseUp={_onMouseUp}\n              onMouseMove={_onMouseMove}\n              className={'dot'}\n              data-id=\"point3\"\n            ></div>\n            <div\n              id={element.id + 'point4'}\n              style={style4}\n              onMouseDown={_onMouseDown}\n              onMouseUp={_onMouseUp}\n              onMouseMove={_onMouseMove}\n              className={'dot'}\n              data-id=\"point4\"\n            ></div>\n          </>\n        </div>\n      )}\n\n      <Overlay\n        show={isShow}\n        docId={editor?.docId || ''}\n        placement=\"top\"\n        overlayRefDom={overlayRefDom}\n        left={overlayRefRect?.left}\n        distance={38}\n        bordered\n      >\n        <div\n          className={cx(\n            'overlay-button-wrap',\n            css`\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n            `\n          )}\n        >\n          {}\n          <GeneralOverlayButton\n            title={f('copy')}\n            icon={<IconBtn className=\"Tripdocs-duplicate\" style={{ fontSize: '15px' }} />}\n            onMouseDown={e => {\n              e.preventDefault();\n              copyVideo(editor, element);\n            }}\n          />\n          {!isReadOnly && (\n            <GeneralOverlayButton\n              title={f('delete')}\n              icon={<IconBtn className=\"Tripdocs-delete\" style={{ fontSize: '15px' }} />}\n              onMouseDown={e => {\n                e.preventDefault();\n                const path = ReactEditor.findPath(editor, element);\n                if (path) {\n                  Transforms.removeNodes(editor, { at: path });\n                  console.log('[delete]', path);\n                }\n              }}\n            />\n          )}\n        </div>\n      </Overlay>\n      <SlateVideo2 element={element} editor={editor} attributes={attributes} setShow={setShow} data-ignore-slate isResizing={isResizing} />\n    </div>\n  );\n}\nexport function copyVideo(editor: ReactEditor, element: Node) {\n  const path = ReactEditor.findPath(editor, element);\n\n  const startPoint = Editor.end(editor, Editor.previous(editor, { at: path })[1]);\n  const endPoint = Editor.start(editor, Editor.next(editor, { at: path })[1]);\n  Transforms.select(editor, { anchor: startPoint, focus: endPoint });\n  setTimeout(() => {\n    document.execCommand('copy');\n  });\n}\n\nexport const insertVideo = (editor: ReactEditor, url: string, source: string = '') => {\n  let selection, path;\n  if ((selection = getSlateSlection(editor.docId))) {\n    path = selection.focus.path;\n  }\n  const parentPath = getParentPathByTypes(editor, path, TABBABLE_TYPES);\n  const nextPath = Path.next(parentPath);\n  const nextPath2 = Path.next(nextPath);\n  console.log('[nextPath]: ', path, nextPath);\n\n  insertCard(editor, { type: ELTYPE.VIDEO, url: url, source: source, children: [{ text: '' }] }, nextPath);\n\n  Transforms.insertNodes(editor, { type: 'paragraph', children: [{ text: '' }] } as Node, {\n    at: nextPath2,\n  });\n};\n\nexport const SlateVideo2: React.FC<any> = ({ isResizing, element }: VideoProps) => {\n  const { url, source, width, height } = element;\n  const mWidth = width && parseInt(width.split('px')[0]);\n  const mHeight = height && parseInt(height.split('px')[0]);\n\n  const [iframeSrc, setIframeSrc] = useState('');\n\n  useEffect(() => {\n    const isYouku = url?.indexOf('youku.com') > -1;\n    const isBilibili = url?.indexOf('bilibili.com') > -1;\n    let src = source || '';\n    if (isYouku) {\n      src = 'https://player.youku.com/embed/' + url.split('/id_').pop().split('.html?').shift();\n    } else if (isBilibili) {\n      src = 'https://player.bilibili.com/player.html?bvid=' + url.split('/').pop().split('?').shift() + '&page=1';\n    } else if (typeof source === 'undefined') {\n      alert('暂不支持显示该内容');\n      return;\n    }\n    setIframeSrc(src);\n  }, []);\n\n  return (\n    <div style={{ position: 'relative' }}>\n      <div\n        style={{\n          userSelect: 'none',\n          display: 'flex',\n          justifyContent: 'revert',\n          margin: 5,\n          pointerEvents: isResizing ? 'none' : 'auto',\n        }}\n        className={cx('videoContainer', 'ignore-toggle-readonly')}\n        contentEditable={false}\n        data-ignore-slate\n      >\n        {iframeSrc ? (\n          <iframe\n            style={{ background: '#ccc' }}\n            height={(mHeight || (640 / 16) * 9) - 10}\n            width={(mWidth || 640) - 10}\n            scrolling=\"no\"\n            className={'ignore-toggle-readonly'}\n            data-testid=\"ne-thirdparty-reader-iframe\"\n            src={iframeSrc}\n            data-ignore-slate\n          ></iframe>\n        ) : (\n          <div\n            className={cx(\n              'ignore-toggle-readonly',\n              css`\n                color: #096dd9;\n                cursor: pointer;\n\n                border-radius: 4px;\n                padding: 10px 5px;\n\n                &:hover {\n                  background-color: #f0f0f0;\n                }\n                &:before {\n                  content: '📄';\n                  margin-right: 8px;\n                }\n              `\n            )}\n          >\n            文件上传失败，请重试\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","import { Editor, Node, NodeEntry, Path, Point, Range, Transforms } from '../../../slate-packages/slate';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { DOMNode, isDOMNode } from '../../../slate-packages/slate-react/utils/dom';\nimport hotkeys from '../../../slate-packages/slate-react/utils/hotkeys';\nimport { ELTYPE } from '../config';\n\nexport const withVideo = (editor: any) => {\n  const { deleteBackward, isBlockCard, insertBreak, insertText, deleteForward, deleteFragment, removeMark } = editor;\n\n  editor.insertBreak = () => {\n    const domSelection = window.getSelection();\n    const anchorNode = domSelection.anchorNode;\n\n    if (domSelection && domSelection.isCollapsed && hasCardTarget(anchorNode)) {\n      const isLeftCursor = ReactEditor.isCardLeft(anchorNode);\n\n      const cardEntry = toSlateCardEntry(editor, anchorNode);\n      const cursorRootPath = cardEntry[1];\n\n      Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as Node, {\n        at: isLeftCursor ? cursorRootPath : Path.next(cursorRootPath),\n      });\n\n      if (!isLeftCursor) {\n        Transforms.select(editor, Path.next(cursorRootPath));\n      }\n      return;\n    }\n    insertBreak();\n  };\n  editor.isBlockCard = (element: any) => {\n    if (element.type === ELTYPE.VIDEO) {\n      return true;\n    }\n    return isBlockCard(element);\n  };\n\n  editor.deleteBackward = (unit: any) => {\n    const domSelection = window.getSelection();\n    const anchorNode = domSelection.anchorNode;\n    if (domSelection && domSelection.isCollapsed && hasCardTarget(anchorNode)) {\n      const isLeftCursor = ReactEditor.isCardLeft(anchorNode);\n      const cardEntry = toSlateCardEntry(editor, anchorNode);\n      const cursorRootPath = cardEntry[1];\n      if (isLeftCursor) {\n        Transforms.select(editor, Editor.before(editor, cursorRootPath));\n        deleteBackward(unit);\n        return;\n      } else {\n        Transforms.removeNodes(editor, { at: cursorRootPath });\n        Transforms.insertNodes(\n          editor,\n          {\n            type: ELTYPE.PARAGRAPH,\n            children: [{ text: '' }],\n          } as Node,\n          {\n            at: cursorRootPath,\n          }\n        );\n        Transforms.select(editor, cursorRootPath);\n        return;\n      }\n    }\n    deleteBackward(unit);\n  };\n  return editor;\n};\n\nfunction hasCardTarget(node: any) {\n  return node && (node.parentElement.hasAttribute('card-target') || (node instanceof HTMLElement && node.hasAttribute('card-target')));\n}\n\nfunction toSlateCardEntry(editor: any, node: DOMNode): NodeEntry {\n  const element = node.parentElement.closest('.sla-block-card-element')?.querySelector('[card-target=\"card-center\"]').firstElementChild;\n  const slateNode = ReactEditor.toSlateNode(editor, element);\n  const path = ReactEditor.findPath(editor, slateNode);\n  return [slateNode, path];\n}\n\nexport function onVideoKeydown(event: any, editor: ReactEditor) {\n  if (true) {\n    return;\n  }\n}\n\nfunction anchorBlockEntry(editor: ReactEditor, at?: Path | Point): NodeEntry<any> | undefined {\n  if (!at && isBlockCardCursor(editor)) {\n    at = getBlockCardCenterCursor(editor);\n  }\n  const entry = Editor.above<any>(editor, {\n    match: (n: any) => Editor.isBlock(editor, n),\n    at,\n  });\n  return entry;\n}\n\nfunction isBlockCardCursor(editor: ReactEditor) {\n  return editor.selection.anchor.offset < 0;\n}\nfunction getBlockCardCenterCursor(editor: ReactEditor) {\n  return Editor.start(editor, editor.selection.anchor.path);\n}\n\nfunction focusBlockEntry(editor: ReactEditor, at?: Path | Point): NodeEntry<any> {\n  if (!at && isBlockCardCursor(editor)) {\n    at = getBlockCardCenterCursor(editor);\n  }\n  return Editor.above<any>(editor, {\n    match: (n: any) => Editor.isBlock(editor, n),\n    at: at || editor.selection.focus,\n  });\n}\n\nconst isTargetInsideVoid = (editor: ReactEditor, target: EventTarget | null): boolean => {\n  const slateNode = hasTarget(editor, target) && ReactEditor.toSlateNode(editor, target);\n  return Editor.isVoid(editor, slateNode);\n};\n\nconst hasTarget = (editor: ReactEditor, target: EventTarget | null): target is DOMNode => {\n  return isDOMNode(target) && ReactEditor.hasDOMNode(editor, target);\n};\n","import { Editor } from '@src/components/slate-packages/slate';\nimport { HEADING_TYPES, LIST_TYPES } from './config';\nimport { getEditorEventEmitter } from './table/selection';\n\nlet timeout = null;\nlet flag = null;\n\nexport const withAnchor = (editor: any) => {\n  const { insertData, apply, isVoid } = editor;\n\n  editor.insertData = (data: any) => {\n    insertData(data);\n  };\n\n  editor.isVoid = (element: any) => {\n    if (element?.type?.indexOf('heading') === 0) {\n      if (!(window as any).anchorPoint) {\n        (window as any).anchorPoint = {};\n      }\n    }\n    return isVoid(editor);\n  };\n\n  editor.apply = (op: any) => {\n    apply(op);\n\n    let node = null;\n    if (['insert_text', 'remove_text', 'merge_node'].includes(op.type)) {\n      const { path, text } = op;\n      const entry = Editor.parent(editor, path);\n      const parent: any = entry && entry[0];\n      node = parent;\n    }\n\n    if (['insert_node', 'remove_node'].includes(op.type)) {\n      node = op.node;\n    }\n\n    if (op.type === 'split_node') {\n      node = op.properties;\n    }\n\n    const isSetNodesChange = op.type === 'set_node' && op.path?.length === 1 && isHeading(editor, op.path);\n    const isOtherChange =\n      node && node.type && (HEADING_TYPES.includes(node.type) || (HEADING_TYPES.includes(node.oldType) && LIST_TYPES.includes(node.type)));\n    if (isSetNodesChange || isOtherChange) {\n      if (!flag) {\n        flag = true;\n        timeout = setTimeout(() => {\n          console.log('[withAnchor apply] updateOutlineAnchor', op);\n          getEditorEventEmitter(editor.docId).emit('updateOutlineAnchor', editor.docId);\n          flag = false;\n        }, 200);\n      }\n    }\n  };\n  return editor;\n};\n\nfunction isHeading(editor, path) {\n  const entry = Editor.node(editor, path);\n  const node: any = entry && entry[0];\n  return node && (HEADING_TYPES.includes(node.type) || HEADING_TYPES.includes(node.oldType));\n}\n","import * as slate from './models/slate';\nimport * as mdast from './models/mdast';\nimport { uniqueId } from 'lodash';\nimport { v4 as anchorId } from 'uuid';\nimport { createCard } from '../Card';\nimport { createRandomId, createUUID } from '../../../../utils/randomId';\nimport { ELTYPE } from '../config';\nimport { Node } from '../../../slate-packages/slate';\nimport { createParagraph as createParagraph2 } from '../deserializers/deserialize';\n\nexport type Decoration = {\n  [key in (mdast.Emphasis | mdast.Strong | mdast.Delete | mdast.InlineCode)['type']]?: true;\n};\n\nexport function mdastToSlate(node: mdast.Root): slate.Node[] {\n  return createSlateRoot(node);\n}\n\nfunction createSlateRoot(root: mdast.Root): slate.Node[] {\n  return convertNodes(root.children, {});\n}\n\nfunction convertNodes(nodes: mdast.Content[], deco: Decoration, id?: string, level?: number, ordered?: boolean): slate.Node[] {\n  if (nodes.length === 0) {\n    return [{ text: '' }];\n  }\n\n  return nodes.reduce<slate.Node[]>((acc, node) => {\n    const slateNodes = createSlateNode(node, deco, id, level, ordered);\n    for (let i = 0; i < slateNodes.length; i++) {\n      const el = slateNodes[i];\n      el.anchorId = createRandomId();\n    }\n    acc.push(...slateNodes);\n\n    return acc;\n  }, []);\n}\n\nfunction createSlateNode(node: mdast.Content, deco: Decoration, id?: string, level?: number, ordered?: boolean): SlateNode[] {\n  switch (node.type) {\n    case 'paragraph':\n      return [...createParagraph(node, deco)];\n    case 'heading':\n      return [createHeading(node, deco)];\n    case 'thematicBreak':\n      return [createThematicBreak(node)];\n    case 'blockquote':\n      return [createBlockquote(node, deco)];\n    case 'list':\n      console.log('createList', node);\n      return createList(node, deco, id, level);\n    case 'listItem':\n      node.type = ELTYPE.ULLIST as any;\n      return createListItem(node, deco, id, level, ordered);\n    case 'table':\n      return [createTable(node, deco)];\n    case 'tableRow':\n      return [createTableRow(node, deco)];\n    case 'tableCell':\n      return [createTableCell(node, deco)];\n    case 'html':\n      return [createHtml(node)];\n    case 'code':\n      return [createCode(node)];\n    case 'yaml':\n      return [createYaml(node)];\n    case 'toml':\n      return [createToml(node)];\n    case 'definition':\n      return [createDefinition(node)];\n    case 'footnoteDefinition':\n      return [createFootnoteDefinition(node, deco)];\n    case 'text':\n      return [createText(node.value, deco)];\n    case 'emphasis':\n    case 'strong':\n    case 'delete': {\n      let { type, children } = node;\n      if (type === 'emphasis') {\n        type = 'italic' as any;\n      }\n      if (type === 'strong') {\n        type = 'bold' as any;\n      }\n      if (type === 'delete') {\n        type = 'strikethrough' as any;\n      }\n      return children.reduce<SlateNode[]>((acc, n) => {\n        acc.push(...createSlateNode(n, { ...deco, [type]: true }));\n        return acc;\n      }, []);\n    }\n    case 'inlineCode': {\n      let { type, value } = node;\n      if (type === 'inlineCode') {\n        type = 'code' as any;\n      }\n      return [createText(value, { ...deco, [type]: true })];\n    }\n    case 'break':\n      return [createBreak(node)];\n    case 'link':\n      const link = createLink(node, deco);\n\n      return Array.isArray(link) ? link : [link];\n    case 'image':\n      return [createImage(node)];\n    case 'linkReference':\n      return [createLinkReference(node, deco)];\n    case 'imageReference':\n      return [createImageReference(node)];\n    case 'footnote':\n      return [createFootnote(node, deco)];\n    case 'footnoteReference':\n      return [createFootnoteReference(node)];\n    case 'math':\n      return [createMath(node)];\n    case 'inlineMath':\n      return [createInlineMath(node)];\n    default:\n      const _: never = node;\n      break;\n  }\n  return [];\n}\n\nexport type Paragraph = ReturnType<typeof createParagraph>;\n\nfunction createParagraph(node: mdast.Paragraph, deco: Decoration): any | any[] {\n  const { type, children } = node;\n  if (children.some(it => it.type === 'image')) {\n    const nodesArr = [];\n    for (let i = 0; i < children.length; i++) {\n      let el = children[i];\n      let node: SlateNode;\n      if (el.type === 'text') {\n        node = [\n          {\n            type: 'paragraph' as any,\n            children: createSlateNode(el, deco),\n          },\n        ];\n      } else {\n        node = createSlateNode(el, deco);\n      }\n      nodesArr.push(...node);\n    }\n    return nodesArr;\n  }\n  return [\n    {\n      type,\n      children: convertNodes(children, deco),\n    },\n  ];\n}\n\nexport type Heading = ReturnType<typeof createHeading>;\n\nfunction createHeading(node: mdast.Heading, deco: Decoration) {\n  const { type, children, depth } = node;\n  let numArr = new Array('zero', 'one', 'two', 'three', 'four', 'five', 'six', 'sever', 'eight', 'nine');\n  return {\n    type: type + '-' + numArr[depth],\n    children: convertNodes(children, deco),\n  };\n}\nexport type ThematicBreak = ReturnType<typeof createThematicBreak>;\n\nfunction createThematicBreak(node: mdast.ThematicBreak) {\n  return createCard({\n    type: 'hr',\n    children: [{ text: '' }],\n  });\n}\n\nexport type Blockquote = ReturnType<typeof createBlockquote>;\n\nfunction createBlockquote(node: mdast.Blockquote, deco: Decoration) {\n  const node2 = {\n    type: 'block-quote',\n    children: convertNodes(node.children, deco),\n  };\n  for (let i = 0; i < node2.children.length; i++) {\n    const el: any = node2.children[i];\n    el.type = 'block-quote';\n  }\n  return node2;\n}\n\nexport type List = ReturnType<typeof createList>;\n\nfunction createList(node: mdast.List, deco: Decoration, id?: string, level?: number) {\n  const { type, children, ordered, start, spread } = node;\n  console.log('createList', children);\n  return convertNodes(children, deco, id || createRandomId(), level, ordered);\n}\n\nexport type ListItem = ReturnType<typeof createListItem>;\n\nexport function getNodeString(node: Node & any): string {\n  if (node?.type === 'text') {\n    return typeof node.value === 'string' ? (node.value as string) : '';\n  } else {\n    if (Array.isArray(node)) {\n      return node.map(getNodeString).join('');\n    } else if (Array.isArray(node?.children)) {\n      return node.children?.map(getNodeString).join('');\n    } else {\n      return '';\n    }\n  }\n}\n\nfunction createListItem(node: mdast.ListItem, deco: Decoration, id?: string, level?: number, ordered?: boolean) {\n  const { type, children, checked, spread } = node;\n  let newLevel = level || 0;\n  const pNode: any = children.shift() || { children: [] };\n\n  if (children.length === 0) {\n    return [\n      {\n        type: ordered ? ELTYPE.OLLIST : ELTYPE.ULLIST,\n\n        children: pNode?.children?.map(it => {\n          const node = createSlateNode(it, deco, id, level, ordered);\n          return Array.isArray(node) ? node[0] : node;\n        }),\n        tabLevel: newLevel,\n        id: id || createRandomId(),\n        elId: createUUID(),\n        checked,\n        spread,\n      },\n    ];\n  } else {\n    return [\n      {\n        type: ordered ? ELTYPE.OLLIST : ELTYPE.ULLIST,\n        children: [{ text: getNodeString(pNode as any) }],\n        tabLevel: newLevel,\n        id: id || createRandomId(),\n        elId: createUUID(),\n        checked,\n        spread,\n      },\n      ...convertNodes(children, deco, createRandomId(), newLevel + 1),\n    ];\n  }\n}\n\nexport type Table = ReturnType<typeof createTable>;\n\nfunction createTable(node: mdast.Table, deco: Decoration) {\n  const { type, children, align } = node;\n  console.log('createTable children', children);\n  const tableObject = getTableOptions(children);\n  let table = createCard({\n    type,\n\n    ...tableObject,\n\n    children: convertNodes(children, deco),\n    align,\n  });\n  table = JSON.parse(JSON.stringify(table).replaceAll('66px', tableObject.hwEach[0][0]));\n\n  return table;\n}\n\nfunction getTableOptions(children: mdast.TableRow[]): { row: number; column: number; hwEach: string[][] } {\n  let tableObject = { row: 0, column: 0, hwEach: [] };\n  tableObject.row = children.length;\n  tableObject.column = children[0].children.length;\n  for (let i = 0; i < tableObject.row; i++) {\n    tableObject.hwEach.push(new Array(tableObject.column).fill(Math.floor(652 / tableObject.column) + 'px'));\n  }\n  return tableObject;\n}\n\nexport type TableRow = ReturnType<typeof createTableRow>;\n\nfunction createTableRow(node: mdast.TableRow, deco: Decoration) {\n  const { type, children } = node;\n  return {\n    type: 'table-row',\n    height: '33px',\n    children: convertNodes(children, deco),\n  };\n}\n\nexport type TableCell = ReturnType<typeof createTableCell>;\n\nfunction createTableCell(node: mdast.TableCell, deco: Decoration) {\n  const { type, children } = node;\n  return {\n    type: 'table-cell',\n    key: createRandomId(),\n    selectedCell: false,\n    width: '66px',\n    children: [\n      {\n        type: 'paragraph',\n        children: convertNodes(children, deco),\n      },\n    ],\n  };\n}\n\nexport type Html = ReturnType<typeof createHtml>;\n\nfunction createHtml(node: mdast.HTML) {\n  const { type, value } = node;\n  return {\n    type,\n    children: [{ text: value }],\n  };\n}\n\nexport type Code = ReturnType<typeof createCode>;\n\nfunction createCode(node: mdast.Code) {\n  const { type, value, lang, meta } = node;\n  const dataCardID = encodeURI(anchorId());\n  return createCard({\n    type: 'code-block',\n    'data-codeblock-id': dataCardID,\n    children: [{ text: '' }],\n    'data-card-value': encodeURI(`{\"data\": { \"mode\": \"JavaScript\", \"code\": \"${encodeURI('\\n' + value)}\", \"id\": \"${dataCardID}\" }}`),\n  });\n}\n\nexport type Yaml = ReturnType<typeof createYaml>;\n\nfunction createYaml(node: mdast.YAML) {\n  const { type, value } = node;\n  return {\n    type: ELTYPE.BLOCK_QUOTE,\n    children: [{ text: value }],\n  };\n}\n\nexport type Toml = ReturnType<typeof createToml>;\n\nfunction createToml(node: mdast.TOML) {\n  const { type, value } = node;\n  return {\n    type,\n    children: [{ text: value }],\n  };\n}\n\nexport type Math = ReturnType<typeof createMath>;\n\nfunction createMath(node: mdast.Math) {\n  const { type, value } = node;\n  return {\n    type,\n    children: [{ text: value }],\n  };\n}\n\nexport type InlineMath = ReturnType<typeof createInlineMath>;\n\nfunction createInlineMath(node: mdast.InlineMath) {\n  const { type, value } = node;\n  return {\n    type,\n    children: [{ text: value }],\n  };\n}\n\nexport type Definition = ReturnType<typeof createDefinition>;\n\nfunction createDefinition(node: mdast.Definition) {\n  const { type, identifier, label, url, title } = node;\n  return {\n    type,\n    identifier,\n    label,\n    url,\n    title,\n    children: [{ text: '' }],\n  };\n}\n\nexport type FootnoteDefinition = ReturnType<typeof createFootnoteDefinition>;\n\nfunction createFootnoteDefinition(node: mdast.FootnoteDefinition, deco: Decoration) {\n  const { type, children, identifier, label } = node;\n  return {\n    type,\n    children: convertNodes(children, deco),\n    identifier,\n    label,\n  };\n}\n\nexport type Text = ReturnType<typeof createText>;\n\nfunction createText(text: string, deco: Decoration) {\n  return {\n    ...deco,\n    text,\n  };\n}\n\nexport type Break = ReturnType<typeof createBreak>;\n\nfunction createBreak(node: mdast.Break) {\n  return {\n    type: node.type,\n    children: [{ text: '' }],\n  };\n}\n\nexport type Link = ReturnType<typeof createLink>;\n\nfunction createLink(node: mdast.Link, deco: Decoration) {\n  const { type, children, url, title } = node;\n  console.log('createLink', node);\n  const link = {\n    type: 'edit-link',\n    children: convertNodes(children, deco),\n\n    href: url,\n    title,\n  };\n  const child: any[] = link.children;\n\n  if (child.length > 0 && child[0]?.type === ELTYPE.INLINEIMAGE) {\n    link.children = [{ text: link.href }];\n    return [child[0], link];\n  }\n\n  return link;\n}\n\nexport type Image = ReturnType<typeof createImage>;\n\nfunction createImage(node: mdast.Image) {\n  const { type, url, title, alt } = node;\n\n  return {\n    type: ELTYPE.INLINEIMAGE,\n    linkSource: url,\n    title,\n    alt,\n    children: [{ text: '' }],\n  };\n}\nexport type LinkReference = ReturnType<typeof createLinkReference>;\n\nfunction createLinkReference(node: mdast.LinkReference, deco: Decoration) {\n  const { type, children, referenceType, identifier, label } = node;\n  return {\n    type,\n    children: convertNodes(children, deco),\n    referenceType,\n    identifier,\n    label,\n  };\n}\n\nexport type ImageReference = ReturnType<typeof createImageReference>;\n\nfunction createImageReference(node: mdast.ImageReference) {\n  const { type, alt, referenceType, identifier, label } = node;\n  return {\n    type,\n    alt,\n    referenceType,\n    identifier,\n    label,\n    children: [{ text: '' }],\n  };\n}\n\nexport type Footnote = ReturnType<typeof createFootnote>;\n\nfunction createFootnote(node: mdast.Footnote, deco: Decoration) {\n  const { type, children } = node;\n  return {\n    type,\n    children: convertNodes(children, deco),\n  };\n}\n\nexport type FootnoteReference = ReturnType<typeof createFootnoteReference>;\n\nfunction createFootnoteReference(node: mdast.FootnoteReference) {\n  const { type, identifier, label } = node;\n  return {\n    type,\n    identifier,\n    label,\n    children: [{ text: '' }],\n  };\n}\n\nexport type SlateNode =\n  | Paragraph\n  | Heading\n  | ThematicBreak\n  | Blockquote\n  | List\n  | ListItem\n  | Table\n  | TableRow\n  | TableCell\n  | Html\n  | Code\n  | Yaml\n  | Toml\n  | Definition\n  | FootnoteDefinition\n  | Text\n  | Break\n  | Link\n  | Image\n  | LinkReference\n  | ImageReference\n  | Footnote\n  | FootnoteReference\n  | Math\n  | InlineMath;\n","import { Editor, Node, Transforms } from '@src/components/slate-packages/slate';\nimport { ELTYPE } from '@src/components/docs/plugins/config';\n\nimport { getArrFromArrByKey } from './faster';\nimport { createRandomId } from './randomId';\nimport { getNodeString } from '@src/components/docs/plugins/transformers/mdast-to-slate';\nimport { message } from 'antd';\nimport { normMsg } from '@src/components/docs/plugins/withNormalize';\n\nexport interface ELEMENTNODE {\n  children?: ELEMENTNODE[];\n  type?: string;\n  [key: string]: any;\n}\nexport function isVoidChildren(children: any[]) {\n  return children.length === 1 && children[0].type === undefined && children[0].text === '';\n}\n\nexport function delTopElement(editor: Editor, path: number[]) {\n  Transforms.removeNodes(editor, { at: [path[0]] });\n}\n\nexport function isNodeChildrenIsTargetType(children: ELEMENTNODE[], type?: string | any[], index?: number) {\n  if (type) {\n    return (\n      Array.isArray(children) &&\n      children.length &&\n      children.every((item: ELEMENTNODE) => {\n        if (typeof type === 'string') {\n          return item.type === type;\n        } else if (Array.isArray(type)) {\n          let t = index || 0;\n          if (typeof type[t] === 'string' || type[t] === undefined) {\n            const result = type[t] === item.type;\n            if (result && type.length === t + 1) {\n              return true;\n            } else if (result && type.length < t + 1) {\n              return isNodeChildrenIsTargetType(item.children, type, t + 1);\n            }\n\n            return false;\n          } else if (Array.isArray(type[t])) {\n            const result = type[t].includes(item.type);\n            if (result && type.length === t + 1) {\n              return true;\n            } else if (result && type.length < t + 1) {\n              return isNodeChildrenIsTargetType(item.children, type, t + 1);\n            }\n\n            return false;\n          } else {\n            console.error('isNodeChildrenIsTargetType err', children, type, index);\n\n            return false;\n          }\n        }\n      })\n    );\n  }\n  return Array.isArray(children) && children.length;\n}\n\nexport function isNodeChildrenIsNotNull(children: ELEMENTNODE[]) {\n  return children.length !== 0;\n}\nexport function isNodeChildrenHasTargetType(children: ELEMENTNODE[], typeObj?: any | any[], path: number[] = []) {\n  if (typeObj) {\n    const curPath = [...path];\n    const t = curPath.length;\n    if (typeof typeObj === 'object' && !Array.isArray(typeObj)) {\n      if (\n        typeObj.require &&\n        !children.some((i, num) => {\n          return typeObj.type === i.type;\n        })\n      ) {\n        return {\n          requireType: typeObj.type,\n          path: curPath,\n          result: false,\n        };\n      }\n    } else if (Array.isArray(typeObj) && typeObj[t]) {\n      let requireTypes = [];\n\n      if (typeObj[t].require && !children.some(i => typeObj[t].type === i.type)) {\n        return {\n          requireType: typeObj[t].type,\n          path: curPath,\n          result: false,\n        };\n      } else if (Array.isArray(typeObj[t])) {\n        requireTypes = typeObj[t].filter(i => {\n          return i.require;\n        });\n        const types = getArrFromArrByKey(requireTypes, 'type');\n        const result = types.includes(typeObj[t].type);\n        if (!result) {\n          return {\n            requireType: typeObj[t].type,\n            path: curPath,\n            result: false,\n          };\n        }\n      }\n      if (typeObj.length < t + 1) {\n        for (let i = 0; i < children.length; i++) {\n          const item = children[i];\n          if (item.children) {\n            const result = isNodeChildrenHasTargetType(item.children, typeObj, curPath.concat(i));\n\n            if (!result.result) {\n              return result;\n            }\n          } else {\n            return {\n              requireType: typeObj[t].type,\n              path: curPath.concat(i),\n              result: false,\n            };\n          }\n        }\n      }\n    }\n  }\n\n  return {\n    result: true,\n  };\n}\nexport function delChildrenComponent(editor: Editor, children: any[], path: number[]) {\n  Editor.withoutNormalizing(editor, () => {\n    Transforms.removeNodes(editor, {\n      at: path,\n    });\n\n    Transforms.insertNodes(\n      editor,\n      { type: ELTYPE.TABLE_CELL, key: createRandomId(), children: [{ type: ELTYPE.PARAGRAPH, children: [{ text: '' }] }] } as any,\n      {\n        at: path,\n      }\n    );\n  });\n}\n\nexport function delChildrenNotAllowComponent(editor: Editor, children: any[], componentsOk: string[], path: number[], defaultChildren?: any) {\n  let count = children.length;\n  for (let i = children.length - 1; i >= 0; i--) {\n    const el = children[i];\n    if (!componentsOk.includes(el?.type)) {\n      const tPath = path.concat([i]);\n      console.log('delChildrenNotAllowComponent', el, children, tPath);\n\n      if (Editor.hasPath(editor, tPath)) {\n        if (count === 1) {\n          const dNode = defaultChildren || { text: getNodeString(children) };\n          Transforms.insertNodes(editor, dNode, { at: calcNextPath(tPath) });\n        }\n        Transforms.delete(editor, { at: tPath });\n        count--;\n      }\n    }\n  }\n}\n\nfunction calcNextPath(path: number[]) {\n  return [...path.slice(0, -1), path[path.length - 1] + 1];\n}\n\nexport function setPTagChildrenNotAllowComponent(editor: Editor, children: any[], componentsOk: string[], path: number[]) {\n  if (children.length === 0) {\n    Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as any, { at: path.concat(0) });\n    return;\n  }\n\n  for (let i = 0; i < children.length; i++) {\n    const el = children[i];\n    if (!componentsOk.includes(el?.type)) {\n      const tPath = path.concat([i]);\n      console.log('delChildrenNotAllowComponent', children, tPath);\n\n      Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: Node.string(el) || '' }] }, { at: tPath });\n    }\n  }\n}\n","import { Editor, Element, Node, Path, Transforms } from '@src/components/slate-packages/slate';\nimport {\n  delChildrenNotAllowComponent,\n  delTopElement,\n  ELEMENTNODE,\n  isNodeChildrenIsTargetType,\n  setPTagChildrenNotAllowComponent,\n} from '@src/utils/normalize';\nimport { ELTYPE, inCardEL, TABBABLE_TYPES } from '../config';\n\nexport function normalizeCard(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path]: any = entry;\n\n  const parentEntry = Editor.parent(editor, path);\n  const [parentNode, parentPath]: any = parentEntry;\n\n  if ([ELTYPE.CARD, ELTYPE.CARD_PRE, ELTYPE.CARD_SUF].includes(node.type) && [...TABBABLE_TYPES].includes(parentNode.type)) {\n    Transforms.unwrapNodes(editor, { at: parentPath });\n    return false;\n  }\n\n  const { type, children } = node;\n\n  if (parentNode.type === ELTYPE.CARD) {\n    if (verifyCardChildNum(editor, parentNode, parentPath)) {\n      return;\n    }\n  }\n\n  if (Element.isElement(node) && type === ELTYPE.CARD) {\n    if (node.children.length < 3) {\n      delTopElement(editor, path);\n      return true;\n    }\n\n    if (verifyCardChildNum(editor, node, path)) {\n      return true;\n    }\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      setPTagChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  } else if (Element.isElement(node) && [ELTYPE.CARD_PRE, ELTYPE.CARD_SUF].includes(type)) {\n    if (parentNode.type !== ELTYPE.CARD) {\n      Transforms.delete(editor, { at: path });\n      Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: Node.string(node) || '' }] } as Node, { at: path });\n      return true;\n    }\n\n    if ((node.children?.[0] as any)?.text !== '' || node.children?.length > 1) {\n      Transforms.delete(editor, { at: path });\n      Transforms.insertNodes(editor, { type: type, children: [{ text: '' }] } as Node, { at: path });\n      Transforms.select(editor, path[0] > 0 ? [path[0] - 1] : [0]);\n      Transforms.collapse(editor, { edge: 'end' });\n      return true;\n    }\n  }\n\n  return false;\n}\nconst cardChildCom = [ELTYPE.CARD_PRE, ELTYPE.CARD_SUF];\nconst cardWrap = inCardEL;\nconst componentsOk = [...cardChildCom, ...cardWrap];\n\nfunction verifyCardChildNum(editor: Editor, parentNode: any, curPath: Path): boolean {\n  if (parentNode.children.length !== 3 || !(parentNode.children[0]?.type === ELTYPE.CARD_PRE && parentNode.children[2]?.type === ELTYPE.CARD_SUF)) {\n    for (let i = 0; i < parentNode.children.length; i++) {\n      const el = parentNode.children[i];\n      Transforms.removeNodes(editor, { at: [...curPath] });\n      if (cardWrap.includes(el.type)) {\n        Transforms.insertNodes(\n          editor,\n          {\n            type: ELTYPE.CARD,\n            children: [{ type: ELTYPE.CARD_PRE, children: [{ text: '' }] }, el, { type: ELTYPE.CARD_SUF, children: [{ text: '' }] }],\n          } as any,\n          { at: [...curPath] }\n        );\n\n        return true;\n      }\n    }\n  }\n  return false;\n}\n","export default {\n  elements: [\n    {\n      type: 'rectangle',\n      version: 221,\n      versionNonce: 916426177,\n      isDeleted: false,\n      id: 'oDVXy8D6rom3H1-LLH2-f',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'dotted',\n      roughness: 2,\n      opacity: 100,\n      angle: 0,\n      x: 414.50390625,\n      y: 95.67578125,\n      strokeColor: '#000000',\n      backgroundColor: '#868e96',\n      width: 186.47265625,\n      height: 141.9765625,\n      seed: 234619535,\n      groupIds: [],\n      strokeSharpness: 'round',\n      boundElements: [],\n      updated: 1654508655603,\n      link: null,\n    },\n    {\n      type: 'ellipse',\n      version: 56,\n      versionNonce: 577205857,\n      isDeleted: true,\n      id: '-xMIs_0jIFqvpx-R9UnaG',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      angle: 0,\n      x: 300.5703125,\n      y: 190.69140625,\n      strokeColor: '#000000',\n      backgroundColor: 'transparent',\n      width: 198.21875,\n      height: 129.51171875,\n      seed: 957947807,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      boundElements: [],\n      updated: 1654508559248,\n      link: null,\n    },\n    {\n      type: 'image',\n      version: 152,\n      versionNonce: 851074095,\n      isDeleted: true,\n      id: 'sWYdvFk3dGOd_pnInTHHz',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      angle: 0,\n      x: 606.1042326312408,\n      y: 153.57729779411773,\n      strokeColor: 'transparent',\n      backgroundColor: 'transparent',\n      width: 231.30325348751828,\n      height: 231.64340533088227,\n      seed: 707269846,\n      groupIds: [],\n      strokeSharpness: 'round',\n      boundElements: [],\n      updated: 1654508559248,\n      link: null,\n      status: 'pending',\n      fileId: 'rocket',\n      scale: [1, 1],\n    },\n    {\n      type: 'ellipse',\n      version: 24,\n      versionNonce: 835453505,\n      isDeleted: true,\n      id: 'qy46TlF50W6kgDYyFrYlX',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      angle: 0,\n      x: 857,\n      y: 106,\n      strokeColor: '#000000',\n      backgroundColor: 'transparent',\n      width: 259,\n      height: 119,\n      seed: 1104497038,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      boundElements: [],\n      updated: 1654508559248,\n      link: null,\n    },\n    {\n      type: 'ellipse',\n      version: 21,\n      versionNonce: 580714063,\n      isDeleted: true,\n      id: 'X7mfE2VCs4uc9_pZI52lQ',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      angle: 0,\n      x: 445,\n      y: 93,\n      strokeColor: '#000000',\n      backgroundColor: 'transparent',\n      width: 86,\n      height: 52,\n      seed: 847449746,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      boundElements: [],\n      updated: 1654508559248,\n      link: null,\n    },\n    {\n      type: 'text',\n      version: 109,\n      versionNonce: 544477729,\n      isDeleted: true,\n      id: 'D7XW76zdrEtEFQbY2W9G9',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 90,\n      angle: 0,\n      x: 440,\n      y: 116,\n      strokeColor: '#e67700',\n      backgroundColor: 'transparent',\n      width: 141,\n      height: 40,\n      seed: 45945934,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      boundElements: [],\n      updated: 1654508559248,\n      link: null,\n      fontSize: 28,\n      fontFamily: 1,\n      text: '欢迎使用！',\n      baseline: 30,\n      textAlign: 'center',\n      verticalAlign: 'top',\n      containerId: null,\n      originalText: '欢迎使用！',\n    },\n    {\n      id: 'CxfxLPqTKvkbZoqDjUrT4',\n      type: 'text',\n      x: 433,\n      y: 138,\n      width: 66,\n      height: 28,\n      angle: 0,\n      strokeColor: '#e67700',\n      backgroundColor: 'transparent',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      seed: 1030149775,\n      version: 107,\n      versionNonce: 1557486433,\n      isDeleted: false,\n      boundElements: null,\n      updated: 1654508617309,\n      link: null,\n      text: '1、单击',\n      fontSize: 20,\n      fontFamily: 1,\n      textAlign: 'left',\n      verticalAlign: 'top',\n      baseline: 21,\n      containerId: null,\n      originalText: '1、单击',\n    },\n    {\n      id: 'DHWvA0mKBH44MorgN0eVr',\n      type: 'text',\n      x: 510,\n      y: 155,\n      width: 41,\n      height: 28,\n      angle: 0,\n      strokeColor: '#000000',\n      backgroundColor: '#868e96',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      seed: 527946497,\n      version: 68,\n      versionNonce: 1129260545,\n      isDeleted: true,\n      boundElements: null,\n      updated: 1654508559248,\n      link: null,\n      text: '编辑',\n      fontSize: 20,\n      fontFamily: 1,\n      textAlign: 'left',\n      verticalAlign: 'top',\n      baseline: 21,\n      containerId: null,\n      originalText: '编辑',\n    },\n    {\n      id: 'NOnyQLED3pHfOpE-5fNkF',\n      type: 'text',\n      x: 429,\n      y: 171,\n      width: 76,\n      height: 28,\n      angle: 0,\n      strokeColor: '#e67700',\n      backgroundColor: '#868e96',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      seed: 1127911663,\n      version: 173,\n      versionNonce: 724574945,\n      isDeleted: false,\n      boundElements: null,\n      updated: 1654508627757,\n      link: null,\n      text: '2、双击',\n      fontSize: 20,\n      fontFamily: 1,\n      textAlign: 'left',\n      verticalAlign: 'top',\n      baseline: 21,\n      containerId: null,\n      originalText: '2、双击',\n    },\n    {\n      id: 'GNXiynfrLw-chi82UnR40',\n      type: 'text',\n      x: 419.50390625,\n      y: 154.1640625,\n      width: 176,\n      height: 25,\n      angle: 0,\n      strokeColor: '#c92a2a',\n      backgroundColor: '#868e96',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      seed: 2023986735,\n      version: 11,\n      versionNonce: 427248623,\n      isDeleted: true,\n      boundElements: null,\n      updated: 1654508558663,\n      link: null,\n      text: '进行拖拽',\n      fontSize: 20,\n      fontFamily: 1,\n      textAlign: 'center',\n      verticalAlign: 'middle',\n      baseline: 18,\n      containerId: 'oDVXy8D6rom3H1-LLH2-f',\n      originalText: '进行拖拽',\n    },\n    {\n      id: 'W0DHRrbnRRPZTsReS4SUE',\n      type: 'text',\n      x: 419.50390625,\n      y: 154.1640625,\n      width: 176,\n      height: 25,\n      angle: 0,\n      strokeColor: '#c92a2a',\n      backgroundColor: '#868e96',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      seed: 1639363343,\n      version: 21,\n      versionNonce: 626834913,\n      isDeleted: true,\n      boundElements: null,\n      updated: 1654508559248,\n      link: null,\n      text: '进行编辑',\n      fontSize: 20,\n      fontFamily: 1,\n      textAlign: 'center',\n      verticalAlign: 'middle',\n      baseline: 18,\n      containerId: 'oDVXy8D6rom3H1-LLH2-f',\n      originalText: '进行编辑',\n    },\n    {\n      type: 'text',\n      version: 202,\n      versionNonce: 673917537,\n      isDeleted: false,\n      id: 'H2g0aCN7qHGu5ffi6gRN4',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      angle: 0,\n      x: 503,\n      y: 138,\n      strokeColor: '#000000',\n      backgroundColor: 'transparent',\n      width: 81,\n      height: 28,\n      seed: 2100289231,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      boundElements: [],\n      updated: 1654508635036,\n      link: null,\n      fontSize: 20,\n      fontFamily: 1,\n      text: '进行拖拽',\n      baseline: 21,\n      textAlign: 'left',\n      verticalAlign: 'top',\n      containerId: null,\n      originalText: '进行拖拽',\n    },\n    {\n      type: 'text',\n      version: 214,\n      versionNonce: 794533537,\n      isDeleted: false,\n      id: 'z9MIow-6IbD9Msk9vgNlp',\n      fillStyle: 'hachure',\n      strokeWidth: 1,\n      strokeStyle: 'solid',\n      roughness: 1,\n      opacity: 100,\n      angle: 0,\n      x: 506,\n      y: 171,\n      strokeColor: '#000000',\n      backgroundColor: '#868e96',\n      width: 81,\n      height: 28,\n      seed: 506062287,\n      groupIds: [],\n      strokeSharpness: 'sharp',\n      boundElements: [],\n      updated: 1654508631470,\n      link: null,\n      fontSize: 20,\n      fontFamily: 1,\n      text: '进行编辑',\n      baseline: 21,\n      textAlign: 'left',\n      verticalAlign: 'top',\n      containerId: null,\n      originalText: '进行编辑',\n    },\n  ],\n};\n","import { exportToSvg } from '@excalidraw/excalidraw';\nimport { ExcalidrawElement, NonDeleted } from '@excalidraw/excalidraw/types/element/types';\nimport { AppState } from '@excalidraw/excalidraw/types/types';\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\n\ntype ImageType = 'svg' | 'canvas';\n\ntype Props = {\n  appState?: Partial<Omit<AppState, 'offsetTop' | 'offsetLeft'>> | null;\n\n  className?: string;\n\n  elements: NonDeleted<ExcalidrawElement>[];\n\n  height?: number | null;\n\n  imageContainerRef: { current: null | HTMLDivElement };\n\n  imageType?: ImageType;\n\n  rootClassName?: string | null;\n\n  width?: number | null;\n};\n\nconst removeStyleFromSvg_HACK = svg => {\n  const styleTag = svg?.firstElementChild?.firstElementChild;\n\n  const viewBox = svg.getAttribute('viewBox');\n  if (viewBox != null) {\n    const viewBoxDimentions = viewBox.split(' ');\n    svg.setAttribute('width', viewBoxDimentions[2]);\n    svg.setAttribute('height', viewBoxDimentions[3]);\n  }\n\n  if (styleTag && styleTag.tagName === 'style') {\n    styleTag.remove();\n  }\n};\n\nexport default function ExcalidrawImage({ elements, imageContainerRef, appState = null, rootClassName = null, width, height }: Props): JSX.Element {\n  const [Svg, setSvg] = useState<Element | null>(null);\n\n  useEffect(() => {\n    const setContent = async () => {\n      const svg: Element = await exportToSvg({\n        appState,\n        elements,\n        files: null,\n      });\n      removeStyleFromSvg_HACK(svg);\n\n      svg.setAttribute('data-ignore-slate', 'true');\n      svg.setAttribute('width', '100%');\n      svg.setAttribute('height', '100%');\n      svg.setAttribute('display', 'block');\n\n      setSvg(svg);\n    };\n    setContent();\n  }, [elements, appState]);\n\n  return (\n    <div\n      style={{\n        width: width,\n        height: height,\n      }}\n      data-ignore-slate={true}\n      ref={imageContainerRef}\n      className={rootClassName ?? ''}\n      dangerouslySetInnerHTML={{ __html: Svg?.outerHTML ?? '' }}\n    />\n  );\n}\n","import * as React from 'react';\nimport { useRef } from 'react';\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\nconst Direction = {\n  east: 1 << 0,\n  north: 1 << 3,\n  south: 1 << 1,\n  west: 1 << 2,\n};\n\nexport default function ImageResizer({\n  onResizeStart,\n  onResizeEnd,\n  imageRef,\n  maxWidth,\n  editor,\n  showCaption,\n  setShowCaption,\n}: {\n  editor: any;\n  imageRef: { current: null | HTMLElement };\n  maxWidth?: number;\n  onResizeEnd: (width: 'inherit' | number, height: 'inherit' | number) => void;\n  onResizeStart: () => void;\n  setShowCaption: (boolean) => void;\n  showCaption: boolean;\n}): JSX.Element {\n  const buttonRef = useRef(null);\n  const positioningRef = useRef<{\n    currentHeight: 'inherit' | number;\n    currentWidth: 'inherit' | number;\n    direction: number;\n    isResizing: boolean;\n    ratio: number;\n    startHeight: number;\n    startWidth: number;\n    startX: number;\n    startY: number;\n  }>({\n    currentHeight: 0,\n    currentWidth: 0,\n    direction: 0,\n    isResizing: false,\n    ratio: 0,\n    startHeight: 0,\n    startWidth: 0,\n    startX: 0,\n    startY: 0,\n  });\n\n  const editorRootElement = document.getElementById('editorContainer-' + editor.docId);\n\n  const maxWidthContainer = maxWidth ? maxWidth : editorRootElement !== null ? editorRootElement.getBoundingClientRect().width - 20 : 100;\n  const maxHeightContainer = editorRootElement !== null ? editorRootElement.getBoundingClientRect().height - 20 : 100;\n\n  const minWidth = 100;\n  const minHeight = 100;\n\n  const setStartCursor = (direction: number) => {\n    const ew = direction === Direction.east || direction === Direction.west;\n    const ns = direction === Direction.north || direction === Direction.south;\n    const nwse = (direction & Direction.north && direction & Direction.west) || (direction & Direction.south && direction & Direction.east);\n\n    const cursorDir = ew ? 'ew' : ns ? 'ns' : nwse ? 'nwse' : 'nesw';\n\n    if (editorRootElement !== null) {\n      editorRootElement.style.setProperty('cursor', `${cursorDir}-resize`, 'important');\n    }\n    if (document.body !== null) {\n      document.body.style.setProperty('cursor', `${cursorDir}-resize`, 'important');\n    }\n  };\n\n  const setEndCursor = () => {\n    if (editorRootElement !== null) {\n      editorRootElement.style.setProperty('cursor', 'default');\n    }\n    if (document.body !== null) {\n      document.body.style.setProperty('cursor', 'default');\n    }\n  };\n\n  const handlePointerDown = (event: React.PointerEvent<HTMLDivElement>, direction: number) => {\n    const image = imageRef.current;\n    if (image !== null) {\n      const { width, height } = image.getBoundingClientRect();\n      const positioning = positioningRef.current;\n      positioning.startWidth = width;\n      positioning.startHeight = height;\n      positioning.ratio = width / height;\n      positioning.currentWidth = width;\n      positioning.currentHeight = height;\n      positioning.startX = event.clientX;\n      positioning.startY = event.clientY;\n      positioning.isResizing = true;\n      positioning.direction = direction;\n\n      setStartCursor(direction);\n      onResizeStart();\n\n      image.style.height = `${height}px`;\n      image.style.width = `${width}px`;\n\n      document.addEventListener('pointermove', handlePointerMove);\n      document.addEventListener('pointerup', handlePointerUp);\n    }\n  };\n  const handlePointerMove = (event: PointerEvent) => {\n    const image = imageRef.current;\n    const positioning = positioningRef.current;\n\n    const isHorizontal = positioning.direction & (Direction.east | Direction.west);\n    const isVertical = positioning.direction & (Direction.south | Direction.north);\n\n    if (image !== null && positioning.isResizing) {\n      if (isHorizontal && isVertical) {\n        let diff = Math.floor(positioning.startX - event.clientX);\n        diff = positioning.direction & Direction.east ? -diff : diff;\n\n        const width = clamp(positioning.startWidth + diff, minWidth, maxWidthContainer);\n\n        const height = width / positioning.ratio;\n        image.style.width = `${width}px`;\n        image.style.height = `${height}px`;\n        positioning.currentHeight = height;\n        positioning.currentWidth = width;\n      } else if (isVertical) {\n        let diff = Math.floor(positioning.startY - event.clientY);\n        diff = positioning.direction & Direction.south ? -diff : diff;\n\n        const height = clamp(positioning.startHeight + diff, minHeight, maxHeightContainer);\n\n        image.style.height = `${height}px`;\n        positioning.currentHeight = height;\n      } else {\n        let diff = Math.floor(positioning.startX - event.clientX);\n        diff = positioning.direction & Direction.east ? -diff : diff;\n\n        const width = clamp(positioning.startWidth + diff, minWidth, maxWidthContainer);\n\n        image.style.width = `${width}px`;\n        positioning.currentWidth = width;\n      }\n    }\n  };\n  const handlePointerUp = () => {\n    const image = imageRef.current;\n    const positioning = positioningRef.current;\n    if (image !== null && positioning.isResizing) {\n      const width = positioning.currentWidth;\n      const height = positioning.currentHeight;\n      positioning.startWidth = 0;\n      positioning.startHeight = 0;\n      positioning.ratio = 0;\n      positioning.startX = 0;\n      positioning.startY = 0;\n      positioning.currentWidth = 0;\n      positioning.currentHeight = 0;\n      positioning.isResizing = false;\n\n      setEndCursor();\n      onResizeEnd(width, height);\n\n      document.removeEventListener('pointermove', handlePointerMove);\n      document.removeEventListener('pointerup', handlePointerUp);\n    }\n  };\n  return (\n    <>\n      {!showCaption && (\n        <button\n          contentEditable={false}\n          data-ignore-slate={true}\n          className=\"image-caption-button\"\n          ref={buttonRef}\n          onClick={() => {\n            setShowCaption(!showCaption);\n          }}\n        >\n          Add Caption\n        </button>\n      )}\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-n\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.north);\n        }}\n      />\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-ne\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.north | Direction.east);\n        }}\n      />\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-e\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.east);\n        }}\n      />\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-se\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.south | Direction.east);\n        }}\n      />\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-s\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.south);\n        }}\n      />\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-sw\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.south | Direction.west);\n        }}\n      />\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-w\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.west);\n        }}\n      />\n      <div\n        contentEditable={false}\n        data-ignore-slate={true}\n        className=\"image-resizer image-resizer-nw\"\n        onPointerDown={event => {\n          handlePointerDown(event, Direction.north | Direction.west);\n        }}\n      />\n    </>\n  );\n}\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { v4 as anchorId } from 'uuid';\nimport { Transforms, Node, Path } from '@src/components/slate-packages/slate';\nimport { insertCard } from '../Card';\nimport { ELTYPE } from '../config';\nimport initialData from './initialData';\nimport Sidebar from './Sidebar/Sidebar';\nimport ExcalidrawImage from './ExcalidrawImage';\nimport ImageResizer from './ImageResizer';\nimport { getEditorEventEmitter } from '../table/selection';\n\nimport './index.less';\nimport Excalidraw, { exportToCanvas, exportToSvg, exportToBlob } from '@excalidraw/excalidraw';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\n\nimport $ from 'jquery';\nimport { SlateInlineImage } from '../InlineImage/inlineImagePlugins';\n\nexport const ExcalidrawDomNode = ({ attributes, children, element, editor, newProps }) => {\n  const imageContainerRef = useRef<HTMLImageElement | null>(null);\n  const buttonRef = useRef<HTMLButtonElement | null>(null);\n  const [isSelected, setSelected] = useState(false);\n  const [isResizing, setIsResizing] = useState<boolean>(false);\n  const [elements, setElements] = useState(element.elements.length ? element.elements : initialData.elements);\n  const excalidrawSetIsModalClose = elements => {\n    getEditorEventEmitter(editor.docId).off('excalidrawSetIsModalClose', excalidrawSetIsModalClose, editor.docId);\n    if (elements) {\n      setElements(elements);\n      const buttonPath = ReactEditor.findPath(editor, ReactEditor.toSlateNode(editor, buttonRef.current.parentNode));\n      Transforms.setNodes(\n        editor,\n        { elements: elements },\n        {\n          at: buttonPath,\n        }\n      );\n    }\n  };\n  const scrollRefClick = event => {\n    const buttonElem = buttonRef.current;\n    const eventTarget = event.target;\n\n    if (isResizing) {\n      return true;\n    }\n\n    if (buttonElem !== null && buttonElem.contains(eventTarget)) {\n      event.preventDefault();\n\n      event.stopPropagation();\n      if (!event.shiftKey) {\n      }\n      setSelected(!isSelected);\n      if (event.detail > 1) {\n        getEditorEventEmitter(editor.docId).on('excalidrawSetIsModalClose', excalidrawSetIsModalClose, editor.docId);\n        getEditorEventEmitter(editor.docId).emit('excalidrawSetIsModalOpen', editor.docId, elements);\n      }\n      return true;\n    } else {\n      setSelected(false);\n    }\n\n    return false;\n  };\n\n  useEffect(() => {\n    getEditorEventEmitter(editor.docId).on('scrollRefClick', scrollRefClick, editor.docId);\n    return () => {\n      getEditorEventEmitter(editor.docId).off('scrollRefClick', scrollRefClick, editor.docId);\n    };\n  }, [isSelected]);\n\n  const onResizeStart = () => {\n    setIsResizing(true);\n  };\n\n  const onResizeEnd = (nextWidth, nextHeight) => {\n    getEditorEventEmitter(editor.docId).off('scrollRefClick', scrollRefClick, editor.docId);\n    setTimeout(() => {\n      setIsResizing(false);\n      const $imageContainerRef = $(imageContainerRef.current);\n      const width = nextWidth + 'px';\n      const height = nextHeight + 'px';\n      const $editoImage = $imageContainerRef.closest('.editor-image');\n      const editoImagePath = ReactEditor.findPath(editor, ReactEditor.toSlateNode(editor, $editoImage[0]));\n\n      Transforms.setNodes(editor, { width: width, height: height } as Partial<Node>, {\n        at: editoImagePath,\n      });\n\n      getEditorEventEmitter(editor.docId).on('scrollRefClick', scrollRefClick, editor.docId);\n    }, 200);\n  };\n\n  console.log('[scrollRefClick]isSelected', isSelected, isResizing);\n  return (\n    <span className=\"editor-image-container\">\n      <div className=\"ignore-toggle-readonly\" contentEditable={false} data-ignore-slate={true}>\n        {elements.length > 0 && (\n          <div {...attributes} className=\"editor-image\">\n            <button data-ignore-slate={true} ref={buttonRef} className={`ignore-toggle-readonly excalidraw-button ${isSelected ? 'selected' : ''}`}>\n              <ExcalidrawImage\n                imageContainerRef={imageContainerRef}\n                className=\"image\"\n                elements={elements}\n                width={element.width}\n                height={element.height}\n              />\n              {(isSelected || isResizing) && (\n                <ImageResizer\n                  showCaption={true}\n                  setShowCaption={() => null}\n                  imageRef={imageContainerRef}\n                  editor={editor}\n                  onResizeStart={onResizeStart}\n                  onResizeEnd={onResizeEnd}\n                />\n              )}\n            </button>\n          </div>\n        )}\n      </div>\n    </span>\n  );\n};\n\nexport const ExcalidrawSlateNode = (editor: any, selectionFocusPath: Path = editor.selection.focus.path) => {\n  console.log('[ExcalidrawSlateNode]', editor.selection);\n  Transforms.insertNodes(\n    editor,\n    {\n      type: ELTYPE.EXCALIDRAW,\n      width: '200px',\n      height: '200px',\n      elements: [],\n      children: [{ text: '123' }],\n    } as Node,\n    { at: editor.selection }\n  );\n};\n\nexport const withExcalidraw = (editor: any) => {\n  const { isVoid, insertData, deleteBackward, deleteForward, deleteFragment, isInline, apply, setFragmentData } = editor;\n  editor.isInline = (element: Element) => {\n    return (element as any).type === ELTYPE.EXCALIDRAW ? true : isInline(element);\n  };\n  editor.isVoid = (element: any) => {\n    return element.type === ELTYPE.EXCALIDRAW ? true : isVoid(editor);\n  };\n  return editor;\n};\nexport function normalizeExcalidraw(editor, entry) {\n  const [node, path] = entry;\n\n  return false;\n}\n","import { Element, Transforms, Node, Editor, Text } from '@src/components/slate-packages/slate';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { normalizeBlockQuote } from './BlockQuote/normalizeBlockQuote';\nimport { normalizeCard } from './Card/normalizeCard';\nimport { normalizeCodeBlock } from './CodeBlock/normalizeCodeBlock';\nimport { ELTYPE, inCardEL, INLINE_TYPES } from './config';\nimport { normalizeDivide } from './Divide/normalizeDivide';\nimport { normalizeLink } from './EditLink/normalizeLink';\nimport { normalizeExcalidraw } from './Excalidraw';\nimport { normalizeFile } from './File/normalizeFile';\nimport { normalizeImage } from './Image/normalizeImage';\nimport { normalizeInlineImage } from './InlineImage/normalizeInlineImage';\nimport { normalizeMetion } from './Mention/normalizeMetion';\nimport { normalizeHeadings } from './normalizeHeadings';\nimport { normalizeParagraph } from './normalizeParagraph';\nimport { normalizeOLULList } from './OLULList/normalizeOLULList';\nimport { normalizeTable, normalizeTableCell, normalizeTableRow } from './table/normalizeTable';\nimport { normalizeTodoList } from './TodoList/normalizeTodoList';\nimport { normalizeVideo } from './Video/normalizeVideo';\nimport { message } from 'antd';\n\nexport function normMsg() {}\n\nexport const withNormalizeNode = (editor: any) => {\n  const { normalizeNode, insertData } = editor;\n  const inlineNodeTypeArr = [\n    ELTYPE.MENTION,\n    ELTYPE.PARAGRAPH,\n    ELTYPE.HEADING_SIX,\n    ELTYPE.HEADING_FIVE,\n    ELTYPE.HEADING_FOUR,\n    ELTYPE.HEADING_THREE,\n    ELTYPE.HEADING_TWO,\n    ELTYPE.HEADING_ONE,\n    ELTYPE.LINK,\n  ];\n  editor.insertData = data => {\n    insertData(data);\n  };\n  editor.normalizeNode = (entry: any) => {\n    const [node, path] = entry;\n    if (!node || !path) {\n      return;\n    }\n    if (getCache(editor.docId, 'options').isMdEditor) {\n      return;\n    }\n\n    if (path?.length === 0) {\n      const { children } = node;\n      if (!!children && children?.length !== 0) {\n        for (let i = 0; i < children.length; i++) {\n          const child: any = children[i];\n          if (!child.type || !!child.text) {\n            Transforms.removeNodes(editor, { at: [i] });\n            normMsg();\n            return;\n          }\n        }\n      }\n    }\n\n    if (typeof node.text === 'string' && Array.isArray(node.children)) {\n      const newChildren = node.children;\n      const newText = node.text;\n      Transforms.insertNodes(editor, [{ text: newText }], { at: path });\n      const next: number[] = [...path.slice(0, -1), path[path.length - 1] + 1];\n      normMsg();\n      Transforms.removeNodes(editor, { at: next });\n    }\n\n    if (Element.isElement(node)) {\n      if (normalizeLink(editor, entry)) {\n        return;\n      }\n\n      if (Element.isElement(node) && (node as any).type === 'inlineImage') {\n        Transforms.setNodes(editor, { type: ELTYPE.INLINEIMAGE } as Partial<Node>, { at: path });\n        return;\n      } else if (Array.isArray(node.children) && node.children.length === 0 && [...inCardEL, ...INLINE_TYPES].includes((node as any).type)) {\n        console.log('[normalizeNode] 孩子节点为空数组的结构，直接干掉', node, path[0]);\n        Transforms.delete(editor, { at: path });\n        normMsg();\n      }\n\n      if (normalizeTable(editor, entry)) {\n        console.log('normalizeTable');\n        normMsg();\n        return;\n      }\n\n      if (normalizeTableCell(editor, entry)) {\n        normMsg();\n        console.log('normalizeTableCell');\n        return;\n      }\n      if (normalizeExcalidraw(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeDivide(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeCodeBlock(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeTodoList(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeFile(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeImage(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeInlineImage(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeVideo(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeMetion(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeBlockQuote(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeHeadings(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeOLULList(editor, entry)) {\n        normMsg();\n        return;\n      }\n      if (normalizeCard(editor, entry)) {\n        normMsg();\n        console.log('normalizeCard');\n        return;\n      }\n      if (normalizeParagraph(editor, entry)) {\n        return;\n      }\n    } else {\n      if (!node.children) {\n        if (!node.text) {\n          if (node.code) {\n            console.log('--------------------------');\n            Transforms.setNodes(editor, { code: undefined } as any, { at: path });\n          }\n        } else if (!!(node as any).type) {\n          console.log('[normalizeNode] 单独的文本节点，直接干掉', node, path[0]);\n          normMsg();\n          Transforms.delete(editor, { at: path });\n        }\n      }\n    }\n\n    normalizeNode(entry);\n  };\n\n  return editor;\n};\n","import { Editor, Element, Node, Transforms } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeLink(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.LINK) {\n    const textNode = children.find(item => typeof item.text === 'string');\n    const isTextEmpty = textNode && ['', '%EF%BB%BF'].includes(encodeURIComponent(textNode.text));\n\n    if (isTextEmpty) {\n      const hasWrappedElement = isTextEmpty && children.find(item => typeof item.type !== 'undefined');\n      if (hasWrappedElement) {\n        Transforms.unwrapNodes(editor, { at: path });\n        return true;\n      }\n\n      Transforms.delete(editor, { at: [...path] });\n      return true;\n    }\n    const componentsOk = [undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Node, Transforms } from '@src/components/slate-packages/slate';\nimport {\n  delChildrenNotAllowComponent,\n  delTopElement,\n  ELEMENTNODE,\n  isNodeChildrenIsNotNull,\n  isNodeChildrenIsTargetType,\n  setPTagChildrenNotAllowComponent,\n} from '@src/utils/normalize';\nimport { ELTYPE, HEADING_TYPES } from '../config';\n\nexport function normalizeTable(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.TABLE) {\n    if (!isNodeChildrenIsTargetType(children, [ELTYPE.TABLE_ROW])) {\n      console.log('isNodeChildrenIsTargetType', entry, children, [ELTYPE.TABLE_ROW]);\n\n      delChildrenNotAllowComponent(editor, children, [ELTYPE.TABLE_ROW], path);\n      return true;\n    }\n    if (!isNodeChildrenIsNotNull(children)) {\n      let tRow, tCol;\n      const { row, column, hwEach } = node as any;\n      if ((row && column) || (hwEach.length && hwEach[0].length)) {\n        tRow = row || hwEach.length;\n        tCol = column || hwEach[0].length;\n        const rows = new Array(tRow).fill({\n          type: ELTYPE.TABLE_ROW,\n          children: new Array(tCol).fill({ type: ELTYPE.TABLE_CELL, children: [{ type: ELTYPE.PARAGRAPH, children: [{ text: '' }] }] }),\n        });\n        Transforms.insertNodes(editor, rows, {\n          at: path,\n        });\n      } else {\n        Transforms.insertNodes(\n          editor,\n          {\n            type: ELTYPE.TABLE_ROW,\n            children: [{ type: ELTYPE.TABLE_CELL, children: [{ type: ELTYPE.PARAGRAPH, children: [{ text: '' }] }] }],\n          } as any,\n          {\n            at: path,\n          }\n        );\n      }\n\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function normalizeTableRow(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.TABLE_ROW) {\n    if (!isNodeChildrenIsTargetType(children, [ELTYPE.TABLE_CELL])) {\n      delTopElement(editor, path);\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function normalizeTableCell(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.TABLE_CELL) {\n    const componentsOk = [ELTYPE.CARD, ELTYPE.OLLIST, ELTYPE.ULLIST, ELTYPE.TODO_LIST, ELTYPE.PARAGRAPH, ELTYPE.BLOCK_QUOTE, ...HEADING_TYPES];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      setPTagChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Transforms } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeDivide(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.DIVIDE) {\n    const componentsOk = [undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE, HEADING_TYPES } from '../config';\n\nexport function normalizeTodoList(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.TODO_LIST) {\n    const componentsOk = [undefined, ...HEADING_TYPES, ELTYPE.LINK, ELTYPE.MENTION, ELTYPE.INLINEIMAGE];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeFile(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.FILE) {\n    const componentsOk = [undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Transforms, Node } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeImage(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.IMAGE) {\n    const componentsOk = [undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Path, Transforms } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeInlineImage(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.INLINEIMAGE) {\n    const componentsOk = [undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n    const parentNodePath = path.slice(0, -1);\n    if (Editor.hasPath(editor, parentNodePath)) {\n      const end = Editor.end(editor, parentNodePath);\n      const isEqual = Path.equals(path, end.path);\n      if (isEqual) {\n        const tPath = [...parentNodePath, path[path.length - 1] + 1];\n        Transforms.insertNodes(editor, { text: '' }, { at: tPath });\n      }\n    }\n  }\n  return false;\n}\n","import { Editor, Element } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeVideo(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.VIDEO) {\n    const componentsOk = [undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeMetion(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.CODE_BLOCK) {\n    const componentsOk = [undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      delChildrenNotAllowComponent(editor, children, componentsOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Node, Transforms } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from '../config';\n\nexport function normalizeBlockQuote(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && type === ELTYPE.BLOCK_QUOTE) {\n    const componentsOk = [undefined, ELTYPE.LINK];\n\n    if (!isNodeChildrenIsTargetType(children, [componentsOk])) {\n      Transforms.removeNodes(editor, { at: path });\n      Transforms.insertNodes(editor, { type: ELTYPE.BLOCK_QUOTE, children: [{ text: Node.string(node) }] } as Node, { at: path });\n\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Transforms } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE, HEADING_TYPES } from './config';\n\nexport function normalizeHeadings(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && HEADING_TYPES.includes(type)) {\n    const componentOk = [ELTYPE.LINK, ELTYPE.MENTION, ELTYPE.INLINEIMAGE, undefined];\n\n    if (!isNodeChildrenIsTargetType(children, [componentOk])) {\n      console.log('isNodeChildrenIsTargetType', false, children);\n      delChildrenNotAllowComponent(editor, children, componentOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Node, Transforms } from '@src/components/slate-packages/slate';\nimport { ELEMENTNODE, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE, HEADING_TYPES } from '../config';\n\nexport function normalizeOLULList(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && [ELTYPE.OLLIST, ELTYPE.ULLIST].includes(type)) {\n    if (!isNodeChildrenIsTargetType(children, [[ELTYPE.LINK, undefined, ...HEADING_TYPES, ELTYPE.MENTION, ELTYPE.INLINEIMAGE]])) {\n      console.log('isNodeChildrenIsTargetType', false, children);\n      Transforms.delete(editor, { at: path });\n      Transforms.insertNodes(editor, { ...node, children: [{ text: Node.string(node) }] }, { at: path });\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element, Node, Transforms } from '@src/components/slate-packages/slate';\nimport { delChildrenNotAllowComponent, ELEMENTNODE, isNodeChildrenIsNotNull, isNodeChildrenIsTargetType } from '@src/utils/normalize';\nimport { ELTYPE } from './config';\n\nexport function normalizeParagraph(editor: Editor, entry: [ELEMENTNODE, number[]]): boolean {\n  const [node, path] = entry;\n\n  const { type, children } = node;\n  if (Element.isElement(node) && (type === ELTYPE.PARAGRAPH || !Object.values(ELTYPE).includes(type))) {\n    const componentOk = [ELTYPE.MENTION, ELTYPE.LINK, ELTYPE.INLINEIMAGE, undefined];\n    if (!isNodeChildrenIsTargetType(children, [componentOk])) {\n      if (!isNodeChildrenIsNotNull(children)) {\n        Transforms.removeNodes(editor, { at: path });\n        Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as Node, { at: path });\n        return true;\n      }\n\n      delChildrenNotAllowComponent(editor, children, componentOk, path);\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Element as SlateElement, Node, Point, Range, Transforms, Path } from '@src/components/slate-packages/slate';\nimport { insertDivide } from '../plugins/Divide';\nimport { ELTYPE, HEADING_TYPES } from './config';\nimport { insertOl } from './OLULList/OlList';\nimport { v4 as anchorId } from 'uuid';\nimport { insertCard } from './Card';\nimport { insertCodeBlock } from './CodeBlock';\nimport { getIsTitle } from '@src/utils/selectionUtils';\nimport { getEditorEventEmitter } from './table/selection';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport storage from '@src/utils/storage';\nimport { createUUID } from '@src/utils/randomId';\n\nconst SHORTCUTS: any = {\n  '1.': ELTYPE.OLLIST,\n  '*': ELTYPE.ULLIST,\n  '-': ELTYPE.ULLIST,\n  '+': ELTYPE.ULLIST,\n  '>': ELTYPE.BLOCK_QUOTE,\n  '#': ELTYPE.HEADING_ONE,\n  '##': ELTYPE.HEADING_TWO,\n  '###': ELTYPE.HEADING_THREE,\n  '####': ELTYPE.HEADING_FOUR,\n  '#####': ELTYPE.HEADING_FIVE,\n  '######': ELTYPE.HEADING_SIX,\n  '---': ELTYPE.DIVIDE,\n  '```': ELTYPE.CODE_BLOCK,\n};\n\nconst MARKDOWN_SIGN: any = {\n  __: 'bold',\n  _: 'italic',\n  '**': 'bold',\n  '*': 'italic',\n  '`': 'code',\n};\n\nfunction getCurrentChar(editor, signLength) {\n  const { selection } = editor;\n  const text = (Node.get(editor, selection.focus.path) as any).text as string;\n  const fOffset = selection.focus.offset;\n  const lastChar = fOffset < text.length ? text.slice(fOffset - signLength, fOffset) : text.slice(-signLength);\n\n  return lastChar;\n}\n\nexport const withShortcuts = (editor: any) => {\n  const { deleteBackward, insertText, insertBreak } = editor;\n\n  editor.insertText = (text: any) => {\n    const { selection } = editor;\n    const isTitle = getIsTitle(editor);\n    if (!isTitle && selection) {\n      const curLeaf: any = Node.get(editor, selection.focus.path);\n      const texts = curLeaf.text as string;\n      if (selection && ReactEditor.hasRange(editor, selection) && selection.focus.path.length !== 5 && !curLeaf.code) {\n        let accContent = '';\n        texts.replace(/(?:\\*{2}([^\\*]+?)\\*{2})|(?:\\*([^\\*]+?)\\*)|(?:\\_{2}([^\\_]+?)\\_{2})|(?:\\_([^\\_]+?)\\_)|(?:\\`([^\\`]+?)\\`)/, (_, inner) => {\n          accContent += inner;\n          return '';\n        });\n\n        if (text === ' ' && selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n          if (accContent.length) {\n            for (const sign in MARKDOWN_SIGN) {\n              const isAtTheEnd = texts.endsWith(sign);\n              if (getCurrentChar(editor, sign.length) === sign) {\n                const reverseArr = texts.split('').reverse();\n                reverseArr.splice(0, sign.length);\n                const reverseTexts = reverseArr.join('');\n\n                if (reverseTexts.indexOf(sign) !== -1) {\n                  const normalPos = texts.indexOf(sign);\n                  const reversePos = reverseTexts.indexOf(sign);\n                  const start = isAtTheEnd ? reverseTexts.length - reversePos : normalPos;\n                  const end = isAtTheEnd ? reverseTexts.length : reverseTexts.length - reversePos;\n                  Transforms.select(editor, {\n                    anchor: { path: selection.anchor.path, offset: start },\n                    focus: { path: selection.focus.path, offset: end },\n                  });\n                  Editor.addMark(editor, MARKDOWN_SIGN[sign], true);\n                  Transforms.collapse(editor, { edge: 'focus' });\n                  if (isAtTheEnd) {\n                    const nextNextPath = Path.next(Path.next(selection.anchor.path));\n\n                    Transforms.delete(editor, {\n                      at: {\n                        anchor: { path: nextNextPath, offset: 0 },\n                        focus: { path: nextNextPath, offset: sign.length },\n                      },\n                    });\n                    Transforms.delete(editor, {\n                      at: {\n                        anchor: { path: selection.anchor.path, offset: start - sign.length },\n                        focus: { path: selection.anchor.path, offset: start },\n                      },\n                    });\n                  } else {\n                    const nextPath = Path.next(selection.anchor.path);\n                    Transforms.delete(editor, {\n                      at: {\n                        anchor: { path: nextPath, offset: end - start - sign.length },\n                        focus: { path: nextPath, offset: end - start },\n                      },\n                    });\n                    Transforms.delete(editor, {\n                      at: {\n                        anchor: { path: nextPath, offset: 0 },\n                        focus: { path: nextPath, offset: sign.length },\n                      },\n                    });\n                  }\n\n                  Editor.removeMark(editor, MARKDOWN_SIGN[sign]);\n                  return;\n                }\n              }\n            }\n          }\n\n          const { anchor } = selection;\n          const block = Editor.above(editor, {\n            match: (n: any) => Editor.isBlock(editor, n),\n          });\n          const path = block ? block[1] : [];\n          const start = Editor.start(editor, path);\n          const range = { anchor, focus: start };\n          const beforeText = Editor.string(editor, range);\n          const type = /^\\d+\\.$/.test(beforeText) ? ELTYPE.OLLIST : SHORTCUTS[beforeText];\n\n          const curEl: any = Node.get(editor, path);\n          const oldType = curEl.type;\n          console.log(`oldType`, type, curEl, oldType);\n          let skip = false;\n          if (editor.selection.anchor.path.length > 4) {\n            if (type === ELTYPE.DIVIDE) {\n              skip = true;\n            }\n          }\n          if (skip) {\n          } else if (type) {\n            Transforms.select(editor, range);\n            Transforms.delete(editor);\n            const newProperties: any = {\n              type,\n            };\n            if (type === ELTYPE.DIVIDE) {\n              insertDivide(editor);\n              const next = [Range.end(editor.selection).path[0] + 1];\n              Transforms.select(editor, next);\n\n              return;\n            }\n\n            if (type === ELTYPE.CODE_BLOCK) {\n              insertCodeBlock(editor, selection.focus.path);\n              return;\n            }\n\n            if (type === ELTYPE.ULLIST) {\n              insertOl(editor, ELTYPE.ULLIST);\n              if (HEADING_TYPES.includes(oldType)) {\n                Transforms.setNodes(\n                  editor,\n                  {\n                    ...newProperties,\n                    oldType,\n                  },\n                  {\n                    match: (n: any) => Editor.isBlock(editor, n),\n                  }\n                );\n              }\n\n              return;\n            }\n\n            if (type === ELTYPE.OLLIST) {\n              if (appandList(editor, type, beforeText)) {\n                return;\n              }\n\n              insertOl(editor, type);\n              if (HEADING_TYPES.includes(oldType)) {\n                Transforms.setNodes(\n                  editor,\n                  {\n                    ...newProperties,\n                    oldType,\n                  },\n                  {\n                    match: (n: any) => Editor.isBlock(editor, n),\n                  }\n                );\n              }\n\n              return;\n            }\n            Transforms.setNodes(editor, newProperties);\n            if (HEADING_TYPES.includes(type)) {\n              getEditorEventEmitter(editor.docId).emit('updateOutlineAnchor', editor.docId);\n            }\n            return;\n          }\n        }\n      }\n    }\n\n    insertText(text);\n  };\n\n  editor.insertBreak = () => {\n    const { selection } = editor;\n    if (selection) {\n      const curNode: any = Node.get(editor, selection.focus.path);\n      const texts = curNode?.text as string;\n\n      for (const sign in MARKDOWN_SIGN) {\n        if (texts.endsWith(sign)) {\n          const reverseArr = texts.split('').reverse();\n          reverseArr.splice(0, sign.length);\n          const reverseTexts = reverseArr.join('');\n          if (reverseTexts.indexOf(sign) !== -1) {\n            const reversePos = reverseTexts.indexOf(sign);\n            const start = reverseTexts.length - reversePos;\n            const end = reverseTexts.length;\n            Transforms.select(editor, {\n              anchor: { path: selection.anchor.path, offset: start },\n              focus: { path: selection.focus.path, offset: end },\n            });\n            Editor.addMark(editor, MARKDOWN_SIGN[sign], true);\n            Transforms.collapse(editor, { edge: 'focus' });\n            for (let i = 0; i < sign.length; i++) {\n              editor.deleteForward('charactor');\n            }\n            Transforms.delete(editor, {\n              at: {\n                anchor: {\n                  path: selection.anchor.path,\n                  offset: start - sign.length,\n                },\n                focus: { path: selection.anchor.path, offset: start },\n              },\n              unit: 'character',\n            });\n            Editor.removeMark(editor, MARKDOWN_SIGN[sign]);\n            insertBreak();\n            return;\n          }\n        }\n      }\n\n      const match = Editor.above(editor, {\n        match: (n: any) => Editor.isBlock(editor, n),\n      });\n    }\n\n    insertBreak();\n  };\n\n  editor.deleteBackward = (...args: any) => {\n    const { selection } = editor;\n\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n      const match = Editor.above(editor, {\n        match: (n: any) => Editor.isBlock(editor, n),\n      });\n\n      deleteBackward(...args);\n    }\n  };\n\n  return editor;\n};\n\nfunction appandList(editor, type, beforeText: string) {\n  const numStr = beforeText?.split('.')?.[0];\n  if (Range.isCollapsed(editor.selection) && numStr && numStr.match(/\\d+/)) {\n    const num = parseInt(numStr);\n    let tPathParent = [];\n    let tPath = editor.selection.anchor.path.slice(0, -1);\n    if (editor.selection.anchor.path.length > 2) {\n      tPathParent = editor.selection.anchor.path.slice(0, -2);\n    }\n    const curNodeEntry = Editor.nodes(editor, {\n      at: tPathParent,\n      match: (n: any, path: number[]) => {\n        return n?.type === ELTYPE.OLLIST && Path.isBefore(path, tPath);\n      },\n      reverse: true,\n    }).next().value;\n    const node = curNodeEntry?.[0];\n    if (node && num === node?.num + 1) {\n      const employee = storage.get('userInfo')?.employee;\n      const id = node.id;\n\n      insertOl(editor, {\n        type: type,\n        tabLevel: 0,\n        num: num,\n        id: id,\n        authCls: 'auth-' + employee,\n        elId: createUUID(),\n      });\n      return true;\n    }\n  }\n  return false;\n}\n","import { Editor, Node, Path, Point, Range } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { rangeisLine, sliceRangToLine } from './selectionUtils';\n\ninterface selectionObj extends Range {\n  rangeId: string;\n  data?: any;\n  jsonRangeId?: any;\n}\n\ninterface selectionObjSlice extends Range {\n  rangeIdList: string[];\n  data?: any;\n  jsonRangeId?: any;\n}\n\nfunction sliceRangeNoRepeateAtOnePath(editor: ReactEditor, aArr: selectionObj[]): selectionObjSlice[] {\n  let newArr: selectionObjSlice[] = [];\n  let lineRangeArr: selectionObj[] = [];\n\n  for (let i = 0; i < aArr.length; i++) {\n    const snippet = aArr[i];\n\n    const range = { anchor: snippet.anchor, focus: snippet.focus };\n    const isLine = rangeisLine(range);\n\n    if (isLine) {\n      lineRangeArr.push({\n        ...snippet,\n        anchor: snippet.anchor,\n        focus: snippet.focus,\n      });\n    } else {\n      const ranges = sliceRangToLine(editor, range);\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        lineRangeArr.push({\n          ...snippet,\n          anchor: range.anchor,\n          focus: range.focus,\n        });\n      }\n    }\n  }\n  for (let i = 0; i < lineRangeArr.length; i++) {\n    const snippet2 = lineRangeArr[i];\n\n    let sliceSnippets: selectionObj[] = [snippet2];\n\n    for (let j = 0; j < lineRangeArr.length; j++) {\n      const cutSnippet = lineRangeArr[j];\n\n      if (snippet2.rangeId !== cutSnippet.rangeId) {\n        sliceSnippets = sliceSnippets\n          .map(tSnippet => {\n            return sliceSnippet(tSnippet, cutSnippet);\n          })\n          .flat();\n      }\n    }\n\n    for (let o = 0; o < sliceSnippets.length; o++) {\n      const newSliceSnippets: selectionObj = sliceSnippets[o];\n      let isAdd = false;\n\n      for (let k = 0; k < newArr.length; k++) {\n        const old = newArr[k];\n        if (Range.equals(old, newSliceSnippets)) {\n          if (!old.rangeIdList.includes(newSliceSnippets.rangeId)) {\n            old.rangeIdList.push(newSliceSnippets.rangeId);\n          }\n          isAdd = true;\n        }\n      }\n      if (!isAdd) {\n        const commentType = newSliceSnippets?.jsonRangeId?.commentType;\n        if (Range.isCollapsed(newSliceSnippets) && !commentType) {\n          continue;\n        }\n        newArr.push({\n          ...newSliceSnippets,\n          anchor: newSliceSnippets.anchor,\n          focus: newSliceSnippets.focus,\n          rangeIdList: [newSliceSnippets.rangeId],\n        });\n      }\n    }\n  }\n  console.log('newArr', newArr);\n  return newArr;\n}\n\nfunction sliceSnippet(snippet: selectionObj, cutSnippet: selectionObj): selectionObj[] {\n  const newArr: selectionObj[] = [];\n  let isStartIn = Range.includes(snippet, cutSnippet.anchor);\n  let isEndIn = Range.includes(snippet, cutSnippet.focus);\n\n  if (isStartIn && isEndIn) {\n    const p1: selectionObj = {\n      ...snippet,\n      anchor: snippet.anchor,\n      focus: cutSnippet.anchor,\n      rangeId: snippet.rangeId,\n    };\n\n    const p2: selectionObj = {\n      ...snippet,\n      anchor: cutSnippet.anchor,\n      focus: cutSnippet.focus,\n      rangeId: snippet.rangeId,\n    };\n\n    const p3: selectionObj = {\n      ...snippet,\n      anchor: cutSnippet.focus,\n      focus: snippet.focus,\n      rangeId: snippet.rangeId,\n    };\n    newArr.push(p1, p2, p3);\n  } else if (isStartIn) {\n    const p1: selectionObj = {\n      ...snippet,\n      anchor: snippet.anchor,\n      focus: cutSnippet.anchor,\n      rangeId: snippet.rangeId,\n    };\n\n    const p2: selectionObj = {\n      ...snippet,\n      anchor: cutSnippet.anchor,\n      focus: snippet.focus,\n      rangeId: snippet.rangeId,\n    };\n\n    newArr.push(p1, p2);\n  } else if (isEndIn) {\n    const p2: selectionObj = {\n      ...snippet,\n      anchor: snippet.anchor,\n      focus: cutSnippet.focus,\n      rangeId: snippet.rangeId,\n    };\n\n    const p3: selectionObj = {\n      ...snippet,\n      anchor: cutSnippet.focus,\n      focus: snippet.focus,\n      rangeId: snippet.rangeId,\n    };\n\n    newArr.push(p2, p3);\n  } else {\n    newArr.push(snippet);\n  }\n  return newArr;\n}\n\nexport { sliceRangeNoRepeateAtOnePath };\nexport type { selectionObj, selectionObjSlice };\n","import { Editor } from '@src/components/slate-packages/slate';\nimport { ErrorMsg } from './types';\n\nexport const SLATE_ERRORS: WeakMap<Editor, ErrorMsg[]> = new WeakMap();\n\nexport const ACTIVE_EDITOR: WeakMap<Window, Editor> = new WeakMap();\n\nexport const IS_RECOVERING_CONTENT: WeakMap<Editor, boolean> = new WeakMap();\n","import { Transforms, Range, Node, Editor, Point } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { ELTYPE, TABBABLE_TYPES } from './config';\nimport { decreaseIndent } from './indent';\nimport { getParentPathByTypes } from './pluginsUtils/getPathUtils';\n\nexport const withTabLevel = (editor: any) => {\n  const { normalizeNode, deleteBackward } = editor;\n\n  editor.deleteBackward = (unit: any) => {\n    console.log('[withTabLevel] deleteBackward', unit);\n    const { selection } = editor;\n\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n      const parentPath = getParentPathByTypes(editor, selection.anchor.path, TABBABLE_TYPES);\n      if (parentPath) {\n        const offset = selection.anchor.offset;\n        const rowNode: any = Node.get(editor, parentPath);\n        const start = Editor.start(editor, parentPath);\n        if (offset === 0 && rowNode.tabLevel && Point.equals(start, selection.anchor)) {\n          decreaseIndent(editor, rowNode, selection);\n          console.log('[withTabLevel] returned ');\n          return;\n        }\n      }\n    }\n\n    deleteBackward(unit);\n  };\n\n  return editor;\n};\n","import { BaseText, Editor, Node, Transforms, Range, Point } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { getStart } from '@src/utils/selectionUtils';\nimport { message } from 'antd';\nimport { ELTYPE, HEADING_TYPES } from './config';\nimport { getParentPathByTypes } from './pluginsUtils/getPathUtils';\n\nexport const withTitleNormalized = (editor: any) => {\n  const { normalizeNode, deleteBackward } = editor;\n\n  editor.deleteBackward = (unit: any) => {\n    if (editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isCollapsed(editor.selection)) {\n      const { startPoint } = getStart(editor);\n\n      const preventedBackspaceAtStartTypes = [ELTYPE.PARAGRAPH, ELTYPE.CARD_PRE, ELTYPE.BLOCK_QUOTE, ...HEADING_TYPES];\n      let preventedParentPath = getParentPathByTypes(editor, editor.selection.anchor.path, preventedBackspaceAtStartTypes);\n\n      let start = Range.start(editor.selection);\n      if (preventedParentPath && Point.equals(startPoint, start)) {\n        return;\n      }\n    }\n    deleteBackward(unit);\n  };\n\n  editor.normalizeNode = (entry: any) => {\n    const [node, path] = entry;\n\n    let str = '';\n    try {\n      str = Node.string(node);\n    } catch (error) {\n      console.error('withTitleNormalized', error);\n    }\n    const title = { type: ELTYPE.HEADING_ONE, children: [{ text: str }] };\n    const paragraph = { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] };\n    if (!node || !path || path?.length === 0 || (path[0] === 0 && path?.length > 1)) {\n      if (path && path.length === 0 && editor.children.length < 1) {\n        Transforms.insertNodes(editor, [title, paragraph], { at: [0] });\n      }\n      return;\n    }\n\n    const isInTable =\n      !!editor.selection &&\n      ReactEditor.hasRange(editor, editor.selection) &&\n      editor.children.length > editor.selection.focus.path[0] &&\n      Editor.above(editor, {\n        at: editor.selection.focus.path,\n        match: (n: any) => {\n          if (!n) {\n            console.error('title normalizeNode n：', n);\n          }\n          return n && n.type === ELTYPE.TABLE;\n        },\n      });\n\n    if (path[0] === 0 && !isInTable) {\n      if (editor.children.length < 2) {\n        Transforms.insertNodes(editor, [paragraph], { at: [1] });\n        const nextLeafStartPoint = { path: [1, 0], offset: 0 };\n        setTimeout(() => {\n          Transforms.select(editor, nextLeafStartPoint);\n        });\n        return;\n      } else if (ELTYPE.HEADING_ONE !== node.children[0].type) {\n        Transforms.setNodes(editor, { type: ELTYPE.HEADING_ONE } as Partial<BaseText>, { at: [0] });\n        return;\n      } else if (Node.string(node.children[0]).length > 45) {\n        Transforms.delete(editor, {\n          at: {\n            focus: Editor.end(editor, [0]),\n            anchor: {\n              ...Editor.start(editor, [0]),\n              offset: 45,\n            },\n          },\n        });\n        return;\n      }\n    }\n\n    normalizeNode(entry);\n  };\n\n  return editor;\n};\n\nlet lastTime = 0;\nconst timeFrame = 2000;\nfunction showMessage() {\n  const now = Date.now();\n  if (now - lastTime > timeFrame) {\n    message.config({ maxCount: 1, duration: 1 });\n    message.error('标题最大长度为 45 个字符，超出部分将被舍弃');\n    lastTime = now;\n  }\n}\n","import isHotkey from 'is-hotkey';\nimport { Editor, Node, Transforms, Range, Point, Path, Text } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { ELTYPE } from '../config';\nimport { removeSelection } from './selection';\nimport { delChildrenComponent, delChildrenNotAllowComponent } from '@src/utils/normalize';\nimport { ACTIVE_TABLE, SEL_CELLS } from '@src/utils/weak-maps';\nimport { getStart } from '@src/utils/selectionUtils';\nimport { getParentPathByType } from '../pluginsUtils/getPathUtils';\nimport { testActiveTable } from './tableElement';\nimport { isInTable } from '../deserializers/deserialize';\n\nexport const onKeyDownTable = (e: KeyboardEvent, editor: ReactEditor) => {\n  const selectedCells = SEL_CELLS.get(editor);\n\n  console.log('selectedCells', selectedCells);\n\n  const entry = ACTIVE_TABLE.get(editor);\n  let isActiveTable = false;\n  if (entry) {\n    const [, curTablePath] = entry;\n    const activeTableRow = curTablePath[0];\n    isActiveTable = testActiveTable(editor, activeTableRow);\n  }\n\n  const isTitle = editor.selection && ReactEditor.hasRange(editor, editor.selection) && editor.selection.focus.path[0] === 0;\n  const isCurTableSelectedCells = selectedCells?.length > 0 && isActiveTable;\n\n  if (isTitle) {\n    return;\n  }\n\n  if (isCurTableSelectedCells) {\n    if (isHotkey('mod+c', e)) {\n      e.preventDefault();\n      e.stopPropagation();\n      const tablePath = getParentPathByType(editor, selectedCells[0][1], ELTYPE.TABLE);\n      const tableNode: any = Node.has(editor, tablePath) && Node.get(editor, tablePath);\n      const rowNum = tableNode.children.length;\n      const columNum = tableNode.children[0].children.length;\n      if (rowNum * columNum === selectedCells.length) {\n        const [start, end] = Editor.edges(editor, selectedCells[0][1].slice(0, 1));\n        const range = {\n          focus: start,\n          anchor: end,\n        };\n        Transforms.select(editor, range);\n        document.execCommand('copy');\n        Transforms.deselect(editor);\n      } else {\n        e.preventDefault();\n        e.stopPropagation();\n\n        Transforms.select(editor, {\n          anchor: Editor.start(editor, selectedCells[0][1].slice(0, -1)),\n          focus: Editor.end(editor, selectedCells[selectedCells.length - 1][1].slice(0, -1)),\n        });\n\n        document.execCommand('copy');\n      }\n    } else if (isHotkey('backspace', e) || isHotkey('delete', e)) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      console.log('删除选蓝区域单元格的内容', selectedCells);\n      selectedCells.forEach((entry: any) => {\n        delChildrenComponent(editor, entry[0].children, entry[1]);\n      });\n    }\n  }\n\n  if (isInTable(editor) && Range.isCollapsed(editor.selection)) {\n    if (e.key === 'ArrowUp' && isCellTop(editor)) {\n      const point = getCellUpPoint(editor);\n      if (point) {\n        e.preventDefault();\n        Transforms.setSelection(editor, { anchor: point, focus: point });\n        return;\n      }\n    }\n    if (e.key === 'ArrowDown' && isCellBottom(editor)) {\n      e.preventDefault();\n      const point = getCellDownPoint(editor);\n\n      if (point) {\n        e.preventDefault();\n        Transforms.setSelection(editor, { anchor: point, focus: point });\n        return;\n      }\n    }\n  }\n};\n\nfunction isCellTop(editor: ReactEditor): boolean {\n  if (editor.selection.anchor.path[4] === 0) {\n    return true;\n  }\n  return false;\n}\n\nfunction isCellBottom(editor: ReactEditor): boolean {\n  const endPoint = Editor.end(editor, editor.selection.anchor.path.slice(0, 4));\n  if (endPoint.path[4] === editor.selection.anchor.path[4]) {\n    return true;\n  }\n  return false;\n}\nfunction getCellUpPoint(editor: ReactEditor): Point {\n  const path = editor.selection.anchor.path;\n  if (path.length > 4) {\n    if (Editor.hasPath(editor, [...path.slice(0, 2), path[2] - 1, ...path.slice(3, 4)])) {\n      const point = Editor.start(editor, [...path.slice(0, 2), path[2] - 1, ...path.slice(3, 4)]);\n      return point;\n    }\n    if (path[0] - 1 > 1) {\n      const point = Editor.start(editor, [path[0] - 1]);\n      return point;\n    }\n  }\n  return null;\n}\nfunction getCellDownPoint(editor: ReactEditor): Point {\n  const path = editor.selection.anchor.path;\n  if (path.length > 4) {\n    if (Editor.hasPath(editor, [...path.slice(0, 2), path[2] + 1, ...path.slice(3, 4)])) {\n      const point = Editor.start(editor, [...path.slice(0, 2), path[2] + 1, ...path.slice(3, 4)]);\n      return point;\n    }\n    if (Editor.hasPath(editor, [path[0] + 1])) {\n      const point = Editor.start(editor, [path[0] + 1]);\n      return point;\n    }\n  }\n  return null;\n}\nexport function getCellRightPoint(editor: ReactEditor): Point {\n  const path = editor.selection.anchor.path;\n  if (path.length > 4) {\n    const entry = Editor.next(editor, { at: editor.selection });\n    if (entry) {\n      const [text, nPath] = entry;\n      return Editor.start(editor, nPath);\n    }\n  }\n  return null;\n}\n","import { getCache } from '@src/utils/cacheUtils';\nimport { createRandomId } from '@src/utils/randomId';\nimport { nodeName } from 'jquery';\n\nexport const withElmentId = (editor: any) => {\n  const { apply } = editor;\n  editor.apply = (op: any) => {\n    let newOp: any = op;\n    if (['insert_node'].includes(op.type)) {\n      if (getCache(editor.docId, 'timeCheck')) {\n        newOp = { ...newOp, node: { ...(newOp.node as Node), anchorId: newOp.node.anchorId || createRandomId() + '1111' } as any };\n      } else {\n        newOp = { ...newOp, node: { ...(newOp.node as Node), anchorId: createRandomId() + '1111' } as any };\n      }\n    }\n    if (['split_node'].includes(op.type)) {\n      if (Object.keys(newOp.properties).length !== 0) {\n        newOp = { ...newOp, properties: { ...(newOp.properties as Node), anchorId: createRandomId() + '1111' } };\n      }\n    }\n    if (['set_node'].includes(op.type) && newOp.newProperties) {\n      delete newOp.newProperties.anchorId;\n    }\n    apply(newOp);\n  };\n  return editor;\n};\n","export default function joinClasses(...args) {\n  return args.filter(Boolean).join(' ');\n}\n","import './Button.css';\n\nimport * as React from 'react';\n\nimport joinClasses from './join-classes';\n\nexport default function Button({\n  'data-test-id': dataTestId,\n  children,\n  className,\n  onClick,\n  disabled,\n  small,\n  title,\n}: {\n  'data-test-id'?: string;\n  children: JSX.Element | string | (JSX.Element | string)[];\n  className?: string;\n  disabled?: boolean;\n  onClick: () => void;\n  small?: boolean;\n  title?: string;\n}): JSX.Element {\n  return (\n    <button\n      disabled={disabled}\n      className={joinClasses('Button__root', disabled && 'Button__disabled', small && 'Button__small', className)}\n      onClick={onClick}\n      title={title}\n      aria-label={title}\n      {...(dataTestId && { 'data-test-id': dataTestId })}\n    >\n      {children}\n    </button>\n  );\n}\n","import './Modal.css';\n\nimport * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\n\nfunction PortalImpl({\n  onClose,\n  children,\n  title,\n  closeOnClickOutside,\n}: {\n  children: JSX.Element | string | (JSX.Element | string)[];\n  closeOnClickOutside: boolean;\n  onClose: () => void;\n  title: string;\n}) {\n  const modalRef = useRef<HTMLDivElement>();\n\n  useEffect(() => {\n    if (modalRef.current !== null) {\n      modalRef.current.focus();\n    }\n  }, []);\n\n  useEffect(() => {\n    let modalOverlayElement = null;\n    const handler = event => {\n      if (event.keyCode === 27) {\n        onClose();\n      }\n    };\n    const clickOutsideHandler = (event: MouseEvent) => {\n      const target = event.target;\n      if (modalRef.current !== null && !modalRef.current.contains(target as Node) && closeOnClickOutside) {\n        onClose();\n      }\n    };\n    if (modalRef.current !== null) {\n      modalOverlayElement = modalRef.current?.parentElement;\n      if (modalOverlayElement !== null) {\n        modalOverlayElement?.addEventListener('click', clickOutsideHandler);\n      }\n    }\n\n    window.addEventListener('keydown', handler);\n\n    return () => {\n      window.removeEventListener('keydown', handler);\n      if (modalOverlayElement !== null) {\n        modalOverlayElement?.removeEventListener('click', clickOutsideHandler);\n      }\n    };\n  }, [closeOnClickOutside, onClose]);\n\n  return (\n    <div className=\"Modal__overlay\" role=\"dialog\">\n      <div className=\"Modal__modal\" tabIndex={-1} ref={modalRef}>\n        <h2 className=\"Modal__title\">{title}</h2>\n        <button className=\"Modal__closeButton\" aria-label=\"Close modal\" type=\"button\" onClick={onClose}>\n          X\n        </button>\n        <div className=\"Modal__content\">{children}</div>\n      </div>\n    </div>\n  );\n}\n\nexport default function Modal({\n  onClose,\n  children,\n  title,\n  closeOnClickOutside = false,\n}: {\n  children: JSX.Element | string | (JSX.Element | string)[];\n  closeOnClickOutside?: boolean;\n  onClose: () => void;\n  title: string;\n}): JSX.Element {\n  return createPortal(\n    <PortalImpl onClose={onClose} title={title} closeOnClickOutside={closeOnClickOutside}>\n      {children}\n    </PortalImpl>,\n    document.body\n  );\n}\n","import './ExcalidrawModal.css';\n\nimport Excalidraw from '@excalidraw/excalidraw';\nimport * as React from 'react';\nimport { ReactPortal, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport Button from './Button';\nimport Modal from './Modal';\n\nexport type ExcalidrawElementFragment = {\n  isDeleted?: boolean;\n};\n\ntype Props = {\n  closeOnClickOutside?: boolean;\n\n  initialElements: ReadonlyArray<ExcalidrawElementFragment>;\n\n  isShown?: boolean;\n\n  onDelete: () => boolean;\n\n  onHide: () => void;\n\n  onSave: (elements: ReadonlyArray<ExcalidrawElementFragment>) => void;\n};\n\nexport default function ExcalidrawModal({ closeOnClickOutside = false, onSave, initialElements, isShown = false, onHide, onDelete }: Props) {\n  const excalidrawRef = useRef(null);\n  const excaliDrawModelRef = useRef(null);\n  const [discardModalOpen, setDiscardModalOpen] = useState(false);\n  const [elements, setElements] = useState<ReadonlyArray<ExcalidrawElementFragment>>(initialElements);\n\n  useEffect(() => {\n    if (excaliDrawModelRef.current !== null) {\n      excaliDrawModelRef.current.focus();\n    }\n  }, []);\n\n  useEffect(() => {\n    let modalOverlayElement = null;\n    const clickOutsideHandler = (event: MouseEvent) => {\n      const target = event.target;\n      if (excaliDrawModelRef.current !== null && !excaliDrawModelRef.current.contains(target) && closeOnClickOutside) {\n        onDelete();\n      }\n    };\n    if (excaliDrawModelRef.current !== null) {\n      modalOverlayElement = excaliDrawModelRef.current?.parentElement;\n      if (modalOverlayElement !== null) {\n        modalOverlayElement?.addEventListener('click', clickOutsideHandler);\n      }\n    }\n\n    return () => {\n      if (modalOverlayElement !== null) {\n        modalOverlayElement?.removeEventListener('click', clickOutsideHandler);\n      }\n    };\n  }, [closeOnClickOutside, onDelete]);\n\n  const save = () => {\n    if (elements.filter(el => !el.isDeleted).length > 0) {\n      onSave(elements);\n    } else {\n      onDelete();\n    }\n    onHide();\n  };\n\n  const discard = () => {\n    if (elements.filter(el => !el.isDeleted).length === 0) {\n      onDelete();\n    } else {\n      setDiscardModalOpen(true);\n    }\n  };\n\n  function ShowDiscardDialog(): JSX.Element {\n    return (\n      <Modal\n        title=\"提示\"\n        onClose={() => {\n          setDiscardModalOpen(false);\n        }}\n        closeOnClickOutside={true}\n      >\n        放弃这次改动吗?\n        <div className=\"ExcalidrawModal__discardModal\">\n          <Button\n            onClick={() => {\n              setDiscardModalOpen(false);\n              onHide();\n            }}\n          >\n            确定\n          </Button>{' '}\n          <Button\n            onClick={() => {\n              setDiscardModalOpen(false);\n            }}\n          >\n            取消\n          </Button>\n        </div>\n      </Modal>\n    );\n  }\n\n  useEffect(() => {\n    excalidrawRef?.current?.updateScene({ elements: initialElements });\n  }, [initialElements]);\n\n  if (isShown === false) {\n    return null;\n  }\n\n  const onChange = els => {\n    setElements(els);\n  };\n\n  const _Excalidraw = Excalidraw.$$typeof != null ? Excalidraw : Excalidraw.default;\n\n  return createPortal(\n    <div className=\"ExcalidrawModal__overlay\" role=\"dialog\">\n      <div className=\"ExcalidrawModal__modal\" ref={excaliDrawModelRef} tabIndex={-1}>\n        <div className=\"ExcalidrawModal__row\">\n          {discardModalOpen && <ShowDiscardDialog />}\n          <_Excalidraw\n            onChange={onChange}\n            initialData={{\n              appState: { isLoading: false },\n              elements: initialElements,\n            }}\n          />\n          <div className=\"ExcalidrawModal__actions\">\n            <button className=\"action-button\" onClick={discard}>\n              取消\n            </button>\n            <button className=\"action-button\" onClick={save}>\n              保存\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>,\n    document.body\n  );\n}\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { v4 as anchorId } from 'uuid';\nimport { Transforms, Node, Path } from '@src/components/slate-packages/slate';\nimport { insertCard } from '../Card';\nimport { ELTYPE } from '../config';\nimport initialData from './initialData';\nimport Sidebar from './Sidebar/Sidebar';\nimport ExcalidrawImage from './ExcalidrawImage';\nimport ImageResizer from './ImageResizer';\nimport { getEditorEventEmitter } from '../table/selection';\n\nimport './index.less';\nimport ExcalidrawModal from './ExcalidrawModal';\n\nexport const ExcalidrawEditor = ({ editor }) => {\n  const imageContainerRef = useRef<HTMLImageElement | null>(null);\n  const buttonRef = useRef<HTMLButtonElement | null>(null);\n  const [isSelected, setSelected] = useState(false);\n  const [isResizing, setIsResizing] = useState<boolean>(false);\n  const [isModalOpen, setModalOpen] = useState<boolean>(false);\n  const [elements, setElements] = useState([]);\n  useEffect(() => {\n    console.log('[excalidrawSetIsModalOpen]');\n    const excalidrawSetIsModalOpen = elements => {\n      setElements(elements);\n      setModalOpen(true);\n    };\n    getEditorEventEmitter(editor.docId).on('excalidrawSetIsModalOpen', excalidrawSetIsModalOpen, editor.docId);\n  }, []);\n\n  const deleteNode = useCallback(() => {\n    getEditorEventEmitter(editor.docId).emit('excalidrawSetIsModalClose', editor.docId);\n    setModalOpen(false);\n\n    return false;\n  }, [editor]);\n\n  const setData = newData => {\n    return false;\n  };\n\n  return (\n    <ExcalidrawModal\n      initialElements={elements}\n      isShown={isModalOpen}\n      onDelete={deleteNode}\n      onHide={() => {\n        getEditorEventEmitter(editor.docId).emit('excalidrawSetIsModalClose', editor.docId);\n        setModalOpen(false);\n      }}\n      onSave={newData => {\n        getEditorEventEmitter(editor.docId).emit('excalidrawSetIsModalClose', editor.docId, newData);\n\n        setModalOpen(false);\n      }}\n      closeOnClickOutside={true}\n    />\n  );\n};\n","import { Editor } from '@src/components/slate-packages/slate';\nimport hash from 'object-hash';\n\nlet lastNormalizeTag = '';\n\n// 注册验证 editor.children 结构的 worker\nexport const registerValidationWorker = editor => {\n  if (!editor || !editor.children) return;\n  const { children } = editor;\n  if (window.Worker) {\n    try {\n      /** using blob, the calculated file */\n      /** deprecated: 将测试好的 validation.worker.js 的内容放在 Blob 的 code 内容中 */\n      const code = `const ELTYPE = {\n  CODE_BLOCK: 'code-block',\n  TODO_LIST: 'todo-list',\n  IMAGE: 'image',\n  INLINEIMAGE: 'inline-image',\n  FILE: 'file',\n  VIDEO: 'video',\n  MENTION: 'mention',\n  BLOCK_QUOTE: 'block-quote',\n  PARAGRAPH: 'paragraph',\n  HEADING_SIX: 'heading-six',\n  HEADING_FIVE: 'heading-five',\n  HEADING_FOUR: 'heading-four',\n  HEADING_THREE: 'heading-three',\n  HEADING_TWO: 'heading-two',\n  HEADING_ONE: 'heading-one',\n  OLLIST: 'numbered-list',\n  ULLIST: 'bulleted-list',\n  LINK: 'edit-link',\n  TABLE: 'table',\n  TABLE_ROW: 'table-row',\n  TABLE_CELL: 'table-cell',\n  DIVIDE: 'hr',\n  CARD: 'card',\n  CARD_PRE: 'card-pre',\n  CARD_SUF: 'card-suf',\n  ALERTS: 'alerts',\n  ALERTMESSAGE: 'alertmessage',\n  ALERTDESCRIPTION: 'alertdescription',\n  EXCALIDRAW: 'excalidraw',\n};\n\nconst TEXT_ELEMENT_TYPES = [\n  ELTYPE.ALERTMESSAGE,\n  ELTYPE.ALERTDESCRIPTION,\n  ELTYPE.BLOCK_QUOTE,\n  ELTYPE.HEADING_SIX,\n  ELTYPE.HEADING_FIVE,\n  ELTYPE.HEADING_FOUR,\n  ELTYPE.HEADING_THREE,\n  ELTYPE.HEADING_TWO,\n  ELTYPE.HEADING_ONE,\n  ELTYPE.OLLIST,\n  ELTYPE.PARAGRAPH,\n  ELTYPE.TODO_LIST,\n  ELTYPE.ULLIST,\n];\n\nconst INLINE_TYPES = [ELTYPE.MENTION, ELTYPE.LINK, ELTYPE.INLINEIMAGE];\n\nconst inCardEL = [ELTYPE.DIVIDE, ELTYPE.TABLE, ELTYPE.IMAGE, ELTYPE.ALERTS, ELTYPE.CODE_BLOCK, ELTYPE.VIDEO, ELTYPE.EXCALIDRAW, ELTYPE.FILE];\n\nfunction validateDocContent(docContent) {\n  if (!docContent) {\n    throw new Error('docContent is required');\n  }\n  const valid = {\n    value: true,\n    invalidNode: null,\n  };\n  if (docContent.length < 2) {\n    valid.value = false;\n    return valid;\n  }\n  for (let i = 0; i < docContent.length; i++) {\n    const docContentItem = docContent[i];\n    if (!docContentItem.type) {\n      valid.value = false;\n      return valid;\n    }\n    if (i === 0 && (docContentItem.type !== ELTYPE.HEADING_ONE || docContentItem.children.length !== 1)) {\n      valid.invalidNode = docContentItem;\n      valid.value = false;\n      return valid;\n    }\n    if (INLINE_TYPES.includes(docContentItem.type)) {\n      valid.invalidNode = docContentItem;\n      valid.value = false;\n      return valid;\n    }\n    recValidate(docContentItem, valid);\n    if (!valid.value) {\n      console.info('[invalid docContent] validateDocContent', JSON.stringify(docContentItem), JSON.stringify(valid));\n      return valid;\n    }\n  }\n  return valid;\n}\n\nfunction negate(valid, root) {\n  valid.value = false;\n  valid.invalidNode = root;\n}\n\nfunction recValidate(root, valid) {\n  if (!root || !valid.value) {\n    return;\n  }\n  if (root.type) {\n    const { children, type } = root;\n    if (!children) {\n      return;\n    }\n    if (Object.values(ELTYPE).includes(root.type) && children.length === 0) {\n      negate(valid, root);\n      return;\n    }\n    switch (type) {\n      case ELTYPE.ALERTMESSAGE:\n      case ELTYPE.ALERTDESCRIPTION:\n      case ELTYPE.BLOCK_QUOTE:\n      case ELTYPE.HEADING_SIX:\n      case ELTYPE.HEADING_FIVE:\n      case ELTYPE.HEADING_FOUR:\n      case ELTYPE.HEADING_THREE:\n      case ELTYPE.HEADING_TWO:\n      case ELTYPE.HEADING_ONE:\n      case ELTYPE.OLLIST:\n      case ELTYPE.PARAGRAPH:\n      case ELTYPE.TODO_LIST:\n      case ELTYPE.ULLIST:\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          const isPlainText = typeof child.type === 'undefined' && typeof child.text === 'string';\n          if (!isPlainText && ![...INLINE_TYPES].includes(child.type)) {\n          }\n        }\n        break;\n\n      case ELTYPE.TABLE:\n        const validTable = children.every(child => child.type === ELTYPE.TABLE_ROW);\n        if (!(typeof root.row === 'number' && children.length === root.row && validTable)) {\n        }\n        break;\n\n      case ELTYPE.TABLE_ROW:\n        const validTableRow = children.every(child => child.type === ELTYPE.TABLE_CELL);\n        if (!validTableRow) {\n        }\n        break;\n\n      case ELTYPE.TABLE_CELL:\n        const validTableCell = children.every(child => [...TEXT_ELEMENT_TYPES, ELTYPE.CARD].includes(child.type));\n        if (!validTableCell) {\n        }\n        break;\n\n      case ELTYPE.ALERTS:\n        const validAlerts = children.every(child => [ELTYPE.ALERTMESSAGE, ELTYPE.ALERTDESCRIPTION].includes(child.type));\n        if (!validAlerts) {\n        }\n        break;\n\n      case ELTYPE.FILE:\n        if (!(children.length === 1 && typeof children[0].text === 'string')) {\n        }\n        break;\n\n      case ELTYPE.EXCALIDRAW:\n        break;\n\n      case ELTYPE.CODE_BLOCK:\n      case ELTYPE.IMAGE:\n      case ELTYPE.VIDEO:\n      case ELTYPE.DIVIDE:\n      case ELTYPE.CARD_PRE:\n      case ELTYPE.CARD_SUF:\n      case ELTYPE.MENTION:\n      case ELTYPE.INLINEIMAGE:\n        if (!(children.length === 1 && typeof children[0].text === 'string' && children[0].text.length === 0)) {\n        }\n        break;\n\n      case ELTYPE.CARD:\n        if (children.length !== 3) {\n          negate(valid, root);\n          break;\n        }\n        if (!(children[0].type === ELTYPE.CARD_PRE && inCardEL.includes(children[1].type) && children[2].type === ELTYPE.CARD_SUF)) {\n          negate(valid, root);\n          break;\n        }\n        break;\n\n      case 'inlineImage':\n        negate(valid, root);\n        break;\n\n      case ELTYPE.LINK:\n        const hasElement = children.some(child => !!child.type);\n        if (hasElement) {\n          negate(valid, root);\n          break;\n        }\n\n      default:\n        break;\n    }\n  }\n  if (root.children && Array.isArray(root.children)) {\n    root.children.forEach(item => {\n      recValidate(item, valid);\n    });\n  }\n}\n\nlet port2 = null;\n\nself.addEventListener('message', initPort);\n\nfunction initPort(event) {\n  console.log('[worker] initPort', event);\n  port2 = event.ports[0];\n  port2.onmessage = onMessage;\n}\n\nfunction onMessage(e) {\n  if (!e || !e.data || !e.data.docContent) {\n    return;\n  }\n  const { docContent } = e.data;\n  const docContentObject = JSON.parse(docContent);\n  const valid = validateDocContent(docContentObject);\n  var workerResult = {\n    isValid: valid.value,\n    invalidNode: valid.invalidNode,\n    docContent: docContentObject,\n  };\n  port2.postMessage(workerResult);\n}\n`;\n      let blob = new Blob([code]);\n      // Obtain a blob URL reference to our worker 'file'.\n      let blobURL = window.URL.createObjectURL(blob);\n\n      const worker = new Worker(blobURL);\n\n      if (worker && children) {\n        // const sab = new SharedArrayBuffer(1024); // > 10MB 的文档内容需要通过 SharedArrayBuffer 来传递\n        // worker.postMessage(sab);\n        const messageChannel = new MessageChannel();\n        // （内存层面上）转移 port2 到 worker\n        worker.postMessage('init port2', [messageChannel.port2]);\n\n        // 在 port1 发送消息\n        messageChannel.port1.postMessage({\n          docContent: JSON.stringify(children),\n        });\n\n        // 在 port1 上接收消息\n        messageChannel.port1.onmessage = function (event) {\n          const { data } = event;\n          // console.log('[worker] messageChannel.port1.onmessage', event, event.data);\n          if (data) {\n            if (data.isValid) {\n              console.log('[worker out] VALID content');\n            } else {\n              console.log('[worker out] INVALID content, at node:', data.invalidNode, data);\n              console.log('[worker end] Trying to normalize content');\n\n              const normalizeTag = hash(data);\n              console.log('[worker out] normalizeTag:', normalizeTag, data);\n              if (lastNormalizeTag === normalizeTag) {\n                console.log('[worker end] Already normalized, but still invalid');\n              } else {\n                Editor.normalize(editor, { force: true });\n                lastNormalizeTag = normalizeTag;\n              }\n            }\n          }\n        };\n\n        messageChannel.port1.onmessageerror = function (event) {\n          console.log('[worker] messageChannel.port1.onmessageerror', event);\n        };\n\n        return { worker, blobURL };\n      }\n    } catch (error) {\n      console.error(`Registration failed with ${error}`);\n    }\n  }\n};\n","import { Editor, Node, Path, Point, Range } from '@src/components/slate-packages/slate';\nimport { createUUID } from '@src/utils/randomId';\nimport { ELTYPE, INLINE_TYPES, SINGLE_INLINE_TYPES } from './config';\nimport { selectTargetForPath } from './Image/imagePlugins';\nimport { getParentPathByType, getParentPathByTypes } from './pluginsUtils/getPathUtils';\n\nexport const withInline = (editor: any) => {\n  const { apply } = editor;\n  editor.apply = (op: any) => {\n    let newOp: any = op;\n\n    if (op.type === 'set_selection') {\n      if (Range.isRange(op.newProperties) && Range.isCollapsed(op.newProperties)) {\n        const tPath = getParentPathByType(editor, op.newProperties.anchor.path, ELTYPE.LINK);\n\n        if (tPath && Point.equals(Editor.end(editor, tPath), op.newProperties.anchor)) {\n          const parentPath = tPath.slice(0, -1);\n          const pChildEnd = Editor.end(editor, parentPath);\n\n          if (Path.equals(pChildEnd.path, tPath)) {\n            newOp = insertLeaf(tPath);\n          } else {\n            const entry = Editor.next(editor, { at: tPath });\n\n            if (entry) {\n              const [nextText, nextPath] = entry;\n              const nextNode: any = Node.get(editor, nextPath.slice(0, -1));\n              if (Path.isAncestor(parentPath, nextPath) && !INLINE_TYPES.includes(nextNode.type)) {\n                const start = Editor.start(editor, nextPath);\n                newOp = {\n                  ...newOp,\n                  newProperties: {\n                    anchor: start,\n                    focus: start,\n                  },\n                };\n              } else {\n                newOp = insertLeaf(tPath);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    apply(newOp);\n  };\n  return editor;\n};\n\nfunction insertLeaf(path: number[]) {\n  const newOp = {\n    type: 'insert_node',\n    path: [...path.slice(0, -1), path.pop() + 1],\n    node: { text: '', anchorId: createUUID() },\n  };\n  return newOp;\n}\n","import classNames from 'classnames';\nimport React, { useContext, useState } from 'react';\nimport { Editor, Element as SlateElement, Point, Range, Transforms, Node } from '@src/components/slate-packages/slate';\nimport { ELTYPE } from '../config';\nimport './todoList.less';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { CalendarOutlined } from '@ant-design/icons';\nimport { css, cx } from '@emotion/css';\nimport { TripdocsSdkContext } from '@src/Docs';\n\nexport const withTodolists = (editor: any) => {\n  const { deleteBackward, deleteFragment } = editor;\n\n  editor.deleteBackward = (...args: any) => {\n    const { selection } = editor;\n\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isCollapsed(selection)) {\n      const [match] = Editor.nodes(editor, {\n        match: (n: any) => !Editor.isEditor(n) && SlateElement.isElement(n) && (n as any).type === ELTYPE.TODO_LIST,\n      });\n\n      if (match) {\n        const [, path] = match;\n        const start = Editor.start(editor, path);\n\n        if (Point.equals(selection.anchor, start)) {\n          Transforms.setNodes(\n            editor,\n            {\n              type: ELTYPE.PARAGRAPH,\n            } as Partial<SlateElement>,\n            {\n              match: (n: any) => !Editor.isEditor(n) && SlateElement.isElement(n) && (n as any).type === ELTYPE.TODO_LIST,\n            }\n          );\n          return;\n        }\n      }\n    }\n\n    deleteBackward(...args);\n  };\n\n  return editor;\n};\n\ninterface todoListProps {\n  attributes: any;\n  children: any;\n  element: any;\n  editor: any;\n}\n\nexport const TODOList: React.FC<any> = (props: any) => {\n  const {\n    prop: { attributes, element },\n    className = '',\n    editor,\n    children,\n    elementUniqueId,\n    textAlign,\n    isInAnchor = false,\n    isMobile = false,\n    lineHeight,\n  } = props;\n  const { oldType = '', todoChecked = '', align = 'left' } = element;\n\n  let tabLevel: any = 0;\n  if (!Number.isNaN(element.tabLevel)) {\n    tabLevel = element.tabLevel;\n  }\n\n  const { isReadOnly } = useContext(TripdocsSdkContext);\n  const [isActive, setIsActive] = useState(false);\n\n  return (\n    <ol\n      {...attributes}\n      onMouseEnter={e => {\n        setIsActive(true);\n      }}\n      onMouseLeave={e => {\n        setIsActive(false);\n      }}\n      className={`todo-list-wrap ${!isInAnchor ? oldType : ''}`}\n      style={{\n        lineHeight,\n        textAlign: textAlign,\n        marginLeft: isInAnchor ? (isMobile ? '-0.2rem' : '1rem') : '0rem',\n      }}\n    >\n      <span\n        className={cx('todo-list-checkbox', todoChecked ? 'todo-list-checkbox-done' : null, 'ignore-toggle-readonly')}\n        contentEditable={false}\n        style={{\n          userSelect: 'none',\n          left: isInAnchor ? '-1rem' : tabLevel ? `${Number.parseInt(tabLevel) * 2 + 0.5}rem` : '0.5rem',\n          width: isInAnchor ? '12px' : null,\n          height: isInAnchor ? '12px' : null,\n        }}\n        onClick={e => {\n          if (!editor || isReadOnly) {\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n          const elPath = ReactEditor.findPath(editor, element);\n          console.log('click', [element, todoChecked, element.tabLevel, Number.parseInt(element.tabLevel) * 20]);\n\n          if (!todoChecked) {\n            Transforms.setNodes(editor, { todoChecked: true } as Partial<Node>, { at: elPath });\n          } else {\n            Transforms.setNodes(editor, { todoChecked: false } as Partial<Node>, { at: elPath });\n          }\n        }}\n      ></span>\n      <li\n        id={elementUniqueId}\n        data-name={'todo-list-item' + (todoChecked ? '-done' : '')}\n        className={classNames([\n          'todo-list-item',\n          todoChecked ? 'todo-list-item-done' : null,\n          css`\n            &::before {\n              margin-left: ${isInAnchor ? '0 !important' : null};\n              margin-right: ${isInAnchor ? '5px !important' : null};\n            }\n          `,\n          css(\n            isInAnchor\n              ? `\n            &{\n              overflow: hidden;\n              text-overflow: ellipsis;\n              width: 100%;\n              white-space: nowrap;\n            }\n        `\n              : ``\n          ),\n        ])}\n        data-tab-level={tabLevel}\n        style={{\n          textAlign: align ? align : 'left',\n          paddingLeft: isInAnchor ? null : tabLevel ? `${Number.parseInt(tabLevel) * 2 + 2}rem` : '2rem',\n          listStyleType: 'none',\n          backgroundColor: isActive && !isInAnchor ? `#f6f6f6` : null,\n          backgroundClip: 'content-box',\n          borderRadius: '4px',\n        }}\n        data-oldtype={oldType}\n        data-li-name={oldType ? 'slate-heading' : ''}\n      >\n        {children}\n      </li>\n      {}\n      {false && isActive && (\n        <div\n          data-ignore-slate\n          className={cx(\n            'ignore-toggle-readonly',\n            'todo-menu-wrap',\n            css`\n              position: absolute;\n              right: 1.5em;\n              bottom: 3px;\n              display: flex;\n              cursor: pointer;\n              align-items: center;\n              & > .todo-menu-item {\n                width: 18px;\n                height: 18px;\n                border-radius: 4px;\n                &:hover {\n                  background: #b6b6b6;\n                }\n                &:not(:last-child) {\n                  margin-right: 1.5em;\n                }\n              }\n            `\n          )}\n        >\n          <div className=\"todo-menu-item todo-mention\" onMouseDown={() => {}}>\n            @\n          </div>\n          <div className=\"todo-menu-item todo-calendar\">\n            <CalendarOutlined />\n          </div>\n        </div>\n      )}\n    </ol>\n  );\n};\n","import { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport React from 'react';\nimport { insertCard } from '../Card';\nimport { ELTYPE } from '../config';\nimport './index.less';\n\nexport const insertIFrame = (editor: ReactEditor, type, link) => {\n  insertCard(editor, {\n    type,\n    linkSource: link,\n    children: [\n      {\n        text: '',\n      },\n    ],\n  });\n};\n\nexport default function ComIfram({ attributes, element, children }) {\n  return (\n    <div {...attributes} className=\"com_iframe ignore-toggle-readonly\" contentEditable={false}>\n      <iframe\n        allowFullScreen={true}\n        style={{ background: '#ccc' }}\n        height={(640 / 16) * 9 - 10}\n        width={640 - 10}\n        className={'ignore-toggle-readonly'}\n        src={element.linkSource}\n        data-ignore-slate\n      ></iframe>\n      <span style={{ display: 'none' }}> {children}</span>\n    </div>\n  );\n}\n","import { Editor, Path, Range } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\n\nfunction quikMenuByWordSearch(editor: ReactEditor, selection: Range, callBack: Function) {\n  const [start] = Range.edges(selection);\n  const wordBefore = Editor.before(editor, start, { unit: 'word' });\n  const before = wordBefore && Editor.before(editor, wordBefore);\n  const beforeRange = before && Editor.range(editor, before, start);\n  const beforeText = beforeRange && Editor.string(editor, beforeRange);\n  const beforeMatch = beforeText && beforeText.match(/@([\\u4e00-\\u9fa5\\w ]*)/);\n  const beforeMatchEmpty = beforeText && beforeText.match(/@$/);\n\n  if (beforeMatch && beforeMatch[1] !== undefined && beforeMatch[1].indexOf(' ') === -1) {\n    const after = Editor.after(editor, start);\n    const afterRange = Editor.range(editor, start, after);\n    const afterText = Editor.string(editor, afterRange);\n    const afterMatch = afterText.match(/^(\\s|$)/);\n    const isTarget = beforeText === '@';\n\n    if (\n      (beforeMatch || beforeMatchEmpty || isTarget) &&\n      afterMatch &&\n      beforeRange.focus.offset !== 0 &&\n      Path.isCommon(beforeRange.focus.path, selection.anchor.path)\n    ) {\n      if (beforeMatchEmpty || isTarget) {\n        beforeRange.anchor = JSON.parse(JSON.stringify(beforeRange.focus));\n        beforeRange.anchor.offset = beforeRange.anchor.offset - 1;\n      }\n      const mSearch = (beforeMatch && beforeMatch[1]) || '';\n      console.log('--------------------------', mSearch);\n      callBack && callBack('@', beforeRange, mSearch);\n\n      return true;\n    }\n  }\n}\nfunction quikMenuByWord(reg = '\\\\\\\\$') {\n  return (editor: ReactEditor, selection: Range, callBack: Function) => {\n    const [start] = Range.edges(selection);\n\n    const before = start && Editor.before(editor, start);\n    const beforeRange = before && Editor.range(editor, before, start);\n    const beforeText = beforeRange && Editor.string(editor, beforeRange);\n    const beforeMatchEmoji = beforeText && beforeText.match(new RegExp(reg));\n    if (beforeMatchEmoji) {\n      const after = Editor.after(editor, start);\n      const afterRange = Editor.range(editor, start, after);\n      const afterText = Editor.string(editor, afterRange);\n      const afterMatch = afterText.match(/^(\\s|$)/);\n      const isTarget = beforeText === '\\\\';\n      if (\n        (beforeMatchEmoji || isTarget) &&\n        afterMatch &&\n        beforeRange.focus.offset !== 0 &&\n        Path.isCommon(beforeRange.focus.path, selection.anchor.path)\n      ) {\n        callBack && callBack(reg, beforeRange);\n        return true;\n      }\n    }\n  };\n}\nfunction funArrExec(fns: Function[], ...arg) {\n  return fns.some(fn => fn(...arg));\n}\nexport { quikMenuByWordSearch, quikMenuByWord, funArrExec };\n","export const noop = () => {};\n\nexport function on<T extends Window | Document | HTMLElement | EventTarget>(\n  obj: T | null,\n  ...args: Parameters<T['addEventListener']> | [string, Function | null, ...any]\n): void {\n  if (obj && obj.addEventListener) {\n    obj.addEventListener(...(args as Parameters<HTMLElement['addEventListener']>));\n  }\n}\n\nexport function off<T extends Window | Document | HTMLElement | EventTarget>(\n  obj: T | null,\n  ...args: Parameters<T['removeEventListener']> | [string, Function | null, ...any]\n): void {\n  if (obj && obj.removeEventListener) {\n    obj.removeEventListener(...(args as Parameters<HTMLElement['removeEventListener']>));\n  }\n}\n\nexport const isBrowser = typeof window !== 'undefined';\n\nexport const isNavigator = typeof navigator !== 'undefined';\n","import { useIsomorphicLayoutEffect } from '@src/components/slate-packages/slate-react/hooks/use-isomorphic-layout-effect';\nimport { useMemo, useState } from 'react';\n// import useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './isBrowser';\n\nexport type UseMeasureRect = Pick<DOMRectReadOnly, 'x' | 'y' | 'top' | 'left' | 'right' | 'bottom' | 'height' | 'width'>;\nexport type UseMeasureRef<E extends Element = Element> = (element: E) => void;\nexport type UseMeasureResult<E extends Element = Element> = [UseMeasureRef<E>, UseMeasureRect];\n\nconst defaultState: UseMeasureRect = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0,\n};\n\nfunction useMeasure<E extends Element = Element>(): UseMeasureResult<E> {\n  const [element, ref] = useState<E | null>(null);\n  const [rect, setRect] = useState<UseMeasureRect>(defaultState);\n\n  const observer = useMemo(\n    () =>\n      new (window as any).ResizeObserver(entries => {\n        if (entries[0]) {\n          const { x, y, width, height, top, left, bottom, right } = entries[0].contentRect;\n          setRect({ x, y, width, height, top, left, bottom, right });\n        }\n      }),\n    []\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) return;\n    observer.observe(element);\n    return () => {\n      observer.disconnect();\n    };\n  }, [element]);\n\n  return [ref, rect];\n}\n\nexport default isBrowser && typeof (window as any).ResizeObserver !== 'undefined' ? useMeasure : ((() => [noop, defaultState]) as typeof useMeasure);\n","import { css, cx } from '@emotion/css';\nimport { Avatar, Input, Menu, message } from 'antd';\n\nimport Modal from 'antd/lib/modal/Modal';\nimport isHotkey from 'is-hotkey';\nimport $ from 'jquery';\nimport _, { debounce, slice } from 'lodash';\nimport throttle from 'lodash/throttle';\nimport React, { DragEventHandler, useCallback, useContext, useEffect, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { BasePoint, createEditor, Editor, Node as SlateNode, NodeEntry, Range, Text, Transforms } from '@src/components/slate-packages/slate';\nimport { v4 as anchorId } from 'uuid';\nimport { TripdocsSdkContext } from '../../Docs';\nimport '@src/style/iconfont/Tripdocs.css';\nimport { actionKey, applyOpt } from '../../utils/apiListener';\nimport { resortListener } from '../../utils/listener';\nimport {\n  bodySelectAll,\n  currentCellSelectAll,\n  currentLineSelectAll,\n  getStart,\n  getCurrentLineEnd,\n  getCurrentLineStart,\n  getIsTitle,\n  sliceRangToLine,\n} from '../../utils/selectionUtils';\nimport { HistoryEditor, withHistory } from '../slate-packages/slate-history';\nimport { Editable, ReactEditor, RenderElementProps, RenderLeafProps, Slate, useEditor, useSlate, withReact } from '../slate-packages/slate-react';\nimport Caret from './caret';\nimport { BlockQuote, withBlockquote } from './plugins/BlockQuote';\nimport { Card, CardPreSuf, onKeyDownCard, withCard } from './plugins/Card';\nimport { CodeHighlightEditor, insertCodeBlock } from './plugins/CodeBlock';\n\nimport { ClientFrame, H1, H2, H3, H5, H6, HFour, IconBtn, Italic } from './plugins/Components';\nimport {\n  ELTYPE,\n  FORMATS,\n  HAS_INLINE_IMG_ELEMENT_TYPE,\n  HEADING_TYPES,\n  INLINE_TYPES,\n  LIST_TYPES,\n  SINGLE_INLINE_TYPES,\n  TABBABLE_TYPES,\n} from './plugins/config';\nimport { Divide, onKeyDownDivide } from './plugins/Divide';\nimport { EditLink, EditLinkButton, withEditLink } from './plugins/EditLink/index';\nimport { FileComponent } from './plugins/File/filePlugins';\nimport { HoveringCommentButton, HoveringToolbar, onKeyDownTextMark } from './plugins/HoveringToolbar';\nimport { selectTargetForPath, SlateImage, withImages } from './plugins/Image/imagePlugins';\nimport { insertImage, dragInsertLocalFiles, insertImgFile, SlateInlineImage, withInlineImages } from './plugins/InlineImage/inlineImagePlugins';\nimport { decreaseIndent, increaseIndent } from './plugins/indent';\nimport { insertMention, MentionElement } from './plugins/Mention/mention';\nimport { insertNewOlFromOl, OlList, removeOl, UlList, updateOlDecreaseIndent } from './plugins/OLULList/OlList';\nimport { rightClickMenuActions } from './plugins/rightClickMenu';\nimport { withDeserializeMD } from './plugins/serializers/withDeserializeMD';\nimport SiderMenu, { blockMenus, DeleteSiderButton, execFormat, iconMenus } from './plugins/siderMenu';\nimport TableElement from './plugins/table/tableElement';\nimport { withTable } from './plugins/table/withTable';\nimport { insertVideo, SlateVideo } from './plugins/Video/SlateVideo';\nimport { onVideoKeydown, withVideo } from './plugins/Video/withVideo';\nimport { withAnchor } from './plugins/withAnchor';\nimport { isInTable, withHtml } from './plugins/withHtml';\nimport { withNormalizeNode } from './plugins/withNormalize';\nimport { withShortcuts } from './plugins/withShorcuts';\nimport { createRandomId } from '../../utils/randomId';\nimport { Path, Point } from '../slate-packages/slate';\nimport { onKeyDownMention } from './plugins/Mention/onKeyDownMention';\nimport { sliceRangeNoRepeateAtOnePath, selectionObj, selectionObjSlice } from '@src/utils/commentUtils';\nimport { quikSlice } from '@src/utils/arrayUtils';\nimport { withOlList } from './plugins/OLULList/withOlList';\nimport { withMention } from './plugins/Mention/withMention';\nimport { consumePlugins } from '@src/utils/helper/consumePlugins';\nimport deferComponentRender from '@src/utils/helper/deferComponentRender';\nimport { cacheDocContent, getCache, setCache } from '@src/utils/cacheUtils';\nimport { ACTIVE_EDITOR, IS_RECOVERING_CONTENT, SLATE_ERRORS } from './plugins/ErrorHandle/weak-maps';\nimport { timeFormat } from './plugins/SideComment/utils';\nimport storage from '@src/utils/storage';\nimport { CardMenuButton, handleTableOps, showCacheDocContentModal } from './plugins/StaticToolbar/buttons';\nimport { withTabLevel } from './plugins/withTabLevel';\nimport { calcPath, getParentPathByType, getParentPathByTypes, getRelativePath, isEquals, isPath } from './plugins/pluginsUtils/getPathUtils';\nimport { withTitleNormalized } from './plugins/withTitleNormalized';\nimport { handleSlateError } from './plugins/ErrorHandle/handleSlateError';\nimport { getCellRightPoint, onKeyDownTable } from './plugins/table/onKeyDownTable';\nimport { getEditorEventEmitter } from './plugins/table/selection';\nimport { withElmentId } from './plugins/withElmentId';\nimport { onKeyDownCommon } from './plugins/HoveringToolbar/onKeyDownCommon';\nimport { f } from '@src/resource/string';\nimport { onKeyDownInlineImage } from './plugins/InlineImage/onKeyDownInlineImage';\nimport { onKeyDownImage } from './plugins/Image/onKeyDownImage';\nimport { ExcalidrawDomNode, withExcalidraw } from './plugins/Excalidraw';\nimport { DOMRange } from '../slate-packages/slate-react/utils/dom';\nimport { IS_READ_ONLY } from '../slate-packages/slate-react/utils/weak-maps';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport { INLINE_IMAGE_COMMENTS, SEL_CELLS } from '@src/utils/weak-maps';\nimport { ExcalidrawEditor } from './plugins/Excalidraw/ExcalidrawEditor';\nimport { FLUSHING } from '../slate-packages/slate/utils/weak-maps';\nimport { registerValidationWorker } from '@src/worker/validationRun.worker';\nimport { withInline } from './plugins/withInline';\nimport sessStorage from '@src/utils/sessStorage';\nimport { EditorContainerInnerPortal, editorContainerOuterPortalFun, OverlayContainerRelativePortal } from '@src/utils/createPortal';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport ReactDOM from 'react-dom';\nimport { DraggableEvent } from 'react-draggable';\nimport { TODOList } from './plugins/TodoList/todoList';\nimport ComIfram, { insertIFrame } from './plugins/iframe';\nimport { funArrExec, quikMenuByWord, quikMenuByWordSearch } from './plugins/quikMenuByWord';\nimport useMeasure from '@src/utils/useMeasure';\n\nconst emojis = [\n  '🔥',\n  '⚡',\n  '🆕',\n  '🆗',\n  '☑️',\n  '✅',\n  '❎',\n  '✔️',\n  '❌',\n  '🔴',\n  '⭕',\n  '🔗',\n  '▶️',\n  '💭',\n  '🗨️',\n  '💬',\n  '🔔',\n  '⚠️',\n  '🚫',\n  '‼️',\n  '⁉️',\n  '❓',\n  '❔',\n  '❕',\n  '❗',\n  '❤️',\n  '🌈',\n  '✨',\n  '🌞',\n  '☀️',\n  '🐞',\n  '🌸',\n  '🌹',\n  '🌺',\n  '🌻',\n  '🌼',\n  '🌿',\n  '🍃',\n  '🍓',\n  '🍻',\n  '☕',\n  '🎁',\n  '🎂',\n  '🎈',\n  '🎉',\n  '🎊',\n  '🎵',\n  '🎶',\n  '🏃',\n  '🏆',\n  '🐶',\n  '👀',\n  '✊',\n  '✌️',\n  '👇',\n  '👈',\n  '👉',\n  '👋',\n  '👌',\n  '👍',\n  '👏',\n  '👑',\n  '💀',\n  '💁',\n  '💋',\n  '💐',\n  '💓',\n  '💔',\n  '💕',\n  '💖',\n  '💗',\n  '💘',\n  '💙',\n  '💚',\n  '💜',\n  '💝',\n  '💞',\n  '💢',\n  '💥',\n  '💦',\n  '💩',\n  '💪',\n  '💫',\n  '⚽',\n  '💯',\n  '💰',\n  '🖤',\n  '🗣️',\n  '😀',\n  '☹️',\n  '😁',\n  '😂',\n  '😃',\n  '😄',\n  '😅',\n  '😆',\n  '😇',\n  '😈',\n  '😉',\n  '😊',\n  '😋',\n  '😌',\n  '😍',\n  '😎',\n  '😏',\n  '😐',\n  '😑',\n  '😒',\n  '😔',\n  '😕',\n  '😘',\n  '😚',\n  '😛',\n  '😜',\n  '😞',\n  '😠',\n  '😡',\n  '😢',\n  '😣',\n  '😤',\n  '😩',\n  '😫',\n  '😬',\n  '😭',\n  '😮',\n  '😰',\n  '😱',\n  '😲',\n  '😳',\n  '😴',\n  '😶',\n  '😹',\n  '🙂',\n  '🙃',\n  '🙄',\n  '🙆',\n  '🙈',\n  '🙊',\n  '🙋',\n  '🙌',\n  '🙏',\n  '🚶',\n  '🤔',\n  '🤗',\n  '🤘',\n  '🤙',\n  '🤝',\n  '🤞',\n  '🤣',\n  '🤤',\n  '🤦',\n  '🤨',\n  '🤩',\n  '🤪',\n  '🤫',\n  '🤭',\n  '🤷',\n  '🥰',\n  '🥳',\n  '🥴',\n  '🥵',\n  '🥺',\n  '🧡',\n];\n\nexport const hexOpacity20 = '33';\n\nexport function printTime(editor, docId) {\n  applyOpt(actionKey.initCallback, {}, docId);\n  setTimeout(() => {\n    const options = getCache(docId, 'options');\n    options?.reloadCallback();\n\n    console.log('initCallback', options?.isRefresh);\n    options?.isRefresh && showCacheDocContentModal(editor);\n    setCache(docId, 'options', { ...options, isRefresh: false });\n    const editorObj = window.tripdocs.editorsMap[docId];\n    if (editorObj) {\n      const isNoEdit = getCache(docId, 'isNoEdit');\n      editorObj.readOnly !== isNoEdit && editorObj.api.setIsReadOnly(isNoEdit);\n    }\n  }, 500);\n\n  resortListener(editor.children as any, editor);\n}\n\nconst DefaultElement = (props: any) => {\n  const {\n    editorState: { docId, selectRow, width, setSelectCB, editorId, setIsModalVisible, setModalTitle },\n    setFocusId,\n    ...rest\n  } = props;\n\n  const editor = useEditor();\n\n  useEffect(() => {\n    let time;\n    if (docId && editor.children.length) {\n      if (getCache(docId, 'timeCheck')) {\n        if (getCache(docId, 'options').socketUrl !== 'offline') {\n          if (window.tripdocs.editorsMap[docId].socket?.provider?.wsconnected) {\n          }\n        } else {\n          printTime(editor, docId);\n          setCache(docId, 'timeCheck', false);\n        }\n      }\n    }\n\n    return () => {};\n  }, []);\n\n  return (\n    <Element\n      {...rest}\n      editor={editor}\n      selectedRow={selectRow}\n      tableWidth={width}\n      setIsModalVisible={setIsModalVisible}\n      setModalTitle={setModalTitle}\n      setSelectCB={setSelectCB}\n      editorId={editorId}\n      setFocusId={setFocusId}\n    />\n  );\n};\n\nexport const renderElement = (props: any) => {\n  return <DefaultElement {...props} />;\n};\nlet targetSelect = { anchor: { path: [0], offset: 0 }, focus: { path: [0], offset: 0 } };\n\nexport interface EditorProps {\n  name: string;\n  id: any;\n  docId: string;\n  titleCallback: any;\n  editors: any;\n  isEmpty: any;\n  template: any;\n  templateReset: any;\n  color: any;\n  fileId: any;\n  addUser: any;\n  deleteUser: any;\n  findCallbacks: any;\n  searchText: any;\n  decorate: any;\n  replaceText: any;\n  defaultValue: any[];\n  findSelection: any;\n  setEditorSelection: any;\n  getNum: any;\n  shareCallback: any;\n  allUserList: any[];\n  userInfo: any;\n  setFocusedRangeId: any;\n  focusedRangeId: any;\n  setHoveredRangeId: any;\n  setTitleLoading: any;\n  setTemplateLoading: any;\n  titleLoading: any;\n  templateLoading: any;\n  handleCompoStart: any;\n  handleCompoEnd: any;\n  type: any;\n  renderPlaceholder: any;\n  anchorTrigger: Function;\n  setDocWidth: any;\n  setModalState: any;\n  currentColor: { fontColor: string; bgColor: string };\n  setCurrentColor: any;\n  chars: any;\n  setChars: any;\n  isShowHoveringCommentButton: boolean;\n  setPlaceholderRects: Function;\n  [key: string]: any;\n}\n\nconst EditorSlate: React.FC<EditorProps> = ({\n  id,\n  name,\n  editors,\n  docId,\n  titleCallback,\n  isEmpty,\n  template,\n  templateReset,\n  color,\n  decorate,\n  fileId,\n  addUser,\n  deleteUser,\n  anchorTrigger,\n  findCallbacks,\n  searchText,\n  replaceText,\n  findSelection,\n  setEditorSelection,\n  getNum,\n  shareCallback,\n  setFocusedRangeId,\n  focusedRangeId,\n  setHoveredRangeId,\n  setTitleLoading,\n  setTemplateLoading,\n  titleLoading,\n  allUserList,\n  userInfo,\n  templateLoading,\n  handleCompoStart,\n  handleCompoEnd,\n\n  type,\n  renderPlaceholder,\n  setDocWidth,\n  defaultValue,\n  setModalState,\n  currentColor,\n  setCurrentColor,\n  socketUrl,\n  setSideCommentRowNum,\n  sideCommentRowNum,\n  setCurRangeId,\n  chars,\n  setChars,\n  isShowHoveringCommentButton,\n  provider,\n  cursors,\n  commentData = [],\n  setPlaceholderRects,\n}) => {\n  const initialValue: any = defaultValue || [\n    {\n      type: ELTYPE.HEADING_ONE,\n      children: [\n        {\n          text: '',\n        },\n      ],\n      anchorId: createRandomId(),\n    },\n    {\n      type: ELTYPE.PARAGRAPH,\n      children: [\n        {\n          text: '',\n        },\n      ],\n      anchorId: createRandomId(),\n    },\n  ];\n  const { isReadOnly, WIPCommentRangeId } = useContext(TripdocsSdkContext);\n  const [ref, { x, y, width, height: minHeight, top, right, bottom, left }] = useMeasure();\n  console.log('useMeasure width', width);\n  const [titleValue, setTitleValue] = useState('');\n\n  const [cUser, setCUser] = useState(userInfo);\n\n  const [highlightRanges, setHightlightRanges] = useState([]);\n\n  const [thisFindSelection, setFindSelection] = useState(findSelection);\n\n  const [isLastSelectAll, setIsLastSelectAll] = useState(false);\n\n  const [dragOverFocus, setDragOverFocus] = useState(null);\n  const [cursorsTarget, setCursorsTarget] = useState<Range | undefined>();\n  useEffect(() => {\n    setFindSelection(findSelection);\n  }, [findSelection]);\n  useEffect(() => {\n    const dp = document.getElementById(`editorContainer-${docId}`);\n    let editorDom = document.getElementById(`editorarea-${docId}`);\n    let dragStop = false;\n    const debouceDragover = _.throttle((e, editorDom, editor) => {\n      if (!editorDom) {\n        editorDom = document.getElementById(`editorarea-${docId}`);\n      }\n\n      const list = editorDom ? Array.from(editorDom.childNodes) : [];\n      console.log('dragover', e);\n      for (let i = 0; i < e.path.length; i++) {\n        const el = e.path[i];\n        if (list.includes(el)) {\n          const node: any = ReactEditor.toSlateNode(editor, el);\n          if (HAS_INLINE_IMG_ELEMENT_TYPE.includes(node?.type)) {\n            const path = ReactEditor.findPath(editor, node);\n            const end = Editor.end(editor, path);\n            const sel: Range = { anchor: end, focus: end };\n            ReactEditor.focus(editor);\n            Transforms.select(editor, sel);\n            setCursorsTarget(sel);\n\n            const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n            const scrollWrapRect = scrollWrap.getBoundingClientRect();\n            dragStop = true;\n            if (e.clientY < scrollWrapRect.top + Math.floor(scrollWrapRect.height * 0.15)) {\n              dragStop = false;\n              scroll(-10);\n            }\n            if (e.clientY > scrollWrapRect.bottom - Math.floor(scrollWrapRect.height * 0.15)) {\n              dragStop = false;\n              scroll(10);\n            }\n          }\n        }\n      }\n    }, 50);\n\n    function dragover(e: any) {\n      let types = e.dataTransfer.types;\n      if (types && types[0] !== 'Files') {\n        return;\n      }\n      e.stopPropagation();\n\n      e.preventDefault();\n      e.dataTransfer.dropEffect = 'copy';\n      debouceDragover(e, editorDom, editor);\n    }\n    const scroll = step => {\n      const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n      if (scrollWrap) {\n        const scrollY = scrollWrap.scrollTop;\n        scrollWrap.scrollTo({ top: scrollY + step });\n      }\n    };\n    dp.addEventListener('dragover', dragover);\n    function drop(e: DragEvent) {\n      let types = e.dataTransfer.types;\n      if (isReadOnly || (types && types[0] !== 'Files')) {\n        return;\n      }\n      e.stopPropagation();\n\n      e.preventDefault();\n      dragStop = true;\n      let files = e.dataTransfer.files;\n      dragInsertLocalFiles(editor, Array.from(files));\n      setTimeout(() => {\n        setCursorsTarget(undefined);\n      }, 100);\n    }\n    dp.addEventListener('drop', drop);\n\n    return () => {\n      dp.removeEventListener('dragover', dragover);\n      dp.removeEventListener('drop', drop);\n    };\n  }, [isReadOnly]);\n\n  const isFirstMounted = useRef(true);\n\n  const testIsEmptyDoc = value =>\n    value &&\n    value.length === 2 &&\n    value[0]?.type === ELTYPE.HEADING_ONE &&\n    value[1]?.type === ELTYPE.PARAGRAPH &&\n    value[0]?.children[0]?.text === '' &&\n    value[1]?.children[0]?.text === '';\n\n  useEffect(() => {\n    const testLog = false;\n\n    const targetNode = document.getElementById(`editorarea-${docId}`);\n\n    const config = { attributes: true, childList: true, subtree: true };\n\n    const callback = function (mutationsList, observer) {\n      for (const mutation of mutationsList) {\n        if (mutation.type === 'childList') {\n          testLog && console.log('[MutationObserver] A child node has been added or removed.', mutation.target, new Date().getTime());\n        } else if (mutation.type === 'attributes') {\n          testLog &&\n            console.log('[MutationObserver] The ' + mutation.attributeName + ' attribute was modified.', mutation.target, new Date().getTime());\n        }\n      }\n\n      if (!getCache(docId, 'renderedToDom')) {\n        console.log('[MutationObserver] first mounted', isFirstMounted.current, editor.children);\n\n        if (editor?.children?.length > 0) {\n          const renderTime: string = `${new Date().getTime() - getCache(docId, 'initTimestamp')}ms`;\n          console.log('[time check] rendered to DOM at:' + new Date().getTime() + ', time consuming: ' + renderTime);\n\n          console.log('elementInit -> updateOutlineAnchor', window, 1, editor, 2, docId);\n          setTimeout(() => {\n            getEditorEventEmitter(docId).emit('updateOutlineAnchor', docId);\n            getEditorEventEmitter(docId).emit('renderedToDom', docId);\n          }, 0);\n\n          setCache(docId, 'renderedToDom', true);\n        }\n      }\n    };\n\n    const observer = new MutationObserver(callback);\n\n    observer.observe(targetNode, config);\n  }, []);\n\n  useEffect(() => {\n    const container = document.getElementById(`editorarea-${docId}`);\n    if (isFirstMounted.current) {\n      container.style.pointerEvents = 'none';\n    } else {\n      container.style.pointerEvents = 'auto';\n    }\n  }, [isFirstMounted.current]);\n\n  useEffect(() => {\n    renderPlaceholder && renderPlaceholder();\n    setDocWidth(width);\n  });\n\n  useLayoutEffect(() => {\n    setModalState({ setIsModalVisible: setIsModalVisible, setModalTitle: setModalTitle });\n    isFirstMounted.current = false;\n\n    if (typeof Node === 'function' && Node.prototype) {\n      const originalRemoveChild = Node.prototype.removeChild;\n      Node.prototype.removeChild = function (child) {\n        if (child.parentNode !== this) {\n          if (console) {\n            console.warn('Cannot remove a child from a different parent', child, this);\n          }\n          return child;\n        }\n        return originalRemoveChild.apply(this, arguments);\n      };\n\n      const originalInsertBefore = Node.prototype.insertBefore;\n      Node.prototype.insertBefore = function (newNode, referenceNode) {\n        if (referenceNode && referenceNode.parentNode !== this) {\n          if (console) {\n            console.warn('Cannot insert before a reference node from a different parent', referenceNode, this);\n          }\n          return newNode;\n        }\n        return originalInsertBefore.apply(this, arguments);\n      };\n    }\n  }, []);\n\n  const cursorsRef = useRef();\n  const mentionRef = useRef();\n  const menuRef = useRef();\n  const emojiPanelRef = useRef();\n  const [value, setValue] = useState(initialValue);\n  const [target, setTarget] = useState<Range | undefined>();\n  const [menuTarget, setMenuTarget] = useState<Range | undefined>();\n  const [emojiTarget, setEmojiTarget] = useState<Range | undefined>();\n  const [emojiIndex, setEmojiIndex] = useState(0);\n  const [menuIndex, setMenuIndex] = useState(0);\n  const [index, setIndex] = useState(0);\n  const [search, setSearch] = useState('');\n  const [pages, setPages] = useState(0);\n\n  async function setUserList(getUserList) {\n    console.log('setUserList-----------******', search);\n    let userList = [];\n    if (!search) {\n      userList = getCache(docId, 'options').defaultUserList;\n      console.log('setUserList-----------******', search, userList);\n    } else {\n      userList = await getUserList(search);\n      console.log('setUserList,arr', userList);\n      if (!userList) {\n        setChars([]);\n        return;\n      }\n    }\n\n    const newArr = [];\n    userList.filter(c => {\n      if (c?.status === 0) {\n        return false;\n      }\n      newArr.push({ ...c, sn: c.c_name });\n      return true;\n    });\n    console.log('******************', newArr);\n\n    setChars(newArr);\n  }\n\n  useEffect(() => {\n    console.log('search target', search, target);\n    if (window.tripdocs.editorsMap[docId]?.api?.getUserList) {\n      setUserList(window.tripdocs.editorsMap[docId]?.api.getUserList);\n    } else {\n      const allUserListFilter = window.tripdocs.editorsMap[docId]?.allUserListFilter;\n      const newArr = [];\n      const arr =\n        window.tripdocs.editorsMap[docId]?.allUserList.slice().map(c => {\n          const sn = c?.sn;\n          const displayname = c?.displayname;\n\n          if (\n            sn?.status !== 0 &&\n            ((allUserListFilter && allUserListFilter(c)) ||\n              sn?.toLowerCase().includes(search.toLowerCase()) ||\n              displayname?.toLowerCase().includes(search.toLowerCase()))\n          ) {\n            newArr.push({ ...c, sn: c?.c_name });\n          }\n        }) || [];\n      setChars(newArr);\n    }\n  }, [search, target]);\n\n  useEffect(() => {}, [pages]);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const activeItems = document.getElementsByClassName('mention-item-active');\n      if (activeItems.length > 0 && index !== 0) {\n        activeItems[0].scrollIntoView({ block: 'nearest' });\n      }\n    }\n  }, [index]);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const activeItems = document.getElementsByClassName('emoji-item-active');\n      if (activeItems.length > 0 && emojiIndex !== 0) {\n        activeItems[0].scrollIntoView({ block: 'nearest' });\n      }\n    }\n  }, [emojiIndex]);\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n    }\n  }, [menuIndex]);\n\n  const slateEditor = useMemo(() => {\n    const plugins = [\n      withTitleNormalized,\n      withElmentId,\n      withHtml,\n      withBlockquote,\n      withDeserializeMD,\n      withTabLevel,\n      withOlList,\n      withImages,\n      withInlineImages,\n      withVideo,\n      withMention,\n      withTable,\n      withAnchor,\n      withInline,\n      withShortcuts,\n      withNormalizeNode,\n      withEditLink,\n      withCard,\n      withReact,\n      withHistory,\n      withExcalidraw,\n    ].reverse();\n    const wrappedEditor = consumePlugins(createEditor(docId), plugins);\n    return wrappedEditor;\n  }, []);\n\n  const editor = useMemo(() => {\n    return editors || slateEditor;\n  }, []);\n\n  useEffect(() => {\n    const container = document.getElementById(`editorarea-${docId}`);\n\n    if (isReadOnly) {\n      container\n        ?.querySelectorAll(\"[contenteditable='true']:not(.ignore-toggle-readonly):not(.ant-image):not([class^='Tripdocs-'])\")\n        .forEach(function (item) {\n          item.setAttribute('contenteditable', 'false');\n        });\n    } else {\n      container\n        ?.querySelectorAll(\"[contenteditable='false']:not(.ignore-toggle-readonly):not(.ant-image):not([class^='Tripdocs-'])\")\n        .forEach(function (item) {\n          item.setAttribute('contenteditable', 'true');\n        });\n    }\n  }, [template, isReadOnly, focusedRangeId, sideCommentRowNum, window.tripdocs.editorsMap[docId]?.editor?.children]);\n\n  const [selectRow, setSelectRow] = useState<Path>(null);\n  const [isTitle, setIsTitle] = useState(editor.selection ? (editor.selection.focus.path[0] === 0 ? true : false) : false);\n\n  const _initFocus = useCallback(() => {\n    console.log('[init] FOUCS');\n    if (!window.tripdocs.editorsMap[docId]?.readOnly && editor.children && editor.children.length > 1) {\n    }\n  }, []);\n\n  const _onMouseUp = (e: any) => {\n    if (editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isExpanded(editor.selection)) {\n      if (editor.selection.anchor.path[0] === 0 && editor.selection.focus.path[0] !== 0) {\n        editor.selection = Range.intersection(editor.selection, {\n          anchor: { path: [0, 0], offset: 0 },\n          focus: { path: [0, 0], offset: (editor.children[0] as any).children[0].text.length },\n        });\n      }\n\n      if (editor.selection.focus.path[0] === 0 && editor.selection.anchor.path[0] !== 0) {\n        const lastChildIndex = editor.children.length - 1;\n        const lastGrandChildren: any = editor.children[editor.children.length - 1].children;\n        const lastTextLength = lastGrandChildren[lastGrandChildren.length - 1].text.length;\n        const { startPoint } = getStart(editor);\n        const bodySelection = {\n          focus: startPoint,\n          anchor: { path: [lastChildIndex, lastGrandChildren.length - 1], offset: lastTextLength },\n        };\n        editor.selection = Range.intersection(editor.selection, bodySelection);\n      }\n\n      const [start, end] = [Range.start(editor.selection), Range.end(editor.selection)];\n      if (start.path[0] === end.path[0]) {\n        const rowNode: any = SlateNode.get(editor, [start.path[0]]);\n        const lastTextLength: any = rowNode?.children[rowNode.children.length - 1]?.text?.length;\n        if (start && start.offset === 0 && end && end.offset === lastTextLength && HEADING_TYPES.includes(rowNode.type)) {\n        }\n      }\n    }\n  };\n\n  const _onKeyDown = (e: any) => {\n    if (getCache(docId, 'isComposing')) {\n      e.preventDefault();\n      return;\n    }\n    const startPath = editor.selection && ReactEditor.hasRange(editor, editor.selection) && [Range.start(editor.selection).path[0]];\n    if (onKeyDownCard(e, editor)) {\n      return;\n    }\n    onKeyDownDivide(e, editor);\n    onKeyDownTextMark(e, editor);\n    if (onKeyDownMention(e, editor)) {\n      return;\n    }\n    if (onKeyDownImage(e, editor)) {\n      return;\n    }\n    if (onKeyDownInlineImage(e, editor)) {\n      return;\n    }\n\n    if (target) {\n      switch (e.key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          if (index >= chars.length - 1) {\n            setPages(pages + 1);\n          } else {\n            const prevIndex = index + 1;\n            setIndex(prevIndex);\n          }\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          const nextIndex = index <= 0 ? index : index - 1;\n          setIndex(nextIndex);\n          break;\n        case 'Tab':\n        case 'Enter':\n          e.preventDefault();\n          if (chars[index] && chars[index].sn) {\n            Transforms.select(editor, target);\n            insertMention(editor, chars[index], cUser, docId);\n            setTarget(null);\n            setPages(0);\n            setChars([]);\n          }\n          break;\n        case 'Escape':\n          e.preventDefault();\n          setTarget(null);\n          setPages(0);\n          setChars([]);\n          break;\n      }\n      return;\n    }\n    if (menuTarget) {\n      const doms = document.getElementsByClassName('pmenu-block-wrapper');\n      const dom = doms[0];\n      const iconLen = dom.children.length;\n      const lastFullRow = Math.floor(iconLen / 5) * 5;\n\n      if (menuIndex < iconLen) {\n        switch (e.key) {\n          case 'ArrowDown':\n            e.preventDefault();\n            if (menuIndex < lastFullRow) {\n              setMenuIndex(prev => (prev + 5 < iconLen ? prev + 5 : iconLen - 1));\n            } else {\n              setMenuIndex(iconLen);\n            }\n\n            break;\n          case 'ArrowUp':\n            e.preventDefault();\n            if (menuIndex >= 5) {\n              setMenuIndex(prev => (prev >= 5 ? prev - 5 : 0));\n            }\n            break;\n          case 'ArrowLeft':\n            e.preventDefault();\n            if (menuIndex > 0) {\n              setMenuIndex(prev => prev - 1);\n            }\n            break;\n          case 'ArrowRight':\n            e.preventDefault();\n            if (menuIndex < iconLen - 1) {\n              setMenuIndex(prev => prev + 1);\n            }\n            break;\n          case 'Tab':\n          case 'Enter':\n            e.preventDefault();\n            const formats = [...iconMenus, ...blockMenus, { format: 'delete' }];\n            const path = editor.selection.anchor.path?.slice(0, -1);\n            execFormat(formats[menuIndex].format, editor, path, setIsModalVisible, setModalTitle);\n            setMenuTarget(null);\n            setMenuIndex(0);\n            break;\n          case 'Escape':\n            e.preventDefault();\n            setMenuTarget(null);\n            setMenuIndex(0);\n            break;\n        }\n      } else {\n        switch (e.key) {\n          case 'ArrowDown':\n            e.preventDefault();\n\n            setMenuIndex(prev => (prev + 1 > iconMenus.length + blockMenus.length ? 0 : prev + 1));\n\n            break;\n          case 'ArrowUp':\n            e.preventDefault();\n            setMenuIndex(prev => prev - 1);\n\n            break;\n          case 'ArrowLeft':\n            e.preventDefault();\n\n            break;\n          case 'ArrowRight':\n            e.preventDefault();\n\n            break;\n          case 'Tab':\n          case 'Enter':\n            e.preventDefault();\n            const formats = [...iconMenus, ...blockMenus, { format: 'delete' }];\n            const path = editor.selection.anchor.path?.slice(0, -1);\n            execFormat(formats[menuIndex].format, editor, path, setIsModalVisible, setModalTitle);\n            setMenuTarget(null);\n            setMenuIndex(0);\n            break;\n          case 'Escape':\n            e.preventDefault();\n            setMenuTarget(null);\n            setMenuIndex(0);\n            break;\n        }\n      }\n\n      return;\n    }\n    if (emojiTarget) {\n      switch (e.key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          const lastFullRow = Math.floor(emojis.length / 7) * 7;\n          if (emojiIndex < lastFullRow) {\n            setEmojiIndex(prev => (prev + 7 < emojis.length ? prev + 7 : emojis.length - 1));\n          }\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          if (emojiIndex >= 7) {\n            setEmojiIndex(prev => (prev >= 7 ? prev - 7 : 0));\n          }\n          break;\n        case 'ArrowLeft':\n          e.preventDefault();\n          if (emojiIndex > 0) {\n            setEmojiIndex(prev => prev - 1);\n          }\n          break;\n        case 'ArrowRight':\n          e.preventDefault();\n          if (emojiIndex < emojis.length - 1) {\n            setEmojiIndex(prev => prev + 1);\n          }\n          break;\n        case 'Tab':\n        case 'Enter':\n          e.preventDefault();\n          Transforms.select(editor, emojiTarget);\n          Transforms.insertText(editor, emojis[emojiIndex]);\n          setEmojiTarget(null);\n          setEmojiIndex(0);\n          break;\n        case 'Escape':\n          e.preventDefault();\n          setEmojiTarget(null);\n          setEmojiIndex(0);\n          break;\n      }\n      return;\n    }\n\n    onKeyDownTable(e, editor);\n\n    if (editor.selection) {\n      const selection = editor.selection;\n      const { path, offset } = editor.selection.anchor;\n      const rowNode: any = SlateNode.get(editor, [path[0]]);\n      let tabbableParentPath: any = null;\n      let tabbableParentNode: any = null;\n      if ((rowNode.type === ELTYPE.CARD && rowNode.children[1].type === ELTYPE.TABLE) || rowNode.type !== ELTYPE.CARD) {\n        tabbableParentPath = getParentPathByTypes(editor, path, TABBABLE_TYPES);\n        tabbableParentNode = tabbableParentPath && SlateNode.has(editor, tabbableParentPath) && SlateNode.get(editor, tabbableParentPath);\n      }\n\n      const currentNode: any = Editor.node(editor, Range.start(selection));\n\n      if (\n        (rowNode?.type && (HEADING_TYPES.includes(rowNode.type) || (HEADING_TYPES.includes(rowNode.oldType) && LIST_TYPES.includes(rowNode.type)))) ||\n        ((Editor.node(editor, selection)[0] as any).text as string)?.startsWith('#')\n      ) {\n        setTimeout(() => anchorTrigger(), 50);\n      }\n\n      let hasLeafProperty = false;\n      const leafNode: any = currentNode && currentNode[0] && currentNode[0];\n      const leafProperties = [...FORMATS, 'rangeIdList', 'isCaret'];\n      if (leafNode && Text.isText(leafNode)) {\n        leafProperties.forEach(prop => {\n          if (leafNode.hasOwnProperty(prop)) {\n            hasLeafProperty = true;\n          }\n        });\n      }\n\n      if (currentNode && leafNode && Text.isText(leafNode)) {\n        const isEnd = Editor.isEnd(editor, editor.selection.focus, currentNode[1]);\n        const parentNode: any = Editor.parent(editor, editor.selection.focus)[0];\n        const wrapTypes = [ELTYPE.LINK];\n        const isWrapped = wrapTypes.includes(parentNode.type);\n        if (isEnd && isWrapped) {\n          const nextNodeEntry = Editor.next(editor, { at: currentNode[1] });\n          if (nextNodeEntry) {\n            HistoryEditor.withoutMerging(editor, () => {\n              const nextPath = nextNodeEntry[1];\n              const nextLeafNodeEntry = Editor.leaf(editor, nextPath, { edge: 'start' });\n              const nextLeafPath = nextLeafNodeEntry && nextLeafNodeEntry[1];\n              const nextLeafStartPoint = { path: nextLeafPath, offset: 0 };\n              Transforms.select(editor, nextLeafStartPoint);\n            });\n          }\n        }\n      }\n\n      if (\n        Range.start(selection) &&\n        currentNode &&\n        currentNode[0] &&\n        currentNode[0].rangeIdList &&\n        Range.start(selection).offset === currentNode[0].text?.length\n      ) {\n        Editor.removeMark(editor, 'rangeIdList');\n        Editor.removeMark(editor, 'commentContent');\n      }\n\n      if (isHotkey('alt+ArrowUp', e)) {\n        e.preventDefault();\n        Transforms.select(editor, currentLineSelectAll(editor));\n      }\n      if (isHotkey('mod+a', e)) {\n        e.preventDefault();\n        if (editor.selection.focus.path[0] === 0) {\n          Transforms.select(editor, currentLineSelectAll(editor));\n        } else if (\n          editor.selection.focus.path[0] === 1 &&\n          editor.children.length === 2 &&\n          editor.children[1].children &&\n          editor.children[1].children[0] &&\n          editor.children[1].children[0].text === ''\n        ) {\n          return;\n        } else if (editor.selection.focus.path.length >= 4) {\n          console.log(editor.selection.focus.path, ReactEditor.toDOMNode(editor, Editor.node(editor, editor.selection.focus.path.slice(0, -2))[0]));\n          const range: any = currentCellSelectAll(editor);\n          Transforms.select(editor, range);\n        } else {\n          const range = bodySelectAll(editor);\n\n          Transforms.select(editor, range);\n          console.log(editor.children, editor.selection, range);\n        }\n        return;\n      }\n\n      if (isHotkey('Enter', e)) {\n        const { tabLevel = 0, type, children }: any = rowNode;\n        const parentNode: any = SlateNode.get(editor, path.slice(0, -1));\n        const parentChildren = parentNode && parentNode.children;\n        const hasSomeInline = parentChildren.some(child => INLINE_TYPES.includes(child.type));\n        const { tabLevel: childTabLevel, type: childType, children: childChildren } = parentNode;\n        const isLeaf = Text.isText(Editor.node(editor, selection));\n\n        const isTitle = getIsTitle(editor);\n        if (isTitle) return;\n\n        if (type && type !== ELTYPE.OLLIST && type !== ELTYPE.ULLIST) {\n          if ((childType && childType === ELTYPE.OLLIST) || childType === ELTYPE.ULLIST) {\n            const text = SlateNode.string(parentNode);\n\n            if (text === '' && !hasSomeInline) {\n              if (childTabLevel > 0) {\n                updateOlDecreaseIndent(editor, parentNode);\n              } else {\n                removeOl(editor);\n              }\n              e.preventDefault();\n              return;\n            } else {\n              insertNewOlFromOl(editor, parentNode as any, text);\n            }\n            window.event.returnValue = false;\n            return;\n          }\n        } else {\n          const text = SlateNode.leaf(editor, path).text;\n          if (text === '' && !hasSomeInline) {\n            if (tabLevel > 0) {\n              updateOlDecreaseIndent(editor, rowNode);\n            } else {\n              removeOl(editor);\n            }\n          } else {\n            insertNewOlFromOl(editor, rowNode as any, text);\n          }\n          e.preventDefault();\n        }\n\n        const firstChild: any = children[0];\n        const lastChild: any = children[children.length - 1];\n        const isFirstWithFormat = type && type === ELTYPE.PARAGRAPH && FORMATS.some((item: any) => firstChild[item]);\n        const isLastWithFormat = type && type === ELTYPE.PARAGRAPH && FORMATS.some((item: any) => lastChild[item]);\n\n        if (\n          ((tabbableParentNode && tabbableParentNode.type && HEADING_TYPES.includes(tabbableParentNode.type)) || isFirstWithFormat) &&\n          selection &&\n          ReactEditor.hasRange(editor, selection) &&\n          selection.focus.path[0] !== 0 &&\n          Range.isCollapsed(selection)\n        ) {\n          const parentPath = getParentPathByTypes(editor, selection.focus.path, HEADING_TYPES);\n          const lineStart = getCurrentLineStart(editor);\n          if (parentPath && Point.equals(selection.focus, lineStart)) {\n            e.preventDefault();\n            const lastParentPath = parentPath[parentPath.length - 1];\n            const newLinePath = [...parentPath.slice(0, -1), lastParentPath > 0 ? lastParentPath : 0];\n            Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as SlateNode, { at: newLinePath });\n          }\n        }\n\n        if (\n          ((tabbableParentNode && tabbableParentNode.type && HEADING_TYPES.includes(tabbableParentNode.type)) || isLastWithFormat) &&\n          selection &&\n          ReactEditor.hasRange(editor, selection) &&\n          Range.isCollapsed(selection)\n        ) {\n          const parentPath = getParentPathByTypes(editor, selection.focus.path, HEADING_TYPES);\n          const lineEnd = getCurrentLineEnd(editor);\n          console.log('parentPath', parentPath, lineEnd, Point.equals(selection.focus, lineEnd));\n          if (parentPath && Point.equals(selection.focus, lineEnd)) {\n            e.preventDefault();\n            const lastParentPath = parentPath[parentPath.length - 1];\n            const newLinePath = [...parentPath.slice(0, -1), lastParentPath + 1];\n            console.log('newLinePath', newLinePath);\n            Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as SlateNode, { at: newLinePath });\n            Transforms.select(editor, newLinePath);\n            return;\n          }\n        }\n\n        if (\n          type &&\n          type === ELTYPE.TODO_LIST &&\n          Editor.node(editor, [editor.selection.focus.path[0]]) &&\n          Editor.node(editor, [editor.selection.focus.path[0]])[0] &&\n          (Editor.node(editor, [editor.selection.focus.path[0]])[0] as any).todoChecked\n        ) {\n          setTimeout(() =>\n            Transforms.setNodes(editor, { todoChecked: false } as Partial<SlateNode>, {\n              at: [editor.selection.focus.path[0]],\n            })\n          );\n        }\n\n        if (isLeaf) {\n          const [leafBefore]: any = Editor.leaf(editor, selection);\n\n          if (leafBefore && leafBefore.rangeIdList && leafBefore.rangeIdList.length !== 0) {\n            e.preventDefault();\n            Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as SlateNode, { at: [selection.focus.path[0] + 1] });\n            Transforms.select(editor, [selection.focus.path[0] + 1]);\n          }\n        }\n\n        if (SlateNode.has(editor, path)) {\n          const texts = SlateNode.string(rowNode);\n          if (texts === '```') {\n            e.preventDefault();\n            Transforms.removeNodes(editor, { at: path });\n            setTimeout(() => {\n              insertCodeBlock(editor);\n            });\n            return;\n          }\n        }\n      }\n\n      if (editor.selection.focus.path[0] === 0 && isHotkey('Tab', e)) {\n        e.preventDefault();\n\n        const { startPoint } = getStart(editor);\n        editor.selection = {\n          anchor: startPoint,\n          focus: startPoint,\n        };\n      } else if (isHotkey('tab', e)) {\n        e.preventDefault();\n\n        if (isInTable(editor) && Range.isCollapsed(editor.selection)) {\n          const point = getCellRightPoint(editor);\n          if (point) {\n            const node: any = SlateNode.get(editor, point.path.slice(0, -1));\n            if (node?.type === ELTYPE.CARD_SUF) {\n              handleTableOps(editor, 'insertRow');\n              setTimeout(() => {\n                const point = getCellRightPoint(editor);\n                Transforms.setSelection(editor, { anchor: point, focus: point });\n              }, 100);\n            } else {\n              Transforms.setSelection(editor, { anchor: point, focus: point });\n            }\n            return;\n          }\n        } else {\n          increaseIndent(editor, rowNode, selection);\n        }\n      }\n      if (isHotkey('shift+tab', e)) {\n        e.preventDefault();\n        decreaseIndent(editor, rowNode, selection);\n      }\n\n      if (editor.selection && ReactEditor.hasRange(editor, selection) && isHotkey('Enter', e)) {\n        const isSelectedNode: any = SlateNode.get(editor, [editor.selection.focus.path[0]]);\n        if (isSelectedNode.selectedRow) {\n          e.preventDefault();\n        }\n      }\n\n      if (onKeyDownCommon(e, editor)) {\n        return;\n      }\n      if (editor.selection.focus.path[0] !== 0 && isHotkey('shift+enter', e)) {\n        e.preventDefault();\n        editor.insertText('\\n');\n      }\n\n      if (editor.selection.focus.path[0] === 0 && editor.selection.focus.offset === value[0].children[0].text.length && e.key === 'Delete') {\n        e.preventDefault();\n      }\n      if (Range.isCollapsed(editor.selection)) {\n        if (tabbableParentPath && !_.isEqual(tabbableParentPath, selectRow)) {\n          setSelectRow(tabbableParentPath);\n        } else if (startPath && !_.isEqual(startPath, selectRow)) {\n          setSelectRow(startPath);\n        }\n      }\n\n      if (isHotkey('Delete', e)) {\n        const parentImagePath = getParentPathByType(editor, selection.focus.path, ELTYPE.IMAGE);\n        if (parentImagePath) {\n          e.preventDefault();\n          e.stopPropagation();\n          const parentCardPath = getParentPathByType(editor, selection.focus.path, ELTYPE.CARD);\n          Transforms.removeNodes(editor, { at: parentCardPath });\n          return;\n        }\n        const parentMentionPath = getParentPathByType(editor, selection.focus.path, ELTYPE.MENTION);\n        if (parentMentionPath) {\n          e.preventDefault();\n          e.stopPropagation();\n          console.log('Delete parentMentionPath');\n          Transforms.removeNodes(editor, { at: parentMentionPath });\n          return;\n        }\n      }\n\n      if (isHotkey('Backspace', e)) {\n        const { type } = rowNode;\n\n        const { startPoint } = getStart(editor);\n        const [start, end] = Range.edges(editor.selection);\n\n        const parentImagePath = getParentPathByType(editor, selection.focus.path, ELTYPE.IMAGE);\n        if (parentImagePath) {\n          e.preventDefault();\n          e.stopPropagation();\n          const parentCardPath = getParentPathByType(editor, selection.focus.path, ELTYPE.CARD);\n          Transforms.removeNodes(editor, { at: parentCardPath });\n          return;\n        }\n\n        const parentMentionPath = getParentPathByType(editor, selection.focus.path, ELTYPE.MENTION);\n        if (parentMentionPath) {\n          e.preventDefault();\n          e.stopPropagation();\n          console.log('Backspace parentMentionPath');\n          Transforms.removeNodes(editor, { at: parentMentionPath });\n          return;\n        }\n\n        if (\n          editor.selection.focus.path[0] > 1 &&\n          editor.selection.focus.offset === 0 &&\n          value[selection.focus.path[0]]?.type === ELTYPE.PARAGRAPH &&\n          value[(selection.focus.path[0] || 1) - 1]?.type === ELTYPE.CODE_BLOCK &&\n          Range.isCollapsed(editor.selection)\n        ) {\n          e.preventDefault();\n          e.stopPropagation();\n          Transforms.removeNodes(editor, { at: [editor.selection.focus.path[0] - 1] });\n          return;\n        }\n\n        if (\n          tabbableParentNode &&\n          tabbableParentNode.type &&\n          HEADING_TYPES.includes(tabbableParentNode.type) &&\n          selection &&\n          ReactEditor.hasRange(editor, selection) &&\n          Range.isCollapsed(selection) &&\n          Point.equals(selection.focus, getCurrentLineStart(editor)) &&\n          !(selection.focus.path.length === 2 && selection.focus.path[0] === 1)\n        ) {\n          e.preventDefault();\n          const prevPath = tabbableParentPath && tabbableParentPath[tabbableParentPath.length - 1] > 0 ? Path.previous(tabbableParentPath) : null;\n          if (prevPath) {\n            const prevNode: any = SlateNode.get(editor, prevPath);\n\n            console.log('[prevNode]', SlateNode.string(prevNode));\n            if ([...HEADING_TYPES, ...LIST_TYPES].includes(prevNode.type) || SlateNode.string(prevNode).length) {\n              Transforms.setNodes(editor, { type: ELTYPE.PARAGRAPH } as Partial<SlateNode>);\n              editor.deleteBackward();\n            } else {\n              console.log('-------2--------');\n\n              Transforms.removeNodes(editor, { at: prevPath });\n            }\n          }\n        }\n\n        console.log(Range.end(editor.selection).path[0], editor.selection, rowNode);\n\n        return;\n      }\n\n      if (editor.selection.focus.path.length >= 4 && isHotkey('mod+Enter', e)) {\n        e.preventDefault();\n        Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as SlateNode, {\n          at: [editor.selection.focus.path[0] + 1],\n        });\n        editor.selection = {\n          anchor: { path: [editor.selection.focus.path[0] + 1, 0], offset: 0 },\n          focus: { path: [editor.selection.focus.path[0] + 1, 0], offset: 0 },\n        };\n      }\n      if (\n        (editor.selection.focus.path[0] >= 1 &&\n          value[editor.selection.focus.path[0] - 1] &&\n          value[editor.selection.focus.path[0] - 1].type === ELTYPE.CODE_BLOCK &&\n          editor.selection.focus.offset === 0 &&\n          isHotkey('left', e)) ||\n        (value[editor.selection.focus.path[0] + 1] !== undefined &&\n          value[editor.selection.focus.path[0] + 1].type === ELTYPE.CODE_BLOCK &&\n          value[editor.selection.focus.path[0]].children[0].text &&\n          editor.selection.focus.offset === value[editor.selection.focus.path[0]].children[0].text.length &&\n          isHotkey('right', e)) ||\n        (value[editor.selection.focus.path[0] + 1] !== undefined &&\n          value[editor.selection.focus.path[0] + 1].type === ELTYPE.CODE_BLOCK &&\n          value[editor.selection.focus.path[0]].children[0].text &&\n          editor.selection.focus.offset === value[editor.selection.focus.path[0]].children[0].text.length &&\n          isHotkey('Delete', e))\n      ) {\n        e.preventDefault();\n        console.log(e, SlateNode.get(editor, [editor.selection.focus.path[0]]), editor.selection.focus);\n      }\n\n      if (\n        selection &&\n        ReactEditor.hasRange(editor, selection) &&\n        Range.isExpanded(selection) &&\n        selection.anchor.path[0] === 0 &&\n        selection.focus.path[0] !== 0\n      ) {\n        e.preventDefault();\n        editor.selection = Range.intersection(selection, {\n          anchor: { path: [0, 0], offset: 0 },\n          focus: { path: [0, 0], offset: (editor.children[0] as any).children[0].text.length },\n        });\n      }\n      if (\n        selection &&\n        ReactEditor.hasRange(editor, selection) &&\n        Range.isExpanded(selection) &&\n        selection.focus.path[0] === 0 &&\n        selection.anchor.path[0] !== 0\n      ) {\n        e.preventDefault();\n        const lastChildIndex = editor.children.length - 1;\n        const lastGrandChildren: any = editor.children[editor.children.length - 1].children;\n        const lastTextLength = lastGrandChildren[lastGrandChildren.length - 1].text.length;\n\n        const { startPoint } = getStart(editor);\n        const bodySelection = {\n          focus: startPoint,\n          anchor: { path: [lastChildIndex, lastGrandChildren.length - 1], offset: lastTextLength },\n        };\n        editor.selection = Range.intersection(selection, bodySelection);\n      }\n      const historyVersionShortKey = getCache(docId, 'options')?.historyVersionShortKey;\n\n      if (historyVersionShortKey && isHotkey('alt+h', e)) {\n        e.preventDefault();\n\n        const hasCallbacks =\n          window?.tripdocs?.editorsMap?.[docId]?.api?.getDocHistoryCallback &&\n          window?.tripdocs?.editorsMap?.[docId]?.api?.getDocBlobByVersionCallback &&\n          window?.tripdocs?.editorsMap?.[docId]?.api?.restoreDocCallback;\n\n        if (hasCallbacks) {\n          window.tripdocs.editorsMap[docId].api.setIsShowHistoryManager(prev => !prev);\n        }\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (isHotkey('alt+r', e)) {\n          e.preventDefault();\n          window.tripdocs.editorsMap[docId].api.setIsReadOnly(prev => !prev);\n        }\n\n        if (isHotkey('alt+k', e)) {\n          e.preventDefault();\n          ReactEditor.focus(editor);\n          for (let i = value.length - 1; i >= 1; i--) {\n            Transforms.removeNodes(editor, { at: [i] });\n          }\n          Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as SlateNode, { at: [1] });\n        }\n\n        if (isHotkey('alt+t', e)) {\n          e.preventDefault();\n          handleSlateError(`[Test] 主动异常抛出测试`, editor);\n        }\n        if (isHotkey('shift+alt+t', e)) {\n          e.preventDefault();\n\n          window.tripdocs.editorsMap[docId].api.setContent([\n            { type: ELTYPE.DIVIDE, children: [{ text: 123 }] },\n            { type: ELTYPE.CARD, children: [{ type: 123 }] },\n          ]);\n        }\n\n        if (isHotkey('alt+l', e)) {\n          e.preventDefault();\n          const errors = SLATE_ERRORS.get(editor);\n          errors?.forEach((err, index) => {\n            console.error('[SLATE_ERROR] #' + index, err);\n          });\n        }\n\n        if (isHotkey('alt+e', e)) {\n          e.preventDefault();\n          console.log('|| CURRENT CHILDREN: ', editor.children);\n          console.log('|| CURRENT SELECTION: ', editor.selection);\n        }\n\n        if (isHotkey('alt+c', e)) {\n          e.preventDefault();\n          console.log('|| CURRENT NODE: ', Editor.node(editor, selection)[0]);\n          console.log('|| CURRENT PATH: ', Editor.node(editor, selection)[1], selection.focus.offset);\n        }\n        if (isHotkey('alt+v', e)) {\n          e.preventDefault();\n          console.log('|| PARENT NODE: ', Editor.parent(editor, Editor.node(editor, selection)[1])[0]);\n          console.log('|| PARENT PATH: ', Editor.parent(editor, Editor.node(editor, selection)[1])[1], selection.focus.offset);\n        }\n        if (isHotkey('alt+a', e)) {\n          e.preventDefault();\n          console.log('|| current editor: ', editor);\n          console.log('|| current NODE: ', selection, currentNode);\n          console.log('|| current dom: ', ReactEditor.toDOMNode(editor, currentNode[0]));\n        }\n        if (isHotkey('alt+b', e)) {\n          e.preventDefault();\n          console.log(\n            '|| TABLE NODE: ',\n            Editor.parent(editor, Editor.parent(editor, Editor.node(editor, selection)[1])[1]),\n            Editor.parent(editor, Editor.parent(editor, Editor.parent(editor, Editor.node(editor, selection)[1])[1])[1]),\n            Editor.parent(editor, Editor.parent(editor, Editor.parent(editor, Editor.parent(editor, Editor.node(editor, selection)[1])[1])[1])[1])\n          );\n          console.log('|| TABLE PATH: ', Editor.parent(editor, Editor.node(editor, selection)[1])[1]);\n        }\n      }\n\n      setFocusedRangeId(null);\n    }\n    onVideoKeydown(e, editor);\n  };\n\n  const _onKeyUp = (e: any) => {\n    if (editor.selection) {\n    }\n  };\n\n  const _onMouseOver = (e: any) => {\n    const leafNode = e && e.target && e.target.parentNode;\n    if (!leafNode.classList.contains('side-comment-leaf')) {\n      setHoveredRangeId(null);\n      return;\n    }\n    console.log('_onMouseOver...', e, leafNode);\n\n    const dataRangeId = leafNode.getAttribute('data-rangeid');\n    setHoveredRangeId(dataRangeId);\n  };\n\n  const _onCopy = (e: any) => {};\n\n  const _onPaste = (e: any) => {};\n\n  const _onCut = (e: any) => {};\n\n  useEffect(() => {\n    const sel = editor.selection;\n    sel && Range.isCollapsed(sel) && sel.focus.path && debounceSetEditorSelection(sel);\n\n    if (!sel || Range.equals(targetSelect, sel) || Range.start(sel).path[0] === 0) {\n      return;\n    }\n    targetSelect = sel;\n\n    if (Range.isExpanded(editor.selection) && Range.equals(editor.selection, bodySelectAll(editor))) {\n      setIsLastSelectAll(true);\n    } else {\n      setIsLastSelectAll(false);\n    }\n\n    if (isLastSelectAll && editor.children.length === 3 && editor.children[2].children[0].text === '') {\n      Transforms.delete(editor, { unit: 'line', at: [editor.children.length - 1] });\n    }\n  }, [editor.selection]);\n\n  const debounceSetEditorSelection = throttle(sel => {\n    let nodeType = null;\n    const newPath = [...sel.focus.path.slice(0, -1)];\n    const isPathValid = Path.isPath(newPath);\n    const isNodeValid = SlateNode.has(editor, newPath);\n    try {\n      if (isPathValid && isNodeValid) {\n        nodeType = (SlateNode.get(editor, newPath) as any).type;\n      }\n    } catch (e) {}\n    setEditorSelection({\n      selection: sel,\n      elementPath: sel.focus.path.slice(0, -1),\n      elementType: nodeType,\n    });\n  }, 100);\n\n  useEffect(() => {\n    const throttled = _.throttle(() => {\n      const api = docId && window.tripdocs?.editorsMap[docId]?.api;\n      setTimeout(() => {\n        api && api?.setLoading(false);\n      }, 500);\n\n      if (editor.children && editor.children.length > 1) {\n        const res = (SlateNode.get(editor, [0, 0]) as any).text;\n        if (editor.selection && ReactEditor.hasRange(editor, editor.selection) && editor.selection.focus.path[0] === 0) {\n          setIsTitle(true);\n          setTitleValue(res as any);\n        } else {\n          if (isTitle) {\n            setIsTitle(false);\n          }\n        }\n        let cacheTitle = getCache(docId, 'docTitle');\n        if (cacheTitle !== res) {\n          setCache(docId, 'docTitle', res);\n          titleCallback(res);\n        }\n        if (value.length > 2 || (value.length === 2 && (value[0].children[0].text || value[1].children[0].text))) {\n          isEmpty(true);\n        } else {\n          isEmpty(false);\n        }\n      }\n    }, 1000);\n\n    throttled();\n  }, [value]);\n\n  useEffect(() => {\n    if (target && chars.length > 0) {\n      const el: any = mentionRef.current;\n      const domRange = ReactEditor.toDOMRange(editor, target);\n      const rect = domRange?.getBoundingClientRect();\n      const editorRect = document.querySelector(`[id^='editorarea-${docId}']`)?.getBoundingClientRect();\n\n      el.style.position = 'absolute';\n      el.style.top = `${rect.top - editorRect.top + 94}px`;\n      el.style.left =\n        rect.left - editorRect.left + 24 + 250 < editorRect.right ? `${rect.left - editorRect.left + 24}px` : editorRect.right - 250 + 'px';\n    }\n  }, [chars]);\n\n  useEffect(() => {\n    if (emojiTarget) {\n      const el: any = emojiPanelRef.current;\n      const domRange = ReactEditor.toDOMRange(editor, emojiTarget);\n      const rect = domRange?.getBoundingClientRect();\n      const editorRect = document.querySelector(`[id^='editorarea-${docId}']`)?.getBoundingClientRect();\n\n      el.style.position = 'absolute';\n      el.style.top = `${rect.top - editorRect.top + 94}px`;\n      el.style.left =\n        rect.left - editorRect.left + 24 + 250 < editorRect.right ? `${rect.left - editorRect.left + 24}px` : editorRect.right - 250 + 'px';\n    }\n  }, [emojiTarget]);\n  useEffect(() => {\n    if (menuTarget) {\n      const el: any = menuRef.current;\n      const domRange = ReactEditor.toDOMRange(editor, menuTarget);\n      const rect = domRange?.getBoundingClientRect();\n      const editorRect = document.querySelector(`[id^='editorarea-${docId}']`)?.getBoundingClientRect();\n\n      el.style.position = 'absolute';\n      el.style.top = `${rect.top - editorRect.top + 94}px`;\n      el.style.left =\n        rect.left - editorRect.left + 24 + 250 < editorRect.right ? `${rect.left - editorRect.left + 24}px` : editorRect.right - 250 + 'px';\n    }\n  }, [menuTarget]);\n  useEffect(() => {\n    const el: any = cursorsRef?.current;\n    if (cursorsTarget && el) {\n      const domRange = ReactEditor.toDOMRange(editor, cursorsTarget);\n      const rect = domRange?.getBoundingClientRect();\n      const editorRect = document.querySelector(`[id^='editorarea-${docId}']`)?.getBoundingClientRect();\n      el.style.position = 'absolute';\n      el.style.top = `${rect.top - editorRect.top + 77}px`;\n      el.style.right = editorRect.right - rect.right + 9 + 'px';\n    }\n  }, [cursorsTarget]);\n\n  useEffect(() => {\n    if (!width) {\n      return;\n    }\n    if (template !== null && template.length > 0 && editor) {\n      let arr = [];\n\n      if (editor.children.length !== 0) {\n        ReactEditor.focus(editor);\n        for (let i = editor.children.length - 1; i >= 1; i--) {\n          Transforms.removeNodes(editor, { at: [i] });\n        }\n      }\n\n      if (template[0].children[0].text.length > 0) {\n        console.log(template[0].children[0].text);\n        Transforms.insertText(editor, template[0].children[0].text, { at: [0, 0] });\n      }\n\n      for (let i = 1; i < template.length; i++) {\n        arr.push(template[i]);\n      }\n      Transforms.insertNodes(editor, arr, { at: [1] });\n      window.tripdocs.editorsMap[docId].api.setTemplate(null);\n      setTemplateLoading(false);\n    }\n  }, [template, width]);\n\n  useEffect(() => {\n    window.tripdocs.editorsMap[docId].editor = editor;\n    window.tripdocs.editorsMap[docId].ReactEditor = ReactEditor;\n    window.tripdocs.editorsMap[docId].SlateEditor = Editor;\n    window.tripdocs.editorsMap[docId].Transforms = Transforms;\n    if (provider) {\n      window.tripdocs.editorsMap[docId].socket = {\n        provider,\n      };\n    }\n  }, [, width]);\n\n  const searchDecorate = useCallback(\n    ([node, path]: NodeEntry<SlateNode>) => {\n      const ranges: any[] = [];\n\n      if (searchText && Text.isText(node)) {\n        const { text } = node;\n        const parts = text.split(searchText);\n        let offset = 0;\n\n        parts.forEach((part: any, i: any) => {\n          if (i !== 0) {\n            ranges.push({\n              anchor: { path, offset: offset - (searchText as string).length },\n              focus: { path, offset },\n              highlight: true,\n            });\n          }\n\n          offset = offset + part.length + (searchText as string).length;\n        });\n      }\n\n      return ranges;\n    },\n    [searchText]\n  );\n\n  const commentInitRanges = useMemo((): selectionObjSlice[] => {\n    window.tripdocs.editorsMap[docId].commentData = commentData;\n    console.log('commentData---222', commentData);\n    const nCommentData: selectionObj[] = [];\n    for (let i = 0; i < commentData.length; i++) {\n      if (commentData[i].rangeId && !commentData[i].rangeId.startsWith('global-comment_')) {\n        const jsonRangeId = JSON.parse(commentData[i].rangeId);\n        const { selection } = jsonRangeId;\n        const cData: selectionObj = {\n          ...selection,\n\n          rangeId: commentData[i].rangeId,\n          data: commentData[i],\n          jsonRangeId,\n        };\n        nCommentData.push(cData);\n      }\n    }\n    return sliceRangeNoRepeateAtOnePath(editor, nCommentData);\n  }, [commentData]);\n\n  const [commentRanges, setCommentRanges] = useState([]);\n\n  useEffect(() => {\n    setCommentRanges(commentInitRanges);\n  }, [commentInitRanges]);\n\n  useEffect(() => {\n    window.tripdocs.editorsMap[docId].commentRanges = commentRanges;\n  }, [commentRanges]);\n\n  const commentDecorate = useCallback(\n    ([node, path]: NodeEntry<any>) => {\n      let ranges: any[] = [];\n      const newRanges = [];\n      const isElement = !Text.isText(node);\n      if (isElement && commentData?.length) {\n        ranges = JSON.parse(JSON.stringify(commentRanges));\n        for (let i = 0; i < ranges.length; i++) {\n          const {\n            jsonRangeId: {\n              anchorId,\n              commentType,\n              refContent,\n              selection: { focus, anchor },\n            },\n          } = ranges[i];\n\n          if (node?.anchorId === anchorId) {\n            let newPath = path;\n            if (Array.isArray(path) && path[path.length - 1] !== 0) {\n              newPath = [...path, 0];\n            }\n            const relativePath = getRelativePath(newPath, anchor.path);\n            const AnchorPath = calcPath(anchor.path, relativePath);\n            const FocusPath = calcPath(focus.path, relativePath);\n            if (isPath(FocusPath) && isPath(AnchorPath) && Editor.hasPath(editor, AnchorPath) && Editor.hasPath(editor, FocusPath)) {\n              const newSelection = {\n                anchor: { ...anchor, path: AnchorPath },\n                focus: { ...focus, path: FocusPath },\n              };\n              const fragement = Editor.fragment(editor, newSelection);\n              const str = SlateNode.string({ children: fragement });\n              console.log('fragement', fragement, str);\n              const isStrEquals = str === refContent;\n\n              const relativePath = getRelativePath(newPath, anchor.path);\n              const newAnchorPath = calcPath(ranges[i].anchor.path, relativePath);\n              const newFocusPath = calcPath(ranges[i].focus.path, relativePath);\n\n              if (\n                isStrEquals &&\n                isPath(newFocusPath) &&\n                isPath(newAnchorPath) &&\n                Editor.hasPath(editor, newAnchorPath) &&\n                Editor.hasPath(editor, newFocusPath)\n              ) {\n                ranges[i].focus = { ...ranges[i].focus, path: newFocusPath };\n                ranges[i].anchor = { ...ranges[i].anchor, path: newAnchorPath };\n                newRanges.push(ranges[i]);\n              }\n            }\n          }\n        }\n      }\n      if (newRanges.length) {\n        console.log('insertSideComment combineDecorate ranges', node, path, newRanges, ranges);\n      }\n      return newRanges;\n    },\n    [commentRanges, commentData, WIPCommentRangeId]\n  );\n\n  const findDecorate = useCallback(\n    ([node, path]: NodeEntry<SlateNode>) => {\n      let ranges: any = [];\n      if (searchText && Text.isText(node)) {\n        const num = getNum();\n        if (\n          highlightRanges.length !== 0 &&\n          highlightRanges[num] &&\n          highlightRanges[num].anchor.path[0] === path[0] &&\n          highlightRanges[num].focus.path[0] === path[0] &&\n          ((highlightRanges[num].anchor.path.length > 2 &&\n            highlightRanges[num].anchor.path[1] === path[1] &&\n            highlightRanges[num].anchor.path[2] === path[2] &&\n            highlightRanges[num].focus.path[1] === path[1] &&\n            highlightRanges[num].focus.path[2] === path[2]) ||\n            highlightRanges[num].anchor.path.length <= 2)\n        ) {\n          const findRanges = {\n            anchor: highlightRanges[num].anchor,\n            focus: highlightRanges[num].focus,\n            findHighlight: true,\n          };\n          ranges.push(findRanges);\n        }\n      }\n      return ranges;\n    },\n    [searchText, highlightRanges, thisFindSelection]\n  );\n\n  const [cursorsArr, setCursorsArr] = useState(cursors);\n  useEffect(() => {\n    const cacheCursors = getCache(docId, 'cursors');\n    const isComposing = getCache(docId, 'isComposing');\n\n    if (!isComposing && JSON.stringify(cacheCursors) !== JSON.stringify(cursors)) {\n      setCache(docId, 'cursors', cursors);\n      setCursorsArr(cursors);\n    }\n  }, [cursors]);\n\n  const combineDecorate = useCallback(\n    ([node, path]: NodeEntry<SlateNode>) => {\n      const range1 = decorate && !isReadOnly ? decorate([node, path]) : [];\n      const range2 = commentDecorate([node, path]);\n\n      return [...range1, ...range2];\n    },\n    [commentData, cursorsArr, isReadOnly, commentRanges, WIPCommentRangeId]\n  );\n\n  const renderLeaf = useCallback((props: RenderLeafProps) => <Leaf {...props} />, [combineDecorate]);\n\n  useEffect(() => {\n    const entries = SlateNode.nodes(editor);\n    let ranges: any = [];\n    for (const entry of entries) {\n      const arr = searchDecorate(entry);\n      for (const el of arr) {\n        ranges.push(el);\n      }\n    }\n    setHightlightRanges(ranges);\n  }, [searchDecorate]);\n\n  const setSelectCB = ([path]: any) => {\n    ReactEditor.blur(editor);\n    ReactEditor.focus(editor);\n    Transforms.insertNodes(editor, { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] } as SlateNode, {\n      at: [path + 1],\n    });\n    Transforms.select(editor, {\n      anchor: { path: [path + 1, 0], offset: 0 },\n      focus: { path: [path + 1, 0], offset: 0 },\n    });\n  };\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      document.addEventListener('mouseup', _onMouseUp);\n\n      getEditorEventEmitter(docId).on('renderedToDom', _initFocus, docId);\n    }\n    return () => {\n      document.removeEventListener('mouseup', _onMouseUp);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!width) {\n      return;\n    }\n\n    const editorRect = $(`#editorarea-${docId}`)[0]?.parentElement?.getBoundingClientRect();\n    const titleRect = $(`#editorarea-${docId} > *:first-child`)[0]?.getBoundingClientRect();\n    const contentRect = $(`#editorarea-${docId} > *:nth-child(2)`)[0]?.getBoundingClientRect();\n    const editorRectParentPadding = 10 - 6;\n    if (titleRect && contentRect) {\n      setPlaceholderRects({\n        titleRect: {\n          left: `${titleRect.left - editorRect.left + editorRectParentPadding}px`,\n          top: `${titleRect.top - editorRect.top - 2}px`,\n        },\n        contentRect: {\n          left: `${contentRect.left - editorRect.left + editorRectParentPadding - 4}px`,\n          top: `${contentRect.top - editorRect.top + editorRectParentPadding}px`,\n        },\n      });\n    }\n  }, [width]);\n\n  useEffect(() => {\n    findCallbacks(highlightRanges, editor, setValue);\n  }, [highlightRanges, editor]);\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [modalTitle, setModalTitle] = useState(0);\n  const titleArr = ['请插入视频（仅限优酷，哔哩哔哩）链接', '请插入图片链接', '请插入卡比平台设计稿链接', '请插入链接'];\n\n  useEffect(() => {\n    if (isModalVisible) {\n      setInputValue('');\n    }\n  }, [isModalVisible]);\n\n  const refocusEditorAfterModal = useCallback(\n    (hasInserted = false) => {\n      ReactEditor.focus(editor);\n      const cacheSelection = getCache(docId, 'selection');\n      console.log('[cacheSelection]', cacheSelection);\n      if (cacheSelection && Range.isRange(cacheSelection)) {\n        if (hasInserted) {\n          const { anchor } = cacheSelection;\n          const nextPoint = { path: [...anchor.path.slice(0, -1), anchor.path[anchor.path.length - 1] + 2], offset: 0 };\n          const nextRange = { anchor: nextPoint, focus: nextPoint };\n          if (ReactEditor.hasRange(editor, nextRange)) {\n            Transforms.select(editor, nextRange);\n          }\n        } else {\n          Transforms.select(editor, cacheSelection);\n        }\n      }\n    },\n    [editor, docId]\n  );\n\n  const handleOk = (e: any) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (modalTitle === 0) {\n      if (!inputValue) return;\n\n      if (inputValue.indexOf('youku.com') > -1 || inputValue.indexOf('bilibili.com') > -1) {\n        console.log('video', selectRow);\n        insertVideo(editor, inputValue);\n        refocusEditorAfterModal(true);\n      } else {\n        message.destroy();\n        message.error('仅支持优酷，哔哩哔哩视频');\n      }\n    } else if (modalTitle === 1) {\n      if (!inputValue) return;\n\n      insertImage(editor, '', selectRow, inputValue);\n      refocusEditorAfterModal(true);\n    }\n\n    setIsModalVisible(false);\n\n    console.log('handleOk');\n  };\n\n  const handleCancel = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsModalVisible(false);\n    refocusEditorAfterModal();\n    console.log('handleCancel');\n  };\n\n  const onInputChange = (e: any) => {\n    setInputValue(e.target.value);\n    console.log('onInputChange', e.target.value);\n  };\n\n  const [titleEditorValue, setTitleEditorValue] = useState((editor?.children?.[0] && SlateNode.string(editor.children[0])) || '');\n\n  useEffect(() => {\n    setTitleEditorValue((editor?.children?.[0] && SlateNode.string(editor.children[0])) || '');\n  }, [editor?.children?.[0]?.children?.[0]?.text]);\n\n  useEffect(() => {\n    if (getCache(docId, 'options').isMdEditor || !getCache(docId, 'options').useValidationWorker) {\n      return;\n    }\n    let validationWorker = null;\n    let workerBlobURL = '';\n\n    const isDev = __DEV__;\n\n    if (editor?.children) {\n      if (isDev) {\n        validationWorker = window?.tripdocs?.cache?.registerValidationWorker__DEV(editor)?.worker;\n      } else {\n        const result = registerValidationWorker(editor);\n        if (result) {\n          const { worker, blobURL } = result;\n          validationWorker = worker;\n          workerBlobURL = blobURL;\n        }\n      }\n      debouncedUpdateCache(editor, docId);\n    }\n\n    return () => {\n      if (getCache(docId, 'options').isMdEditor) {\n        return;\n      }\n      validationWorker?.terminate?.();\n      workerBlobURL && window.URL.revokeObjectURL(workerBlobURL);\n    };\n  }, [editor?.history?.undos?.length]);\n\n  const changeSlateEditorTitle = useCallback(\n    _.debounce(e => {\n      handleTitleEditorBinding(e);\n    }, 500),\n    []\n  );\n\n  const onTitleEditorChange = useCallback((e: any) => {\n    setTitleEditorValue(e.target.value);\n    changeSlateEditorTitle(e);\n  }, []);\n\n  const handleTitleEditorBinding = useCallback((e: any) => {\n    console.log('Title Input => setTitleInputValue', e.target.value);\n\n    if (editor.children.length) {\n      const anchor = Editor.start(editor, [0]);\n      const focus = Editor.end(editor, [0]);\n      console.log('setTitleInputValue*************', { anchor, focus });\n      if (Range.isExpanded({ anchor, focus })) {\n        Transforms.delete(editor, { at: { anchor, focus } });\n      }\n      Transforms.insertText(editor, e.target.value, { at: anchor });\n    }\n  }, []);\n\n  const rightClickMenu = (\n    <Menu>\n      <RightClickMenuItem icon=\"content-cut\" action=\"cut\" itemName=\"剪切\" />\n      <RightClickMenuItem icon=\"content-copy\" action=\"copy\" itemName=\"复制\" />\n      <RightClickMenuItem icon=\"content-paste\" action=\"paste\" itemName=\"粘贴\" />\n      <Menu.Divider></Menu.Divider>\n      {}\n      <EditLinkButton></EditLinkButton>\n    </Menu>\n  );\n\n  const { isMobile, isMiddle, isWideMode } = useContext(TripdocsSdkContext);\n  function addNewStyle(newStyle) {\n    let styleElement: HTMLStyleElement = document.getElementById('styles_js') as HTMLStyleElement;\n\n    if (!styleElement) {\n      styleElement = document.createElement('style');\n      styleElement.type = 'text/css';\n      styleElement.id = 'styles_js';\n      document.getElementsByTagName('head')[0].appendChild(styleElement);\n    }\n\n    styleElement.appendChild(document.createTextNode(newStyle));\n  }\n\n  useEffect(() => {\n    if (isMobile) {\n      addNewStyle(\n        \".editor_container_wrap .editor-container div[id^='editorarea']::before { content: ''; width: calc(100% - 50px); height: 1px; background-color: rgba(0, 0, 0, 0.05); position: absolute; top: 74px; margin: 4px 0; }\"\n      );\n    } else {\n      addNewStyle(\n        \".editor_container_wrap .editor-container div[id^='editorarea']::before { content: ''; width: calc(100% - 140px); height: 1px; background-color: rgba(0, 0, 0, 0.05); position: absolute; top: 74px; margin: 4px 0; }\"\n      );\n    }\n  }, [isMobile]);\n  const { isInElectron } = useContext(TripdocsSdkContext);\n\n  return (\n    <ClientFrame\n      id={`editor-content-${docId}`}\n      style={{ maxWidth: isMobile || !isMiddle || isWideMode ? '100vw' : '936px' }}\n      spellCheck={getCache(docId, 'spellcheck')}\n    >\n      {}\n      <Modal\n        title={titleArr[modalTitle]}\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        okText={f('complete')}\n        cancelText={f('cancel')}\n      >\n        <Input value={inputValue} onChange={onInputChange} />\n        {[1].includes(modalTitle) && (\n          <div\n            onMouseDown={e => {\n              e.preventDefault();\n              e.stopPropagation();\n              insertImgFile(editor, docId);\n\n              handleCancel(e);\n            }}\n            style={{ color: '#1890ff', marginTop: 10 }}\n          >\n            {f('localFile')}\n          </div>\n        )}\n      </Modal>\n      <input\n        className={cx(\n          'title-editor-area',\n          css`\n            white-space: nowrap;\n            width: 100%;\n\n            line-height: 36px;\n            margin: 16px 0;\n            padding: 0 ${isMobile ? `15px` : `60px`};\n            border: none;\n            outline: none;\n            background: transparent;\n            &::-webkit-input-placeholder {\n              color: rgba(0, 0, 0, 0.25);\n            }\n          `\n        )}\n        style={{\n          color: 'rgba(0, 0, 0, 0.85)',\n          fontWeight: 600,\n          fontSize: '28px',\n        }}\n        readOnly={isReadOnly}\n        placeholder={f('titleHint')}\n        maxLength={45}\n        value={titleEditorValue}\n        onBlur={handleTitleEditorBinding}\n        onChange={onTitleEditorChange}\n        onDragStart={e => {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }}\n        onKeyDown={e => {\n          console.log('INPUT keydown', e);\n        }}\n      />\n      <Slate\n        editor={editor}\n        value={value}\n        onChange={(newValue: any) => {\n          let isBlockContext = false;\n          if (!!document?.activeElement?.closest('[data-block-context]')) {\n            isBlockContext = true;\n            if (isBlockContext) {\n              setValue(newValue);\n              applyOpt(actionKey.onSlateChange, newValue, docId);\n              return;\n            }\n          }\n\n          const isComposing = getCache(docId, 'isComposing');\n          const options = getCache(docId, 'options');\n          const isUseIMEInputing = getCache(docId, 'isUseIMEInputing');\n          if (!(options?.useIMEInput && isComposing && isUseIMEInputing)) {\n            setValue(newValue);\n          } else {\n            setCache(docId, 'newValue', newValue);\n          }\n          applyOpt(actionKey.onSlateChange, newValue, docId);\n\n          const { selection } = editor;\n          selection && ReactEditor.hasRange(editor, selection) && setCache(docId, 'selection', selection);\n          if (\n            selection &&\n            ReactEditor.hasRange(editor, selection) &&\n            selection.anchor &&\n            selection.focus &&\n            Range.isCollapsed(selection) &&\n            newValue.length\n          ) {\n            const result = funArrExec([quikMenuByWordSearch, quikMenuByWord(), quikMenuByWord('/$')], editor, selection, (tag, target, mSearch) => {\n              switch (tag) {\n                case '@':\n                  if (typeof mSearch === 'string') {\n                    setSearch(mSearch);\n                    setIndex(0);\n                    setTarget(target);\n                  }\n                  break;\n\n                case '/$':\n                  if (target?.anchor?.path) {\n                    const start = Editor.start(editor, target?.anchor?.path);\n                    const isEqual = Point.equals(start, target.anchor);\n\n                    const node = SlateNode.get(editor, target?.anchor?.path?.slice(0, -1));\n                    const str = SlateNode.string(node);\n                    if (isEqual && str === '/') {\n                      setMenuTarget(target);\n                    }\n                  }\n                  break;\n                case '\\\\\\\\$':\n                  setEmojiTarget(target);\n                  break;\n                default:\n                  break;\n              }\n            });\n            if (result) {\n              return;\n            }\n          }\n\n          setMenuTarget(null);\n          setTarget(null);\n          setEmojiTarget(null);\n          setEmojiIndex(0);\n\n          setTimeout(() => {\n            const sel = editor.selection;\n            const myValue = editor.children;\n            if (\n              sel &&\n              sel.anchor &&\n              sel.focus &&\n              Range.isCollapsed(sel) &&\n              myValue.length >= 2 &&\n              myValue[myValue.length - 1].children[0].text !== ''\n            ) {\n              Transforms.insertNodes(editor, [{ type: 'paragraph', children: [{ text: '' }] } as SlateNode], { at: [myValue.length] });\n            }\n          });\n        }}\n      >\n        {isMobile ? (\n          <HoveringCommentButton\n            width={width}\n            editorId={`editorarea-${docId}`}\n            setSideCommentRowNum={setSideCommentRowNum}\n            setCurRangeId={setCurRangeId}\n            isMobile={isMobile}\n            isShowHoveringCommentButton={isShowHoveringCommentButton}\n          />\n        ) : !isReadOnly ? (\n          <HoveringToolbar\n            shareCallback={shareCallback}\n            editorId={`editorarea-${docId}`}\n            currentColor={currentColor}\n            setCurrentColor={setCurrentColor}\n            setSideCommentRowNum={setSideCommentRowNum}\n            setCurRangeId={setCurRangeId}\n            isMobile={isMobile}\n            isShowHoveringCommentButton={isShowHoveringCommentButton}\n          />\n        ) : (\n          <HoveringCommentButton\n            width={width}\n            editorId={`editorarea-${docId}`}\n            setSideCommentRowNum={setSideCommentRowNum}\n            setCurRangeId={setCurRangeId}\n            isMobile={isMobile}\n            isShowHoveringCommentButton={isShowHoveringCommentButton}\n          />\n        )}\n        {}\n        <Editable\n          spellCheck={getCache(docId, 'spellcheck')}\n          id={`editorarea-${docId}`}\n          editorId={`editorarea-${docId}`}\n          readOnly={isReadOnly}\n          className={cx('slate-editable')}\n          refs={ref}\n          data-ignore-slate\n          decorate={combineDecorate}\n          style={{\n            width: '100%',\n            padding: isMobile ? '10px 15px 160px' : '10px 60px 160px',\n\n            overflow: 'visible',\n          }}\n          onCompositionStartCapture={e => {\n            if (!!document?.activeElement?.closest('[data-block-context]')) {\n              return;\n            }\n            const options = getCache(docId, 'options');\n            const isMulti = Range.isExpanded(editor.selection) && sliceRangToLine(editor, editor.selection).length > 1 ? true : false;\n\n            if (options?.useIMEInput && isMulti) {\n              setCache(docId, 'compositionSelection', editor.selection);\n              setCache(docId, 'isUseIMEInputing', true);\n              const editorDom = document.getElementById('editorarea-' + docId);\n              const domArr = Array.from(editorDom.children);\n              const domLen = domArr.length;\n              const editorObj = window.tripdocs.editorsMap[docId];\n              const value = editorObj?.editor?.children || [];\n              if (value.length === domLen) {\n                for (let i = 0; i < value.length; i++) {\n                  const element = value[i];\n                  const elDOm = domArr[i];\n                  setCache(docId, 'editorDoms-' + (element.anchorId || i.toString()), elDOm);\n                }\n              }\n            }\n            handleCompoStart(e);\n          }}\n          onCompositionEnd={e => {\n            if (!!document?.activeElement?.closest('[data-block-context]')) {\n              return;\n            }\n            const newValue = getCache(docId, 'newValue');\n\n            const options = getCache(docId, 'options');\n            const isUseIMEInputing = getCache(docId, 'isUseIMEInputing');\n\n            if (options?.useIMEInput && isUseIMEInputing) {\n              setCache(docId, 'isUseIMEInputing', false);\n              const text = e.data.replace(/\\n/g, '');\n              const compositionSelection = getCache(docId, 'compositionSelection');\n              const start = Editor.start(editor, compositionSelection);\n              console.log('onCompositionEnd insert text', text);\n              setCache(docId, 'cacheSelect', { path: start.path, offset: start.offset + text.length });\n              if (Array.isArray(newValue)) {\n                setCache(docId, 'newValue', undefined);\n                setTimeout(() => {\n                  setValue(newValue);\n                  Transforms.insertText(editor, text, { at: start });\n                  execDom(text);\n                }, 0);\n              } else {\n                execDom('');\n              }\n            }\n            function execDom(text) {\n              setTimeout(() => {\n                const start = Editor.start(editor, editor.selection);\n                Transforms.select(editor, start);\n                const [node, path] = Editor.above(editor, {\n                  at: start,\n                  match: (n: any) => Editor.isBlock(editor, n),\n                });\n                const dom = ReactEditor.toDOMNode(editor, node);\n\n                delInvalidDom(dom);\n                setTimeout(() => {\n                  recoverDom();\n                  setSelect();\n                }, 0);\n              }, 0);\n              function setSelect() {\n                setTimeout(() => {\n                  const point = getCache(docId, 'cacheSelect');\n                  Transforms.setSelection(editor, { anchor: point, focus: point });\n                }, 0);\n              }\n              function delInvalidDom(dom: HTMLElement) {\n                if (dom && dom.parentNode) {\n                  const parentDom = dom.parentNode;\n                  Array.from(parentDom.children).map(element => {\n                    if (element.tagName === 'P') {\n                      if (\n                        !(\n                          element.children &&\n                          element.children[0] &&\n                          element.children[0].children &&\n                          element.children[0].children[0] &&\n                          element.children[0].children[0].tagName !== 'BR'\n                        ) ||\n                        (element.querySelectorAll('span')?.length || 0) < 3\n                      ) {\n                        parentDom.removeChild(element);\n                      }\n                    }\n                  });\n                }\n\n                if (dom && dom.children[1] && dom.children[1].tagName === 'SPAN') {\n                  if (dom.children[1].querySelectorAll('span').length < 2) {\n                    dom.removeChild(dom.children[1]);\n                    delInvalidDom(dom);\n                  }\n                }\n              }\n              function recoverDom() {\n                const editorDom = document.getElementById('editorarea-' + docId);\n                const domArr = Array.from(editorDom.children);\n                const domLen = domArr.length;\n                const editorObj = window.tripdocs.editorsMap[docId];\n                const value = editorObj?.editor?.children || [];\n\n                setTimeout(() => {\n                  for (let i = 0; i < value.length; i++) {\n                    const element = value[i];\n                    const elDOm = getCache(docId, 'editorDoms-' + (element.anchorId || i.toString()));\n\n                    const str = SlateNode.string(element);\n                    const str2 = (elDOm && elDOm?.textContent) || '';\n                    if (str.trim() !== str2.trim()) {\n                      const path = [i];\n                      const node = SlateNode.get(editor, path);\n                      Transforms.removeNodes(editor, { at: path });\n                      Transforms.insertNodes(editor, node, { at: path });\n                    }\n                    delInvalidDom(elDOm);\n                  }\n\n                  console.log('onCompositionEnd', value.length, domLen);\n                }, 0);\n              }\n            }\n            handleCompoEnd(e);\n          }}\n          onDrop={(event: any) => {\n            const target = event.target;\n            const shouldIgnore =\n              target.classList.contains('card_suf') || target.classList.contains('card_pre') || target.getAttribute('data-slate-editor') === 'true';\n            if (shouldIgnore) {\n              event.preventDefault();\n              return;\n            }\n          }}\n          renderElement={props => {\n            return (\n              <>\n                {}\n                {}\n                {}\n                {}\n                <DefaultElement {...props} />\n              </>\n            );\n          }}\n          selectRow={selectRow}\n          width={width}\n          setSelectCB={setSelectCB}\n          docId={docId}\n          renderLeaf={renderLeaf}\n          scrollSelectionIntoView={slateScrollSelectionIntoView}\n          onKeyDown={_onKeyDown}\n          onKeyUp={_onKeyUp}\n          onMouseDown={handleCompoEnd}\n          onMouseOver={_onMouseOver}\n          onPaste={_onPaste}\n          onCut={_onCut}\n          onFocus={() => {\n            ACTIVE_EDITOR.set(window, editor);\n          }}\n          onBlur={() => {\n            ACTIVE_EDITOR.set(window, null);\n          }}\n        />\n        {!isReadOnly && isInElectron && cursorsTarget && (\n          <EditorContainerInnerPortal docId={docId}>\n            <div\n              ref={cursorsRef}\n              style={{\n                top: '-9999px',\n                right: '-9999px',\n                position: 'absolute',\n                zIndex: 1000,\n                background: 'black',\n\n                height: 20,\n                width: 2,\n              }}\n            ></div>\n          </EditorContainerInnerPortal>\n        )}\n        {}\n\n        {!isReadOnly && emojiTarget && (\n          <EditorContainerInnerPortal docId={docId}>\n            <div\n              ref={emojiPanelRef}\n              style={{\n                top: '-9999px',\n                left: '-9999px',\n                position: 'absolute',\n                zIndex: 100,\n                padding: '3px',\n                background: 'white',\n                borderRadius: '4px',\n                boxShadow: '0 1px 5px rgba(0,0,0,.2)',\n                height: 200,\n                maxHeight: 200,\n                overflow: 'hidden auto',\n                display: 'flex',\n                flexWrap: 'wrap',\n                width: '210px',\n                fontSize: '18px',\n              }}\n            >\n              {emojis.map((emoji, i) => (\n                <div\n                  contentEditable=\"false\"\n                  suppressContentEditableWarning\n                  data-ignore-slate\n                  className={i === emojiIndex ? 'emoji-item-active' : 'emoji-item'}\n                  key={i}\n                  style={{\n                    padding: '5px',\n                    borderRadius: '3px',\n                    width: '28px',\n                    height: '28px',\n                    background: i === emojiIndex ? '#B4D5FF' : 'transparent',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    userSelect: 'none',\n                  }}\n                  onMouseEnter={() => {\n                    if (index !== i) setEmojiIndex(i);\n                  }}\n                  onMouseLeave={() => {\n                    setEmojiIndex(0);\n                  }}\n                  onMouseDown={e => {\n                    e.preventDefault();\n                    setEmojiIndex(i);\n                    Transforms.select(editor, emojiTarget);\n                    Transforms.insertText(editor, emoji);\n                    setEmojiTarget(null);\n                    setEmojiIndex(0);\n                  }}\n                >\n                  {emoji}\n                </div>\n              ))}\n            </div>\n          </EditorContainerInnerPortal>\n        )}\n\n        {!isReadOnly && target && chars.length > 0 && (\n          <EditorContainerInnerPortal docId={docId}>\n            <div\n              ref={mentionRef}\n              style={{\n                top: '-9999px',\n                left: '-9999px',\n                position: 'absolute',\n                zIndex: 1,\n                padding: '3px',\n                background: 'white',\n                borderRadius: '4px',\n                boxShadow: '0 1px 5px rgba(0,0,0,.2)',\n                height: 200,\n                maxHeight: 200,\n                overflow: 'auto',\n                minWidth: 250,\n              }}\n            >\n              {chars.map((char, i) => (\n                <div\n                  contentEditable=\"false\"\n                  suppressContentEditableWarning\n                  data-ignore-slate\n                  className={i === index ? 'mention-item-active' : 'mention-item'}\n                  key={i}\n                  style={{\n                    padding: '1px 3px',\n                    borderRadius: '3px',\n                    background: i === index ? '#B4D5FF' : 'transparent',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    justifyContent: 'flex-start',\n                    alignItems: 'center',\n                    userSelect: 'none',\n                  }}\n                  onMouseEnter={() => {\n                    if (index !== i) setIndex(i);\n                  }}\n                  onMouseLeave={() => {\n                    setIndex(0);\n                  }}\n                  onMouseDown={e => {\n                    e.preventDefault();\n                    setIndex(i);\n                    Transforms.select(editor, target);\n                    insertMention(editor, chars[i], cUser, docId);\n                    setTarget(null);\n                  }}\n                  onClick={e => {\n                    e.preventDefault();\n                    setIndex(i);\n                    Transforms.select(editor, target);\n                    insertMention(editor, chars[i], cUser, docId);\n                    setTarget(null);\n                  }}\n                >\n                  <Avatar src={char?.avatarUrl} size={28} style={{ margin: '0 0.5em' }} />\n                  <div\n                    className={cx(\n                      'mention-item-info',\n                      css`\n                        display: flex;\n                        flex-direction: column;\n                        justify-content: center;\n                        align-items: start;\n                      `\n                    )}\n                  >\n                    <div className={css``}>{char?.displayname || char?.sn}</div>\n                    <div\n                      className={css`\n                        font-size: 12px;\n                        color: #8090a2;\n                      `}\n                    >\n                      {char?.displayInfo}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </EditorContainerInnerPortal>\n        )}\n        {!isReadOnly && menuTarget && (\n          <EditorContainerInnerPortal docId={docId}>\n            <div\n              ref={menuRef}\n              style={{\n                top: '-9999px',\n                left: '-9999px',\n                position: 'absolute',\n                zIndex: 1,\n                padding: '3px',\n                background: 'white',\n                borderRadius: '4px',\n                boxShadow: '0 1px 5px rgba(0,0,0,.2)',\n                overflow: 'auto',\n              }}\n            >\n              <SiderMenu\n                menuIndex={menuIndex}\n                setIsModalVisible={setIsModalVisible}\n                setModalTitle={setModalTitle}\n                setMenuIndex={setMenuIndex}\n                children={<span></span>}\n                editor={editor}\n                selectedRow={menuTarget}\n                type={ELTYPE.PARAGRAPH}\n                docWidth={width}\n                element={{}}\n              />\n            </div>\n          </EditorContainerInnerPortal>\n        )}\n      </Slate>\n      <div id={'editorContainer-bottom-' + docId}></div>\n      <ExcalidrawEditor editor={editor} />\n    </ClientFrame>\n  );\n};\n\nexport default EditorSlate;\n\nexport const Element: any = (props: any) => {\n  let {\n    attributes,\n    children,\n    element,\n    editor,\n    selectedRow,\n    url,\n    tableWidth,\n    setSelectCB,\n    isReadOnly,\n    editorId,\n    setIsModalVisible,\n    setModalTitle,\n    isNumb = false,\n  } = props;\n  let newProps = Object.assign({}, props);\n  delete newProps.setIsModalVisible;\n  delete newProps.setModalTitle;\n\n  const tableRef = useRef();\n  const cardRef = useRef();\n\n  switch (element.type) {\n    case ELTYPE.EXCALIDRAW:\n      return <ExcalidrawDomNode attributes={attributes} element={element} children={children} editor={editor} newProps={newProps} />;\n    case ELTYPE.CARD:\n      return <Card attributes={attributes} element={element} children={children} editor={editor} ref={cardRef} />;\n    case ELTYPE.CARD_PRE:\n    case ELTYPE.CARD_SUF:\n      return <CardPreSuf attributes={attributes} element={element} children={children} />;\n    case ELTYPE.DIVIDE:\n      return <Divide attributes={attributes} element={element} children={children} />;\n\n    case ELTYPE.FILE:\n      return (children = <FileComponent attributes={attributes} element={element} children={children} editor={editor} />);\n    case ELTYPE.DESIGN:\n    case ELTYPE.SANDBOX:\n      return (children = <ComIfram attributes={attributes} element={element} children={children} />);\n\n    case ELTYPE.TABLE:\n      return (\n        <TableElement\n          {...attributes}\n          ref={tableRef}\n          children={children}\n          element={element}\n          attributes={attributes}\n          editor={editor}\n          maxWidth={tableWidth}\n          editorId={editorId}\n        />\n      );\n\n    case ELTYPE.TABLE_ROW:\n      return (\n        <tr\n          {...attributes}\n          style={{\n            height: element.height || 'auto',\n          }}\n        >\n          {children}\n        </tr>\n      );\n    case ELTYPE.TABLE_CELL:\n      return (\n        <td\n          {...attributes}\n          rowSpan={element.rowspan}\n          colSpan={element.colspan}\n          data-key={element.key}\n          style={{\n            display: element.rowspan === 0 || element.colspan === 0 ? 'none' : null,\n            pointerEvents: element.rowspan === 0 || element.colspan === 0 ? 'none' : null,\n            border: element.unbordered ? null : '1px solid #d9d9d9',\n\n            wordBreak: 'break-all',\n            borderCollapse: 'separate',\n            borderSpacing: '2px 1px',\n            backgroundColor: element.cellBackgroundColor ? element.cellBackgroundColor : 'transparent',\n\n            verticalAlign: element.verticalAlign || 'top',\n\n            position: 'relative',\n            padding: '4px',\n            userSelect: 'auto',\n          }}\n          onDragStartCapture={e => {\n            const target: any = e.target;\n            const isDraggable = target.getAttribute('draggable');\n            console.log('[slateEditor] onDragStartCapture', target, isDraggable);\n            if (!isDraggable) {\n              e.preventDefault();\n            }\n          }}\n        >\n          {children}\n        </td>\n      );\n    case ELTYPE.LINK:\n      return (\n        <EditLink {...attributes} element={element} editor={editor} editorId={editorId} attributes={attributes}>\n          {children}\n        </EditLink>\n      );\n    case ELTYPE.VIDEO:\n      return (\n        <SlateVideo {...attributes} element={element} editor={editor} attributes={attributes} data-ignore-slate>\n          {children}\n        </SlateVideo>\n      );\n    case ELTYPE.HEADING_ONE:\n      children = (\n        <H1\n          {...attributes}\n          name={'slate-heading'}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : undefined,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </H1>\n      );\n      break;\n    case ELTYPE.HEADING_TWO:\n      children = (\n        <H2\n          {...attributes}\n          name={'slate-heading'}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : undefined,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n            color: 'black',\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </H2>\n      );\n      break;\n    case ELTYPE.HEADING_THREE:\n      children = (\n        <H3\n          {...attributes}\n          name={'slate-heading'}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : undefined,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </H3>\n      );\n      break;\n    case ELTYPE.HEADING_FOUR:\n      children = (\n        <HFour\n          {...attributes}\n          name={'slate-heading'}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : undefined,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </HFour>\n      );\n      break;\n    case ELTYPE.HEADING_FIVE:\n      children = (\n        <H5\n          {...attributes}\n          name={'slate-heading'}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : undefined,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </H5>\n      );\n      break;\n    case ELTYPE.HEADING_SIX:\n      children = (\n        <H6\n          {...attributes}\n          name={'slate-heading'}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : undefined,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </H6>\n      );\n      break;\n\n    case ELTYPE.BLOCK_QUOTE:\n      children = (\n        <BlockQuote\n          {...attributes}\n          element={element}\n          editor={editor}\n          attributes={attributes}\n          lineHeight={element.lineHeight}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </BlockQuote>\n      );\n      break;\n    case ELTYPE.ULLIST:\n      children = (\n        <UlList\n          {...attributes}\n          prop={newProps}\n          textAlign={element.align ? element.align : 'left'}\n          lineHeight={element.lineHeight ? element.lineHeight : 1.75}\n        >\n          {children}\n        </UlList>\n      );\n      break;\n    case ELTYPE.OLLIST:\n      children = (\n        <OlList\n          {...attributes}\n          prop={newProps}\n          textAlign={element.align ? element.align : 'left'}\n          lineHeight={element.lineHeight ? element.lineHeight : 1.75}\n        >\n          {children}\n        </OlList>\n      );\n      break;\n    case ELTYPE.MENTION:\n      return <MentionElement {...newProps} />;\n    case ELTYPE.IMAGE:\n      return <SlateImage {...newProps} textAlign={element.align ? element.align : 'center'} />;\n    case ELTYPE.INLINEIMAGE:\n      return <SlateInlineImage {...newProps} textAlign={element.align ? element.align : 'center'} />;\n    case ELTYPE.TODO_LIST:\n      children = (\n        <TODOList\n          {...attributes}\n          editor={editor}\n          prop={newProps}\n          textAlign={element.align ? element.align : 'left'}\n          lineHeight={element.lineHeight ? element.lineHeight : 1.75}\n        >\n          {children}\n        </TODOList>\n      );\n      break;\n\n    case ELTYPE.CODE_BLOCK:\n      return <CodeHighlightEditor {...newProps} children={children} editor={editor} element={element} setSelectCB={setSelectCB} />;\n    case ELTYPE.DIVIDE:\n      return <Divide attributes={attributes} element={element} children={children} />;\n    default:\n      children = (\n        <p\n          {...attributes}\n          style={{\n            lineHeight: element.lineHeight ? element.lineHeight : 1.75,\n            textAlign: element.align ? element.align : 'left',\n            marginLeft: _.isNumber(element.tabLevel) ? `${Number.parseInt(element.tabLevel) * 2}rem` : null,\n          }}\n          data-tab-level={element.tabLevel}\n          data-line-height={element.lineHeight}\n        >\n          {children}\n        </p>\n      );\n      break;\n  }\n  return children;\n};\n\nexport const Leaf: any = (props: any) => {\n  const { attributes, leaf } = props;\n  let { children } = props;\n  let outerSize: any;\n  const parent = children.props.parent;\n  switch (children.props.parent.type) {\n    case ELTYPE.HEADING_ONE:\n      outerSize = 26;\n      break;\n    case ELTYPE.HEADING_TWO:\n      outerSize = 22;\n      break;\n    case ELTYPE.HEADING_THREE:\n      outerSize = 20;\n      break;\n    case ELTYPE.HEADING_FOUR:\n      outerSize = 18;\n      break;\n    case ELTYPE.HEADING_FIVE:\n      outerSize = 16;\n      break;\n    case ELTYPE.HEADING_SIX:\n      outerSize = 16;\n      break;\n    default:\n      outerSize = 14;\n      break;\n  }\n\n  if (leaf.bold) {\n    children = <strong>{children}</strong>;\n  }\n\n  if (leaf.code) {\n    children = (\n      <code\n        style={{\n          margin: '0.2em',\n          padding: '0.2em 0.4em',\n          fontSize: '13px',\n          background: '#f2f4f5',\n          border: '1px solid rgba(0,0,0,.06)',\n          borderRadius: '3px',\n        }}\n      >\n        {children}\n      </code>\n    );\n  }\n\n  if (leaf.italic) {\n    children = <Italic>{children}</Italic>;\n  }\n\n  if (leaf.underline) {\n    children = <u>{children}</u>;\n  }\n\n  if (leaf.strikethrough) {\n    children = <del>{children}</del>;\n  }\n\n  if (leaf.backgroundColor) {\n    const bgColor = leaf.backgroundColor;\n    children = (\n      <span data-backgroundcolor={bgColor} style={{ backgroundColor: bgColor.replace(')', ', 0.8)').replace('rgb', 'rgba') }}>\n        {children}\n      </span>\n    );\n  }\n\n  if (leaf.fontColor) {\n    children = (\n      <span data-fontcolor={leaf.fontColor} style={{ color: leaf.fontColor }}>\n        {children}\n      </span>\n    );\n  }\n  if (leaf.fontLetter) {\n    children = (\n      <span data-fontcolor={leaf.fontLetter} style={{ letterSpacing: leaf.fontLetter }}>\n        {children}\n      </span>\n    );\n  }\n\n  if (leaf.fontSizeChange) {\n    children = (\n      <span {...attributes} style={{ fontSize: outerSize + leaf.fontSizeChange }}>\n        {children}\n      </span>\n    );\n  }\n\n  if (leaf.rangeIdList) {\n    const { focusedRangeId, hoveredRangeId, setFocusedRangeId, isReadOnly } = useContext(TripdocsSdkContext);\n    console.log('leaf.rangeIdList', leaf.rangeIdList, focusedRangeId, hoveredRangeId);\n    const isFocusedComment = leaf.rangeIdList?.includes(focusedRangeId);\n    const isHoveredComment = leaf.rangeIdList?.includes(hoveredRangeId);\n    children = (\n      <span\n        {...attributes}\n        data-rangeid-list={leaf.rangeIdList.join`&`}\n        onMouseUp={e => {\n          if (isReadOnly) {\n          } else {\n            const dataRangeId = leaf.rangeId;\n            console.log('dataRangeId', dataRangeId);\n            setFocusedRangeId(dataRangeId);\n          }\n        }}\n        className={cx(\n          'side-comment-leaf',\n          css`\n            & {\n              border-bottom: 2px solid rgba(250, 173, 20, ${isFocusedComment ? `0.8` : `0.4`});\n              background: ${isHoveredComment ? `rgba(250, 173, 20, 0.35);` : isFocusedComment ? `rgba(250, 173, 20, 0.2);` : null};\n            }\n          `\n        )}\n      >\n        {children}\n      </span>\n    );\n  }\n  const alphaColor = leaf?.data?.alphaColor;\n  const { isMobile, isDrag } = useContext(TripdocsSdkContext);\n\n  return (\n    <span\n      {...attributes}\n      suppressContentEditableWarning={true}\n      data-ignore-slate\n      style={{\n        position: 'relative',\n        caretColor: isMobile || isDrag ? 'transparent' : undefined,\n        paddingLeft: leaf?.text === '' ? '0.1px' : null,\n        backgroundColor: alphaColor\n          ? alphaColor + hexOpacity20\n          : leaf.findHighlight\n          ? 'orange'\n          : leaf.highlight\n          ? 'yellow'\n          : leaf.commentHighlight\n          ? 'rgba(255, 188, 0, 0.4)'\n          : 'transparent',\n      }}\n    >\n      {leaf.isCaret ? <Caret {...(leaf as any)} isMobile={isMobile} /> : null}\n      {children}\n    </span>\n  );\n};\n\nconst slateScrollSelectionIntoView = (editor: ReactEditor, domRange: DOMRange) => {\n  const readonly = IS_READ_ONLY.get(editor);\n  const isTableSelectingCells = SEL_CELLS.get(editor)?.length;\n  const isCardSuf = editor.selection && Editor.above(editor, { at: editor.selection, match: (n: any) => n.type === ELTYPE.CARD_SUF });\n  const editorWrapDom = getCache(editor.docId, 'editorWrapDom');\n  console.log('defaultScrollSelectionIntoView', readonly, isTableSelectingCells);\n  if (readonly || isTableSelectingCells || isCardSuf) return;\n\n  if (!editor.selection || (editor.selection && ReactEditor.hasRange(editor, editor.selection) && Range.isCollapsed(editor.selection))) {\n    const isInlineType = getParentPathByTypes(editor, editor.selection.anchor.path, [...SINGLE_INLINE_TYPES]);\n    if (isInlineType) return;\n    const leafEl = domRange.startContainer.parentElement!;\n    leafEl.getBoundingClientRect = domRange.getBoundingClientRect.bind(domRange);\n    scrollIntoView(leafEl, {\n      scrollMode: 'if-needed',\n      boundary: editorWrapDom,\n    });\n\n    delete leafEl.getBoundingClientRect;\n  }\n};\n\nconst RightClickMenuItem = (props: any) => {\n  const { action, icon, itemName, ...attributes } = props;\n\n  const editor = useSlate();\n\n  const selection = editor.selection;\n\n  const [hover, setHover] = useState(false);\n\n  return (\n    <Menu.Item\n      {...attributes}\n      key={anchorId()}\n      style={{\n        backgroundColor: hover ? '#EEEEEE' : 'unset',\n      }}\n      icon={<IconBtn className={`tripdocs-sdk-iconfont icon-${icon}`} style={{ fontSize: 16, paddingRight: 10 }}></IconBtn>}\n      onMouseEnter={e => {\n        setHover(true);\n      }}\n      onMouseLeave={e => {\n        setHover(false);\n      }}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        if (selection && ReactEditor.hasRange(editor, selection) && min(selection.anchor.path[0], selection.focus.path[0]) !== 0) {\n          rightClickMenuActions(editor, action);\n        }\n      }}\n    >\n      {itemName}\n    </Menu.Item>\n  );\n};\n\nconst min = (a: any, b: any) => {\n  return a > b ? b : a;\n};\nconst max = (a: any, b: any) => {\n  return a > b ? a : b;\n};\n\nconst debouncedUpdateCache = _.debounce((editor, docId) => {\n  if (!IS_RECOVERING_CONTENT.get(editor)) {\n    const curTime = timeFormat();\n    console.log('[debouncedUpdateCache] 保存', editor.children, curTime);\n    cacheDocContent(editor, docId, editor.children, curTime);\n  }\n}, 5000);\n","import { Editor, NodeEntry, Path, Transforms, Node, Range, Point } from '@src/components/slate-packages/slate';\nimport { getStart } from '@src/utils/selectionUtils';\nimport { ReactEditor } from '../../../slate-packages/slate-react';\nimport { ELTYPE } from '../config';\nimport { getParentPathByType } from '../pluginsUtils/getPathUtils';\nimport { removeCardSelectionContentBeforeInput } from './withCard';\n\nconst getLastNode = (editor: Editor, lastPath: Path): NodeEntry => {\n  let i = lastPath.length;\n  while (i > 0) {\n    const path = lastPath.slice(0, i);\n    const node: any = Editor.node(editor, path);\n    if (!!node[0].type) {\n      return node;\n    }\n    i--;\n  }\n  return Editor.node(editor, lastPath.slice(0, 1));\n};\n\nexport const onKeyDownCard = (e: any, editor: ReactEditor) => {\n  if (!editor.selection) {\n    console.log('[Card onKeyDownCard]', 'Selection不存在，不做处理！');\n    return;\n  }\n\n  const matchTool = Editor.above(editor, {\n    match: (n: any) => [ELTYPE.CARD_PRE, ELTYPE.CARD_SUF].includes(n.type as string),\n  });\n  const rowNode: any = Node.get(editor, [editor.selection.anchor.path[0]]);\n  const isParagraph = rowNode.type === ELTYPE.PARAGRAPH;\n\n  if (matchTool) {\n    console.log('[onKeyDownCard]---', e, e.metaKey, e.key);\n    const isCtrlV = e.key === 'v' && (e.ctrlKey || e.metaKey);\n\n    if (!isCtrlV && (!e.key || ['Meta', 'Control'].includes(e.key) || e.metaKey || e.ctrlKey)) {\n      console.log('[Card onKeyDownCard]', '不处理此类按键，按键为', e.key);\n      return;\n    }\n\n    const [node, path]: any = matchTool;\n\n    if (!['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {\n      if (e.key === 'Enter' || e.key === 'Process') {\n        let wrap = Editor.above(editor, {\n          match: (n: any) => n.type === ELTYPE.CARD,\n        });\n        if (wrap) {\n          if (node.type === ELTYPE.CARD_PRE) {\n            console.log('A');\n            Transforms.insertNodes(\n              editor,\n              {\n                type: ELTYPE.PARAGRAPH,\n                children: [{ text: '' }],\n              } as Node,\n              { at: wrap[1] }\n            );\n            let currentPath = path;\n            path[path.length - 2] = path[path.length - 2] + 1;\n            Transforms.select(editor, currentPath);\n            e.preventDefault();\n            return true;\n          } else {\n            console.log('B');\n            let nextPath = Path.next(wrap[1]);\n            Transforms.insertNodes(\n              editor,\n              {\n                type: ELTYPE.PARAGRAPH,\n                children: [{ text: '' }],\n              } as Node,\n              { at: nextPath }\n            );\n            Transforms.select(editor, nextPath);\n            e.preventDefault();\n            return true;\n          }\n        }\n      } else if (e.key.length === 1) {\n        let wrap = Editor.above(editor, {\n          match: (n: any) => n.type === ELTYPE.CARD,\n        });\n        if (wrap) {\n          if (node.type === ELTYPE.CARD_PRE) {\n            console.log('D1');\n            let previous = Editor.previous(editor, { at: wrap[1] });\n\n            console.log('D1-2');\n            Transforms.insertNodes(\n              editor,\n              {\n                type: ELTYPE.PARAGRAPH,\n                children: [{ text: '' }],\n              } as Node,\n              { at: wrap[1] }\n            );\n            Transforms.select(editor, wrap[1]);\n            Transforms.collapse(editor, { edge: 'end' });\n          } else if (node.type === ELTYPE.CARD_SUF) {\n            console.log('D2');\n            let next = Editor.next(editor, { at: wrap[1] });\n\n            console.log('D2-2');\n            let nextPath = Path.next(wrap[1]);\n            console.log('[next nextPath ]', next, nextPath);\n            Transforms.insertNodes(\n              editor,\n              {\n                type: ELTYPE.PARAGRAPH,\n                children: [{ text: '' }],\n              } as Node,\n              { at: nextPath }\n            );\n            Transforms.select(editor, nextPath);\n            Transforms.collapse(editor, { edge: 'end' });\n          }\n        }\n      }\n    } else if (['ArrowLeft', 'ArrowRight'].includes(e.key)) {\n      const parentPath = getParentPathByType(editor, path, ELTYPE.CARD);\n      if (node.type === ELTYPE.CARD_PRE && e.key == 'ArrowRight' && parentPath) {\n        let [lastNode, lastPath] = Editor.last(editor, parentPath);\n\n        Transforms.select(editor, lastPath);\n        e.preventDefault();\n      } else if (node.type === ELTYPE.CARD_SUF && e.key == 'ArrowLeft' && parentPath) {\n        let [firstNode, firstPath] = Editor.first(editor, parentPath);\n\n        Transforms.select(editor, firstPath);\n        e.preventDefault();\n      }\n    }\n  } else if (e.key === 'Tab') {\n  } else if (['ArrowUp', 'ArrowDown'].includes(e.key)) {\n  }\n  if (e.key.length === 1) {\n    removeCardSelectionContentBeforeInput(editor, e);\n  }\n};\n","import { Editor, Node, Range, Path, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport hotkeys from '@src/components/slate-packages/slate-react/utils/hotkeys';\nimport isHotkey from 'is-hotkey';\nimport { ELTYPE } from '../config';\nimport { copyImage } from './imagePlugins';\nexport const onKeyDownImage = (e: any, editor: ReactEditor): boolean => {\n  const { selection } = editor;\n  if (selection) {\n    const {\n      anchor: { path },\n    } = selection;\n\n    if (isHotkey('mod+c', e) && Range.isCollapsed(selection) && Editor.hasPath(editor, path)) {\n      const rowPath: any = path.slice(0, -1);\n      const rowNode: any = Node.get(editor, path.slice(0, -1));\n      if (rowNode?.type === ELTYPE.IMAGE) {\n        copyImage(editor, rowPath);\n\n        e.preventDefault();\n        return true;\n      }\n    }\n  }\n};\n","import { Editor, Node, Range, Path, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport hotkeys from '@src/components/slate-packages/slate-react/utils/hotkeys';\nimport isHotkey from 'is-hotkey';\nimport { ELTYPE } from '../config';\nimport { copyImage, cutImage } from '../Image/imagePlugins';\nimport { getParentPathByType } from '../pluginsUtils/getPathUtils';\n\nexport const onKeyDownInlineImage = (e: any, editor: ReactEditor): boolean => {\n  const { selection } = editor;\n  if (!selection) return;\n  const {\n    anchor: { path: anchorPath },\n  } = selection;\n  if (e.keyCode === 37 && Range.isCollapsed(selection) && anchorPath[anchorPath.length - 1] !== 0 && selection.anchor.offset === 0) {\n    const beforePath = [...anchorPath.slice(0, -1), anchorPath[anchorPath.length - 1] - 1];\n    const isPathValid = Path.isPath(beforePath);\n    const isNodeValid = Node.has(editor, beforePath);\n    if (isPathValid && isNodeValid) {\n      const rowNode: any = Node.get(editor, beforePath);\n      if (rowNode?.type === ELTYPE.INLINEIMAGE) {\n        const point = Editor.end(editor, [...anchorPath.slice(0, -1), anchorPath[anchorPath.length - 1] - 2]);\n        Transforms.select(editor, point);\n        console.log('onKeyDownInlineImage before', point);\n        e.preventDefault();\n        return true;\n      }\n    }\n  }\n  if (e.keyCode === 39 && Range.isCollapsed(selection) && selection.anchor.offset === Editor.end(editor, anchorPath).offset) {\n    const afterPath = [...anchorPath.slice(0, -1), anchorPath[anchorPath.length - 1] + 1];\n    const endPath = Editor.end(editor, anchorPath.slice(0, 1));\n    if (anchorPath[anchorPath.length - 1] + 1 <= endPath.path[endPath.path.length - 1]) {\n      const isPathValid = Path.isPath(afterPath);\n      const isNodeValid = Node.has(editor, afterPath);\n      if (isPathValid && isNodeValid) {\n        const rowNode: any = Node.get(editor, afterPath);\n        if (rowNode?.type === ELTYPE.INLINEIMAGE) {\n          let tPath = [...anchorPath.slice(0, -1), anchorPath[anchorPath.length - 1] + 2];\n          const point = Editor.start(editor, tPath);\n          Transforms.select(editor, point);\n          console.log('onKeyDownInlineImage after', point);\n          e.preventDefault();\n          return true;\n        }\n      }\n    }\n  }\n\n  if (isHotkey('mod+c', e) && Range.isCollapsed(selection) && Editor.hasPath(editor, anchorPath)) {\n    const rowPath = anchorPath.slice(0, -1);\n    const rowNode: any = Node.get(editor, rowPath);\n    if (rowNode?.type === ELTYPE.INLINEIMAGE) {\n      copyImage(editor, rowPath);\n\n      e.preventDefault();\n      return true;\n    }\n  }\n  if (isHotkey('mod+x', e) && Range.isCollapsed(selection) && Editor.hasPath(editor, anchorPath)) {\n    const rowPath = anchorPath.slice(0, -1);\n    const rowNode: any = Node.get(editor, rowPath);\n    if (rowNode?.type === ELTYPE.INLINEIMAGE) {\n      cutImage(editor, rowPath);\n\n      e.preventDefault();\n      return true;\n    }\n  }\n\n  const parentInlineImagePath = getParentPathByType(editor, selection.focus.path, ELTYPE.INLINEIMAGE);\n  if (parentInlineImagePath && Range.isCollapsed(selection) && (isHotkey('Backspace', e) || isHotkey('Delete', e))) {\n    e.preventDefault();\n    e.stopPropagation();\n    Transforms.removeNodes(editor, { at: parentInlineImagePath });\n    return;\n  }\n\n  const focusPath = selection.focus.path;\n  const prevLeafPath = [...focusPath.slice(0, -1), (focusPath[focusPath.length - 1] || 1) - 1];\n  if (\n    hotkeys.isDeleteBackward(e) &&\n    Node.has(editor, prevLeafPath) &&\n    (Node.get(editor, prevLeafPath) as any)?.type === ELTYPE.INLINEIMAGE &&\n    prevLeafPath[0] === focusPath[0] &&\n    selection.focus.offset === 0 &&\n    Range.isCollapsed(editor.selection)\n  ) {\n    e.preventDefault();\n    e.stopPropagation();\n    Transforms.removeNodes(editor, { at: prevLeafPath });\n    return true;\n  }\n\n  function parentPathEquals(path: number[], other: number[]) {\n    return Path.equals(path.slice(0, -1), other.slice(0, -1));\n  }\n  const nextLeafPath = [...focusPath.slice(0, -1), focusPath[focusPath.length - 1] + 1];\n\n  if (\n    hotkeys.isDeleteForward(e) &&\n    Node.has(editor, nextLeafPath) &&\n    (Node.get(editor, nextLeafPath) as any)?.type === ELTYPE.INLINEIMAGE &&\n    parentPathEquals(nextLeafPath, focusPath) &&\n    Range.isCollapsed(editor.selection)\n  ) {\n    e.preventDefault();\n    e.stopPropagation();\n    Transforms.removeNodes(editor, { at: nextLeafPath });\n    return true;\n  }\n};\n","import isHotkey from 'is-hotkey';\nimport { Editor, Node, Point, Range, Transforms } from '@src/components/slate-packages/slate';\n\nimport { ELTYPE } from '../config';\nimport { getParent, getParentPathByType } from '../pluginsUtils/getPathUtils';\nimport { getCurrentLineEnd, getCurrentLineStart } from '@src/utils/selectionUtils';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\n\nexport const onKeyDownCommon = (e: KeyboardEvent, editor: ReactEditor) => {\n  if (!editor.selection) {\n    console.log('[onKeyDownCommon]', 'Selection不存在，不做处理！');\n    return;\n  }\n  const { selection } = editor;\n  if (isHotkey('enter', e) && Range.isCollapsed(selection)) {\n    const {\n      focus: { path },\n      anchor,\n    } = selection;\n    const start = getCurrentLineStart(editor);\n    const end = getCurrentLineEnd(editor);\n    if (start) {\n      const isStart = Point.equals(start, selection.anchor);\n      const isEnd = Point.equals(end, selection.anchor);\n      if (isStart || isEnd) {\n        const [parent, parentPath] = getParent(editor, path);\n        if ([ELTYPE.ALERTDESCRIPTION, ELTYPE.BLOCK_QUOTE, ELTYPE.TODO_LIST, ELTYPE.PARAGRAPH, ELTYPE.ALERTMESSAGE].includes(parent.type)) {\n          e.preventDefault();\n          const nextRow = [...parentPath.slice(0, -1), parentPath[parentPath.length - 1] + 1];\n          const tPath = isStart ? (isEnd ? nextRow : parentPath) : nextRow;\n          console.log('onKeyDownCommon test', parentPath, tPath);\n\n          Transforms.insertNodes(editor, { ...parent, children: [{ text: '' }] }, { at: tPath, select: isEnd });\n\n          return true;\n        }\n      }\n    }\n  }\n  return false;\n};\n","import { css } from '@emotion/css';\nimport { H2 } from '@src/components/docs/plugins/Components';\nimport { ELTYPE } from '@src/components/docs/plugins/config';\nimport React, { useCallback, useContext, useEffect, useMemo, useReducer, useState } from 'react';\nimport { Element as DefaultElement } from '@src/components/docs/slateEditor';\n\nexport const renderElement = (props: any) => {\n  const { attributes, children, element } = props;\n  const isDeleted = element.deleted;\n  return isDeleted ? (\n    <div\n      className={css`\n        text-decoration: line-through;\n        position: relative;\n        & > * {\n          z-index: 10;\n          position: relative;\n        }\n        &::after {\n          content: '';\n          display: block;\n          width: 100%;\n          height: 100%;\n          left: 0;\n          top: 0;\n          position: absolute;\n          background-color: #ffbbbb;\n        }\n      `}\n    >\n      <DefaultElement {...props} />\n    </div>\n  ) : (\n    <DefaultElement {...props} />\n  );\n};\n","import { Italic } from '@src/components/docs/plugins/Components';\nimport React from 'react';\n\nexport const renderLeaf = (props: any) => <Leaf {...props} />;\n\nconst Leaf: any = ({ attributes, children, leaf }: any) => {\n  if (leaf.modifiedOld) {\n    children = <span style={{ backgroundColor: '#ffbbbb', textDecoration: 'line-through' }}>{children}</span>;\n  }\n  if (leaf.modifiedNew) {\n    children = <span style={{ backgroundColor: '#aaeeaa', textDecoration: 'none', display: 'inline-block' }}>{children}</span>;\n  }\n  if (leaf.bold) {\n    children = <strong>{children}</strong>;\n  }\n  if (leaf.code) {\n    children = (\n      <code\n        style={{\n          backgroundColor: 'rgba(0, 0, 0, 0.08)',\n          border: '1px solid rgba(0, 0, 0, 0.08)',\n          borderRadius: '2px',\n          padding: '0 2px',\n          margin: '2px 4px',\n        }}\n      >\n        {children}\n      </code>\n    );\n  }\n  if (leaf.italic) {\n    children = <Italic>{children}</Italic>;\n  }\n  if (leaf.underline) {\n    children = <u>{children}</u>;\n  }\n  if (leaf.strikethrough) {\n    children = <del>{children}</del>;\n  }\n  return (\n    <span {...attributes} contentEditable={false} suppressContentEditableWarning={true}>\n      {children}\n    </span>\n  );\n};\n","import { EnterOutlined, FileAddOutlined, ReadOutlined, RedoOutlined, SaveOutlined, SearchOutlined, UndoOutlined } from '@ant-design/icons';\nimport { f } from '@src/resource/string';\nimport React, { useContext, useEffect, useMemo, useState } from 'react';\nimport { IconBtn, Italic } from '../../docs/plugins/Components';\nimport './index.less';\nimport '../../../style/less/slatedocs.less';\nimport sessStorage from '@src/utils/sessStorage';\nimport { Editable, Slate, withReact } from '@src/components/slate-packages/slate-react';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { createEditor } from '@src/components/slate-packages/slate';\nimport { withHtml } from '@src/components/docs/plugins/withHtml';\nimport { createRandomId } from '@src/utils/randomId';\nimport * as jsondiffpatch from 'jsondiffpatch';\nimport { css } from '@emotion/css';\nimport { renderElement } from './renderElement';\nimport { renderLeaf } from './renderLeaf';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { ELTYPE } from '@src/components/docs/plugins/config';\n\ntype DiffComponentProps = {\n  [key: string]: any;\n};\n\nconst v2 = [\n    { children: [{ text: '数仓WFSDFA周报' }], type: 'heading-one', anchorId: '111' },\n    { children: [{ text: '≈a' }], type: 'paragraph', anchorId: '6d6e3889-5033-4f60-ac31-03820d138018_1g6l3jh9d1111' },\n    { children: [{ text: 'ś' }], type: 'paragraph', anchorId: '2086af4e-cc59-42cf-b5f2-d79ef8d481fd_1g6l3jiq91111' },\n    { children: [{ text: '' }], type: 'paragraph', anchorId: '2db2777c-6da6-42d6-b8d7-949f6e4301ca_1g6l3m76r1111' },\n  ],\n  v1 = [\n    { children: [{ text: '数仓WFSDFA周报' }], type: 'heading-one', anchorId: '111' },\n    { children: [{ text: '≈a' }], type: 'paragraph', anchorId: '6d6e3889-5033-4f60-ac31-03820d138018_1g6l3jh9d1111' },\n    { children: [{ text: 'śwfwegwww' }], type: 'paragraph', anchorId: '2086af4e-cc59-42cf-b5f2-d79ef8d481fd_1g6l3jiq91111' },\n    { children: [{ text: 'dd' }], type: 'paragraph', anchorId: '17146d70-7835-49f7-b7f6-d92e80ff87df_1g6l42p7r1111' },\n    { children: [{ text: 'dsf' }], type: 'paragraph', anchorId: '27270318-72c7-4039-9b47-bd82649add63_1g6l42psh1111' },\n    { children: [{ text: '' }], type: 'paragraph', anchorId: '2db2777c-6da6-42d6-b8d7-949f6e4301ca_1g6l3m76r1111' },\n  ];\n\nconst DiffPatcher = jsondiffpatch.DiffPatcher;\n\nexport const NoDiffComponent = (props: DiffComponentProps) => {\n  const { docId, isShowHistoryManager, docValue } = props;\n\n  return (\n    <div className=\"diff-wrap\" style={{}}>\n      <div className=\"diff-editor\">\n        <NoDiffEditor value={docValue} docId={docId} />\n      </div>\n    </div>\n  );\n};\n\nconst NoDiffEditor = (props: any) => {\n  const { value, docId } = props;\n\n  const editor: any = useMemo(() => withReact(createEditor(docId + '#' + createRandomId().substring(0, 3))), []);\n\n  return (\n    <ErrorBoundary\n      FallbackComponent={fallback => {\n        return <div>{fallback.error.message}</div>;\n      }}\n      onError={error => {\n        console.error('[DiffEditor] onError: ', error);\n      }}\n    >\n      <TripdocsSdkContext.Provider\n        value={{\n          docId,\n          editor: editor,\n          userInfo: {},\n          isWide: false,\n          isInElectron: false,\n          isMobile: false,\n          isWideMode: false,\n          isMiddle: false,\n          isReadOnly: true,\n          WIPCommentRangeId: '',\n          setWIPCommentRangeId: () => {},\n          allUserList: [],\n          hoveredRangeId: '',\n          focusedRangeId: '',\n          resetFocusedRangeId: () => {},\n          setFocusedRangeId: () => {},\n          identicalSelectionRangeId: '',\n          setIdenticalSelectionRangeId: () => {},\n          setSideCommentRowNum: () => {},\n          setCurRangeId: () => {},\n        }}\n      >\n        <Slate\n          editor={editor}\n          value={\n            !value || value.length === 0\n              ? [\n                  { type: ELTYPE.HEADING_ONE, children: [{ text: '' }] },\n                  { type: ELTYPE.PARAGRAPH, children: [{ text: '' }] },\n                ]\n              : value\n          }\n          onChange={(value: any) => {\n            return;\n          }}\n        >\n          <Editable\n            data-ignore-slate\n            renderElement={renderElement}\n            renderLeaf={renderLeaf}\n            style={{\n              padding: '6px 12px',\n              border: '1px solid #dadada',\n              borderRadius: '4px',\n\n              background: '#fff',\n              height: '100%',\n              minHeight: '60vh',\n              overflow: 'auto',\n            }}\n            readOnly={true}\n          ></Editable>\n        </Slate>\n      </TripdocsSdkContext.Provider>\n    </ErrorBoundary>\n  );\n};\n","import { LoadingOutlined } from '@ant-design/icons';\nimport { cx } from '@emotion/css';\nimport { IconBtn } from '@src/components/docs/plugins/Components';\nimport { InlineSlateEditor } from '@src/components/docs/plugins/SideComment/inlineSlateEditor';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { f } from '@src/resource/string';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { getDefaultValueByBase64 } from '@src/utils/getDefaultValue';\nimport { Button, Empty, message, Modal, Pagination, Spin } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useReducer, useRef, useState } from 'react';\nimport { DiffComponent } from '../DiffComponent';\nimport { HistoryDocAction, HistoryDocActionType, historyDocReducer, HistoryDocState, historyDocStore } from '../DiffComponent/HistoryDocReducer';\nimport { NoDiffComponent } from '../NoDiffComponent';\nimport './index.less';\n\nconst UNSAVED_CURRENT_VERSION_ID = '0';\n\nexport const HistoryManager = props => {\n  const Actions = HistoryDocActionType;\n  const PAGE_SIZE = 10;\n\n  const { docId, editor, isShowHistoryManager } = props;\n  const { isInElectron } = useContext(TripdocsSdkContext);\n  const sideListRef = useRef(null);\n  const [historyVersionList, setHistoryVersionList] = useState([]);\n\n  const [historyDocState, historyDocDispatch] = useReducer(historyDocReducer, historyDocStore);\n\n  const [isNoData, toggleIsNoData] = useReducer((state, action) => action, false);\n\n  const refDoc = useMemo(() => editor.children, [editor?.children]);\n\n  const getHistoryVersionList = useCallback(() => {}, [docId, historyDocState.versionList.pageNum]);\n\n  useEffect(() => {\n    if (isShowHistoryManager) {\n      const promise = getHistoryVersionList();\n      promise\n        ?.then((res: any) => {\n          console.log('[getHistoryVersionList]', res);\n          if (res.docHistoryList && res.count) {\n            const { docHistoryList: list, count } = res;\n            historyDocDispatch({ type: Actions.setTotal, payload: count });\n            setHistoryVersionList(list);\n          } else {\n            toggleIsNoData(true);\n            console.warn('[getHistoryVersionList] invalid res: ', res);\n          }\n        })\n        .catch(err => {\n          console.log('[getHistoryVersionList] err]: ', err);\n        });\n    }\n  }, [isShowHistoryManager, historyDocState.versionList.pageNum]);\n\n  useEffect(() => {\n    if (!isShowHistoryManager) {\n      resetHistoryManager();\n    }\n  }, [isShowHistoryManager]);\n\n  const resetHistoryManager = () => {\n    historyDocDispatch({\n      type: Actions.setCurrentVersionId,\n      payload: UNSAVED_CURRENT_VERSION_ID,\n    });\n    historyDocDispatch({\n      type: Actions.setPreviousVersionId,\n      payload: '',\n    });\n    historyDocDispatch({\n      type: Actions.setPageNum,\n      payload: 1,\n    });\n    sideListRef.current && (sideListRef.current.scrollTop = 0);\n  };\n\n  const isRecoverBtnDisabled = isNoData || historyDocState.docCurrent.versionId === UNSAVED_CURRENT_VERSION_ID;\n  return (\n    <div className=\"history-manager-wrap\">\n      <Button\n        className=\"recover-doc-btn\"\n        disabled={isRecoverBtnDisabled}\n        style={{\n          background: isRecoverBtnDisabled ? '#ccc' : '#1a4fe9',\n          cursor: isRecoverBtnDisabled ? 'not-allowed' : 'pointer',\n        }}\n        onClick={e => {\n          e.preventDefault();\n          if (!isRecoverBtnDisabled) {\n            Modal.confirm({\n              title: f('importantNotice'),\n              content: f('recoverVersionConfirm'),\n              onOk: () => {\n                restoreDoc(docId, isInElectron, historyDocState.docCurrent.versionId);\n                resetHistoryManager();\n              },\n              onCancel: () => {},\n              okText: f('confirm'),\n              cancelText: f('cancel'),\n            });\n          }\n        }}\n      >\n        {f('restore_doc')}\n      </Button>\n      <div className={cx('history-manager-main', 'editor_container_wrap')}>\n        {isNoData || historyDocState.docCurrent.content.length === 0 || historyDocState.docCurrent.isError || historyDocState.docPrevious.isError ? (\n          <Empty description={'空白文档'} />\n        ) : historyDocState.docCurrent.isLoading || historyDocState.docPrevious.isLoading ? (\n          <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} />\n        ) : (\n          <>\n            {}\n            {}\n            <NoDiffComponent docId={docId} isShowHistoryManager={isShowHistoryManager} docValue={historyDocState.docCurrent.content} />\n          </>\n        )}\n      </div>\n      <div className=\"history-manager-side\">\n        <div className=\"history-manager-side-list\" ref={sideListRef}>\n          <div\n            style={{\n              display: 'flex',\n              justifyContent: 'flex-start',\n              alignItems: 'center',\n              fontSize: '14px',\n              letterSpacing: '2px',\n              padding: '0 0 8px 0',\n              margin: '0 8px 12px',\n              borderBottom: '1px solid rgb(198 190 190 / 30%)',\n            }}\n          >\n            {f('historyRecord')}\n          </div>\n          <HistoryVersionList\n            list={historyVersionList}\n            docId={docId}\n            historyDocDispatch={historyDocDispatch}\n            historyDocState={historyDocState}\n            unsavedDoc={refDoc}\n          />\n        </div>\n        <div className=\"history-manager-side-btn\">\n          <Pagination\n            simple\n            pageSize={PAGE_SIZE}\n            current={historyDocState.versionList.pageNum}\n            total={historyDocState.versionList.total}\n            onChange={page => {\n              historyDocDispatch({ type: Actions.setPageNum, payload: page });\n            }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\ntype HistoryVersionListProps = {\n  list: any[];\n  docId: string;\n  historyDocDispatch: (action: HistoryDocAction) => void;\n  historyDocState: HistoryDocState;\n  unsavedDoc: any;\n};\n\nconst HistoryVersionList = (props: HistoryVersionListProps) => {\n  const { list, docId, historyDocDispatch: dispatch, historyDocState: state, unsavedDoc } = props;\n  const { isInElectron } = useContext(TripdocsSdkContext);\n  const Actions = HistoryDocActionType;\n  const isDev = process.env.NODE_ENV === 'development';\n  const curUserName = getCache(docId, 'options')?.userInfo?.userName;\n\n  const getVersionPreview = useCallback(versionId => {}, [docId]);\n\n  useEffect(() => {\n    console.log('[HistoryVersionList] list: ', state.docCurrent, list);\n    if (!state.docCurrent.versionId && list.length > 0) {\n      dispatch({\n        type: Actions.setCurrentVersionId,\n        payload: UNSAVED_CURRENT_VERSION_ID,\n      });\n      if (list.length > 1) {\n        const firstItem = list[0];\n        dispatch({\n          type: Actions.setPreviousVersionId,\n          payload: isDev ? firstItem.version_id : firstItem.versionId,\n        });\n      }\n    }\n  }, [list?.[0]]);\n\n  useEffect(() => {\n    const versionId = state.docCurrent.versionId;\n\n    const previousVersionId = state.docPrevious.versionId;\n    let promises = [];\n    console.log('[HistoryVersionList] useEffect', versionId, previousVersionId);\n    if (versionId) {\n      if (versionId === UNSAVED_CURRENT_VERSION_ID) {\n        dispatch({ type: Actions.setCurrentLoading, payload: true });\n        dispatch({ type: Actions.setCurrentDoc, payload: unsavedDoc });\n        dispatch({ type: Actions.setCurrentLoading, payload: false });\n      } else {\n        dispatch({ type: Actions.setCurrentLoading, payload: true });\n        promises.push(\n          getVersionPreview(versionId)\n            ?.then((res: any) => {\n              if (res.blob) {\n                console.log('[current versionId]', versionId, res);\n                const { blob: doc } = res;\n                const docContent = getDefaultValueByBase64(doc);\n                dispatch({ type: Actions.setCurrentDoc, payload: docContent });\n                return docContent;\n              } else {\n                console.warn('[getVersionPreview] invalid res', versionId, res);\n                return '';\n              }\n            })\n            .catch(err => {\n              dispatch({ type: Actions.setCurrentError, payload: true });\n              console.log('[getVersionPreview] err: ', err);\n            })\n        );\n      }\n\n      if (previousVersionId) {\n        dispatch({ type: Actions.setPreviousLoading, payload: true });\n        promises.push(\n          getVersionPreview(previousVersionId)\n            ?.then((res: any) => {\n              if (res.blob) {\n                console.log('[previous versionId]', previousVersionId, res);\n                const { blob: doc } = res;\n                const docContent = getDefaultValueByBase64(doc);\n                dispatch({ type: Actions.setPreviousDoc, payload: docContent });\n                return docContent;\n              } else {\n                console.warn('[getVersionPreview] invalid res', previousVersionId, res);\n                return '';\n              }\n            })\n            .catch(err => {\n              dispatch({ type: Actions.setPreviousError, payload: true });\n              console.log('[getVersionPreview] err: ', err);\n            })\n        );\n      } else {\n        dispatch({ type: Actions.setPreviousDoc, payload: [] });\n      }\n    }\n\n    Promise.all(promises).then(result => {\n      console.log('[HistoryVersionList] all promises resolved', result);\n      dispatch({ type: Actions.setPreviousLoading, payload: false });\n      dispatch({ type: Actions.setCurrentLoading, payload: false });\n      dispatch({ type: Actions.setPreviousError, payload: false });\n      dispatch({ type: Actions.setCurrentError, payload: false });\n    });\n  }, [state.docCurrent.versionId]);\n\n  return (\n    <div className=\"history-version-list\">\n      <div\n        className=\"history-version-list-item\"\n        style={{\n          background: state.docCurrent.versionId === UNSAVED_CURRENT_VERSION_ID ? 'rgba(26, 78, 233, 0.15)' : null,\n        }}\n        onClick={() => {\n          dispatch({ type: Actions.setCurrentDoc, payload: unsavedDoc });\n          dispatch({ type: Actions.setCurrentVersionId, payload: UNSAVED_CURRENT_VERSION_ID });\n        }}\n      >\n        <div className=\"history-version-list-item-title\">\n          <span className=\"list-item-title-left\">\n            <span style={{ color: '#1a4fe9' }}>{f('currentVersion')}</span>\n            {`(v.${state.versionList.total + 1})`}\n          </span>\n          <span className=\"list-item-title-right\">{formatTime()}</span>\n        </div>\n        <div className=\"history-version-list-item-info\">\n          <span className=\"list-item-info-left\">{curUserName}</span>\n          <span className=\"list-item-info-right\" style={{ color: '#A9A9A9', cursor: 'not-allowed' }}>\n            {f('restore')}\n          </span>\n        </div>\n      </div>\n      {list?.map((item, index) => {\n        const versionTime = isDev ? item.create_time : item.lastModifiedTime;\n        const formattedTime = formatTime(versionTime);\n        const versionId = isDev ? item.version_id : item.versionId;\n        const versionName = isDev ? item.version_name : item.versionName;\n        const modifier = isDev ? item.commit_user : item.lastModifiedPerson.displayName;\n        return (\n          <div\n            className=\"history-version-list-item\"\n            onClick={e => {\n              if (index !== list.length - 1) {\n                const previousVersionId = isDev ? list[index + 1].version_id : list[index + 1].versionId;\n                dispatch({ type: Actions.setPreviousVersionId, payload: previousVersionId });\n              } else {\n                dispatch({ type: Actions.setPreviousVersionId, payload: '' });\n              }\n              dispatch({ type: Actions.setCurrentVersionId, payload: versionId });\n            }}\n            style={{\n              background: state.docCurrent.versionId === versionId ? 'rgba(26, 78, 233, 0.15)' : null,\n            }}\n          >\n            <div className=\"history-version-list-item-title\">\n              {}\n              <span className=\"list-item-title-left\">{`${f('versionName')}: ${versionName}`}</span>\n              <span className=\"list-item-title-right\">{formattedTime}</span>\n            </div>\n            <div className=\"history-version-list-item-info\">\n              <span className=\"list-item-info-left\">{modifier}</span>\n              <span\n                className=\"list-item-info-right\"\n                onClick={e => {\n                  e.preventDefault();\n                  Modal.confirm({\n                    title: f('importantNotice'),\n                    content: f('recoverVersionConfirm'),\n                    onOk: () => {\n                      restoreDoc(docId, isInElectron, versionId);\n                    },\n                    onCancel: () => {},\n                    okText: f('confirm'),\n                    cancelText: f('cancel'),\n                  });\n                }}\n              >\n                {f('restore')}\n              </span>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nfunction formatTime(timeStr?) {\n  const curDate = new Date();\n  const date = timeStr ? new Date(timeStr) : curDate;\n  const yearStr = date.getFullYear() === curDate.getFullYear() ? '' : date.getFullYear() + '-';\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\n  const day = date.getDate().toString().padStart(2, '0');\n  const hour = date.getHours().toString().padStart(2, '0');\n  const minute = date.getMinutes().toString().padStart(2, '0');\n  return `${yearStr}${month}-${day} ${hour}:${minute}`;\n}\n\nfunction restoreDoc(docId, isInElectron, versionId) {\n  const isDev = process.env.NODE_ENV === 'development';\n  if (isDev) {\n    const promise = new Promise((resolve, reject) => {\n      setTimeout(() => resolve(0), 1500);\n    });\n    promise.then(() => {\n      message.success(f('restore_doc_success'));\n      window.tripdocs.editorsMap[docId].api.setIsShowHistoryManager(false);\n    });\n  } else {\n    if (isInElectron && versionId) {\n      const promise = window?.tripdocs?.editorsMap?.[docId]?.api?.restoreDocCallback(docId, versionId);\n      if (promise) {\n        promise.then(res => {\n          console.log('[HistoryManager] restore doc success', versionId, res);\n          message.success(f('restore_doc_success'));\n          const options: Options = getCache(docId, 'options');\n          window.tripdocs.editorsMap[docId].api.destroy();\n          new window.tripdocs.Editor(options);\n\n          setTimeout(() => {\n            options.reloadCallback();\n            window.tripdocs.editorsMap[docId]?.socket.provider.disconnect();\n            window.tripdocs.editorsMap[docId]?.api.setIsReadOnly(false);\n          }, 1000);\n        });\n      }\n    } else {\n    }\n  }\n}\n","import { ArrowDownOutlined, ArrowUpOutlined } from '@ant-design/icons';\nimport { timeFormat } from '@src/components/docs/plugins/SideComment/utils';\nimport { Slate } from '@src/components/slate-packages/slate-react';\nimport { judgePhone, TripdocsSdkContext } from '@src/Docs';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport { createUUID } from '@src/utils/randomId';\nimport sessStorage from '@src/utils/sessStorage';\nimport { Button, Collapse } from 'antd';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { FallbackProps } from 'react-error-boundary';\n\nconst { Panel } = Collapse;\n\nexport const FallbackComponent: React.FunctionComponent<FallbackProps & any> = (props: FallbackProps & any) => {\n  const { docId, editor, fallback } = props;\n  const docIdMemo = useMemo(() => docId, []);\n  const docContentQueue = sessStorage.get('tripdocs_sdk/docContentCacheArr_' + docIdMemo) || [];\n  const docContent = docContentQueue.length > 0 && docContentQueue[0];\n  console.log('[FallbackComponent] : ', props);\n\n  const [showErrorMsg, setShowErrorMsg] = useState(false);\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    const errorId = sessStorage.get('tripdocs_sdk/ubtErrorId');\n    const id = errorId || 'new_' + createUUID();\n\n    const options = getCache(docId, 'options');\n    setTimeout(() => {\n      const eid = getCache(docId, 'e:' + id);\n      if (!eid) {\n        options?.fallbackCallback();\n        if (options?.openRrweb) {\n          window.tripdocs?.rrwebRecord?.upload(() => {}, 'error id : ' + id, 'tripdocsError');\n        }\n\n        setCache(docId, 'e:' + id, true);\n      }\n    }, 300);\n  }, []);\n  const isMobile = useMemo(judgePhone, []);\n  function joinTripPalGroupForPC(url: string, isInElectron: boolean) {\n    if (window?.ctxBridge) {\n      window?.ctxBridge?.openExternal(url);\n    } else {\n      const cchatHref = url;\n      const newWindow = window.open(cchatHref, '_blank');\n      isInElectron && setTimeout(() => newWindow.close(), 100);\n    }\n  }\n\n  return (\n    <div\n      style={{\n        backgroundColor: 'rgba(221,225,239,0.7)',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: isMobile ? 'auto' : 999999999,\n        overflow: 'hidden',\n      }}\n    >\n      {}\n\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          position: 'absolute',\n          left: '50%',\n          top: showErrorMsg ? '10%' : '40%',\n          transform: 'translateX(-50%)',\n        }}\n      >\n        <div\n          className=\"contentWrapper\"\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'center',\n            flexDirection: 'column',\n            width: '80vw',\n          }}\n        >\n          <div\n            onClick={e => {\n              setCount(prev => prev + 1);\n            }}\n            style={{\n              textAlign: 'center',\n            }}\n          >\n            很抱歉😧，\n            {isMobile && <br />}\n            编辑器出现了异常，请\n            <Button\n              style={{ marginLeft: '8px' }}\n              type=\"primary\"\n              onClick={e => {\n                const options = getCache(docId, 'options');\n                if (!options?.isRefresh) {\n                  setCache(options.docId, 'options', { ...options, isRefresh: true });\n                  options.isRefresh = true;\n                  if (!options?.openAutoRecover) {\n                    options?.errorRecoverCallback();\n                  } else {\n                    window.tripdocs.editorsMap[options.docId].api.destroy();\n                    const dom = document.getElementById(`editorContainer-${options.docId}`);\n                    dom && window.tripdocs.Editor(options, dom);\n                  }\n                }\n              }}\n            >\n              刷新重试\n            </Button>\n          </div>\n          <div style={{ marginTop: '32px' }}>\n            您可以选择\n            {!isMobile && (\n              <>\n                <Button\n                  style={{ marginLeft: '8px', marginRight: '8px', backgroundColor: 'rgb(236,98,105)' }}\n                  type=\"primary\"\n                  onClick={e => {\n                    const ubtError = sessStorage.get('tripdocs_sdk/ubtError');\n                    const stack: any[] = getCache(docId, 'changeEditorStack') || [];\n                    const json = {\n                      editor,\n                      error: JSON.stringify(fallback.error),\n                      ubtError,\n                      stack,\n                      docsdkversion: 'sdk version:' + require('../../../../package.json').version,\n                    };\n                    const jsonStr = JSON.stringify(json);\n                    const a = document.createElement('a');\n                    a.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(jsonStr));\n\n                    a.setAttribute('download', timeFormat() + '报错日志.json');\n                    a.style.display = 'none';\n                    document.body.appendChild(a);\n                    a.click();\n                    document.body.removeChild(a);\n                  }}\n                >\n                  下载报错日志\n                </Button>\n                并\n              </>\n            )}\n            <Button\n              style={{ marginLeft: '8px', backgroundColor: 'rgb(236,98,105)' }}\n              type=\"primary\"\n              onClick={e => {\n                const isInElectron = getCache(docId, 'options')?.isInElectron;\n                if (isInElectron && isMobile) {\n                  window.tripdocs.editorsMap[docId]?.api?.joinDevGroup();\n                  return;\n                }\n              }}\n            >\n              进群反馈\n            </Button>\n            {!isMobile && <span style={{ marginLeft: '8px', color: 'rgb(125,125,125)' }}>（请在群里上传报错日志）</span>}\n          </div>\n          {count >= 8 && (\n            <>\n              <div\n                style={{ fontWeight: 'bold', margin: '48px 0 16px', alignSelf: 'flex-start' }}\n                onClick={e => {\n                  setShowErrorMsg(prev => !prev);\n                }}\n              >\n                报错信息 <span style={{ display: 'inline-block', transform: showErrorMsg ? 'rotateZ(-90deg)' : 'rotateZ(90deg)' }}>▶️</span>\n              </div>\n              <Collapse\n                accordion\n                style={{\n                  display: showErrorMsg ? 'block' : 'none',\n                  width: '100%',\n                }}\n                defaultActiveKey={[1]}\n              >\n                <Panel header=\"报错信息\" key=\"1\">\n                  <div\n                    style={{\n                      overflow: 'auto',\n                      height: '40vh',\n                    }}\n                  >\n                    <p>{fallback.error.message}</p>\n                    <p>{fallback.error.stack}</p>\n                  </div>\n                </Panel>\n                <Panel header=\"操作历史\" key=\"2\">\n                  <div\n                    style={{\n                      overflow: 'auto',\n                      height: '40vh',\n                    }}\n                  >\n                    {editor?.history?.undos &&\n                      JSON.stringify(editor.history.undos.length > 3 ? editor.history.undos.slice(0, 3) : editor.history.undos)}\n                  </div>\n                </Panel>\n              </Collapse>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { EnterOutlined, FileAddOutlined, ReadOutlined, RedoOutlined, SaveOutlined, SearchOutlined, UndoOutlined } from '@ant-design/icons';\nimport { f } from '@src/resource/string';\nimport React from 'react';\nimport { IconBtn } from '../../docs/plugins/Components';\nimport './index.less';\n\nexport const HotkeyHelperContent = () => (\n  <>\n    <div className=\"hotkey-drawer-wrapper\">\n      {getHotkeyGroup(\n        f('globalHotkey'),\n        [\n          { icon: <UndoOutlined />, cardInfo: f('undo'), hotkey: ['Ctrl', 'Z'] },\n          { icon: <RedoOutlined />, cardInfo: f('redo'), hotkey: ['Ctrl', 'Y'] },\n          { icon: <SaveOutlined />, cardInfo: f('save'), hotkey: ['Ctrl', 'S'] },\n        ],\n        false\n      )}\n      {getHotkeyGroup(\n        f('textHotkey'),\n        [\n          { icon: <IconBtn className=\"Tripdocs-bold\" />, cardInfo: f('bold'), hotkey: ['Ctrl', 'B'] },\n          { icon: <IconBtn className=\"Tripdocs-italic\" />, cardInfo: f('italic'), hotkey: ['Ctrl', 'I'] },\n          { icon: <IconBtn className=\"Tripdocs-code_braces\" />, cardInfo: f('code'), hotkey: ['Ctrl', 'E'] },\n          { icon: <IconBtn className=\"Tripdocs-underline\" />, cardInfo: f('underline'), hotkey: ['Ctrl', 'U'] },\n          { icon: <IconBtn className=\"Tripdocs-strikethrough\" />, cardInfo: f('strikethrough'), hotkey: ['Ctrl', 'Shift', 'X'] },\n          { icon: <EnterOutlined />, cardInfo: f('softEnter'), hotkey: ['Shift', 'Enter'] },\n        ],\n        false\n      )}\n      {getHotkeyGroup(\n        'Markdown',\n        [\n          { icon: <IconBtn className=\"Tripdocs-bold\" />, cardInfo: f('bold'), hotkey: ['**' + f('text') + '**', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-italic\" />, cardInfo: f('italic'), hotkey: ['*' + f('text') + '*', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-quote\" />, cardInfo: f('quote'), hotkey: ['>', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-code_braces\" />, cardInfo: f('code'), hotkey: ['`' + f('code') + '`'] },\n          { icon: <IconBtn className=\"Tripdocs-ordered\" />, cardInfo: f('numberedList'), hotkey: ['1.', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-unordered\" />, cardInfo: f('bulletedList'), hotkey: ['*', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-code_tags\" />, cardInfo: f('codeBlock'), hotkey: ['```', f('space')] },\n\n          { icon: <IconBtn className=\"Tripdocs-head1\" />, cardInfo: f('heading1'), hotkey: ['#', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-head2\" />, cardInfo: f('heading'), hotkey: ['##', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-head3\" />, cardInfo: f('heading3'), hotkey: ['###', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-head4\" />, cardInfo: f('heading4'), hotkey: ['####', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-head5\" />, cardInfo: f('heading5'), hotkey: ['#####', f('space')] },\n          { icon: <IconBtn className=\"Tripdocs-head6\" />, cardInfo: f('heading6'), hotkey: ['######', f('space')] },\n        ],\n        true\n      )}\n    </div>\n  </>\n);\n\nfunction toItemKey(...rest) {\n  const args: any = [...rest];\n  return args.map((item: any, index: number) =>\n    index === args.length - 1 ? (\n      <kbd key={index}>{item}</kbd>\n    ) : (\n      <React.Fragment key={index}>\n        <kbd>{item}</kbd>\n        <span>+</span>\n      </React.Fragment>\n    )\n  );\n}\n\nfunction toSpaceItemKey(...rest) {\n  const args: any = [...rest];\n  return args.map((item: any, index: number) =>\n    index === args.length - 1 ? (\n      <kbd key={index}>{item}</kbd>\n    ) : (\n      <React.Fragment key={index}>\n        <kbd>{item}</kbd>\n        <span> </span>\n      </React.Fragment>\n    )\n  );\n}\n\nfunction getHotkeyGroup(groupname: string, groupItemList: { icon: any; cardInfo: string; hotkey: string[] }[], withSpace: boolean) {\n  return (\n    <div className=\"hotkey-drawer-section\">\n      <div className=\"hotkey-groupname\">{groupname}</div>\n      {groupItemList.map((item: { icon: any; cardInfo: string; hotkey: string[] }, index: number) => (\n        <div className=\"hotkey-groupitem\" key={index}>\n          <div className=\"hotkey-icon\">{item.icon}</div>\n          <div className=\"hotkey-cardinfo\">{item.cardInfo}</div>\n          <div className=\"hotkey-itemkey\">{withSpace ? toSpaceItemKey(...item.hotkey) : toItemKey(...item.hotkey)}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { cx, css } from '@emotion/css';\nimport { Editor } from '@src/components/slate-packages/slate';\nimport { Tooltip } from 'antd';\nimport { COLOR_ACTIVE, COLOR_DEFAULT, IconBtn } from '../../docs/plugins/Components';\nimport React, { useContext, useState } from 'react';\nimport './index.less';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport { f } from '@src/resource/string';\ninterface SideTipContainerProps {\n  editor: Editor;\n  docId: string;\n  editorContainerScrollTop: number;\n  isMobile: boolean;\n  scrollRef: any;\n  showHelpBlock: boolean;\n  setIsShowHotkeyHelper: Function;\n}\n\nconst SideTipContainer = (props: SideTipContainerProps) => {\n  const { editor, docId, showHelpBlock, editorContainerScrollTop, isMobile, scrollRef, setIsShowHotkeyHelper } = props;\n\n  return (\n    <div\n      className=\"side-tip-container\"\n      style={{\n        position: 'sticky',\n        display: 'flex',\n        width: '100%',\n        height: 0,\n        bottom: isMobile ? '90px' : '60px',\n        paddingRight: '24px',\n        color: '#a0a0a0',\n        fontSize: '18px',\n        justifyContent: 'flex-end',\n        zIndex: 1020,\n      }}\n    >\n      <ToTopButton isMobile={isMobile} scrollRef={scrollRef} editorContainerScrollTop={editorContainerScrollTop}></ToTopButton>\n      {showHelpBlock ? <HelpBlock setIsShowHotkeyHelper={setIsShowHotkeyHelper} /> : null}\n    </div>\n  );\n};\n\nconst ToTopButton = (props: any) => {\n  const { isMobile, scrollRef, editorContainerScrollTop } = props;\n  return editorContainerScrollTop > window.innerHeight ? (\n    <Tooltip title={f('toTop')} placement=\"top\" mouseEnterDelay={0} mouseLeaveDelay={0}>\n      <div\n        className={cx(\n          'to-top-button',\n          css`\n            & {\n              margin-right: ${isMobile ? '0.5em' : '15px'};\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              background: #ffffff;\n              box-shadow: 0px 2px 4px 0px rgba(188, 188, 188, 0.5);\n              height: 34px;\n              width: 34px;\n              border-radius: 17px;\n              cursor: pointer;\n              z-index: 100;\n              color: #000;\n              &:hover {\n                color: ${COLOR_ACTIVE.COLOR};\n              }\n            }\n          `\n        )}\n        onMouseDown={e => {\n          e.preventDefault();\n          scrollRef?.current?.scrollTo({ top: 0, behavior: 'smooth' });\n        }}\n      >\n        <IconBtn className=\"Tripdocs-back_to_top\" style={{ fontSize: '16px' }} />\n      </div>\n    </Tooltip>\n  ) : null;\n};\n\nconst HelpBlock = (props: any) => {\n  const { isMobile, setIsShowHotkeyHelper } = props;\n\n  const { isInElectron, docId } = useContext(TripdocsSdkContext);\n\n  const [isHover, setIsHover] = useState(false);\n\n  return (\n    <div className=\"help-block\">\n      <div\n        className=\"help-button-wrap\"\n        style={{\n          opacity: isHover ? 1 : 0,\n          transform: `translateY(${isHover ? `0` : `50px`})`,\n          pointerEvents: isHover ? null : `none`,\n          transition: 'all 0.3s ease-in-out',\n          transitionProperty: 'transform, opacity',\n        }}\n        onMouseEnter={() => {\n          setIsHover(true);\n        }}\n      >\n        <HelpButton\n          icon=\"keyboard\"\n          title={f('hotkey')}\n          onClick={() => {\n            setIsShowHotkeyHelper(true);\n          }}\n        />\n      </div>\n      <div\n        className={cx(\n          'more-tip-button',\n          css`\n            & {\n              margin-right: ${isMobile ? '0.5em' : '15px'};\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              background: #ffffff;\n              box-shadow: 0px 2px 4px 0px rgba(188, 188, 188, 0.5);\n              height: 34px;\n              width: 34px;\n              border-radius: 17px;\n              cursor: pointer;\n              z-index: 120;\n              color: #000;\n              &:hover {\n                color: ${COLOR_ACTIVE.COLOR};\n              }\n            }\n          `\n        )}\n        onMouseEnter={() => {\n          setIsHover(true);\n        }}\n        onMouseLeave={() => {\n          setIsHover(false);\n        }}\n        onMouseDown={e => {\n          e.preventDefault();\n          setIsHover(prev => !prev);\n        }}\n      >\n        {isHover ? (\n          <IconBtn className=\"Tripdocs-close\" style={{ fontSize: '16px' }} />\n        ) : (\n          <IconBtn className=\"Tripdocs-more\" style={{ fontSize: '16px' }} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst HelpButton = (props: any) => {\n  const { title, icon, onClick } = props;\n  return (\n    <Tooltip title={title} placement=\"left\" mouseEnterDelay={0.2} mouseLeaveDelay={0}>\n      <div className=\"help-button\" onClick={onClick}>\n        <IconBtn className={`Tripdocs-${icon}`} style={{ fontSize: '16px' }} />\n      </div>\n    </Tooltip>\n  );\n};\n\nexport { SideTipContainer };\n","import { default as React } from 'react';\nimport '@src/style/iconfont/Tripdocs.css';\nimport storage from '../../utils/storage';\nimport EditorFrame, { EditorProps } from './slateEditor';\n\ninterface ClientProps {\n  name: string;\n  id: string;\n  removeUser: (id: any) => void;\n  [key: string]: any;\n}\n\nconst Client: React.FC<ClientProps> = props => {\n  return <EditorFrame {...(props as unknown as EditorProps)} decorate={undefined} />;\n};\n\nexport default Client;\n","import { TripdocsSdkContext } from '@src/Docs';\nimport { hashCode, intToRGB } from '@src/utils/hexColorUtils';\nimport { createRandomId } from '@src/utils/randomId';\nimport storage from '@src/utils/storage';\nimport { Avatar, Button, Image } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { ELTYPE, getGlobalCommentRangeId } from '../config';\nimport { InlineSlateEditor, renderLeaf } from '../SideComment/inlineSlateEditor';\nimport { css, cx } from '@emotion/css';\nimport { insertSideComment } from '../SideComment/insertSideComment';\nimport { timeFormat } from '../SideComment/utils';\nimport { Transforms } from '@src/components/slate-packages/slate';\nimport { f } from '@src/resource/string';\n\nconst GlobalCommentEditor = (props: any) => {\n  const { commentData, setCommentData, commentValue, setCommentValue, isMobile, setEditor, globalCommentEditor } = props;\n\n  const { editor, docId, userInfo } = useContext(TripdocsSdkContext);\n  const displayName = userInfo?.displayName || userInfo?.userName || 'UNKNOWN（佚名）';\n  const headPortrait = userInfo?.headPortrait;\n  useEffect(() => {\n    editor && console.log('commentValue :>> ', editor.selection, window?.tripdocs.editorsMap, commentValue);\n  }, [commentValue]);\n\n  const [inlineEditorValue, setInlineEditorValue] = useState([\n    {\n      type: ELTYPE.PARAGRAPH,\n      children: [{ text: '' }],\n    },\n  ]);\n\n  const commentValueLength = commentValue?.replace(/[\\!\\@]\\[\\[(.*?)\\]\\]/g, '').length;\n\n  return (\n    <>\n      <div className={cx('comment-section-wrapper', 'ignore-toggle-readonly')} style={{ position: 'relative', margin: isMobile ? 0 : '16px' }}>\n        <div\n          key={'global-comment-editor_' + docId}\n          data-ignore-slate\n          className=\"inline-side-comment__content ignore-toggle-readonly\"\n          style={{\n            display: 'flex',\n            flexDirection: 'row',\n            margin: '38px 0 16px 2px',\n            padding: isMobile ? '0 16px 0 0' : '0 16px',\n          }}\n        >\n          <div\n            data-ignore-slate\n            className=\"inline-side-comment__contentLeft ignore-toggle-readonly\"\n            style={{\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'flex-start',\n              margin: '10px 10px 0 0',\n            }}\n          >\n            {!headPortrait ? (\n              <Avatar\n                style={{\n                  backgroundColor:\n                    displayName && displayName !== '' ? `#${intToRGB(hashCode(displayName))}` : `#${intToRGB(Math.floor(Math.random() * 10000))}`,\n                }}\n              >\n                <span data-ignore-slate contentEditable=\"false\" suppressContentEditableWarning={true}>\n                  {displayName?.split('）')[0].slice(-3, -1)}\n                </span>\n              </Avatar>\n            ) : (\n              <Avatar src={<Image src={headPortrait} preview={false} style={{ width: 32 }} />} />\n            )}\n          </div>\n          <div\n            data-ignore-slate\n            style={{ flex: 1, position: 'relative', maxWidth: '70vw' }}\n            id=\"global-comment-editor-wrap\"\n            className=\"inline-side-comment__contentRight ignore-toggle-readonly\"\n          >\n            <InlineSlateEditor\n              setEditor={setEditor}\n              isGlobalComment\n              value={inlineEditorValue}\n              setValue={setInlineEditorValue}\n              setCommentValue={setCommentValue}\n            />\n            <div style={{ position: 'absolute', right: '16px' }}>\n              <span style={{ color: commentValueLength > 500 ? '#f04f4f' : null }}>{commentValueLength}</span>\n              /500\n            </div>\n          </div>\n        </div>\n      </div>\n      <Button\n        data-ignore-slate\n        id=\"global-comment-reply-button\"\n        disabled={commentValue === '' || commentValueLength > 500}\n        style={{\n          margin: isMobile ? '0 0 0 42px' : '0 0 0 76px',\n          color: commentValue === '' || commentValueLength > 500 ? '#bdbdbd' : '#595959',\n          cursor: commentValue === '' || commentValueLength > 500 ? 'not-allowed' : 'pointer',\n        }}\n        onClick={e => {\n          const commentId = 'global-comment_' + new Date().getTime();\n          const curComment = {\n            userName: displayName,\n            content: commentValue,\n            mentionedUserList: [],\n            rangeId: commentId,\n            commentId: commentId,\n            replyTarget: null,\n            time: new Date().getTime(),\n          };\n          globalCommentEditor && Transforms.deselect(globalCommentEditor);\n          setCommentData([...commentData, curComment]);\n          setCommentValue('');\n          setInlineEditorValue([\n            {\n              type: ELTYPE.PARAGRAPH,\n              children: [{ text: '' }],\n            },\n          ]);\n          insertSideComment(\n            editor,\n            docId,\n            {\n              userName: userInfo.userName,\n              content: commentValue,\n              commentId: createRandomId(),\n              rangeId: getGlobalCommentRangeId(),\n              time: timeFormat(),\n              mentionedMemberList: inlineEditorValue,\n            },\n            false,\n            null\n          );\n        }}\n      >\n        {f('reply')}\n      </Button>\n    </>\n  );\n};\n\nexport default GlobalCommentEditor;\n","import { css, cx } from '@emotion/css';\nimport { EditorContainerInnerPortal, TripdocsSdkContext } from '@src/Docs';\nimport { hashCode, intToRGB } from '@src/utils/hexColorUtils';\nimport { Avatar, Button, message, Tooltip } from 'antd';\nimport React, { useCallback, useContext, useEffect, useMemo, useRef, useState } from 'react';\nimport { CommentContent } from '../SideComment/renderSideComment';\nimport $ from 'jquery';\nimport { timeFormat } from '../SideComment/utils';\nimport { CommentOutlined } from '@ant-design/icons';\nimport GlobalCommentEditor from './globalCommentEditor';\nimport storage from '@src/utils/storage';\nimport { ELTYPE } from '../config';\nimport { getNodesByRangeId } from '../SideComment/commentOps';\nimport { deleteCommentByCommentId, deleteCommentByRangeId } from '../SideComment/deleteSideComment';\nimport { createRandomId } from '@src/utils/randomId';\nimport { insertSideComment } from '../SideComment/insertSideComment';\nimport { updateSideComment } from '../SideComment/updateSideComment';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { Transforms } from '@src/components/slate-packages/slate';\nimport { bodySelectAll } from '@src/utils/selectionUtils';\nimport { f } from '@src/resource/string';\nimport { getCache } from '@src/utils/cacheUtils';\n\nexport const GlobalComment = (props: any) => {\n  const { commentData, setCommentData, isMobile, editor } = props;\n\n  const [globalCommentEditor, setGlobalCommentEditor] = useState(null);\n  const [commentValue, setCommentValue] = useState('');\n\n  return (\n    <div className=\"editor-global-comment\" style={{ margin: '12px', paddingBottom: 30 }}>\n      <div className=\"global-comment-header\" style={{ padding: '0 8px', margin: '8px 0', width: '100%' }}>\n        {}\n        <div className=\"global-comment-reply\" style={{ color: '#7d7d7d' }}>\n          <div\n            className=\"reply-wrap\"\n            style={{\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              width: 'fit-content',\n            }}\n            onMouseDown={e => {\n              e.preventDefault();\n\n              if (globalCommentEditor) {\n                const globalCommentEditorDom = ReactEditor.toDOMNode(globalCommentEditor, globalCommentEditor);\n                console.log('[scrollIntoView] globalCommentEditorDom :>> ', globalCommentEditor, globalCommentEditorDom);\n\n                const containerWrapDom = document.getElementById(`editor-content-wrap-${editor.docId}`);\n                const offsetTop =\n                  (globalCommentEditorDom.closest('.comment-section-wrapper') as HTMLElement)?.offsetTop + globalCommentEditorDom.offsetTop;\n                const height = globalCommentEditorDom?.getBoundingClientRect().height;\n                if (typeof offsetTop === 'number' && typeof height === 'number' && containerWrapDom) {\n                  containerWrapDom.scroll({ behavior: 'smooth', top: offsetTop - height });\n                }\n              }\n            }}\n          >\n            <CommentOutlined style={{ fontSize: '24px' }} />\n            <span style={{ marginLeft: '8px' }}>{f('reply')}</span>\n          </div>\n        </div>\n      </div>\n      <div className=\"global-comment-header__br\" style={{ background: '#1466DE', height: '1px', margin: '16px 8px' }}></div>\n      <div className=\"global-comment-content\">{getCommentContents(commentData)}</div>\n      <GlobalCommentEditor\n        setEditor={setGlobalCommentEditor}\n        commentData={commentData}\n        globalCommentEditor={globalCommentEditor}\n        setCommentData={setCommentData}\n        commentValue={commentValue}\n        setCommentValue={setCommentValue}\n        isMobile={isMobile}\n      />\n    </div>\n  );\n};\n\ntype commentGroupType = {\n  [rangeId: string]: {\n    anchorId: string;\n    refContent: string;\n    selection: Selection | null;\n    commentDataArr: any[];\n  };\n};\n\nconst getCommentContents = (commentData: any) => {\n  const { docId, editor, WIPCommentRangeId } = useContext(TripdocsSdkContext);\n\n  const [isReplyingComment, setIsReplyingComment] = useState(false);\n  const [editingCommentId, setEditingCommentId] = useState(null);\n\n  const groupRangeId = (commentData: any[]) => {\n    const commentGroup: commentGroupType = {};\n    commentData.forEach(item => {\n      const { rangeId } = item;\n      if (!rangeId) return;\n      if (!commentGroup[rangeId]) {\n        try {\n          const { selection, refContent, anchorId } = rangeId.startsWith('global-comment_')\n            ? { selection: null, refContent: null, anchorId: null }\n            : JSON.parse(rangeId);\n          commentGroup[rangeId] = {\n            anchorId,\n            refContent,\n            selection,\n            commentDataArr: [item],\n          };\n        } catch (error) {\n          console.error(error);\n        }\n      } else {\n        commentGroup[rangeId].commentDataArr = [...commentGroup[rangeId].commentDataArr, item];\n      }\n    });\n    console.log('[groupRangeId] commentGroup :>> ', commentGroup, WIPCommentRangeId, commentGroup[WIPCommentRangeId]);\n    if (commentGroup[WIPCommentRangeId]) {\n      delete commentGroup[WIPCommentRangeId];\n    }\n    return Object.values(commentGroup);\n  };\n\n  const commentGroup = groupRangeId(commentData);\n\n  console.log('commentGroup :>> ', commentGroup);\n\n  return useMemo(\n    () =>\n      commentGroup.map((content: any, index) => {\n        const { refContent, anchorId, selection, commentDataArr } = content;\n        const isGlobalComment =\n          JSON.stringify(selection) === '{\"anchor\":{\"path\":[0,0],\"offset\":0},\"focus\":{\"path\":[0,0],\"offset\":0}}' &&\n          refContent === f('globalComment') &&\n          anchorId === '0';\n\n        console.log(\n          'isGlobalComment :>> ',\n          isGlobalComment,\n          JSON.stringify(selection) === '{\"anchor\":{\"path\":[0,0],\"offset\":0},\"focus\":{\"path\":[0,0],\"offset\":0}}',\n          refContent,\n          f('globalComment'),\n          anchorId === '0'\n        );\n        return (\n          <div\n            className={cx(\n              'comment-section-wrapper',\n              css`\n                & {\n                  .comment-ref-content ~ .inline-side-comment__content {\n                    border-left: 1px dashed #d0d0d0;\n                    margin-left: 1px;\n                  }\n                  .inline-side-comment__content:only-child {\n                    margin-left: 2px;\n                  }\n\n                  .inline-side-comment__editor {\n                    margin: 24px 0 10px 0;\n                  }\n                }\n              `\n            )}\n            style={{ position: 'relative', margin: '16px' }}\n          >\n            {refContent ? (\n              <>\n                <a\n                  className={cx(\n                    'content-detail-wording-detail',\n                    css`\n                      & {\n                        font-family: PingFangSC-Regular;\n                        font-size: 12px;\n                        line-height: 16px;\n                        position: absolute;\n                        right: 20px;\n                        top: 28px;\n                        color: #bfbfbf;\n                        cursor: pointer;\n                        z-index: 10;\n                      }\n                      &:hover {\n                        text-decoration: none;\n                        outline: 0;\n                        color: #999999;\n                      }\n                    `\n                  )}\n                  onClick={e => {\n                    if (anchorId && anchorId !== '0') {\n                      console.log('[anchorId,]', anchorId);\n                      const canScroll = scrollToViewByAnchorId(docId)(anchorId);\n                      if (!canScroll) {\n                        message.config({\n                          top: 100,\n                          maxCount: 1,\n                        });\n                        message.destroy();\n                        message.warn(f('anchorNotFound'));\n                      }\n                    }\n                  }}\n                >\n                  {anchorId && anchorId !== '0' && f('jumpToAnchor')}\n                </a>\n                <div\n                  className={cx(\n                    'comment-ref-content',\n                    css`\n                      & {\n                        height: 24px;\n                        padding: 0 12px;\n                        border-left: ${!isGlobalComment ? `3px solid #1466de` : `none`};\n                        background: ${isGlobalComment ? `rgba(222, 162, 20, 0.20)` : `rgba(20, 102, 222, 0.06)`};\n                        overflow: hidden;\n                        white-space: nowrap;\n                        text-overflow: ellipsis;\n                      }\n                    `\n                  )}\n                >\n                  <span\n                    title={refContent}\n                    className={css`\n                      & {\n                        font-family: PingFangSC-Regular;\n                        font-size: 12px;\n                        color: #999999;\n                        line-height: 16px;\n                      }\n                    `}\n                  >\n                    {refContent}\n                  </span>\n                </div>\n              </>\n            ) : null}\n            {commentDataArr.map((content, index) => {\n              return (\n                <CommentContent\n                  key={index}\n                  editor={editor}\n                  text={refContent}\n                  content={content}\n                  index={index}\n                  rangeId={content.rangeId}\n                  commentId={content.commentId}\n                  editingCommentId={editingCommentId}\n                  setEditingCommentId={setEditingCommentId}\n                  isReplyingComment={isReplyingComment}\n                  setIsReplyingComment={setIsReplyingComment}\n                  isShowHoveringCommentButton={true}\n                  contentCollapseLength={100}\n                />\n              );\n            })}\n          </div>\n        );\n      }),\n    [JSON.stringify(commentGroup), JSON.stringify(commentData), editingCommentId, isReplyingComment, WIPCommentRangeId]\n  );\n};\n\nfunction scrollToViewByAnchorId(docId = 'default') {\n  return (anchorId: string) => {\n    const { SlateEditor: Editor, editor, ReactEditor } = window.tripdocs.editorsMap[docId];\n    const curNodeEntry = Editor.nodes(editor, {\n      at: [],\n      match: (n: any) => n?.anchorId === anchorId,\n    }).next().value;\n    if (curNodeEntry) {\n      const anchorItemEl = ReactEditor.toDOMNode(editor, curNodeEntry[0]);\n      const anchorItemElRect = anchorItemEl.getBoundingClientRect();\n      const isInViewport = anchorItemElRect && anchorItemElRect.top >= 0 && anchorItemElRect.bottom <= window.innerHeight;\n      const scrollWrap: HTMLElement = getCache(docId, 'editorWrapDom');\n      if (scrollWrap && anchorItemEl && !isInViewport) {\n        scrollWrap.scrollTo({ top: anchorItemEl.offsetTop - 20, behavior: 'smooth' });\n      }\n\n      console.log('[scrollToViewByAnchorId] anchorItemEl :>> ', anchorItemEl);\n      $(anchorItemEl).on('webkitAnimationEnd animationEnd', function () {\n        $(this).removeClass('anchor-target');\n      });\n      $(anchorItemEl).addClass('anchor-target');\n      return true;\n    }\n    return false;\n  };\n}\n","import { WarningOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport { IconBtn } from '../../Components';\nimport { ELTYPE } from '../../config';\n\nimport './index.less';\nimport { alignToggle } from '../../HoveringToolbar';\nimport { Editor, Node, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { insertCodeBlock } from '../../CodeBlock';\nimport storage from '@src/utils/storage';\nimport { insertOl } from '../../OLULList/OlList';\nimport { toggleBlock } from '../../block';\nimport { insertDivide } from '../../Divide';\nimport { newTable } from '../../table/newTable';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { createUUID } from '@src/utils/randomId';\nimport { f } from '@src/resource/string';\nimport { getEditorEventEmitter } from '../../table/selection';\nimport { getSlateSlection } from '@src/utils/getSelection';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\n\nfunction ListIconItem(props: any) {\n  const { onMouseDown, icon, text } = props;\n  const Icon = icon;\n  const iconStyle: object = {\n    fontSize: '14px',\n    color: 'rgba(0,0,0,.5)',\n    marginRight: '8px',\n    display: 'inline-block',\n  };\n  console.log('icon', icon);\n  return (\n    <div\n      className=\"group\"\n      onMouseDown={() => {\n        onMouseDown && onMouseDown();\n      }}\n    >\n      <div className=\"icon-list-wrapper\">\n        {typeof icon === 'string' ? <IconBtn className={`tripdocs-sdk-iconfont ${icon}`} /> : <Icon style={iconStyle} />}\n      </div>\n      {text.length === 4 ? <span className=\"title\">{text}</span> : <span className=\"badge\">{text}</span>}\n    </div>\n  );\n}\n\nfunction execInsertComponent(props: any) {\n  console.log('execInsertComponent', props);\n  const { format, editor, selection, setShowCard } = props;\n\n  const path = selection?.anchor?.path;\n  if (!path) {\n    setShowCard(false);\n    return;\n  }\n\n  const { type } = Node.get(editor, path) as any;\n  if (format.startsWith('align')) {\n    const fo = format.split('-')[1];\n    alignToggle(editor, fo, selection);\n    setShowCard(false);\n    return;\n  } else if (format === ELTYPE.CODE_BLOCK) {\n    console.log('format', format);\n    setShowCard(false);\n    insertCodeBlock(editor, Range.start(selection).path);\n    return;\n  } else if (type !== format && [ELTYPE.OLLIST, ELTYPE.ULLIST].includes(format)) {\n    let id = format + '=' + createUUID();\n    console.log('execInsertComponent list cur:', type, ',targetType:', format);\n    const employee = storage.get('userInfo')?.employee;\n    insertOl(\n      editor,\n      {\n        type: format,\n        tabLevel: 0,\n        num: 1,\n        id: id,\n        authCls: 'auth-' + employee,\n        elId: createUUID(),\n      },\n      { at: selection }\n    );\n    setShowCard(false);\n    return;\n  }\n  if (selection && ReactEditor.hasRange(editor, selection) && selection[0] !== 0) {\n    toggleBlock(editor, format, selection);\n    getEditorEventEmitter(editor.docId).emit('updateOutlineAnchor', editor.docId);\n  } else {\n    if (selection) {\n      toggleBlock(editor, format, selection);\n      getEditorEventEmitter(editor.docId).emit('updateOutlineAnchor', editor.docId);\n    }\n  }\n\n  setShowCard(false);\n}\nexport const isInTable = editor => {\n  let ret = null;\n  const sel = getSlateSlection(editor.docId);\n  if (sel) {\n    ret = Editor.above(editor, {\n      match: (n: any) => n.type === ELTYPE.TABLE,\n      at: sel,\n    });\n  }\n  console.log('isInTable', editor, sel, ret);\n\n  return ret;\n};\nexport default function (props: any) {\n  const { setShowCard, editor, docWidth, docId } = props;\n  const selection = getCache(docId, 'selection');\n\n  return (\n    <div\n      className=\"mobile-toolbar-doc-card-container\"\n      onMouseDown={() => {\n        setShowCard(false);\n      }}\n    >\n      <div\n        className=\"mod\"\n        style={{\n          position: 'fixed',\n          bottom: 0,\n        }}\n      >\n        <div\n          className=\"container-inner\"\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n          }}\n        >\n          <div className=\"header\">\n            <div className=\"wrapper-inner\">\n              <div\n                className=\"tripdocs-sdk-iconfont Tripdocs-close\"\n                style={{ color: 'black' }}\n                onMouseDown={function () {\n                  setShowCard(false);\n                }}\n              />\n              <span className=\"action-bg\">在下方添加</span>\n            </div>\n          </div>\n\n          <div className=\"body\">\n            <div className=\"horizontal-line\"></div>\n            <span className=\"tag\">样式</span>\n            <div className=\"wrapper-inner-i0\">\n              <ListIconItem\n                icon=\"Tripdocs-head1\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.HEADING_ONE,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text=\"\"\n              />\n              <ListIconItem\n                icon=\"Tripdocs-head2\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.HEADING_TWO,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text=\"\"\n              />\n              <ListIconItem\n                icon=\"Tripdocs-head3\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.HEADING_THREE,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text=\"\"\n              />\n              <ListIconItem\n                icon=\"Tripdocs-head4\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.HEADING_FOUR,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text=\"\"\n              />\n              <ListIconItem\n                icon=\"Tripdocs-head5\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.HEADING_FIVE,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text=\"\"\n              />\n\n              <ListIconItem\n                icon=\"Tripdocs-head6\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.HEADING_SIX,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text=\"\"\n              />\n              <div>&emsp;</div>\n            </div>\n\n            <div style={{ display: 'flex', marginLeft: '4vw' }}>\n              <ListIconItem\n                icon=\"Tripdocs-format_clear\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.PARAGRAPH,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text={f('normal')}\n              />\n              <ListIconItem\n                icon=\"Tripdocs-ordered\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.OLLIST,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text={f('numberedList')}\n              />\n              <ListIconItem\n                icon=\"Tripdocs-unordered\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.ULLIST,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text={f('bulletedList')}\n              />\n              <ListIconItem\n                icon=\"Tripdocs-checkbox_selected\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.TODO_LIST,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text={f('toDoList')}\n              />\n              <ListIconItem\n                icon=\"Tripdocs-code_braces\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.CODE_BLOCK,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text={f('codeBlock')}\n              />\n              <ListIconItem\n                icon=\"Tripdocs-quote\"\n                onMouseDown={() => {\n                  execInsertComponent({\n                    format: ELTYPE.BLOCK_QUOTE,\n                    editor,\n                    selection,\n                    setShowCard,\n                  });\n                }}\n                text={f('quote')}\n              />\n            </div>\n            <span className=\"tag\">{f('common')}</span>\n            <div className=\"wrapper-inner-1\">\n              {!isInTable(editor) && (\n                <ListIconItem\n                  icon=\"Tripdocs-table\"\n                  onMouseDown={() => {\n                    newTable(editor, 2, 2, docWidth - 15, selection.anchor.path.slice(0, 1));\n                    setShowCard(false);\n                  }}\n                  text={f('table')}\n                />\n              )}\n\n              <ListIconItem\n                icon=\"Tripdocs-split_line\"\n                onMouseDown={() => {\n                  insertDivide(editor);\n                  setShowCard(false);\n                }}\n                text={f('divider')}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { WarningOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport { IconBtn } from '../../Components';\nimport { ELTYPE } from '../../config';\nimport { BlockIconButton } from '../../StaticToolbar/buttons';\n\nimport './index.less';\nimport { alignToggle, colorChoice } from '../../HoveringToolbar';\nimport { Editor, Node, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { insertCodeBlock } from '../../CodeBlock';\nimport storage from '@src/utils/storage';\nimport { insertOl } from '../../OLULList/OlList';\nimport { toggleBlock } from '../../block';\nimport { insertDivide } from '../../Divide';\nimport { newTable } from '../../table/newTable';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { css, cx } from '@emotion/css';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { f } from '@src/resource/string';\n\nfunction ColorBtn(props: any) {\n  const { editor, format, color, key, callback } = props;\n  return (\n    <div\n      key={key}\n      className=\"group\"\n      onMouseDown={e => {\n        e.preventDefault();\n        const selection = getCache(editor.docId, 'selection');\n        console.log('icon', format, color, selection);\n        if (!selection) return;\n        Transforms.select(editor, selection);\n\n        Editor.addMark(editor, format, color);\n        console.log(Editor.fragment(editor, selection));\n        callback();\n      }}\n    >\n      <IconBtn\n        className={cx(\n          `tripdocs-sdk-iconfont icon-${format === 'fontColor' ? 'format-color-text' : 'format-color-fill'}`,\n          css`\n            width: 2em;\n            height: 2em;\n            justify-content: center;\n            align-items: center;\n            display: flex;\n            border-radius: 4px;\n            outline: 1px solid #e8e8e8;\n          `\n        )}\n        style={{\n          background: color,\n        }}\n      />\n    </div>\n  );\n}\n\nexport default function (props: any) {\n  const { setShowCard, editor, docWidth, docId } = props;\n  const selection = getCache(docId, 'selection');\n\n  const colorArray = [\n    'rgb(0, 0, 0)',\n    'rgb(224, 102, 102)',\n    'rgb(246, 178, 107)',\n    'rgb(255, 217, 102)',\n    'rgb(147, 196, 125)',\n    'rgb(111, 168, 220)',\n    'rgb(142, 124, 195)',\n    'rgb(217, 217, 217)',\n    'rgb(255， 255， 255)',\n  ];\n\n  return (\n    <div\n      className=\"mobile-toolbar-doc-card-container\"\n      onMouseDown={() => {\n        setShowCard(false);\n      }}\n    >\n      <div\n        className=\"mod\"\n        style={{\n          position: 'fixed',\n          bottom: 0,\n        }}\n      >\n        <div\n          className=\"container-inner\"\n          onMouseDown={e => {\n            e.preventDefault();\n            e.stopPropagation();\n          }}\n        >\n          <div className=\"header\">\n            <div className=\"wrapper-inner\">\n              <div\n                className=\"tripdocs-sdk-iconfont Tripdocs-close\"\n                style={{ color: 'black' }}\n                onMouseDown={function () {\n                  setShowCard(false);\n                }}\n              />\n              <span className=\"action-bg\">{f('colorAndLingth')}</span>\n            </div>\n          </div>\n\n          <div className=\"body\" style={{ height: '50vh' }}>\n            <div className=\"horizontal-line\"></div>\n            <span className=\"tag\">{f('fontColor')}</span>\n            <div\n              className={css`\n                display: flex;\n                flex-direction: row;\n                padding: 20px;\n                overflow: auto;\n                margin: 0 auto;\n                justify-content: space-around;\n              `}\n            >\n              {colorArray.map((colorItem: string, index: number) => (\n                <ColorBtn editor={editor} format={'fontColor'} color={colorItem} key={index} callback={() => setShowCard(false)} />\n              ))}\n            </div>\n\n            <span className=\"tag\">{f('bgColor')}</span>\n            <div\n              className={css`\n                display: flex;\n                flex-direction: row;\n                padding: 20px;\n                overflow: auto;\n                margin: 0 auto;\n                justify-content: space-around;\n              `}\n            >\n              {colorArray.map((colorItem: string, index: number) => (\n                <ColorBtn editor={editor} format={'backgroundColor'} color={colorItem} key={index} callback={() => setShowCard(false)} />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {\n  AlignLeftOutlined,\n  CalendarOutlined,\n  CaretDownOutlined,\n  CheckSquareOutlined,\n  FontColorsOutlined,\n  FontSizeOutlined,\n  KeyOutlined,\n  PictureOutlined,\n  PlusCircleOutlined,\n} from '@ant-design/icons';\nimport { css, cx } from '@emotion/css';\nimport { Transforms, Node } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { IS_IOS } from '@src/components/slate-packages/slate-react/utils/environment';\nimport { TripdocsSdkContext } from '@src/Docs';\nimport useVisualViewport from '@src/utils/apiOperations/hooks/useVisualViewport';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport storage from '@src/utils/storage';\nimport { Drawer, Popover } from 'antd';\nimport React, { useEffect, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { isBlockActive, toggleBlock } from '../block';\nimport { COLOR_ACTIVE } from '../Components';\nimport { ELTYPE } from '../config';\nimport { AlignButton, isAlignActive, MarkButton } from '../HoveringToolbar';\nimport { getEditorEventEmitter } from '../table/selection';\nimport CardPopup from './CardPopup';\nimport ColorPopup from './ColorPopup';\nexport const BodyPortal = ({ children }) => {\n  return ReactDOM.createPortal(children, document.body);\n};\n\nexport function MobileToolbar(props) {\n  const { editor, docWidth, modalState, currentColor, setCurrentColor, anchorTrigger, display } = props;\n  const [showCardPopup, setShowCardPopup] = useState(false);\n  const [showColorPopup, setShowColorPopup] = useState(false);\n\n  const { isReadOnly, docId } = React.useContext(TripdocsSdkContext);\n  const [theme, setTheme] = useState({ backgroundColor: '#fff', color: 'rgba(0, 0, 0, 0.85)' });\n  const clientHeight = window.document.body.clientHeight;\n\n  const viewport = useVisualViewport();\n\n  useEffect(() => {\n    const editorDom = document.getElementById(`editorarea-${docId}`);\n    const selection = getCache(docId, 'selection');\n    if (!editor) {\n      return;\n    }\n    if (showColorPopup || showCardPopup) {\n      if (!selection) {\n        return;\n      }\n      editorDom && (editorDom.style.padding = '10px 15px 100vh');\n      const node = Node.has(editor, selection.anchor.path) && Node.get(editor, selection.anchor.path);\n      if (node) {\n        const domNode = ReactEditor.toDOMNode(editor, node);\n        domNode.style.scrollMarginTop = `20vh`;\n        domNode && domNode.scrollIntoView(true);\n      }\n      setTimeout(() => ReactEditor.blur(editor));\n    } else {\n      if (selection) {\n        editorDom.focus();\n        Transforms.select(editor, selection);\n      }\n      setCache(docId, 'isShowMobileMenuPopup', false);\n      editorDom && (editorDom.style.padding = '10px 15px 160px');\n    }\n  }, [showCardPopup, showColorPopup]);\n\n  const isInElectron: boolean = getCache(docId, 'options')?.isInElectron;\n  const safeAreaBottom: number = getCache(docId, 'options')?.safeAreaBottom;\n  const [isViewport, setIsViewport] = useState(IS_IOS && !isInElectron);\n  const keyboardHeight = clientHeight - viewport.height;\n\n  return showCardPopup ? (\n    <CardPopup setShowCard={setShowCardPopup} editor={editor} docWidth={docWidth} bottom={isInElectron ? safeAreaBottom + 42 : 42} docId={docId} />\n  ) : showColorPopup ? (\n    <ColorPopup setShowCard={setShowColorPopup} editor={editor} docWidth={docWidth} bottom={isInElectron ? safeAreaBottom + 42 : 42} docId={docId} />\n  ) : (\n    <div\n      id={'mobile-toolbar-' + docId}\n      className={css`\n        & {\n          height: ${isInElectron ? safeAreaBottom + 42 + 'px' : '42px'};\n          width: ${viewport.width}px;\n          position: fixed;\n          top: ${viewport.height - 42}px;\n          box-shadow: 0 0 12px 1px #dadada;\n          z-index: 9999;\n          overflow: hidden;\n          display: ${display};\n          padding-bottom: ${isInElectron && keyboardHeight === 0 ? safeAreaBottom + 'px' : '0px'};\n        }\n      `}\n    >\n      <div\n        className={css`\n          & {\n            overflow-x: auto;\n            height: 42px;\n            width: ${viewport.width - 42}px;\n            display: flex;\n            flex-direction: row;\n            justify-content: flex-start;\n            align-items: center;\n            flex-wrap: nowrap;\n            background-color: ${theme.backgroundColor};\n            color: ${theme.color};\n            &::after {\n              content: '';\n              position: absolute;\n              right: 0;\n              top: 0;\n              bottom: 0;\n              width: 10px;\n\n              transition: opacity 0.1s;\n              right: 42px;\n              background: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n            }\n            &::-webkit-scrollbar {\n              display: none;\n            }\n          }\n        `}\n      >\n        <MobileToolbarButton\n          type={'cards'}\n          editor={editor}\n          icon={<PlusCircleOutlined />}\n          callback={() => {\n            setCache(docId, 'isShowMobileMenuPopup', true);\n            ReactEditor.blur(editor);\n            setTimeout(() => {\n              setShowCardPopup(true);\n            }, 300);\n          }}\n        />\n        <VerticalDivider />\n        <MobileToolbarButton type={'format'} editor={editor} icon={<FontSizeOutlined />} callback={() => {}} />\n        <MobileToolbarButton\n          type={'color'}\n          editor={editor}\n          icon={<FontColorsOutlined />}\n          callback={() => {\n            setCache(docId, 'isShowMobileMenuPopup', true);\n            ReactEditor.blur(editor);\n            setTimeout(() => {\n              setShowColorPopup(true);\n            }, 300);\n          }}\n        />\n        <MobileToolbarButton type={'align'} editor={editor} icon={<AlignLeftOutlined />} callback={() => {}} />\n        <VerticalDivider />\n        <MobileToolbarButton\n          type={'todo-list'}\n          editor={editor}\n          icon={<CheckSquareOutlined />}\n          callback={e => {\n            toggleBlock(editor, ELTYPE.TODO_LIST, editor.selection);\n          }}\n        />\n        {}\n        {}\n      </div>\n      <div\n        className={css`\n          position: absolute;\n          right: 0;\n          top: 0;\n          height: 42px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background-color: ${theme.backgroundColor};\n          color: ${theme.color};\n        `}\n      >\n        <MobileToolbarButton\n          type={'collapse-keyboard'}\n          editor={editor}\n          icon={<CaretDownOutlined />}\n          callback={e => {\n            e.preventDefault();\n\n            ReactEditor.blur(editor);\n            const dom = document.getElementById('editor-content-' + docId);\n            if (dom && dom.firstChild) {\n              const input = dom.firstChild;\n              input?.blur();\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction MobileToolbarButton(props: any) {\n  const { icon, type, editor, callback } = props;\n\n  const popoverContent = {\n    format: (\n      <div\n        className={css`\n          display: flex;\n        `}\n      >\n        <InlineButton button={<MarkButton format=\"bold\" editor={editor} icon=\"Tripdocs-bold\" />} />\n        <InlineButton button={<MarkButton format=\"italic\" editor={editor} icon=\"Tripdocs-italic\" />} />\n        <InlineButton button={<MarkButton format=\"underline\" editor={editor} icon=\"Tripdocs-underline\" />} />\n        <InlineButton button={<MarkButton format=\"strikethrough\" editor={editor} icon=\"Tripdocs-strikethrough\" />} />\n        <InlineButton button={<MarkButton format=\"code\" editor={editor} icon=\"Tripdocs-code_tags\" />} />\n      </div>\n    ),\n    align: (\n      <div\n        className={css`\n          display: flex;\n        `}\n      >\n        <InlineButton button={<AlignButton editor={editor} format=\"align-left\" icon=\"Tripdocs-align_left\" />} />\n        <InlineButton button={<AlignButton editor={editor} format=\"align-center\" icon=\"Tripdocs-align_center\" />} />\n        <InlineButton button={<AlignButton editor={editor} format=\"align-right\" icon=\"Tripdocs-align-right\" />} />\n      </div>\n    ),\n  };\n\n  const activableTypes = ['todo-list'];\n  let active;\n  if (activableTypes.includes(type)) {\n    active = editor && isBlockActive(editor, type, editor.selection);\n  }\n\n  return (\n    <div\n      className={cx(\n        'mobile-toolbar-btn',\n        css`\n          & {\n            width: 36px;\n            height: 36px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            cursor: pointer;\n            margin: 0 3px;\n            font-size: 22px;\n            flex: 1 0 auto;\n            background-color: ${active ? '#e8efff' : null};\n            color: ${active ? COLOR_ACTIVE.COLOR : null};\n          }\n        `\n      )}\n      onMouseDown={e => {\n        e.preventDefault();\n        callback && callback(e);\n      }}\n      onPointerMove={e => {\n        e.preventDefault();\n      }}\n    >\n      <Popover\n        autoAdjustOverflow\n        placement={'top'}\n        content={popoverContent[type]}\n        onVisibleChange={visible => {\n          if (visible && type === 'align') {\n            const aligns = ['align-left', 'align-center', 'align-right'];\n            const activeAlignFormat = aligns.find(align => isAlignActive(editor, align, editor.selection));\n            editor?.docId && getEditorEventEmitter(editor.docId).emit('mobileAlignButtonClick', editor.docId, activeAlignFormat);\n          }\n        }}\n        trigger={['click']}\n        overlayClassName={css`\n          & {\n            border-radius: 4px;\n            .ant-popover-arrow {\n              display: none;\n            }\n            .ant-popover-inner {\n              border-radius: 4px;\n              .ant-popover-inner-content {\n                padding: 0;\n              }\n            }\n          }\n        `}\n      >\n        {icon}\n      </Popover>\n    </div>\n  );\n}\n\nfunction VerticalDivider() {\n  return (\n    <span\n      className={css`\n        width: 1px;\n        background-color: #d0d0d0;\n        height: 20px;\n      `}\n    ></span>\n  );\n}\n\nfunction InlineButton({ button }) {\n  return (\n    <div\n      className={cx(\n        'mobile-toolbar-btn',\n        css`\n          & {\n            width: 36px;\n            height: 36px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            cursor: pointer;\n            margin: 0 3px;\n            font-size: 22px;\n            [class^='Tripdocs-'],\n            [class*=' Tripdocs-'] {\n              width: 28px;\n              height: 28px;\n              font-size: 20px;\n              border-radius: 4px;\n            }\n          }\n        `\n      )}\n      onPointerMove={e => {\n        e.preventDefault();\n      }}\n    >\n      {button}\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\n\nexport default function useVisualViewport() {\n  const [viewport, setViewport] = useState({ width: window.innerWidth, height: window.innerHeight });\n  useEffect(() => {\n    const handler = () => {\n      if (!window.visualViewport) return;\n      window.visualViewport && setViewport({ width: window.visualViewport.width, height: window.visualViewport.height });\n    };\n    window.visualViewport && window.visualViewport.addEventListener('resize', handler);\n    window.visualViewport && window.visualViewport.addEventListener('scroll', handler);\n    return () => {\n      window.visualViewport && window.visualViewport.removeEventListener('resize', handler);\n      window.visualViewport && window.visualViewport.removeEventListener('scroll', handler);\n    };\n  }, []);\n  return viewport;\n}\n","import { css, cx } from '@emotion/css';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { Editor, Node } from '@src/components/slate-packages/slate';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { ELTYPE, HEADING_TYPES, LIST_TYPES } from '../config';\nimport { OlList, UlList } from '../OLULList/OlList';\nimport { getEditorEventEmitter } from '../table/selection';\nimport $ from 'jquery';\nimport { getCache } from '@src/utils/cacheUtils';\nimport _ from 'lodash';\nimport { Popover, Radio, Tooltip } from 'antd';\nimport { f } from '@src/resource/string';\nimport { ArrowRightOutlined, CaretDownOutlined, SettingOutlined } from '@ant-design/icons';\nimport { IconBtn } from '../Components';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport './index.less';\nimport sessStorage from '@src/utils/sessStorage';\nimport { TODOList } from '../TodoList/todoList';\n\ntype DocTocTitleProps = {\n  showCollapseBtn: boolean;\n  isAnchorCollapsed: boolean;\n  handleDeepestHeading: (e) => void;\n  deepestDisplayAnchor: 3 | 4 | 5 | 6;\n  setIsAnchorCollapsed: Function;\n  tocPlacement: 'left' | 'right';\n};\n\nconst DocTocTitle = (props: DocTocTitleProps) => {\n  const { showCollapseBtn, isAnchorCollapsed, handleDeepestHeading, deepestDisplayAnchor, setIsAnchorCollapsed, tocPlacement } = props;\n  return (\n    <>\n      <div\n        className={cx('doc-directory-title')}\n        style={{\n          gridTemplateAreas: showCollapseBtn ? '1 1 1 1' : null,\n        }}\n      >\n        <div className=\"outline-title\">\n          <span className=\"outline-title-btn\">\n            {showCollapseBtn && (\n              <div className=\"document-outline-btn-collapse\" style={{ justifySelf: 'center' }}>\n                <Tooltip title={f('collapseAnchor')} placement=\"bottom\">\n                  <IconBtn\n                    className={tocPlacement === 'left' ? 'Tripdocs-drop_left' : 'Tripdocs-drop_right'}\n                    onMouseDown={e => {\n                      e.preventDefault();\n                      setIsAnchorCollapsed(true);\n                    }}\n                  />\n                </Tooltip>\n              </div>\n            )}\n          </span>\n          <span className=\"outline-title-text\">{`${f('documentOutline')}`}</span>\n        </div>\n        <div></div>\n        <div className=\"document-outline-btn-setting\" style={{ justifySelf: 'center' }}>\n          <Popover\n            placement=\"bottom\"\n            trigger={['click']}\n            content={\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                }}\n              >\n                <div style={{ lineHeight: '40px' }}>{`${f('deepestAnchorLevel')}`}</div>\n                <Radio.Group\n                  onChange={handleDeepestHeading}\n                  value={deepestDisplayAnchor}\n                  className={css`\n                    & {\n                      z-index: 1070;\n                    }\n                  `}\n                >\n                  <Radio.Button\n                    disabled\n                    value=\"title\"\n                    style={{\n                      cursor: 'default',\n                      color: 'rgba(0, 0, 0, 0.85)',\n                      backgroundColor: '#fff',\n                      border: 'none',\n                    }}\n                  >\n                    {`${f('heading')}`}\n                  </Radio.Button>\n                  <Radio.Button value={3}>3</Radio.Button>\n                  <Radio.Button value={4}>4</Radio.Button>\n                  <Radio.Button value={5}>5</Radio.Button>\n                  <Radio.Button value={6}>6</Radio.Button>\n                </Radio.Group>\n              </div>\n            }\n          >\n            <Tooltip title={f('outlineSetting')} placement=\"bottom\">\n              <SettingOutlined />\n            </Tooltip>\n          </Popover>\n        </div>\n      </div>\n      {}\n    </>\n  );\n};\n\nconst OutlineAnchor = (props: any) => {\n  const { editor, docId, scrollRef, deepestDisplayAnchor, isLarge, isMobile, isShowAnchor, maxWidth } = props;\n  const [focusedAnchorItemIndex, setFocusedAnchorItemIndex] = useState(-1);\n\n  const [headingTagList, setHeadingTagList] = useState([]);\n  const [unseenArr, setUnseenArr] = useState([]);\n  const [descendantMap, setDescendantMap] = useState({});\n\n  useEffect(() => {\n    const focusedAnchorItem = $(`#editorContainer-${docId} .anchor-container .anchor-item-group .focused-anchor-item`)[0];\n    if (focusedAnchorItem) {\n      scrollIntoView(focusedAnchorItem, {\n        block: 'nearest',\n        scrollMode: 'if-needed',\n        inline: 'center',\n      });\n    }\n  }, [focusedAnchorItemIndex]);\n\n  const listener = useCallback(\n    deepest => () => {\n      let hTagList = [];\n\n      const editor = window.tripdocs.editorsMap[docId].editor;\n      if (typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && editor) {\n        const childrenArr = editor.children.slice();\n        childrenArr.shift();\n\n        hTagList = childrenArr.filter(\n          (element, index) =>\n            getText(element) !== '' &&\n            ((HEADING_TYPES.includes(element.type) && HEADING_TYPES.indexOf(element.type) < deepest) ||\n              (HEADING_TYPES.includes(element.oldType) && LIST_TYPES.includes(element.type) && HEADING_TYPES.indexOf(element.oldType) < deepest))\n        );\n      }\n\n      let descendantUnseenArr = [];\n      let map = _.cloneDeep(descendantMap);\n      hTagList.forEach((item, index, arr) => {\n        const headTabLevel = getHeadTablevel(item.type, item.oldType);\n        if (descendantMap[index]) {\n          descendantUnseenArr = descendantMap[index];\n        } else {\n          for (let i = index + 1; i < arr.length; i++) {\n            const cur = arr[i];\n            if (getHeadTablevel(cur.type, cur.oldType) > headTabLevel) {\n              descendantUnseenArr.push(i);\n            } else {\n              break;\n            }\n          }\n        }\n        map[index] = descendantUnseenArr;\n        descendantUnseenArr = [];\n      });\n      console.log('ROA - hTagList: ', map);\n\n      getEditorEventEmitter(docId).emit('outline/updateIsExpanded', docId, JSON.stringify([]), true);\n      setUnseenArr([]);\n      setDescendantMap(map);\n      setHeadingTagList(hTagList);\n    },\n    [editor, docId]\n  );\n\n  useEffect(() => {\n    if (editor && docId) {\n      getEditorEventEmitter(docId).on('updateOutlineAnchor', listener(deepestDisplayAnchor), docId);\n    }\n    return () => {\n      getEditorEventEmitter(docId).off('updateOutlineAnchor', listener(deepestDisplayAnchor), docId);\n    };\n  }, [editor && editor.docId, deepestDisplayAnchor]);\n\n  const callback = useCallback(\n    _.throttle(() => {\n      const editorContent = document.getElementById(`editor-content-wrap-${docId}`);\n\n      if (headingTagList.length > 0 && editorContent) {\n        const headingDoms = headingTagList.map(heading => Node.isNode(heading) && ReactEditor.toDOMNode(editor, heading));\n        const editorContainerScrollTop = editorContent.scrollTop;\n        const editorContainerScrollBottom = editorContainerScrollTop + editorContent.clientHeight / 2;\n        let firstHead = headingDoms[0];\n        let firstHeadingIndex = 0;\n        for (let i = 0; i < headingDoms.length; i++) {\n          const headingDom = headingDoms[i];\n          const headingDomHeight = headingDom?.getBoundingClientRect?.()?.height || 32;\n          if (getText(headingTagList[i]).length > 0) {\n            const scrollTop = headingDom?.offsetTop + Math.floor(headingDomHeight / 2);\n            if (scrollTop > editorContainerScrollTop) {\n              firstHead = headingDom;\n              firstHeadingIndex = i;\n              break;\n            }\n          }\n        }\n        const headingDom = headingDoms[firstHeadingIndex];\n        const headingDomHeight = headingDom?.getBoundingClientRect?.()?.height || 32;\n        const scrollBottom = headingDom?.offsetTop - Math.floor(headingDomHeight / 2);\n        if (scrollBottom >= editorContainerScrollBottom && firstHeadingIndex > 0) {\n          firstHeadingIndex = firstHeadingIndex - 1;\n        }\n\n        const endHeadingDom = headingDoms[headingDoms.length - 1];\n        const endHeadingDomHeight = endHeadingDom?.getBoundingClientRect?.()?.height || 32;\n        if (endHeadingDom && endHeadingDom.offsetTop - Math.floor(endHeadingDomHeight) < editorContainerScrollTop) {\n          firstHeadingIndex = headingDoms.length - 1;\n        }\n\n        const anchorItemIndex = firstHeadingIndex;\n\n        if (anchorItemIndex !== -1) {\n          setFocusedAnchorItemIndex(anchorItemIndex);\n        }\n      }\n    }, 100),\n    [headingTagList]\n  );\n\n  useEffect(() => {\n    const root = document.querySelector(`#editor-content-wrap-${docId}`);\n    if (!root) return;\n    root.addEventListener('scroll', callback);\n    if (focusedAnchorItemIndex == -1) {\n      callback();\n    }\n\n    return () => {\n      root.removeEventListener('scroll', callback);\n    };\n  }, [headingTagList]);\n\n  const getHeadTablevel = useCallback((type, oldType) => {\n    let ret = {};\n    ret[ELTYPE.HEADING_ONE] = 1;\n    ret[ELTYPE.HEADING_TWO] = 2;\n    ret[ELTYPE.HEADING_THREE] = 3;\n    ret[ELTYPE.HEADING_FOUR] = 4;\n    ret[ELTYPE.HEADING_FIVE] = 5;\n    ret[ELTYPE.HEADING_SIX] = 6;\n    return (typeof ret[type] === 'number' && ret[type]) || (typeof ret[oldType] === 'number' && ret[oldType]) || 1;\n  }, []);\n\n  const getText = useCallback(el => {\n    if (el && el.text) return el.text;\n    if (el && el.children) return getText(el.children);\n    if (el && Array.isArray(el)) return el.reduce((prev: any, item: any) => '' + prev + getText(item), '');\n    return '';\n  }, []);\n\n  const wrapTextWithStyle = useCallback((item, txt: string) => {\n    const text = txt.replace(/^\\s*/, '');\n    if (!item?.type) return text;\n    const { type } = item;\n    let styled = text;\n    switch (type) {\n      case 'bulleted-list':\n        if (isMobile) {\n          styled = <li style={{ lineHeight: 1.75 }}>{text}</li>;\n        } else {\n          styled = (\n            <UlList prop={{ attributes: {}, element: { ...item } }} isInAnchor={true} lineHeight={1.75}>\n              {text}\n            </UlList>\n          );\n        }\n        break;\n      case 'numbered-list':\n        if (isMobile) {\n          styled = <span style={{ lineHeight: 1.75, marginLeft: '-0.2em' }}>{item.num + '. ' + text}</span>;\n        } else {\n          styled = (\n            <OlList prop={{ attributes: {}, element: { ...item } }} isInAnchor={true} lineHeight={1.75}>\n              {text}\n            </OlList>\n          );\n        }\n\n        break;\n      case 'todo-list':\n        styled = (\n          <TODOList isMobile={isMobile} prop={{ attributes: {}, element: { ...item } }} isInAnchor={true}>\n            {text}\n          </TODOList>\n        );\n        break;\n    }\n    return styled;\n  }, []);\n\n  const isAnchorDrawer = !isLarge && isShowAnchor;\n  const editorContainer = document.getElementById(`editorContainer-${docId}`);\n  const editorContainerWidth = editorContainer?.getBoundingClientRect().width;\n\n  const anchorItemWidth = isAnchorDrawer ? `250px` : maxWidth;\n\n  return (\n    <>\n      <div className=\"anchor-item-group\" style={{ paddingLeft: '6px', paddingRight: '6px' }}>\n        {headingTagList.length === 0 ? (\n          <div\n            className={cx(\n              'anchor-instruction',\n              css`\n                width: ${anchorItemWidth};\n                max-width: 244px;\n                height: 100%;\n                position: relative;\n                margin: 0 auto;\n                padding-left: 6px;\n              `\n            )}\n          >\n            <div\n              className={cx(\n                'anchor-instruction-wrap',\n                css`\n                  display: flex;\n                  flex-direction: column;\n                  justify-content: center;\n                  align-items: center;\n                  white-space: nowrap;\n                  line-height: 2;\n                  color: #afafaf;\n                  font-size: 14px;\n                  padding-left: 6px;\n                  @media screen and (max-width: 1360px) {\n                    font-size: 12px;\n                  }\n                `\n              )}\n            >\n              <div>{f('emptyAnchorPlaceholder1')}</div>\n              <div>{f('emptyAnchorPlaceholder2')}</div>\n            </div>\n          </div>\n        ) : (\n          headingTagList.map((item, index, arr) => {\n            const anchorItemText = item?.children && item?.children.map(leaf => getText(leaf)).join('');\n            const headTabLevel = getHeadTablevel(item.type, item.oldType);\n            return (\n              <div\n                className={cx(\n                  'anchor-item',\n                  index === focusedAnchorItemIndex && !(anchorItemText.length === 0 || unseenArr.includes(index)) ? 'focused-anchor-item' : null,\n                  css`\n                    & {\n                      min-width: 200px;\n                      width: ${anchorItemWidth};\n                      white-space: nowrap;\n                      text-overflow: ellipsis;\n                      overflow: hidden;\n                      user-select: none;\n                      color: rgb(143, 149, 158);\n                      cursor: pointer;\n                      font-size: 13px;\n                      margin-left: 22px;\n                      line-height: 1.75;\n                      position: relative;\n                      &:hover {\n                        color: #2577e3;\n                      }\n\n                      ol,\n                      ul,\n                      dl {\n                        margin-top: 0;\n                        margin-bottom: 0;\n                      }\n                    }\n                  `\n                )}\n                title={anchorItemText}\n                style={{\n                  display: anchorItemText.length === 0 || unseenArr.includes(index) ? 'none' : null,\n                  paddingLeft: 0.2 + headTabLevel * (isMobile ? 0.5 : 1) + 'em',\n\n                  fontWeight: index === focusedAnchorItemIndex ? 'bold' : null,\n                }}\n                onMouseDown={() => {\n                  setFocusedAnchorItemIndex(index);\n                  ReactEditor.deselect(editor);\n                  const originItem = headingTagList[index];\n                  const anchorItemEl = ReactEditor.toDOMNode(editor, originItem);\n                  console.log('[outlineAnchor] scrollIntoView anchorItemEl', anchorItemEl);\n\n                  scrollRef.current.scrollTo({ top: anchorItemEl.offsetTop - 20 });\n\n                  $(anchorItemEl).on('webkitAnimationEnd animationEnd', function () {\n                    $(this).removeClass('anchor-target');\n                  });\n                  $(anchorItemEl).addClass('anchor-target');\n                }}\n              >\n                <CollapseBtn\n                  docId={docId}\n                  headTabLevel={headTabLevel}\n                  index={index}\n                  arr={arr}\n                  getHeadTablevel={getHeadTablevel}\n                  unseenArr={unseenArr}\n                  setUnseenArr={setUnseenArr}\n                  descendantMap={descendantMap}\n                />\n                {wrapTextWithStyle(item, anchorItemText)}\n              </div>\n            );\n          })\n        )}\n      </div>\n    </>\n  );\n};\n\nfunction CollapseBtn(props) {\n  const { docId, headTabLevel, index, arr, getHeadTablevel, unseenArr, setUnseenArr, descendantMap } = props;\n\n  const [isExpanded, setIsExpanded] = useState(unseenArr.includes(index) || true);\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    isMounted.current = true;\n    const handleUpdateIsExpanded = (unseenArrStr: string, refreshAll?: boolean) => {\n      const arr = JSON.parse(unseenArrStr);\n      if (arr.includes(index) || refreshAll) {\n        setIsExpanded(true);\n      }\n    };\n    getEditorEventEmitter(docId).on('outline/updateIsExpanded', handleUpdateIsExpanded, docId);\n    return () => {\n      getEditorEventEmitter(docId).off('outline/updateIsExpanded', handleUpdateIsExpanded, docId);\n    };\n  }, []);\n\n  useEffect(() => {\n    const descendants = descendantMap[index];\n    if (!descendants || isMounted.current) return;\n    const newUnseenArr = unseenArr.filter(item => !descendants.includes(item));\n    console.log('ROA - newUnseenArr init', newUnseenArr);\n    descendants && descendants.length && setUnseenArr(newUnseenArr);\n  }, [descendantMap]);\n\n  const _onMouseDown = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const descendants = descendantMap[index];\n    console.log('ROA - descendants', descendantMap, index, descendants, unseenArr);\n    if (!descendants || !descendants.length) {\n      return;\n    }\n    if (isExpanded) {\n      const newUnseenArr = _.uniqWith([...unseenArr, ...descendants], _.isEqual);\n      console.log('ROA - newUnseenArr0', newUnseenArr);\n      setUnseenArr(newUnseenArr);\n      setIsExpanded(false);\n    } else {\n      const newUnseenArr = unseenArr.filter(item => !descendants.includes(item));\n      getEditorEventEmitter(docId).emit('outline/updateIsExpanded', docId, JSON.stringify(unseenArr.filter(item => descendants.includes(item))));\n\n      console.log('ROA - newUnseenArr1', newUnseenArr);\n      setUnseenArr(newUnseenArr);\n      setIsExpanded(true);\n    }\n\n    console.log('ROA - res', isExpanded, unseenArr, index);\n  };\n\n  return (\n    <div\n      data-ignore-slate\n      className={cx(\n        `collapse-btn-${headTabLevel}`,\n        css`\n          position: absolute;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-weight: 600;\n          margin-left: -18px;\n          margin-top: 4px;\n          width: 16px;\n          height: 16px;\n\n          .anticon-caret-down {\n            font-size: 12px;\n            color: #adadad;\n          }\n        `\n      )}\n      style={{\n        display: descendantMap[index]?.length > 0 ? 'flex' : 'none',\n        transform: isExpanded ? null : 'rotate(-90deg)',\n      }}\n      onMouseDown={_onMouseDown}\n    >\n      {}\n      <CaretDownOutlined />\n    </div>\n  );\n}\n\nexport { OutlineAnchor, DocTocTitle };\n","\r\nimport { Range } from '@src/components/slate-packages/slate';\r\nimport * as Y from 'yjs';\r\n\r\n\r\nexport type SyncElement = Y.Map<any>;\r\nexport type SharedType = Y.Array<SyncElement>;\r\nexport type SyncNode = SharedType | SyncElement;\r\n\r\nexport const slateYjsOriginSymbol = Symbol(\r\n  'Denotes that an event originated from slate-yjs'\r\n);\r\n\r\nexport interface Cursor extends Range {\r\n  data: {\r\n    [key: string]: unknown;\r\n  };\r\n  isMe: boolean;\r\n}\r\n\r\nexport const SyncElement = {\r\n  getText(element: SyncElement): Y.Text | undefined {\r\n    return element?.get('text');\r\n  },\r\n\r\n  getChildren(element: SyncElement): Y.Array<SyncElement> | undefined {\r\n    return element?.get('children');\r\n  },\r\n};\r\n\r\nexport const SyncNode = {\r\n  getChildren(node: SyncNode): Y.Array<SyncElement> | undefined {\r\n    if (node instanceof Y.Array) {\r\n      return node;\r\n    }\r\n\r\n    return SyncElement.getChildren(node);\r\n  },\r\n\r\n  getText(node: SyncNode): Y.Text | undefined {\r\n    if (node instanceof Y.Array) {\r\n      return undefined;\r\n    }\r\n\r\n    return SyncElement.getText(node);\r\n  },\r\n};\r\n","import { Element, Node, Path, Text } from '@src/components/slate-packages/slate';\r\nimport * as Y from 'yjs';\r\nimport { SharedType, SyncElement } from '../model';\r\n\r\n\r\nexport function toSlateNode(element: SyncElement): Node {\r\n  const text = SyncElement.getText(element);\r\n  const children = SyncElement.getChildren(element);\r\n\r\n  const node: Partial<Node> = {};\r\n  if (text !== undefined) {\r\n    (node as any).text = text.toString();\r\n  }\r\n  if (children !== undefined) {\r\n    (node as any).children = children.map(toSlateNode);\r\n  }\r\n\r\n  Array.from(element.entries()).forEach(([key, value]) => {\r\n    if (key !== 'children' && key !== 'text') {\r\n      node[key] = value;\r\n    }\r\n  });\r\n\r\n  return node as Node;\r\n}\r\n\r\n\r\nexport function toSlateDoc(doc: SharedType): Node[] {\r\n  return doc.map(toSlateNode);\r\n}\r\n\r\n\r\nexport function toSyncElement(node: Node): SyncElement {\r\n  const element: SyncElement = new Y.Map();\r\n\r\n  if (Element.isElement(node)) {\r\n    const childElements = node.children.map(toSyncElement);\r\n    const childContainer = new Y.Array();\r\n    childContainer.insert(0, childElements);\r\n    element.set('children', childContainer);\r\n  }\r\n\r\n  if (Text.isText(node)) {\r\n    const textElement = new Y.Text(node.text);\r\n    element.set('text', textElement);\r\n  }\r\n\r\n  Object.entries(node).forEach(([key, value]) => {\r\n    if (key !== 'children' && key !== 'text') {\r\n      element.set(key, value);\r\n    }\r\n  });\r\n\r\n  return element;\r\n}\r\n\r\n\r\nexport function toSharedType(sharedType: SharedType, doc: Node[]): void {\r\n  sharedType.insert(0, doc.map(toSyncElement));\r\n}\r\n\r\n\r\nexport function toSlatePath(path: (string | number)[]): Path {\r\n  return path.filter((node) => typeof node === 'number') as Path;\r\n}\r\n","import { Path } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport * as Y from 'yjs';\r\nimport { SharedType, SyncElement, SyncNode } from '../model';\r\nimport { toSlateDoc } from '../utils/convert';\r\n\r\nconst isTree = (node: SyncNode): boolean => !!SyncNode.getChildren(node);\r\n\r\n\r\nexport function getTarget(doc: SharedType, path: Path): SyncNode {\r\n  function iterate(current: SyncNode, idx: number) {\r\n    const children = SyncNode.getChildren(current);\r\n\r\n    if (!isTree(current) || !children?.get(idx)) {\r\n      throw new TypeError(\r\n        `path ${path.toString()} does not match doc ${JSON.stringify(\r\n          toSlateDoc(doc)\r\n        )}`\r\n      );\r\n    }\r\n\r\n    return children.get(idx);\r\n  }\r\n\r\n  return path.reduce<SyncNode>(iterate, doc);\r\n}\r\n\r\nfunction getParentPath(path: Path, level = 1): [number, Path] {\r\n  if (level > path.length) {\r\n    throw new TypeError('requested ancestor is higher than root');\r\n  }\r\n\r\n  return [path[path.length - level], path.slice(0, path.length - level)];\r\n}\r\n\r\nexport function getParent(\r\n  doc: SharedType,\r\n  path: Path,\r\n  level = 1\r\n): [SyncNode, number] {\r\n  const [idx, parentPath] = getParentPath(path, level);\r\n  const parent = getTarget(doc, parentPath);\r\n  invariant(parent, 'Parent node should exists');\r\n  return [parent, idx];\r\n}\r\n\r\n\r\nexport function getArrayPosition(item: Y.Item): number {\r\n  let i = 0;\r\n  let c = (item.parent as Y.Array<SyncElement>)._start;\r\n\r\n  while (c !== item && c !== null) {\r\n    if (!c.deleted) {\r\n      i += 1;\r\n    }\r\n    c = c.right;\r\n  }\r\n\r\n  return i;\r\n}\r\n\r\n\r\nexport function getSyncNodePath(node: SyncNode): Path {\r\n  if (!node) {\r\n    return [];\r\n  }\r\n\r\n  const { parent } = node;\r\n  if (!parent) {\r\n    return [];\r\n  }\r\n\r\n  if (parent instanceof Y.Array) {\r\n    invariant(node._item, 'Parent should be associated with a item');\r\n    return [...getSyncNodePath(parent), getArrayPosition(node._item)];\r\n  }\r\n\r\n  if (parent instanceof Y.Map) {\r\n    return getSyncNodePath(parent);\r\n  }\r\n\r\n  throw new Error(`Unknown parent type ${parent}`);\r\n}\r\n","import * as Y from 'yjs';\r\nimport { SyncElement } from '../model';\r\n\r\nexport default function cloneSyncElement(element: SyncElement): SyncElement {\r\n  const text = SyncElement.getText(element);\r\n  const children = SyncElement.getChildren(element);\r\n\r\n  const clone = new Y.Map();\r\n\r\n  if (text !== undefined) {\r\n    const textElement = new Y.Text(text.toString());\r\n    clone.set('text', textElement);\r\n  }\r\n\r\n  if (children !== undefined) {\r\n    const childElements = children.map(cloneSyncElement);\r\n    const childContainer = new Y.Array();\r\n    childContainer.insert(0, childElements);\r\n    clone.set('children', childContainer);\r\n  }\r\n\r\n  Array.from(element.entries()).forEach(([key, value]) => {\r\n    if (key !== 'children' && key !== 'text') {\r\n      clone.set(key, value);\r\n    }\r\n  });\r\n\r\n  return clone;\r\n}\r\n","import { NodeOperation } from '@src/components/slate-packages/slate';\r\nimport { OpMapper } from '../types';\r\nimport insertNode from './insertNode';\r\nimport mergeNode from './mergeNode';\r\nimport moveNode from './moveNode';\r\nimport removeNode from './removeNode';\r\nimport setNode from './setNode';\r\nimport splitNode from './splitNode';\r\n\r\nconst mapper: OpMapper<NodeOperation> = {\r\n  insert_node: insertNode,\r\n  merge_node: mergeNode,\r\n  move_node: moveNode,\r\n  remove_node: removeNode,\r\n  set_node: setNode,\r\n  split_node: splitNode,\r\n};\r\n\r\nexport default mapper;\r\n","import { InsertNodeOperation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { SharedType, SyncNode } from '../../model';\r\nimport { getParent } from '../../path';\r\nimport { toSyncElement } from '../../utils/convert';\r\n\r\n\r\nexport default function insertNode(\r\n  doc: SharedType,\r\n  op: InsertNodeOperation\r\n): SharedType {\r\n  const [parent, index] = getParent(doc, op.path);\r\n\r\n  const children = SyncNode.getChildren(parent);\r\n  if (SyncNode.getText(parent) !== undefined || !children) {\r\n    throw new TypeError(\"Can't insert node into text node\");\r\n  }\r\n\r\n  invariant(children, 'cannot apply insert node operation to text node');\r\n\r\n  children.insert(index, [toSyncElement(op.node)]);\r\n  return doc;\r\n}\r\n","import { MergeNodeOperation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { SharedType, SyncNode } from '../../model';\r\nimport { getParent } from '../../path';\r\nimport { cloneSyncElement } from '../../utils';\r\n\r\n\r\nexport default function mergeNode(\r\n  doc: SharedType,\r\n  op: MergeNodeOperation\r\n): SharedType {\r\n  const [parent, index] = getParent(doc, op.path);\r\n\r\n  const children = SyncNode.getChildren(parent);\r\n  invariant(children, 'Parent of element should have children');\r\n\r\n  const prev = children.get(index - 1);\r\n  const next = children.get(index);\r\n\r\n  const prevText = SyncNode.getText(prev);\r\n  const nextText = SyncNode.getText(next);\r\n\r\n  if (prevText && nextText) {\r\n    prevText.insert(prevText.length, nextText.toString());\r\n  } else {\r\n    const nextChildren = SyncNode.getChildren(next);\r\n    const prevChildren = SyncNode.getChildren(prev);\r\n\r\n    invariant(nextChildren, 'Next element should have children');\r\n    invariant(prevChildren, 'Prev element should have children');\r\n\r\n    const toPush = nextChildren.map(cloneSyncElement);\r\n    prevChildren.push(toPush);\r\n  }\r\n\r\n  children.delete(index, 1);\r\n  return doc;\r\n}\r\n","import { MoveNodeOperation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { SharedType, SyncNode } from '../../model';\r\nimport { getParent } from '../../path';\r\nimport { cloneSyncElement } from '../../utils';\r\n\r\n\r\nexport default function moveNode(\r\n  doc: SharedType,\r\n  op: MoveNodeOperation\r\n): SharedType {\r\n  const [from, fromIndex] = getParent(doc, op.path);\r\n  const [to, toIndex] = getParent(doc, op.newPath);\r\n\r\n  if (\r\n    SyncNode.getText(from) !== undefined ||\r\n    SyncNode.getText(to) !== undefined\r\n  ) {\r\n    throw new TypeError(\"Can't move node as child of a text node\");\r\n  }\r\n\r\n  const fromChildren = SyncNode.getChildren(from);\r\n  const toChildren = SyncNode.getChildren(to);\r\n\r\n  invariant(fromChildren, 'From element should not be a text node');\r\n  invariant(toChildren, 'To element should not be a text node');\r\n\r\n  const toMove = fromChildren.get(fromIndex);\r\n  const toInsert = cloneSyncElement(toMove);\r\n\r\n  fromChildren.delete(fromIndex);\r\n  toChildren.insert(Math.min(toIndex, toChildren.length), [toInsert]);\r\n\r\n  return doc;\r\n}\r\n","import { RemoveNodeOperation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { SharedType, SyncNode } from '../../model';\r\nimport { getParent } from '../../path';\r\n\r\n\r\nexport default function removeNode(\r\n  doc: SharedType,\r\n  op: RemoveNodeOperation\r\n): SharedType {\r\n  const [parent, index] = getParent(doc, op.path);\r\n\r\n  if (SyncNode.getText(parent) !== undefined) {\r\n    throw new TypeError(\"Can't remove node from text node\");\r\n  }\r\n\r\n  const children = SyncNode.getChildren(parent);\r\n  invariant(children, 'Parent should have children');\r\n  children.delete(index);\r\n\r\n  return doc;\r\n}\r\n","import { SetNodeOperation } from '@src/components/slate-packages/slate';\r\nimport { SharedType, SyncElement } from '../../model';\r\nimport { getTarget } from '../../path';\r\n\r\n\r\nexport default function setNode(\r\n  doc: SharedType,\r\n  op: SetNodeOperation\r\n): SharedType {\r\n  const node = getTarget(doc, op.path) as SyncElement;\r\n\r\n  Object.entries(op.newProperties).forEach(([key, value]) => {\r\n    if (key === 'children' || key === 'text') {\r\n      throw new Error(`Cannot set the \"${key}\" property of nodes!`);\r\n    }\r\n\r\n    node.set(key, value);\r\n  });\r\n\r\n  Object.entries(op.properties).forEach(([key]) => {\r\n    \r\n    if (!op.newProperties.hasOwnProperty(key)) {\r\n      node.delete(key);\r\n    }\r\n  });\r\n\r\n  return doc;\r\n}\r\n","import { SplitNodeOperation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { SharedType, SyncNode } from '../../model';\r\nimport { getParent } from '../../path';\r\nimport cloneSyncElement from '../../utils/clone';\r\n\r\n\r\nexport default function splitNode(\r\n  doc: SharedType,\r\n  op: SplitNodeOperation\r\n): SharedType {\r\n  const [parent, index]: [SyncNode, number] = getParent(doc, op.path);\r\n\r\n  const children = SyncNode.getChildren(parent);\r\n  invariant(children, 'Parent of node should have children');\r\n\r\n  const target = children.get(index);\r\n  const inject = cloneSyncElement(target);\r\n  children.insert(index + 1, [inject]);\r\n\r\n  Object.entries(op.properties).forEach(([key, value]) =>\r\n    inject.set(key, value)\r\n  );\r\n\r\n  if (SyncNode.getText(target) !== undefined) {\r\n    const targetText = SyncNode.getText(target);\r\n    const injectText = SyncNode.getText(inject);\r\n\r\n    invariant(targetText);\r\n    invariant(injectText);\r\n\r\n    if (targetText.length > op.position) {\r\n      targetText.delete(op.position, targetText.length - op.position);\r\n    }\r\n\r\n    if (injectText !== undefined && op.position !== undefined) {\r\n      injectText.delete(0, op.position);\r\n    }\r\n  } else {\r\n    const targetChildren = SyncNode.getChildren(target);\r\n    const injectChildren = SyncNode.getChildren(inject);\r\n\r\n    invariant(targetChildren);\r\n    invariant(injectChildren);\r\n\r\n    targetChildren.delete(op.position, targetChildren.length - op.position);\r\n\r\n    if (op.position !== undefined) {\r\n      injectChildren.delete(0, op.position);\r\n    }\r\n  }\r\n\r\n  return doc;\r\n}\r\n","import { TextOperation } from '@src/components/slate-packages/slate';\r\nimport { OpMapper } from '../types';\r\nimport insertText from './insertText';\r\nimport removeText from './removeText';\r\n\r\nconst mappers: OpMapper<TextOperation> = {\r\n  insert_text: insertText,\r\n  remove_text: removeText,\r\n};\r\n\r\nexport default mappers;\r\n","import { InsertTextOperation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { SharedType, SyncElement } from '../../model';\r\nimport { getTarget } from '../../path';\r\n\r\n\r\nexport default function insertText(\r\n  doc: SharedType,\r\n  op: InsertTextOperation\r\n): SharedType {\r\n  const node = getTarget(doc, op.path) as SyncElement;\r\n  const nodeText = SyncElement.getText(node);\r\n\r\n  invariant(nodeText, 'Apply text operation to non text node');\r\n\r\n  nodeText.insert(op.offset, op.text);\r\n  return doc;\r\n}\r\n","import { RemoveTextOperation } from '@src/components/slate-packages/slate';\r\nimport { SharedType, SyncElement } from '../../model';\r\nimport { getTarget } from '../../path';\r\n\r\n\r\nexport default function removeText(\r\n  doc: SharedType,\r\n  op: RemoveTextOperation\r\n): SharedType {\r\n  const node = getTarget(doc, op.path) as SyncElement;\r\n  const nodeText = SyncElement.getText(node)!;\r\n  nodeText.delete(op.offset, op.text.length);\r\n  return doc;\r\n}\r\n","import { Operation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { SharedType } from '../model';\r\nimport node from './node';\r\nimport text from './text';\r\nimport { ApplyFunc, OpMapper } from './types';\r\n\r\nconst nullOp: ApplyFunc = (doc: SharedType) => doc;\r\n\r\nconst opMappers: OpMapper = {\r\n  ...text,\r\n  ...node,\r\n\r\n  \r\n  set_selection: nullOp,\r\n};\r\n\r\n\r\nexport function applySlateOp(\r\n  sharedType: SharedType,\r\n  op: Operation\r\n): SharedType {\r\n  const apply = opMappers[op.type] as ApplyFunc<typeof op>;\r\n  if (!apply) {\r\n    throw new Error(`Unknown operation: ${op.type}`);\r\n  }\r\n\r\n  return apply(sharedType, op);\r\n}\r\n\r\n\r\nexport default function applySlateOps(\r\n  sharedType: SharedType,\r\n  ops: Operation[],\r\n  origin: unknown\r\n): SharedType {\r\n  invariant(sharedType.doc, 'Shared type without attached document');\r\n\r\n  if (ops.length > 0) {\r\n    sharedType.doc.transact(() => {\r\n      ops.forEach((op) => applySlateOp(sharedType, op));\r\n    }, origin);\r\n  }\r\n\r\n  return sharedType;\r\n}\r\n","import { Editor, Operation } from '@src/components/slate-packages/slate';\r\nimport { getCache } from '@src/utils/cacheUtils';\r\nimport invariant from 'tiny-invariant';\r\nimport * as Y from 'yjs';\r\nimport { applyYjsEvents } from '../applyToSlate';\r\nimport applySlateOps from '../applyToYjs';\r\nimport { SharedType, slateYjsOriginSymbol } from '../model';\r\nimport { toSlateDoc } from '../utils';\r\n\r\nconst IS_REMOTE: WeakSet<Editor> = new WeakSet();\r\nconst LOCAL_OPERATIONS: WeakMap<Editor, Set<Operation>> = new WeakMap();\r\nconst SHARED_TYPES: WeakMap<Editor, SharedType> = new WeakMap();\r\n\r\nexport interface YjsEditor extends Editor {\r\n  sharedType: SharedType;\r\n\r\n  destroy: () => void;\r\n}\r\n\r\nexport const YjsEditor = {\r\n  \r\n  synchronizeValue: (e: YjsEditor): void => {\r\n    Editor.withoutNormalizing(e, () => {\r\n      e.children = toSlateDoc(e.sharedType);\r\n      e.onChange();\r\n    });\r\n  },\r\n\r\n  \r\n  sharedType: (editor: YjsEditor): SharedType => {\r\n    const sharedType = SHARED_TYPES.get(editor);\r\n    invariant(sharedType, 'YjsEditor without attached shared type');\r\n    return sharedType;\r\n  },\r\n\r\n  \r\n  isRemote: (editor: YjsEditor): boolean => {\r\n    return IS_REMOTE.has(editor);\r\n  },\r\n\r\n  \r\n  asRemote: (editor: YjsEditor, fn: () => void): void => {\r\n    const wasRemote = YjsEditor.isRemote(editor);\r\n    IS_REMOTE.add(editor);\r\n\r\n    fn();\r\n\r\n    if (!wasRemote) {\r\n      IS_REMOTE.delete(editor);\r\n    }\r\n  },\r\n\r\n  \r\n  destroy: (editor: YjsEditor): void => {\r\n    editor.destroy();\r\n  },\r\n};\r\n\r\nfunction localOperations(editor: YjsEditor): Set<Operation> {\r\n  const operations = LOCAL_OPERATIONS.get(editor);\r\n  invariant(operations, 'YjsEditor without attached local operations');\r\n  return operations;\r\n}\r\n\r\nfunction trackLocalOperations(editor: YjsEditor, operation: Operation): void {\r\n  if (!YjsEditor.isRemote(editor)) {\r\n    localOperations(editor).add(operation);\r\n  }\r\n}\r\n\r\n\r\nfunction applyLocalOperations(editor: YjsEditor): void {\r\n  const editorLocalOperations = localOperations(editor);\r\n\r\n  applySlateOps(\r\n    YjsEditor.sharedType(editor),\r\n    Array.from(editorLocalOperations),\r\n    slateYjsOriginSymbol\r\n  );\r\n\r\n  editorLocalOperations.clear();\r\n}\r\n\r\n\r\nfunction applyRemoteYjsEvents(editor: YjsEditor, events: Y.YEvent[]): void {\r\n  Editor.withoutNormalizing(editor, () =>\r\n    YjsEditor.asRemote(editor, () =>\r\n      applyYjsEvents(\r\n        editor,\r\n        events.filter(\r\n          (event) => event.transaction.origin !== slateYjsOriginSymbol\r\n        )\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport function withYjs<T extends Editor>(\r\n  editor: T,\r\n  sharedType: SharedType,\r\n  { synchronizeValue = true }: WithYjsOptions = {}\r\n): T & YjsEditor {\r\n  const e = editor as T & YjsEditor;\r\n\r\n  e.sharedType = sharedType;\r\n  SHARED_TYPES.set(editor, sharedType);\r\n  LOCAL_OPERATIONS.set(editor, new Set());\r\n\r\n  if (synchronizeValue) {\r\n    setTimeout(() => YjsEditor.synchronizeValue(e), 0);\r\n  }\r\n\r\n  const applyEvents = (events: Y.YEvent[]) => applyRemoteYjsEvents(e, events);\r\n  sharedType.observeDeep(applyEvents);\r\n\r\n  const { apply, onChange, destroy } = e;\r\n  e.apply = (op: Operation) => {\r\n    trackLocalOperations(e, op);\r\n    apply(op);\r\n  };\r\n\r\n  e.onChange = () => {\r\n    applyLocalOperations(e);\r\n    onChange();\r\n  };\r\n\r\n  e.destroy = () => {\r\n    sharedType.unobserveDeep(applyEvents);\r\n    if (destroy) {\r\n      destroy();\r\n    }\r\n  };\r\n\r\n  return e;\r\n}\r\n\r\nexport type WithYjsOptions = {\r\n  synchronizeValue?: boolean;\r\n};\r\n","import { Editor, Operation } from '@src/components/slate-packages/slate';\r\nimport * as Y from 'yjs';\r\nimport translateArrayEvent from './arrayEvent';\r\nimport translateMapEvent from './mapEvent';\r\nimport translateTextEvent from './textEvent';\r\n\r\n\r\nexport function translateYjsEvent(\r\n  editor: Editor,\r\n  event: Y.YEvent\r\n): Operation[] {\r\n  if (event instanceof Y.YArrayEvent) {\r\n    return translateArrayEvent(editor, event);\r\n  }\r\n\r\n  if (event instanceof Y.YMapEvent) {\r\n    return translateMapEvent(editor, event);\r\n  }\r\n\r\n  if (event instanceof Y.YTextEvent) {\r\n    return translateTextEvent(editor, event);\r\n  }\r\n\r\n  throw new Error('Unsupported yjs event');\r\n}\r\n\r\n\r\nexport function applyYjsEvents(editor: Editor, events: Y.YEvent[]): void {\r\n  Editor.withoutNormalizing(editor, () => {\r\n    events.forEach((event) =>\r\n      translateYjsEvent(editor, event).forEach(editor.apply)\r\n    );\r\n  });\r\n}\r\n","import { Editor, Node, NodeOperation, Text } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport * as Y from 'yjs';\r\nimport { SyncElement } from '../model';\r\nimport { toSlateNode, toSlatePath } from '../utils/convert';\r\n\r\n\r\nexport default function translateArrayEvent(\r\n  editor: Editor,\r\n  event: Y.YArrayEvent<SyncElement>\r\n): NodeOperation[] {\r\n  const targetPath = toSlatePath(event.path);\r\n  const targetElement = Node.get(editor, targetPath);\r\n\r\n  invariant(\r\n    !Text.isText(targetElement),\r\n    'Cannot apply array event to text node'\r\n  );\r\n\r\n  let offset = 0;\r\n  const ops: NodeOperation[] = [];\r\n  const children = Array.from(targetElement.children);\r\n\r\n  event.changes.delta.forEach((delta) => {\r\n    if ('retain' in delta) {\r\n      offset += delta.retain ?? 0;\r\n    }\r\n\r\n    if ('delete' in delta) {\r\n      const path = [...targetPath, offset];\r\n      children.splice(offset, delta.delete ?? 0).forEach((node) => {\r\n        ops.push({ type: 'remove_node', path, node });\r\n      });\r\n    }\r\n\r\n    if ('insert' in delta) {\r\n      invariant(\r\n        Array.isArray(delta.insert),\r\n        `Unexpected array insert content type: expected array, got ${JSON.stringify(\r\n          delta.insert\r\n        )}`\r\n      );\r\n\r\n      const toInsert = delta.insert.map(toSlateNode);\r\n\r\n      toInsert.forEach((node, i) => {\r\n        ops.push({\r\n          type: 'insert_node',\r\n          path: [...targetPath, offset + i],\r\n          node,\r\n        });\r\n      });\r\n\r\n      children.splice(offset, 0, ...toInsert);\r\n      offset += delta.insert.length;\r\n    }\r\n  });\r\n\r\n  return ops;\r\n}\r\n","import { Editor, Node, NodeOperation } from '@src/components/slate-packages/slate';\r\nimport * as Y from 'yjs';\r\nimport { SyncElement } from '../model';\r\nimport { toSlatePath } from '../utils/convert';\r\n\r\n\r\nexport default function translateMapEvent(\r\n  editor: Editor,\r\n  event: Y.YMapEvent<unknown>\r\n): NodeOperation[] {\r\n  const targetPath = toSlatePath(event.path);\r\n  const targetSyncElement = event.target as SyncElement;\r\n  const targetElement = Node.get(editor, targetPath);\r\n\r\n  const keyChanges = Array.from(event.changes.keys.entries());\r\n  const newProperties = Object.fromEntries(\r\n    keyChanges.map(([key, info]) => [\r\n      key,\r\n      info.action === 'delete' ? null : targetSyncElement.get(key),\r\n    ])\r\n  );\r\n\r\n  const properties = Object.fromEntries(\r\n    keyChanges.map(([key]) => [key, targetElement[key]])\r\n  );\r\n\r\n  return [{ type: 'set_node', newProperties, properties, path: targetPath }];\r\n}\r\n","import { Editor, Node, Text, TextOperation } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport * as Y from 'yjs';\r\nimport { toSlatePath } from '../utils/convert';\r\n\r\n\r\nexport default function translateTextEvent(\r\n  editor: Editor,\r\n  event: Y.YTextEvent\r\n): TextOperation[] {\r\n  const targetPath = toSlatePath(event.path);\r\n  const targetText = Node.get(editor, targetPath);\r\n\r\n  invariant(\r\n    Text.isText(targetText),\r\n    'Cannot apply text event to non-text node'\r\n  );\r\n\r\n  let offset = 0;\r\n  let { text } = targetText;\r\n  const ops: TextOperation[] = [];\r\n\r\n  event.changes.delta.forEach((delta) => {\r\n    if ('retain' in delta) {\r\n      offset += delta.retain ?? 0;\r\n    }\r\n\r\n    if ('delete' in delta) {\r\n      const endOffset = offset + (delta.delete ?? 0);\r\n\r\n      ops.push({\r\n        type: 'remove_text',\r\n        offset,\r\n        path: targetPath,\r\n        text: text.slice(offset, endOffset),\r\n      });\r\n\r\n      text = text.slice(0, offset) + text.slice(endOffset);\r\n    }\r\n\r\n    if ('insert' in delta) {\r\n      invariant(\r\n        typeof delta.insert === 'string',\r\n        `Unexpected text insert content type: expected string, got ${typeof delta.insert}`\r\n      );\r\n\r\n      ops.push({\r\n        type: 'insert_text',\r\n        offset,\r\n        text: delta.insert,\r\n        path: targetPath,\r\n      });\r\n\r\n      offset += delta.insert.length;\r\n      text = text.slice(0, offset) + delta.insert + text.slice(offset);\r\n    }\r\n  });\r\n\r\n  return ops;\r\n}\r\n","import { Point } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport * as Y from 'yjs';\r\nimport { SharedType, SyncElement, SyncNode } from '../model';\r\nimport { getSyncNodePath, getTarget } from '../path';\r\n\r\nexport function absolutePositionToRelativePosition(\r\n  sharedType: SharedType,\r\n  point: Point\r\n): Y.RelativePosition {\r\n  const target = getTarget(sharedType, point.path);\r\n  const text = SyncElement.getText(target as SyncElement);\r\n  invariant(text, 'Slate point should point to Text node');\r\n  return Y.createRelativePositionFromTypeIndex(text, point.offset);\r\n}\r\n\r\nexport function relativePositionToAbsolutePosition(\r\n  sharedType: SharedType,\r\n  relativePosition: Y.RelativePosition\r\n): Point | null {\r\n  invariant(sharedType.doc, 'Shared type should be bound to a document');\r\n\r\n  const pos = Y.createAbsolutePositionFromRelativePosition(\r\n    relativePosition,\r\n    sharedType.doc\r\n  );\r\n\r\n  if (!pos) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    path: getSyncNodePath(pos.type.parent as SyncNode),\r\n    offset: pos.index,\r\n  };\r\n}\r\n","import { Editor } from '@src/components/slate-packages/slate';\r\nimport invariant from 'tiny-invariant';\r\nimport { Awareness } from 'y-protocols/awareness';\r\nimport { absolutePositionToRelativePosition } from '../cursor/utils';\r\nimport { YjsEditor } from './yjsEditor';\r\n\r\nconst AWARENESS: WeakMap<Editor, Awareness> = new WeakMap();\r\n\r\nexport interface CursorEditor extends YjsEditor {\r\n  awareness: Awareness;\r\n}\r\n\r\nexport const CursorEditor = {\r\n  awareness(editor: CursorEditor): Awareness {\r\n    const awareness = AWARENESS.get(editor);\r\n    invariant(awareness, 'CursorEditor without attaches awareness');\r\n    return awareness;\r\n  },\r\n\r\n  updateCursor: (editor: CursorEditor): void => {\r\n    const sharedType = YjsEditor.sharedType(editor);\r\n    const { selection } = editor;\r\n\r\n    const anchor =\r\n      selection &&\r\n      absolutePositionToRelativePosition(sharedType, selection.anchor);\r\n\r\n    const focus =\r\n      selection &&\r\n      absolutePositionToRelativePosition(sharedType, selection.focus);\r\n\r\n    const awareness = CursorEditor.awareness(editor);\r\n    awareness.setLocalState({ ...awareness.getLocalState(), anchor, focus });\r\n  },\r\n};\r\n\r\nexport function withCursor<T extends YjsEditor>(\r\n  editor: T,\r\n  awareness: Awareness\r\n): T & CursorEditor {\r\n  const e = editor as T & CursorEditor;\r\n\r\n  AWARENESS.set(e, awareness);\r\n  e.awareness = awareness;\r\n\r\n  const { onChange } = editor;\r\n\r\n  e.onChange = () => {\r\n    setTimeout(() => CursorEditor.updateCursor(e), 0);\r\n\r\n    if (onChange) {\r\n      onChange();\r\n    }\r\n  };\r\n\r\n  return e;\r\n}\r\n","import notification from 'antd/lib/notification';\n\nexport function openNotification(key, str, duration = 0) {\n  const args = {\n    key,\n    message: '',\n    description: str,\n    duration,\n  };\n\n  notification.open(args);\n}\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { createEditor } from '@src/components/slate-packages/slate';\nimport { WebsocketProvider as WebsocketProviderOfficial } from 'y-websocket';\n\nimport * as Y from 'yjs';\nimport '@src/style/iconfont/Tripdocs.css';\nimport { actionKey, applyOpt } from '../../utils/apiListener';\nimport { hashCode, intToRGB } from '../../utils/hexColorUtils';\nimport { withHistory } from '../slate-packages/slate-history';\nimport { withReact } from '../slate-packages/slate-react';\nimport { SyncElement, toSharedType, toSlateDoc, useCursors, withCursor, withYjs } from '../slate-packages/slate-yjs';\nimport { withBlockquote } from './plugins/BlockQuote';\nimport { withImages } from './plugins/Image/imagePlugins';\nimport { withInlineImages } from './plugins/InlineImage/inlineImagePlugins';\nimport { withDeserializeMD } from './plugins/serializers/withDeserializeMD';\nimport { withTable } from './plugins/table/withTable';\nimport { withVideo } from './plugins/Video/withVideo';\nimport { withAnchor } from './plugins/withAnchor';\nimport { withHtml } from './plugins/withHtml';\nimport { withNormalizeNode } from './plugins/withNormalize';\nimport { withShortcuts } from './plugins/withShorcuts';\nimport EditorFrame, { EditorProps, printTime } from './slateEditor';\nimport storage from '../../utils/storage';\nimport { createRandomId } from '../../utils/randomId';\nimport { withOlList } from './plugins/OLULList/withOlList';\nimport { withMention } from './plugins/Mention/withMention';\nimport { consumePlugins } from '@src/utils/helper/consumePlugins';\nimport { notification } from 'antd';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport { withCard } from './plugins/Card';\nimport { withEditLink } from './plugins/EditLink';\nimport { withTabLevel } from './plugins/withTabLevel';\nimport { withTitleNormalized } from './plugins/withTitleNormalized';\nimport { slateDefaultValue } from './plugins/config';\nimport _ from 'lodash';\nimport { withElmentId } from './plugins/withElmentId';\nimport { withInline } from './plugins/withInline';\nimport { openNotification } from '@src/utils/notification';\n\ninterface ClientProps {\n  name: string;\n  id: string;\n  docId: string;\n  defaultValue: any[];\n  removeUser: (id: any) => void;\n  [key: string]: any;\n}\n\nconst Client: React.FC<ClientProps> = props => {\n  const { id, name = '未知', docId, removeUser, defaultValue, socketUrl, userInfo, docToken, fakeCorp, secure, identityauth2, fake } = props;\n\n  const slateEditor: any = useMemo(() => {\n    const plugins = [\n      withTitleNormalized,\n      withHtml,\n      withBlockquote,\n      withDeserializeMD,\n      withTabLevel,\n      withOlList,\n      withImages,\n      withInlineImages,\n      withVideo,\n      withMention,\n      withTable,\n      withAnchor,\n      withInline,\n      withShortcuts,\n      withNormalizeNode,\n      withEditLink,\n      withCard,\n      withReact,\n      withHistory,\n    ].reverse();\n    const wrappedEditor = consumePlugins(createEditor(docId), plugins);\n    return wrappedEditor;\n  }, []);\n\n  const color = userInfo && userInfo.employee ? '#' + intToRGB(hashCode(userInfo.employee)) : '#000000';\n\n  const [sharedType, provider] = useMemo(() => {\n    const doc = new Y.Doc();\n    const sharedType = doc.getArray<SyncElement>('content');\n    console.log('toSlateDoc1', socketUrl, toSlateDoc(sharedType));\n    let provider;\n    const url = socketUrl.indexOf('ws') === 0 ? socketUrl : 'ws://' + socketUrl;\n    provider = new WebsocketProviderOfficial(url, getCache(docId, 'options')?.docUrl || docId, doc, {\n      connect: false,\n      resyncInterval: 10000,\n    });\n\n    return [sharedType, provider];\n  }, [id]);\n\n  const editor = useMemo(() => {\n    const editor = withElmentId(withCursor(withYjs(slateEditor, sharedType), provider.awareness));\n\n    return editor;\n  }, [sharedType, provider]);\n\n  useEffect(() => {\n    const updateUser = _.throttle(changes => {\n      const usersArr = JSON.parse(JSON.stringify(Array.from(provider.awareness.getStates().values())));\n      const sUsers = storage.get('roomUsers');\n      const newUserArr = [];\n      for (let i = 0; i < usersArr.length; i++) {\n        const user: any = usersArr[i];\n        delete user.anchor;\n        delete user.focus;\n        if (JSON.stringify(user) !== '{}') {\n          newUserArr.push(user);\n        }\n      }\n      if (!sUsers || JSON.stringify(sUsers) !== JSON.stringify(newUserArr)) {\n        console.log('roomUsersCallback ****', sUsers, newUserArr);\n        storage.set('roomUsers', newUserArr);\n        applyOpt(actionKey.roomUsersCallback, newUserArr, docId);\n      }\n    }, 2000);\n    provider.awareness.on('change', changes => {\n      updateUser(changes);\n    });\n\n    provider.awareness.setLocalState({\n      ...userInfo,\n      alphaColor: color,\n      color,\n      name,\n    });\n\n    provider.on(\n      'status',\n      (msg: {\n        status: {\n          command: string;\n          userId: string;\n          username?: string;\n        };\n      }) => {\n        let status;\n        console.log('on status msg:', msg);\n\n        if (typeof msg.status === 'string') {\n          status = msg.status;\n        } else {\n          const {\n            status: { command: st, userId },\n          } = msg;\n          if (st) {\n            status = st;\n          }\n        }\n\n        if (status === 'connected') {\n          if (getCache(docId, 'timeCheck')) {\n            const wsConnectedTime = `${new Date().getTime() - getCache(docId, 'initTimestamp')}ms`;\n            console.log(\n              '[time check] Websocket connected (status === \"connected\"),at:' + new Date().getTime() + ', time consuming:' + wsConnectedTime\n            );\n          }\n        } else if (status === 'restoring') {\n          const restoreUserId = msg.status.userId;\n          const restoreUsername = msg.status.username;\n          const userInfo = JSON.stringify(getCache(docId, 'options')?.userInfo);\n          console.log('restoring', restoreUserId, userInfo);\n          if (!userInfo.includes(restoreUserId)) {\n            openNotification('restoring', restoreUsername + '恢复到该页面一个之前的版本', 4.5);\n            setCache(docId, 'restoring', true);\n          }\n          const options: Options = getCache(docId, 'options');\n          window.tripdocs.editorsMap[docId].api.destroy();\n          new window.tripdocs.Editor(options);\n\n          setTimeout(() => {\n            options.reloadCallback();\n            window.tripdocs.editorsMap[docId]?.socket.provider.disconnect();\n            window.tripdocs.editorsMap[docId]?.api.setIsReadOnly(false);\n          }, 1000);\n        } else if (status === 'merge_conflict') {\n          openNotification('merge_conflict', '页面已经被重置，请保存操作后刷新页面');\n          setCache(docId, 'kickedOut', true);\n        } else if (status === 'kicked_out') {\n          openNotification('kicked_out', '其他端已经登录，请关闭页面重新进入');\n          setCache(docId, 'kickedOut', true);\n        } else if (['disconnected', 'connect_failed'].includes(status)) {\n        }\n\n        applyOpt(actionKey.docStatusCallback, status, docId, msg.status);\n      }\n    );\n\n    async function reConnect() {\n      const getDocToken = window.tripdocs.editorsMap[docId]?.api?.getDocToken;\n      if (!getDocToken) {\n        provider?.quikConnect();\n        return;\n      }\n      const data = await getDocToken();\n      console.log('reConnect data docToken', data);\n      let docToken = '';\n      let identityauth2 = '';\n      if (data) {\n        docToken = data.docToken;\n        identityauth2 = data.identityauth2;\n      }\n      provider?.quikConnect(docToken, identityauth2);\n    }\n\n    provider.on('sync', (isSynced: boolean) => {\n      if (getCache(docId, 'timeCheck') && getCache(docId, 'options').socketUrl !== 'offline') {\n        setTimeout(() => {\n          printTime(editor, docId);\n          setCache(docId, 'timeCheck', false);\n        }, 100);\n\n        const syncTime = `${new Date().getTime() - getCache(docId, 'initTimestamp')}ms`;\n        console.log('[time check] sync at: ' + new Date().getTime() + ', time consuming:' + syncTime);\n      }\n\n      if (isSynced && sharedType.length === 0) {\n        toSharedType(sharedType, defaultValue.length ? defaultValue : slateDefaultValue);\n      } else {\n        window.tripdocs.editorsMap[docId].editor.history.undos = [];\n      }\n    });\n\n    if (getCache(docId, 'timeCheck')) {\n      const initSocketTime = `${new Date().getTime() - getCache(docId, 'initTimestamp')}ms`;\n      console.log('[time check] Websocket init at: ' + new Date().getTime() + ', time consuming:' + initSocketTime);\n    }\n\n    provider.quikConnect = function (docToken: string = '', identityauth2: string = '') {\n      console.log('quikConnect options', getCache(docId, 'options'));\n\n      provider.connect(\n        {\n          userId: getCache(docId, 'options')?.userInfo?.employee,\n          token: docToken || getCache(docId, 'options').docToken,\n\n          corpId: getCache(docId, 'options').fakeCorp,\n          identityauth2: identityauth2 || getCache(docId, 'options').identityauth2,\n        },\n        { fake: fake, secure: secure }\n      );\n    };\n\n    reConnect();\n\n    function reconnFun() {\n      if (window.tripdocs.editorsMap[docId]?.socket) {\n        const { provider } = window.tripdocs.editorsMap[docId].socket;\n\n        if (!provider?.wsconnected && !(provider.status?.command === 'connecting')) {\n          if (!getCache(docId, 'kickedOut')) {\n            reConnect();\n          }\n        }\n      }\n    }\n\n    const reconnInterval = setInterval(reconnFun, 2000);\n\n    return () => {\n      provider.disconnect();\n      clearInterval(reconnInterval);\n    };\n  }, [provider]);\n\n  const openCusors = true;\n  const { decorate, cursors } = getCusorsDecorate(editor, openCusors);\n  return (\n    <EditorFrame\n      {...(props as unknown as EditorProps)}\n      editors={editor}\n      decorate={decorate}\n      defaultValue={null}\n      provider={provider}\n      cursors={cursors}\n    />\n  );\n};\n\nfunction getCusorsDecorate(editor: any, openCusors: any) {\n  if (openCusors) {\n    const { decorate, cursors } = useCursors(editor);\n    const signCursors = (one: any) => {\n      if (!one) {\n        return [];\n      }\n      return decorate(one);\n    };\n    return { decorate: signCursors, cursors };\n  } else {\n    return { decorate: () => [], cursors: [] };\n  }\n}\nexport default Client;\n","\r\nimport { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { NodeEntry, Path, Range, Text } from '@src/components/slate-packages/slate';\r\nimport { Cursor } from '../model';\r\nimport { relativePositionToAbsolutePosition } from '../cursor/utils';\r\nimport { CursorEditor } from './cursorEditor';\r\nimport { getCache, setCache } from '@src/utils/cacheUtils';\r\nimport { TripdocsSdkContext } from '@src/Docs';\r\n\r\nexport const useCursors = (\r\n  editor: CursorEditor\r\n): {\r\n  decorate: (entry: NodeEntry) => Range[];\r\n  cursors: Cursor[];\r\n} => {\r\n  const [cursors, setCursorData] = useState<Cursor[]>([]);\r\n  const { isMobile, isDrag } = useContext(TripdocsSdkContext);\r\n\r\n  useEffect(() => {\r\n    editor.awareness.on('update', () => {\r\n      const drag = getCache(editor.docId, 'drag')\r\n      const newCursorData = Array.from(editor.awareness.getStates())\r\n        .filter(([clientId]) => (isMobile || drag) ? true : clientId !== editor.sharedType.doc?.clientID)\r\n        .map(([clientId, awareness]) => {\r\n          let anchor = null;\r\n          let focus = null;\r\n\r\n          if (awareness.anchor) {\r\n            anchor = relativePositionToAbsolutePosition(\r\n              editor.sharedType,\r\n              awareness.anchor\r\n            );\r\n          }\r\n\r\n          if (awareness.focus) {\r\n            focus = relativePositionToAbsolutePosition(\r\n              editor.sharedType,\r\n              awareness.focus\r\n            );\r\n          }\r\n\r\n          return { anchor, focus, data: awareness, isMe: clientId === editor.sharedType.doc?.clientID };\r\n        })\r\n        .filter((cursor) => cursor.anchor && cursor.focus);\r\n      if (getCache(editor.docId, 'newCursorData') === undefined || JSON.stringify(newCursorData) !== JSON.stringify(getCache(editor.docId, 'newCursorData'))) {\r\n        setCache(editor.docId, 'newCursorData', newCursorData)\r\n        setCursorData(newCursorData as unknown as Cursor[]);\r\n      }\r\n    });\r\n  }, [editor]);\r\n  useEffect(() => {\r\n    if (!editor?.awareness?.getStates()) {\r\n      return\r\n    }\r\n    const newCursorData = Array.from(editor.awareness.getStates())\r\n      \r\n      .filter(([clientId]) => (isMobile || isDrag) ? true : clientId !== editor.sharedType.doc?.clientID)\r\n      .map(([clientId, awareness]) => {\r\n        let anchor = null;\r\n        let focus = null;\r\n\r\n        if (awareness.anchor) {\r\n          anchor = relativePositionToAbsolutePosition(\r\n            editor.sharedType,\r\n            awareness.anchor\r\n          );\r\n        }\r\n\r\n        if (awareness.focus) {\r\n          focus = relativePositionToAbsolutePosition(\r\n            editor.sharedType,\r\n            awareness.focus\r\n          );\r\n        }\r\n\r\n        return { anchor, focus, data: awareness, isMe: clientId === editor.sharedType.doc?.clientID };\r\n      })\r\n      .filter((cursor) => cursor.anchor && cursor.focus);\r\n    setCache(editor.docId, 'drag', isDrag)\r\n    setCache(editor.docId, 'newCursorData', newCursorData)\r\n    setCursorData(newCursorData as unknown as Cursor[]);\r\n  }, [isDrag])\r\n\r\n\r\n  const decorate = useCallback(\r\n    ([node, path]: NodeEntry) => {\r\n      const ranges: any[] = [];\r\n\r\n      if (Text.isText(node) && cursors?.length) {\r\n        cursors.forEach((cursor) => {\r\n          if (Range.includes(cursor, path)) {\r\n            const { focus, anchor, data, isMe } = cursor;\r\n\r\n            const isFocusNode = Path.equals(focus.path, path);\r\n            const isAnchorNode = Path.equals(anchor.path, path);\r\n            const isForward = Range.isForward({ anchor, focus });\r\n\r\n            ranges.push({\r\n              data,\r\n              isMe,\r\n              isForward,\r\n              isCaret: isFocusNode,\r\n              anchor: {\r\n                path,\r\n                \r\n                offset: isAnchorNode\r\n                  ? anchor.offset\r\n                  : isForward\r\n                    ? 0\r\n                    : node.text.length,\r\n              },\r\n              focus: {\r\n                path,\r\n                \r\n                offset: isFocusNode\r\n                  ? focus.offset\r\n                  : isForward\r\n                    ? node.text.length\r\n                    : 0,\r\n              },\r\n            });\r\n          }\r\n        });\r\n      }\r\n\r\n      return ranges;\r\n    },\r\n    [cursors]\r\n  );\r\n\r\n  return { decorate, cursors };\r\n};\r\n\r\nexport default useCursors;\r\n","import { CloseOutlined, LoadingOutlined } from '@ant-design/icons';\nimport { css, cx } from '@emotion/css';\nimport { AllCommentsList } from '@src/components/docs/plugins/SideComment/renderAllCommentsList';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport '@src/style/less/slatedocs.less';\nimport { Button, Drawer, Layout, Select, Spin, Tooltip } from 'antd';\n\nimport classNames from 'classnames';\nimport $ from 'jquery';\nimport { debounce } from 'lodash';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { HistoryManager } from './components/app/HistoryManager';\nimport { FallbackComponent } from './components/app/FallbackComponent';\nimport { HotkeyHelperContent } from './components/app/HotkeyHelper';\nimport { SideTipContainer } from './components/app/SideTipContainer';\nimport EditorNative from './components/docs/nativeEditor';\nimport { IconBtn } from './components/docs/plugins/Components';\nimport { ELTYPE } from './components/docs/plugins/config';\nimport { findAndReplace } from './components/docs/plugins/findAndReplace';\nimport { GlobalComment } from './components/docs/plugins/GlobalComment';\nimport { MobileToolbar } from './components/docs/plugins/MobileToolbar';\nimport { OlList, UlList } from './components/docs/plugins/OLULList/OlList';\nimport { DocTocTitle, OutlineAnchor } from './components/docs/plugins/OutlineAnchor/renderOutlineAnchor';\nimport { SideCommentCreator } from './components/docs/plugins/SideComment';\n\nimport { StaticToolbar } from './components/docs/plugins/StaticToolbar';\nimport { getEditorEventEmitter } from './components/docs/plugins/table/selection';\nimport Editor from './components/docs/yjsEditor';\nimport { Range, Transforms } from './components/slate-packages/slate';\nimport { f } from './resource/string';\nimport './style/less/slatedocs-sdk.less';\nimport { useForceUpdate } from './utils/apiOperations/hooks/useForceUpdate';\nimport { useWindowUnloadEffect } from './utils/apiOperations/hooks/useWindowUnloadEffect';\nimport { getCache, setCache } from './utils/cacheUtils';\nimport { EditorContainerBottomPortal, EditorContainerInnerPortal, EditorContainerOuterPortal } from './utils/createPortal';\nimport { getDefaultValueByBase64 } from './utils/getDefaultValue';\nimport './Docs.less';\nimport { TODOList } from './components/docs/plugins/TodoList/todoList';\nimport useMeasure from './utils/useMeasure';\nconst { Content } = Layout;\n\nconst { Option } = Select;\n\nexport const TripdocsSdkContext = React.createContext(null);\n\ntype DocsProps = {\n  userInfo: any;\n  readOnly: boolean;\n  tocPlacement: 'left' | 'right';\n  deepestDisplayAnchorHeading: 3 | 4 | 5 | 6;\n  socketUrl: string;\n  fileUploadUrl: string;\n  mentionCallback: (mention: any) => void;\n  shareCallback: (share: any) => void;\n  commentCallback: (comment: any) => void;\n  docId: string;\n  defaultValue: any[];\n  docToken: string;\n  fake: boolean;\n  identityauth2: string;\n  secure: boolean;\n  isMdEditor: boolean;\n  isWideMode: boolean;\n  defaultCommentData: any;\n  showHoveringCommentButton: boolean;\n  showGlobalComment: boolean;\n  showHelpBlock: boolean;\n  theme: { backgroundColor: string };\n};\nconst setEdit = debounce((setIsReadOnly, isNoEdit, docId) => {\n  if (window.tripdocs.editorsMap?.[docId]?.editor && !getCache(docId, 'timeCheck')) {\n    setIsReadOnly(isNoEdit);\n  }\n}, 1000);\nconst Docs = (props: DocsProps) => {\n  let {\n    userInfo,\n    readOnly,\n    tocPlacement = 'left',\n    deepestDisplayAnchorHeading = 6,\n    socketUrl: sUrl,\n    fileUploadUrl,\n    mentionCallback,\n    shareCallback,\n    commentCallback,\n    docId = 'default',\n    defaultValue: propsDefaultValue,\n    docToken: propsDocToken,\n    fake,\n    identityauth2: idAuth,\n    secure,\n    isMdEditor,\n    isWideMode: propsIsWideMode,\n    defaultCommentData,\n    showHoveringCommentButton,\n    showGlobalComment,\n    showHelpBlock,\n    theme,\n  } = props;\n\n  const [socketUrl, setSocketUrl] = useState(sUrl);\n  const [defaultValue, setDefaultValue] = useState(propsDefaultValue);\n  const [socketToken, setSocketToken] = useState(propsDocToken);\n  const [socketAuth, setSocketAuth] = useState(idAuth);\n\n  const [docIds, setDocIds] = useState('default');\n\n  const [isShowHotkeyHelper, setIsShowHotkeyHelper] = useState(false);\n  const [isShowHelpBlock, setIsShowHelpBlock] = useState(showHelpBlock);\n\n  const [isShowHoveringCommentButton, setIsShowHoveringCommentButton] = useState(showHoveringCommentButton);\n  const [isShowGlobalComment, setIsShowGlobalComment] = useState(showGlobalComment);\n\n  useWindowUnloadEffect(() => {\n    if (window.tripdocs.editorsMap[docId]?.editor?.selection) {\n      window.tripdocs.editorsMap[docId].Transforms.deselect(window.tripdocs.editorsMap[docId].editor);\n    }\n  }, false);\n\n  try {\n    const [mail, setMail] = useState('');\n    const [me, setMe] = useState({\n      id: userInfo.userId,\n      name: userInfo.userName,\n      mail: '',\n    });\n    useEffect(() => {\n      const newMe = JSON.parse(JSON.stringify(me));\n      newMe.mail = mail;\n      if (JSON.stringify(newMe) === JSON.stringify(me)) {\n        return;\n      }\n      setMe(newMe);\n    }, [me, mail]);\n\n    const overlayContainerRef = useRef();\n\n    const anchorContainerRef = useRef();\n\n    const [filename, setFilename] = useState('未命名文档');\n\n    const [foldername, setFoldername] = useState(null);\n\n    const [fileId, setFileId] = useState('');\n\n    const [templateBarShow, setTemplateBar] = useState(true);\n\n    const [template, setTemplate] = useState(null);\n\n    const [users, setUsers] = useState([]);\n\n    const [lastName, setLastName] = useState('');\n\n    const [drawerVisible, setDrawerVisible] = useState(false);\n\n    const [openFindAndReplaceDia, setFindAndReplaceDia] = useState(false);\n\n    const [searchText, setSearchText] = useState('');\n\n    const [replaceText, setReplaceText] = useState('');\n\n    const [findSelection, setFindSelection] = useState('');\n\n    const [titleLoading, setTitleLoading] = useState(true);\n\n    const [templateLoading, setTemplateLoading] = useState(true);\n\n    const [placeholderContentVisible, setPlaceholderContentVisible] = useState(false);\n\n    const [isReadOnly, setIsReadOnly] = useState(readOnly);\n    const [isNoEdit, setIsNoEdit] = useState(readOnly);\n\n    const [tocPlace, setTocPlace] = useState(tocPlacement);\n\n    const [sideCommentRowNum, setSideCommentRowNum] = useState(-1);\n\n    const [curRangeId, setCurRangeId] = useState('');\n\n    const [chars, setChars] = useState([]);\n\n    const [placeholderRects, setPlaceholderRects] = useState({\n      titleRect: { top: '34px', left: '74px' },\n      contentRect: { top: '90px', left: '70px' },\n    });\n\n    const [deepestDisplayAnchor, setDeepestDisplayAnchor] = useState<3 | 4 | 5 | 6>(deepestDisplayAnchorHeading);\n\n    const [currentColor, setCurrentColor] = useState({\n      fontColor: 'rgb(255, 0, 0)',\n      bgColor: 'rgb(255, 217, 102)',\n      cellBgColor: 'rgb(243, 243, 243)',\n    });\n\n    const [findAndReplaceMethods, setFindAndReplaceMethods] = useState({\n      highlightRanges: [],\n      editor: undefined as any,\n      setValue: () => {},\n    });\n\n    const [editorSelection, setEditorSelection] = useState({\n      selection: '',\n      elementPath: [0],\n      elementType: '',\n    });\n\n    const [modalState, setModalState] = useState({\n      setIsModalVisible: () => {},\n      setModalTitle: () => {},\n    });\n    const [docWidth, setDocWidth] = useState(800);\n\n    const scrollRef = useRef(null);\n\n    const [editorContainerScrollTop, setEditorContainerScrollTop] = useState(0);\n\n    const { dep: anchorDep, trigger: anchorTrigger } = useForceUpdate();\n\n    const options: Options = getCache(docId, 'options');\n    const isInElectron: boolean = getCache(docId, 'options')?.isInElectron;\n\n    const [contentWrapRect, setContentWrapRect] = useState(document?.getElementById(`editor-content-wrap-${docId}`)?.getBoundingClientRect?.());\n    const [contentRect, setContentRect] = useState(document?.getElementById(`editor-content-${docId}`)?.getBoundingClientRect?.());\n\n    const [anchorContainerMaxWidth, setAnchorContainerMaxWidth] = useState(null);\n\n    const isMobile = useMemo(judgePhone, []);\n    const [ref, { x, y, width, height: minHeight, top, right, bottom, left }] = useMeasure();\n    const [isLarge, setIsLarge] = useState(true);\n    const [isMiddle, setIsMiddle] = useState(false);\n    const [isWideMode, setIsWideMode] = useState(propsIsWideMode);\n    const [editorHeight, setEditorHeight] = useState(isReadOnly ? '100%' : isMobile ? '100%' : 'calc(100% - 32px)');\n\n    const [WIPCommentRangeId, setWIPCommentRangeId] = useState(null);\n    const [isShowHistoryManager, setIsShowHistoryManager] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n      setEditorHeight(isReadOnly ? '100%' : isMobile ? '100%' : 'calc(100% - 32px)');\n    }, [isReadOnly, isMobile]);\n\n    useEffect(() => {\n      setTemplateLoading(false);\n      setTitleLoading(false);\n\n      const contentWrapListener = obj => {\n        setContentWrapRect(obj);\n      };\n      const contentListener = obj => {\n        setContentRect(obj);\n      };\n      getEditorEventEmitter(docId).on('resizeContentWrap', contentWrapListener, docId);\n      getEditorEventEmitter(docId).on('resizeContent', contentListener, docId);\n\n      return () => {\n        getEditorEventEmitter(docId).off('resizeContentWrap', contentWrapListener, docId);\n        getEditorEventEmitter(docId).off('resizeContent', contentListener, docId);\n      };\n    }, []);\n\n    useEffect(() => {\n      if (typeof ResizeObserver !== 'undefined' && typeof window !== 'undefined') {\n        const resizeObservers = [];\n\n        resizeObservers[0] = new ResizeObserver(entries => {\n          const entry = entries[0];\n          const rect = entry.contentRect;\n          console.log('[resizeContentWrap] resize', rect.width, rect.height);\n          getEditorEventEmitter(docId).emit('resizeContentWrap', docId, rect);\n          getEditorEventEmitter(docId).emit('updateOutlineAnchor', docId);\n        });\n        document.getElementById(`editor-content-wrap-${docId}`) &&\n          resizeObservers[0].observe(document.getElementById(`editor-content-wrap-${docId}`));\n\n        resizeObservers[1] = new ResizeObserver(entries => {\n          const rect = entries[0].contentRect;\n          console.log('[resizeContent] resize', rect.width, rect.height);\n          getEditorEventEmitter(docId).emit('resizeContent', docId, rect);\n        });\n        document.getElementById(`editor-content-${docId}`) && resizeObservers[1].observe(document.getElementById(`editor-content-${docId}`));\n      }\n    }, [docId]);\n\n    useEffect(() => {\n      const docDirectoryTitle = document.getElementById(`editor-content-wrap-${docId}`)?.getElementsByClassName('doc-directory-title')?.[0];\n      console.log('[docDirectoryTitle]', docDirectoryTitle);\n      const maxWidth = (docDirectoryTitle && docDirectoryTitle.getBoundingClientRect().width + 36) || 250;\n      setAnchorContainerMaxWidth(`${Math.floor(maxWidth) - 16}px`);\n    }, [isReadOnly, isWideMode, contentWrapRect?.width, contentRect?.width]);\n\n    useEffect(() => {\n      window.tripdocs.editorsMap[docId].readOnly = isReadOnly;\n      window.tripdocs.editorsMap[docId].editor.history.undos = [];\n      window.tripdocs.editorsMap[docId].editor.history.redos = [];\n    }, [isReadOnly]);\n\n    useEffect(() => {\n      setEdit(setIsReadOnly, isNoEdit, docId);\n      setCache(docId, 'isNoEdit', isNoEdit);\n    }, [isNoEdit, socketUrl]);\n\n    useEffect(() => {\n      window.tripdocs.editorsMap[docId].api.setIsReadOnly = setIsNoEdit;\n      window.tripdocs.editorsMap[docId].api.setSocketUrl = function (\n        url: string,\n        opt: { defaultValue?: any[]; defaultValue2?: string; docToken?: string; docUrl?: string; identityauth2?: string } = {}\n      ) {\n        Transforms.deselect(window.tripdocs.editorsMap[docId].editor);\n        setCache(docId, 'initTimestamp', new Date().getTime());\n\n        setCache(docId, 'timeCheck', true);\n        setCache(docId, 'renderedToDom', false);\n        const { defaultValue, defaultValue2, docToken, docUrl = '', identityauth2 } = opt;\n        let defaultVal;\n        if (defaultValue2) {\n          defaultVal = getDefaultValueByBase64(defaultValue2);\n        } else {\n          defaultVal = defaultValue;\n        }\n\n        console.log('options', getCache(docId, 'options'));\n\n        setTemplateLoading(true);\n        const options = getCache(docId, 'options');\n        setDefaultValue(defaultVal || options.defaultValue);\n        setSocketToken(docToken || options.docToken);\n        setSocketAuth(identityauth2 || options.identityauth2);\n        setCache(docId, 'options', {\n          ...options,\n          socketUrl: url,\n          defaultValue: defaultVal || options.defaultValue,\n          docToken: docToken || options.docToken,\n          docUrl: docUrl,\n          identityauth2: identityauth2,\n        });\n        console.log('options', getCache(docId, 'options'));\n        setTemplateLoading(false);\n\n        window.tripdocs.editorsMap[docId].editor.history.undos = [];\n        window.tripdocs.editorsMap[docId].editor.history.redos = [];\n\n        setSocketUrl(url);\n      };\n\n      window.tripdocs.editorsMap[docId].api.setTocPlacement = setTocPlace;\n      window.tripdocs.editorsMap[docId].api.setDeepestDisplayAnchorHeading = setDeepestDisplayAnchor;\n      window.tripdocs.editorsMap[docId].api.setIsShowHoveringCommentButton = setIsShowHoveringCommentButton;\n      window.tripdocs.editorsMap[docId].api.setIsShowGlobalComment = setIsShowGlobalComment;\n      window.tripdocs.editorsMap[docId].api.setIsShowHelpBlock = setIsShowHelpBlock;\n      window.tripdocs.editorsMap[docId].api.setIsShowHistoryManager = setIsShowHistoryManager;\n    }, []);\n\n    useEffect(() => {\n      if (socketUrl === 'offline') {\n        setCache(docId, 'kickedOut', true);\n\n        window.tripdocs.editorsMap[docId]?.socket?.provider?.disconnect();\n      } else {\n        setCache(docId, 'kickedOut', false);\n      }\n    }, [socketUrl]);\n\n    useEffect(() => {\n      let timeout;\n      if (scrollRef.current) {\n        setCache(docId, 'editorWrapDom', scrollRef.current);\n      }\n      const handler = () => {\n        if (scrollRef.current) {\n          if (timeout) clearTimeout(timeout);\n          timeout = setTimeout(() => {\n            if (!getCache(docId, 'options')?.isMdEditor) {\n              setEditorContainerScrollTop(scrollRef.current.scrollTop);\n            }\n          }, 500);\n        }\n      };\n      if (scrollRef.current) {\n        (scrollRef.current as any).addEventListener('scroll', handler, {\n          capture: false,\n          passive: true,\n        });\n      }\n      return () => {\n        if (scrollRef.current) {\n          (scrollRef.current as any).removeEventListener('scroll', handler);\n        }\n      };\n    }, [scrollRef]);\n\n    useEffect(() => {\n      me && me.name && setLastName(me?.name?.split('）')[0].slice(-2));\n    }, [me]);\n\n    useEffect(() => {\n      const editor = findAndReplaceMethods?.editor;\n      if (typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && editor) {\n        const childrenArr = editor.children.slice();\n        const titleEl = childrenArr.shift();\n\n        const titleDom = ReactEditor.toDOMNode(editor, titleEl);\n\n        titleDom && titleDom.classList.add('editor-titleEl');\n      }\n    }, []);\n\n    const titleCallback = (title: any) => {\n      const callback = window.tripdocs.editorsMap[docId]?.api?.titleCallback;\n      callback && callback(title);\n      if (title) setFilename(title);\n      else setFilename('未命名文档');\n    };\n\n    const isEmptyCallback = (boo: boolean) => {\n      if (boo) {\n        setTemplateBar(false);\n      } else {\n        setTemplateBar(true);\n      }\n    };\n\n    useEffect(() => {\n      if (width > 1280) {\n        setIsLarge(true);\n        setDrawerVisible(false);\n      } else if (width > 936) {\n        setIsMiddle(true);\n        setIsLarge(false);\n      } else if (0 < width && width < 936) {\n        setIsLarge(false);\n        setIsMiddle(false);\n      }\n    }, [width]);\n\n    const [isShowAnchor, setIsShowAnchor] = useState(true);\n    const [isAnchorCollapsed, setIsAnchorCollapsed] = useState(false);\n\n    const handleDeepestHeading = e => {\n      console.log(3000000, e);\n      setDeepestDisplayAnchor(e.target.value);\n    };\n\n    const getHeadTablevel = (type, oldType) => {\n      let ret = {};\n      ret[ELTYPE.HEADING_ONE] = 0;\n      ret[ELTYPE.HEADING_TWO] = 1;\n      ret[ELTYPE.HEADING_THREE] = 2;\n      ret[ELTYPE.HEADING_FOUR] = 3;\n      ret[ELTYPE.HEADING_FIVE] = 4;\n      ret[ELTYPE.HEADING_SIX] = 5;\n      return ret[type] || ret[oldType] || 0;\n    };\n\n    const getText = el => {\n      if (el && el.text) return el.text;\n      if (el && el.children) return getText(el.children);\n      if (el && Array.isArray(el)) return el.map((item: any) => getText(item));\n      return '';\n    };\n\n    const wrapTextWithStyle = (item, text) => {\n      if (!item?.type) return text;\n      const { type } = item;\n      let styled = text;\n      switch (type) {\n        case 'bulleted-list':\n          if (isMobile) {\n            styled = <li style={{ lineHeight: 1.75 }}>{text}</li>;\n          } else {\n            styled = (\n              <UlList prop={{ attributes: {}, element: { ...item } }} isInAnchor={true} lineHeight={1.75}>\n                {text}\n              </UlList>\n            );\n          }\n          break;\n        case 'numbered-list':\n          if (isMobile) {\n            styled = <span style={{ lineHeight: 1.75, marginLeft: '-0.2em' }}>{item.num + '. ' + text}</span>;\n          } else {\n            styled = (\n              <OlList prop={{ attributes: {}, element: { ...item } }} isInAnchor={true} lineHeight={1.75}>\n                {text}\n              </OlList>\n            );\n          }\n\n          break;\n        case 'todo-list':\n          styled = (\n            <TODOList isMobile={isMobile} prop={{ attributes: {}, element: { ...item } }} isInAnchor={true}>\n              {text}\n            </TODOList>\n          );\n          break;\n      }\n      return styled;\n    };\n\n    const findLastSameIdTabLevel = (arr, index, id, tabLevel) => {\n      if (index >= arr.length || index < 1) {\n        return null;\n      }\n      let res = null;\n      let startPointIndex = 0;\n      if (tabLevel >= 1) {\n        for (let i = index - 1; i >= 0; i--) {\n          const curItem = arr[i];\n          if (curItem && typeof curItem.tabLevel === 'number' && curItem.tabLevel === tabLevel - 1 && curItem.id === id) {\n            startPointIndex = i;\n            break;\n          }\n        }\n      }\n      for (let i = index - 1; i >= startPointIndex; i--) {\n        const curItem = arr[i];\n\n        if (curItem && typeof curItem.tabLevel === 'number' && curItem.tabLevel === tabLevel && curItem.id === id) {\n          res = curItem;\n          break;\n        }\n      }\n      return res;\n    };\n    const [drag, setDrag] = useState(false);\n\n    const [focusedRangeId, setFocusedRangeId] = useState(null);\n\n    const [hoveredRangeId, setHoveredRangeId] = useState(null);\n\n    const [identicalSelectionRangeId, setIdenticalSelectionRangeId] = useState(null);\n\n    const resetFocusedRangeId = () => {\n      setFocusedRangeId(null);\n    };\n\n    const findCallbacks = (highlightRanges: any, editor: any, setValue: any) => {\n      setFindAndReplaceMethods({\n        highlightRanges: highlightRanges,\n        editor: editor,\n        setValue: setValue,\n      });\n    };\n\n    const { find, replace, replaceAll, getNum } = findAndReplace(findAndReplaceMethods.highlightRanges);\n\n    useEffect(() => {\n      window.tripdocs.editorsMap[docId].isWideMode = isWideMode;\n    }, [isWideMode]);\n\n    const handleCompoStart = e => {\n      const { editor } = findAndReplaceMethods;\n\n      setCache(docId, 'isComposing', true);\n    };\n\n    const handleCompoEnd = () => {\n      setCache(docId, 'isComposing', false);\n    };\n\n    const renderPlaceholder = () => {\n      const titleText = $(`#editorarea-${docId} h1:first-of-type > span > span > *`)[0];\n\n      const contentParagraphText = $(`#editorarea-${docId} p:first-of-type > span > span > span`)[0];\n      const contentParagraphTodo = $(`#editorarea-${docId} p:first-of-type`)[0];\n\n      const contentParagraphLinkText = $(`#editorarea-${docId} p:first-of-type > a > span > span > span`)[0];\n      const contentParagraphChildrenLen = $(`#editorarea-${docId} p:first-of-type > span`).length;\n      const contentCountArr = $(`#editorarea-${docId}`).children('div').filter(':not(div[class^=\"placeholder\"])');\n\n      const notStyled = contentCountArr && contentCountArr.length == 2 && contentCountArr.has('p > span > span > span[data-slate-length=\"0\"]').length;\n\n      if (\n        findAndReplaceMethods?.editor?.children.length > 2 ||\n        contentParagraphChildrenLen > 1 ||\n        (contentParagraphLinkText && contentParagraphLinkText.textContent) ||\n        (notStyled ? contentCountArr.length > 2 : contentCountArr.length >= 2) ||\n        (contentParagraphTodo && contentParagraphTodo.getAttribute('data-name') === 'todo-list-item') ||\n        (contentParagraphText && contentParagraphText.textContent && encodeURIComponent(contentParagraphText.textContent) !== '%EF%BB%BF')\n      ) {\n        setPlaceholderContentVisible(false);\n      } else {\n        setPlaceholderContentVisible(true);\n      }\n    };\n\n    interface commentDataType {\n      userName: string;\n      content: string;\n      commentId: string;\n      rangeId: string;\n      time: string;\n      mentionedMemberList: string[];\n      replyTarget: null | commentDataType;\n    }\n    const [commentData, setCommentData] = useState<commentDataType[]>(defaultCommentData);\n    if (typeof window === 'object' && window.tripdocs.editorsMap[docId]) {\n      window.tripdocs.editorsMap[docId].api.setCommentData = function (args) {\n        setCommentData(args);\n      };\n      window.tripdocs.editorsMap[docId].api.setTemplate = setTemplate;\n      window.tripdocs.editorsMap[docId].api.setIsWideMode = setIsWideMode;\n\n      window.tripdocs.editorsMap[docId].api.setIsShowAnchor = setIsShowAnchor;\n      window.tripdocs.editorsMap[docId].api.setLoading = setLoading;\n    }\n\n    const [isShowMobileToolBar, setIsShowMobileToolBar] = useState(false);\n\n    useEffect(() => {\n      const updateState = (selection: null | Range) => {\n        const isShowMobileMenuPopup = getCache(docId, 'isShowMobileMenuPopup');\n        console.log('getEditorEventEmitter selection:', selection, '. isShowMobileMenuPopup:', isShowMobileMenuPopup);\n        if (selection) {\n          if (getCache(docId, 'isShowMobileToolBar') !== true) {\n            setCache(docId, 'isShowMobileToolBar', true);\n            setIsShowMobileToolBar(true);\n          }\n        } else {\n          if (getCache(docId, 'isShowMobileToolBar') !== false && !isShowMobileMenuPopup) {\n            setCache(docId, 'isShowMobileToolBar', false);\n            setIsShowMobileToolBar(false);\n          }\n        }\n      };\n\n      if (isMobile) {\n        getEditorEventEmitter(docId).on('editorSelection', updateState, docId, false);\n      }\n      return () => {\n        getEditorEventEmitter(docId).off('editorSelection', updateState, docId);\n      };\n    }, [isMobile]);\n\n    useEffect(() => {\n      getEditorEventEmitter(docId).emit('updateOutlineAnchor', docId);\n    }, [isMobile, isLarge, isShowAnchor, deepestDisplayAnchor, isAnchorCollapsed]);\n\n    useEffect(() => {\n      if (scrollRef.current) {\n        $(scrollRef.current).bind('click', function (e) {\n          console.log('[scrollRef]click 捕获！！！');\n          getEditorEventEmitter(docId).emit('scrollRefClick', docId, e);\n        });\n      }\n      return () => {\n        $(scrollRef.current).unbind('click');\n      };\n    }, []);\n\n    const hasCallbacks =\n      window?.tripdocs?.editorsMap?.[docId]?.api?.getDocHistoryCallback &&\n      window?.tripdocs?.editorsMap?.[docId]?.api?.getDocBlobByVersionCallback &&\n      window?.tripdocs?.editorsMap?.[docId]?.api?.restoreDocCallback;\n\n    return (\n      <div className=\"editor_container_wrap\" ref={ref}>\n        <ErrorBoundary\n          FallbackComponent={fallback => <FallbackComponent docId={docId} editor={findAndReplaceMethods.editor} fallback={fallback} />}\n          onError={error => {\n            console.error('[ErrorBoundary] onError: ', error);\n          }}\n        >\n          <TripdocsSdkContext.Provider\n            value={{\n              docId,\n              editor: findAndReplaceMethods.editor,\n              userInfo,\n              isWide: isLarge,\n              isInElectron: isInElectron,\n              isMobile,\n              isWideMode: isWideMode,\n              isMiddle: isMiddle,\n              isReadOnly,\n              WIPCommentRangeId,\n              setWIPCommentRangeId,\n              allUserList: chars,\n              hoveredRangeId,\n              focusedRangeId,\n              resetFocusedRangeId,\n              setFocusedRangeId,\n              identicalSelectionRangeId,\n              setIdenticalSelectionRangeId,\n              setSideCommentRowNum,\n              setCurRangeId,\n              isDrag: drag,\n            }}\n          >\n            {loading ? (\n              <div\n                id=\"spin\"\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  display: 'flex',\n                  position: 'absolute',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  boxShadow: 'none',\n                  zIndex: 99999,\n                  background: 'rgb(2,2,2,0.1)',\n                }}\n              >\n                <div\n                  style={{\n                    display: 'flex',\n                    flexDirection: 'column',\n                    alignItems: 'center',\n                  }}\n                >\n                  自动修复数据中，请稍后\n                  <Spin size=\"large\" indicator={<LoadingOutlined spin />} />\n                </div>\n              </div>\n            ) : null}\n            {isMobile ? (\n              isReadOnly ? null : (\n                <MobileToolbar\n                  editor={findAndReplaceMethods.editor}\n                  docWidth={docWidth}\n                  modalState={modalState}\n                  isReadOnly={isReadOnly}\n                  currentColor={currentColor}\n                  setCurrentColor={setCurrentColor}\n                  anchorTrigger={anchorTrigger}\n                  display={isShowMobileToolBar ? 'block' : 'none'}\n                ></MobileToolbar>\n              )\n            ) : isReadOnly && !options.showTopMenuOnlyRead ? null : (\n              <StaticToolbar\n                editor={findAndReplaceMethods.editor}\n                editorSelection={editorSelection}\n                docWidth={docWidth}\n                modalState={modalState}\n                currentColor={currentColor}\n                setCurrentColor={setCurrentColor}\n                anchorTrigger={anchorTrigger}\n                setValue={findAndReplaceMethods.setValue}\n                isShowAnchor={isShowAnchor}\n                setIsShowAnchor={setIsShowAnchor}\n              ></StaticToolbar>\n            )}\n\n            <div\n              id={'editor-content-wrap-' + docId}\n              ref={scrollRef}\n              className={classNames({\n                'editor-container': true,\n                'editor-shell': true,\n              })}\n              style={{\n                display: titleLoading || templateLoading ? 'none' : isMobile || (!isMiddle && !isLarge) ? 'block' : 'grid',\n                height: editorHeight,\n                position: 'relative',\n                gridGap: isMdEditor ? 0 : '18px',\n                gridTemplateColumns:\n                  !isShowAnchor || !isLarge || (isWideMode && isAnchorCollapsed)\n                    ? '0 minmax(752px, 100vw) 0'\n                    : isWideMode && !isAnchorCollapsed\n                    ? tocPlace === 'left'\n                      ? 'minmax(0px, 280px) minmax(752px, 100vw) minmax(0px, 0px)'\n                      : 'minmax(0px, 0px) minmax(752px, 100vw) minmax(0px, 280px)'\n                    : 'minmax(0px, 280px) minmax(752px, 100vw) minmax(0px, 280px)',\n                gridTemplateRows: 'max-content max-content',\n                background: isInElectron ? 'rgb(242,244,246)' : theme && theme.backgroundColor ? theme.backgroundColor : '#ffffff',\n              }}\n              onDragOver={event => {\n                setDrag(true);\n              }}\n              onDrag={event => {\n                setDrag(false);\n              }}\n              onDragLeave={event => {\n                setDrag(false);\n              }}\n            >\n              {socketUrl !== 'offline' ? (\n                <Editor\n                  id={me.id}\n                  name={me.name}\n                  slug={docId}\n                  docToken={socketToken}\n                  docId={docId}\n                  titleCallback={titleCallback}\n                  userInfo={userInfo}\n                  isEmpty={isEmptyCallback}\n                  allUserList={chars}\n                  template={template}\n                  fileId={fileId}\n                  anchorTrigger={anchorTrigger}\n                  defaultValue={defaultValue}\n                  findCallbacks={findCallbacks}\n                  searchText={searchText}\n                  replaceText={replaceText}\n                  findSelection={findSelection}\n                  setEditorSelection={setEditorSelection}\n                  getNum={getNum}\n                  shareCallback={shareCallback}\n                  setFocusedRangeId={setFocusedRangeId}\n                  focusedRangeId={focusedRangeId}\n                  setHoveredRangeId={setHoveredRangeId}\n                  setTitleLoading={setTitleLoading}\n                  setTemplateLoading={setTemplateLoading}\n                  titleLoading={titleLoading}\n                  templateLoading={templateLoading}\n                  handleCompoStart={handleCompoStart}\n                  handleCompoEnd={handleCompoEnd}\n                  type=\"normal\"\n                  renderPlaceholder={renderPlaceholder}\n                  setDocWidth={setDocWidth}\n                  setModalState={setModalState}\n                  currentColor={currentColor}\n                  setCurrentColor={setCurrentColor}\n                  socketUrl={socketUrl}\n                  setSideCommentRowNum={setSideCommentRowNum}\n                  sideCommentRowNum={sideCommentRowNum}\n                  setCurRangeId={setCurRangeId}\n                  setChars={setChars}\n                  chars={chars}\n                  isShowHoveringCommentButton={isShowHoveringCommentButton}\n                  {...me}\n                  key={me.id}\n                  removeUser={() => {}}\n                  fake={fake}\n                  identityauth2={socketAuth}\n                  commentData={commentData}\n                  secure={secure}\n                  setPlaceholderRects={setPlaceholderRects}\n                ></Editor>\n              ) : (\n                <EditorNative\n                  id={me.id}\n                  name={me.name}\n                  docId={docId}\n                  titleCallback={titleCallback}\n                  userInfo={userInfo}\n                  isEmpty={isEmptyCallback}\n                  defaultValue={defaultValue}\n                  allUserList={chars}\n                  template={template}\n                  fileId={fileId}\n                  anchorTrigger={anchorTrigger}\n                  findCallbacks={findCallbacks}\n                  searchText={searchText}\n                  replaceText={replaceText}\n                  findSelection={findSelection}\n                  setEditorSelection={setEditorSelection}\n                  getNum={getNum}\n                  shareCallback={shareCallback}\n                  setFocusedRangeId={setFocusedRangeId}\n                  focusedRangeId={focusedRangeId}\n                  setHoveredRangeId={setHoveredRangeId}\n                  setTitleLoading={setTitleLoading}\n                  setTemplateLoading={setTemplateLoading}\n                  titleLoading={titleLoading}\n                  templateLoading={templateLoading}\n                  handleCompoStart={handleCompoStart}\n                  handleCompoEnd={handleCompoEnd}\n                  type=\"normal\"\n                  renderPlaceholder={renderPlaceholder}\n                  setDocWidth={setDocWidth}\n                  setModalState={setModalState}\n                  currentColor={currentColor}\n                  setCurrentColor={setCurrentColor}\n                  {...me}\n                  key={me.id}\n                  removeUser={() => {}}\n                  socketUrl={socketUrl}\n                  setSideCommentRowNum={setSideCommentRowNum}\n                  sideCommentRowNum={sideCommentRowNum}\n                  setCurRangeId={setCurRangeId}\n                  setChars={setChars}\n                  chars={chars}\n                  isShowHoveringCommentButton={isShowHoveringCommentButton}\n                  commentData={commentData}\n                  setPlaceholderRects={setPlaceholderRects}\n                ></EditorNative>\n              )}\n\n              {!isMobile && isLarge && isShowAnchor && (\n                <div\n                  className=\"anchor-sticky-wrapper\"\n                  style={{\n                    gridRow: 1,\n                    gridColumn: tocPlace === 'left' ? 1 : 3,\n                    width: 'auto',\n                  }}\n                >\n                  {isAnchorCollapsed ? (\n                    <div\n                      className={css`\n                        position: absolute;\n                        top: 46px;\n                        width: 41px;\n                        height: 40px;\n                        ${tocPlace === 'left' ? `left: 0;` : `right: 0;`}\n                        cursor: pointer;\n                        z-index: 0;\n                        text-align: center;\n                        line-height: 40px;\n                        font-size: 16px;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        background: #fff;\n                        box-shadow: 0px 1px 8px 0px rgba(42, 51, 60, 0.08);\n                        .Tripdocs-menu {\n                          color: #4a535d;\n                          &:hover {\n                            color: #3264ff;\n                          }\n                        }\n                      `}\n                      onMouseDown={e => {\n                        e.preventDefault();\n                        setIsAnchorCollapsed(false);\n                      }}\n                    >\n                      <Tooltip title={f('expandAnchor')} placement=\"topLeft\">\n                        <IconBtn className=\"Tripdocs-menu\" />\n                      </Tooltip>\n                    </div>\n                  ) : (\n                    <>\n                      <DocTocTitle\n                        showCollapseBtn={true}\n                        isAnchorCollapsed={isAnchorCollapsed}\n                        handleDeepestHeading={handleDeepestHeading}\n                        deepestDisplayAnchor={deepestDisplayAnchor}\n                        setIsAnchorCollapsed={setIsAnchorCollapsed}\n                        tocPlacement={tocPlace}\n                      />\n                      <div\n                        data-ignore-slate\n                        ref={anchorContainerRef}\n                        className={cx('anchor-container', 'ignore-toggle-readonly')}\n                        style={{\n                          maxHeight: contentWrapRect?.height && contentWrapRect.height - 65,\n                          maxWidth: anchorContainerMaxWidth,\n                          overscrollBehavior: 'none',\n\n                          left: '24px',\n                          paddingLeft: '4px',\n                        }}\n                      >\n                        <OutlineAnchor\n                          editor={findAndReplaceMethods.editor}\n                          docId={docId}\n                          scrollRef={scrollRef}\n                          deepestDisplayAnchor={deepestDisplayAnchor}\n                          isLarge={isLarge}\n                          isMobile={isMobile}\n                          isShowAnchor={isShowAnchor}\n                          maxWidth={anchorContainerMaxWidth}\n                        />\n                      </div>\n                    </>\n                  )}\n                </div>\n              )}\n\n              <div\n                id={`overlayContainer-${docId}`}\n                ref={overlayContainerRef}\n                className={cx(\n                  'inner-overlay-container',\n                  css`\n                    top: 0px;\n                    left: 0px;\n                    position: absolute;\n                    z-index: 1000;\n                  `\n                )}\n              ></div>\n\n              <div id={`editorContainerBottom-${docId}`} style={{ gridColumn: 2 }}></div>\n\n              {isShowGlobalComment && typeof window !== 'undefined' && !(isMobile && !isReadOnly) && (\n                <EditorContainerBottomPortal docId={docId}>\n                  <GlobalComment\n                    isMobile={isMobile}\n                    commentData={commentData}\n                    setCommentData={setCommentData}\n                    editor={findAndReplaceMethods.editor}\n                  ></GlobalComment>\n                </EditorContainerBottomPortal>\n              )}\n            </div>\n\n            {typeof window !== 'undefined' &&\n              window.document.getElementById(`editorContainer-${docId}`) &&\n              findAndReplaceMethods.editor &&\n              sideCommentRowNum !== -1 && (\n                <SideCommentCreator\n                  editor={findAndReplaceMethods.editor}\n                  sideCommentRowNum={sideCommentRowNum}\n                  isShowHoveringCommentButton={isShowHoveringCommentButton}\n                  docId={docId}\n                  setSideCommentRowNum={setSideCommentRowNum}\n                  rangeId={curRangeId}\n                  curUserName={me.name}\n                  WIPCommentRangeId={WIPCommentRangeId}\n                  setWIPCommentRangeId={setWIPCommentRangeId}\n                  identicalSelectionRangeId={identicalSelectionRangeId}\n                  setIdenticalSelectionRangeId={setIdenticalSelectionRangeId}\n                  editorClientRect={document.getElementById(`editorarea-${docId}`).getBoundingClientRect()}\n                  containerClientRect={document.getElementById(`editorarea-${docId}`)?.parentElement?.parentElement?.getBoundingClientRect()}\n                />\n              )}\n            {}\n\n            {typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && findAndReplaceMethods.editor ? (\n              <EditorContainerInnerPortal docId={docId}>\n                <AllCommentsList\n                  editor={window.tripdocs.editorsMap[docId]?.editor}\n                  docId={docId}\n                  isShowHoveringCommentButton={isShowHoveringCommentButton}\n                />\n                {}\n              </EditorContainerInnerPortal>\n            ) : null}\n\n            {!isMobile && typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && (\n              <Drawer\n                data-ignore-slate\n                className=\"hotkey-helper-drawer\"\n                placement={'right'}\n                width={330}\n                closable={true}\n                maskClosable={true}\n                onClose={() => setIsShowHotkeyHelper(false)}\n                visible={isShowHotkeyHelper}\n                getContainer={window.document.getElementById(`editorContainer-${docId}`) as any}\n                title={<div className=\"hotkey-drawer-header\">{f('quickGuide')}</div>}\n                headerStyle={{\n                  fontSize: '18px',\n                  fontWeight: 500,\n                }}\n              >\n                <HotkeyHelperContent />\n              </Drawer>\n            )}\n            {}\n            {typeof window !== 'undefined' &&\n            window.document.getElementById(`editorContainer-${docId}`) &&\n            findAndReplaceMethods.editor &&\n            !isShowHistoryManager ? (\n              <EditorContainerOuterPortal docId={docId}>\n                <SideTipContainer\n                  editor={findAndReplaceMethods.editor}\n                  docId={docId}\n                  editorContainerScrollTop={editorContainerScrollTop}\n                  isMobile={isMobile}\n                  scrollRef={scrollRef}\n                  showHelpBlock={isShowHelpBlock}\n                  setIsShowHotkeyHelper={setIsShowHotkeyHelper}\n                ></SideTipContainer>\n              </EditorContainerOuterPortal>\n            ) : null}\n            {typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && findAndReplaceMethods.editor ? (\n              <EditorContainerInnerPortal docId={docId}>\n                <AllCommentsList\n                  editor={window.tripdocs.editorsMap[docId].editor}\n                  docId={docId}\n                  isShowHoveringCommentButton={isShowHoveringCommentButton}\n                />\n                {}\n              </EditorContainerInnerPortal>\n            ) : null}\n\n            {!isMobile && typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && (\n              <Drawer\n                data-ignore-slate\n                className=\"hotkey-helper-drawer\"\n                placement={'right'}\n                width={330}\n                closable={true}\n                maskClosable={true}\n                onClose={() => setIsShowHotkeyHelper(false)}\n                visible={isShowHotkeyHelper}\n                getContainer={window.document.getElementById(`editorContainer-${docId}`) as any}\n                title={<div className=\"hotkey-drawer-header\">{f('quickGuide')}</div>}\n                headerStyle={{\n                  fontSize: '18px',\n                  fontWeight: 500,\n                }}\n              >\n                <HotkeyHelperContent />\n              </Drawer>\n            )}\n\n            {hasCallbacks && typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && (\n              <Drawer\n                data-ignore-slate\n                className=\"history-manager-drawer\"\n                placement={'right'}\n                width={'100vw'}\n                closable={true}\n                maskClosable={true}\n                onClose={() => setIsShowHistoryManager(false)}\n                visible={isShowHistoryManager}\n                getContainer={window.document.getElementById(`editorContainer-${docId}`) as any}\n                title={<div className=\"history-manager-drawer-header\"></div>}\n                closeIcon={\n                  <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                    <IconBtn className=\"Tripdocs-drop_left\" />\n                    <span style={{ color: '#000', marginLeft: '8px', fontWeight: 300 }}>{f('returnToDoc')}</span>\n                  </div>\n                }\n                headerStyle={{\n                  height: '64px',\n                }}\n              >\n                <HistoryManager docId={docId} editor={findAndReplaceMethods.editor} isShowHistoryManager={isShowHistoryManager} />\n              </Drawer>\n            )}\n\n            {!isMobile && !isLarge && isShowAnchor && typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && (\n              <Drawer\n                data-ignore-slate\n                className=\"anchor-drawer\"\n                placement={tocPlace === 'left' ? 'left' : 'right'}\n                width={330}\n                closable={false}\n                onClose={() => setDrawerVisible(false)}\n                visible={drawerVisible}\n                getContainer={window.document.getElementById(`editorContainer-${docId}`)?.firstElementChild as any}\n                handler={\n                  <div\n                    className={classNames('drawer-handle', `drawer-${tocPlace === 'left' ? 'left' : 'right'}`)}\n                    onClick={() => setDrawerVisible(!drawerVisible)}\n                    style={{\n                      top: 29 + 46,\n                    }}\n                  >\n                    {drawerVisible ? <CloseOutlined /> : <IconBtn className=\"Tripdocs-menu\" />}\n                  </div>\n                }\n              >\n                <div\n                  data-ignore-slate\n                  className={cx(\n                    css`\n                      & {\n                        min-width: 171px;\n                        position: absolute;\n                        margin: 24px 0 0 0px;\n                        overflow-y: auto;\n                        overflow-x: hidden;\n                        z-index: 500;\n                      }\n                    `,\n                    'ignore-toggle-readonly'\n                  )}\n                  style={{\n                    maxHeight: contentWrapRect?.height && contentWrapRect.height - 98,\n                  }}\n                >\n                  <OutlineAnchor\n                    editor={findAndReplaceMethods.editor}\n                    docId={docId}\n                    scrollRef={scrollRef}\n                    deepestDisplayAnchor={deepestDisplayAnchor}\n                    isLarge={isLarge}\n                    isMobile={isMobile}\n                    isShowAnchor={isShowAnchor}\n                    maxWidth={'250px'}\n                  />\n                </div>\n              </Drawer>\n            )}\n            {isMobile && isShowAnchor && typeof window !== 'undefined' && window.document.getElementById(`editorContainer-${docId}`) && (\n              <Drawer\n                data-ignore-slate\n                className=\"anchor-drawer\"\n                placement={tocPlace === 'left' ? 'left' : 'right'}\n                width={'15rem'}\n                closable={false}\n                onClose={() => setDrawerVisible(false)}\n                visible={drawerVisible}\n                getContainer={window.document.getElementById(`editorContainer-${docId}`)?.firstElementChild as any}\n                handler={\n                  <div\n                    className={css`\n                      & {\n                        width: 2rem;\n                        height: 2rem;\n                        ${tocPlace === 'left' ? `right: -2rem;` : `left: -2rem;`}\n                        position: absolute;\n                        top: 8rem;\n                        cursor: pointer;\n                        z-index: 0;\n                        text-align: center;\n                        line-height: 3.5rem;\n                        font-size: 1rem;\n                        display: -webkit-box;\n                        display: -ms-flexbox;\n                        display: flex;\n                        -webkit-box-pack: center;\n                        -ms-flex-pack: center;\n                        justify-content: center;\n                        -webkit-box-align: center;\n                        -ms-flex-align: center;\n                        align-items: center;\n                        background: #fff;\n                        -webkit-box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);\n                        box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);\n                        border-radius: ${tocPlace === 'left' ? `0 4px 4px 0` : `4px 0 0 4px`};\n                      }\n                    `}\n                    onClick={() => setDrawerVisible(!drawerVisible)}\n                  >\n                    {drawerVisible ? <CloseOutlined /> : <IconBtn className=\"Tripdocs-menu\" />}\n                  </div>\n                }\n              >\n                <DocTocTitle\n                  showCollapseBtn={false}\n                  isAnchorCollapsed={isAnchorCollapsed}\n                  handleDeepestHeading={handleDeepestHeading}\n                  deepestDisplayAnchor={deepestDisplayAnchor}\n                  setIsAnchorCollapsed={setIsAnchorCollapsed}\n                  tocPlacement={tocPlace}\n                />\n                <div\n                  data-ignore-slate\n                  className={cx(\n                    css`\n                      & {\n                        min-width: 171px;\n                        position: absolute;\n                        margin: 24px 0 0 0px;\n                        overflow-y: auto;\n                        overflow-x: hidden;\n                        z-index: 500;\n                      }\n                    `,\n                    'ignore-toggle-readonly'\n                  )}\n                  style={{\n                    maxHeight: contentWrapRect?.height && contentWrapRect.height - 98,\n                  }}\n                >\n                  <OutlineAnchor\n                    editor={findAndReplaceMethods.editor}\n                    docId={docId}\n                    scrollRef={scrollRef}\n                    deepestDisplayAnchor={deepestDisplayAnchor}\n                    isLarge={isLarge}\n                    isMobile={isMobile}\n                    isShowAnchor={isShowAnchor}\n                    maxWidth={'250px'}\n                  />\n                </div>\n              </Drawer>\n            )}\n            {}\n            {typeof window !== 'undefined' &&\n              window.document.getElementById(`editorContainer-${docId}`) &&\n              placeholderContentVisible &&\n              !isReadOnly && (\n                <EditorContainerInnerPortal docId={docId}>\n                  <div\n                    data-ignore-slate\n                    className={cx(\n                      'placeholder-content',\n                      'ignore-toggle-readonly',\n                      css`\n                        position: absolute;\n                        user-select: none;\n                        pointer-events: none;\n                        color: rgba(0, 0, 0, 0.25);\n                        line-height: ${findAndReplaceMethods.editor?.children[1]?.lineHeight ?? null};\n\n                        font-size: 14px;\n                      `\n                    )}\n                    contentEditable={false}\n                    style={{\n                      display: placeholderContentVisible ? null : 'none',\n                      top: placeholderRects.contentRect.top,\n                      left: placeholderRects.contentRect.left,\n                    }}\n                  >\n                    {f('contextHint')}\n                  </div>\n                </EditorContainerInnerPortal>\n              )}\n          </TripdocsSdkContext.Provider>\n        </ErrorBoundary>\n      </div>\n    );\n  } catch (e) {\n    console.log('****Catch Error: ', e);\n  }\n};\n\nexport const judgePhone = function () {\n  let userAgent = navigator.userAgent,\n    Agents = ['Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPad', 'iPod'];\n  return Agents.some(i => {\n    return userAgent.includes(i);\n  });\n};\n\nexport default Docs;\n","import { useState } from 'react';\n\nexport function useForceUpdate() {\n  const [value, setValue] = useState(0);\n  return { dep: value, trigger: () => setValue(value => value + 1) };\n}\n","import { useEffect, useState } from 'react';\nimport { Node, Transforms } from '@src/components/slate-packages/slate';\nimport { ReactEditor } from '../../slate-packages/slate-react';\n\nexport const findAndReplace = (highlight: any) => {\n  const [highlightRanges, setHightlightRanges] = useState([]);\n  const [num, setNum] = useState(0);\n\n  useEffect(() => {\n    setHightlightRanges(highlight);\n    if (num >= highlight.length && highlight.length !== 0) {\n      setNum(highlight.length - 1);\n    }\n  }, [highlight]);\n\n  const getNum = () => {\n    return num;\n  };\n\n  const find = (editor: any) => {\n    if (highlightRanges.length > 0) {\n      let thisNum = 0;\n      if (num + 1 < highlightRanges.length) {\n        setNum(num + 1);\n        thisNum = num + 1;\n      } else {\n        setNum(0);\n        thisNum = 0;\n      }\n      const value = highlightRanges[thisNum];\n      const dom = ReactEditor.toDOMNode(editor, Node.get(editor, [highlightRanges[thisNum].anchor.path[0]]));\n      const parentDom = ReactEditor.toDOMNode(editor, Node.parent(editor, [highlightRanges[thisNum].anchor.path[0]])).parentElement.parentElement;\n      const height = dom.getBoundingClientRect().top + 70;\n\n      parentDom.scrollTop = height + parentDom.scrollTop - window.innerHeight;\n      console.log(value);\n\n      return { anchor: value.anchor, focus: value.focus };\n    }\n    return null;\n  };\n\n  const replace = (editor: any, replace: any) => {\n    if (highlightRanges.length > 0) {\n      Transforms.delete(editor, {\n        at: { anchor: highlightRanges[num].anchor, focus: highlightRanges[num].focus },\n      });\n      Transforms.insertText(editor, replace, {\n        at: { anchor: highlightRanges[num].anchor, focus: highlightRanges[num].anchor },\n      });\n    }\n  };\n\n  const replaceAll = (editor: any, replace: any) => {\n    if (highlightRanges.length > 0) {\n      for (let i = highlightRanges.length - 1; i >= 0; i--) {\n        Transforms.delete(editor, {\n          at: { anchor: highlightRanges[i].anchor, focus: highlightRanges[i].focus },\n        });\n        Transforms.insertText(editor, replace, {\n          at: { anchor: highlightRanges[i].anchor, focus: highlightRanges[i].anchor },\n        });\n      }\n    }\n  };\n\n  return {\n    getNum,\n    find,\n    replace,\n    replaceAll,\n  };\n};\n","import { ClearOutlined, FormatPainterOutlined } from '@ant-design/icons';\nimport { css, cx } from '@emotion/css';\nimport { min } from 'lodash';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport { Editor, Node, Range, Transforms, Text, NodeEntry, Point, Path } from '@src/components/slate-packages/slate';\nimport { isRGBLight } from '../../../../utils/hexColorUtils';\nimport storage from '../../../../utils/storage';\nimport { ReactEditor, useSlate } from '../../../slate-packages/slate-react';\nimport { IconBtn, IconButton } from '../Components';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\nimport { createRandomId } from '../../../../utils/randomId';\nimport { alignToggle, isAlignActive } from './align';\nimport { colorChoice, colorNamesMap } from './color';\nimport { fontSize } from './fontSize';\nimport { getAllMatchedFormatNames } from './format';\nimport { isMarkActive, toggleMark } from './mark';\nimport { insertCommentStyle } from '../SideComment/commentOps';\nimport { TripdocsSdkContext } from '../../../../Docs';\nimport { isInTable } from '../withHtml';\nimport { getParentPathByTypes } from '../pluginsUtils/getPathUtils';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { getSelectionFromDomSelection } from '@src/components/slate-packages/slate-react/components/editable';\nimport { getEditorEventEmitter } from '../table/selection';\n\nexport const MarkButton: React.FC<any> = ({ format, icon, editor, ...props }) => {\n  const selection = editor && editor.selection;\n  const markActive = editor && isMarkActive(editor, format);\n  const [active, setActive] = useState(markActive);\n\n  const isMarkActiveInCell = (format, cellPath) => {\n    const [match] = Editor.nodes(editor, { at: cellPath, match: Text.isText });\n\n    if (match) {\n      const [node] = match as NodeEntry<Text>;\n      const { text, ...rest } = node;\n      return rest && rest[format];\n    } else {\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    setActive(markActive);\n  }, [markActive]);\n\n  return (\n    <IconButton\n      {...props}\n      active={active}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        console.log('[MarkButton]0', selection, isMarkActive(editor, format));\n        const selCells = SEL_CELLS.get(editor);\n        if (selCells && selCells.length > 0) {\n          const firstCellEntry = selCells[0];\n          const [, firstCellPath] = firstCellEntry;\n          const isActive = isMarkActiveInCell(format, firstCellPath);\n\n          selCells.forEach(entry => {\n            const [, path] = entry;\n            console.log('toggleMark', format, entry, isActive);\n            Transforms.setNodes(editor, { [format]: !isActive }, { at: path, match: Text.isText, split: true });\n          });\n        } else if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n          console.log('[MarkButton]1', selection, format, editor.marks, isMarkActive(editor, format), markActive);\n          toggleMark(editor, format);\n\n          setActive(!markActive);\n        }\n      }}\n    >\n      <IconBtn className={icon}></IconBtn>\n    </IconButton>\n  );\n};\n\nexport const FontButton: React.FC<any> = ({ format, icon, ...props }) => {\n  const editor = useSlate();\n  const selection = editor.selection;\n  return (\n    <IconButton\n      {...props}\n      active={false}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n          fontSize(editor, format);\n        }\n      }}\n    >\n      <IconBtn className={icon}></IconBtn>\n    </IconButton>\n  );\n};\n\nexport const ColorButton: React.FC<any> = ({ editor, format, color, callback, curSelectedColor }) => {\n  const selection = editor && editor.selection;\n  const isSelected =\n    curSelectedColor === color ||\n    (format === 'backgroundColor' && color === 'rgb(255, 255, 255)' && !curSelectedColor) ||\n    (format === 'fontColor' && color === 'rgb(0, 0, 0)' && !curSelectedColor) ||\n    (format === 'cellBackgroundColor' && color === 'rgb(255, 255, 255)' && !curSelectedColor);\n  return (\n    <div\n      title={colorNamesMap[color]}\n      className={cx(\n        format === 'fontColor' ? 'toolbar-font-colorbtn' : 'toolbar-bg-colorbtn',\n        format === 'backgroundColor' && color === 'rgb(255, 255, 255)'\n          ? css`\n              &::before {\n                content: '|';\n                color: red;\n                position: absolute;\n                transform: rotate(-45deg) scale(2.5);\n                font-weight: 100;\n              }\n            `\n          : '',\n        css`\n          & {\n            border-radius: 4px;\n            border: solid 1px #dee0e3;\n            cursor: pointer;\n            margin-left: 2px;\n            overflow: hidden;\n            &:hover {\n              outline: solid 2px rgba(180, 213, 254, 0.5);\n            }\n          }\n        `\n      )}\n      style={{\n        backgroundColor: color,\n        width: '20px',\n        height: '20px',\n        position: 'relative',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n        if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n          colorChoice(editor, format, color);\n          callback && callback(color);\n        }\n      }}\n    >\n      {isSelected ? (\n        <div\n          className={cx(\n            'cur-selected-color-tick',\n            css`\n              & > svg {\n                width: 14px;\n                height: 14px;\n                transform: translate(-1px, -1px);\n              }\n            `\n          )}\n        >\n          {/* hewb ok */}\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"256\"\n            height=\"256\"\n            viewBox=\"0 0 256 256\"\n            style={{\n              marginLeft: 2,\n              marginTop: 6,\n            }}\n            fill={isRGBLight(color) ? 'rgba(0, 0, 0, .5)' : 'rgb(255, 255, 255)'}\n          >\n            <path d=\"M107.36 241.6L0 127.55l27.523-23.04 62.082 50.85c25.438-31.6 81.922-94.299 159.835-144.16L256 26.994C184.484 95.628 125.925 192.228 107.36 241.6z\" />\n          </svg>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport const AlignButton: React.FC<any> = ({ format, icon, editor, ...props }) => {\n  const selection = editor && editor.selection;\n\n  const alignActive = editor && isAlignActive(editor, format, selection);\n  const [active, setActive] = useState(alignActive);\n\n  useEffect(() => {\n    if (editor?.docId) {\n      getEditorEventEmitter(editor.docId).on(\n        'mobileAlignButtonClick',\n        fmt => {\n          if (format !== fmt) {\n            setActive(false);\n          } else {\n            setActive(true);\n          }\n        },\n        editor.docId\n      );\n    }\n  }, [editor?.docId]);\n\n  return (\n    <IconButton\n      {...props}\n      active={active}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        const align = format.split('-')[1];\n        alignToggle(editor, align, editor.selection);\n        setActive(!alignActive);\n        editor?.docId && getEditorEventEmitter(editor.docId).emit('mobileAlignButtonClick', editor.docId, format);\n      }}\n    >\n      <IconBtn className={icon}></IconBtn>\n    </IconButton>\n  );\n};\n\nexport const SideCommentButton: React.FC<any> = ({ icon, setSideCommentRowNum, setCurRangeId, editorId, ...props }) => {\n  const editor: any = useSlate();\n  const { selection } = editor;\n  const { setIdenticalSelectionRangeId, setWIPCommentRangeId } = useContext(TripdocsSdkContext);\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  useEffect(() => {\n    if (selection && ReactEditor.hasRange(editor, selection) && Range.isExpanded(selection)) {\n      const nodes = Editor.nodes(editor, { at: selection });\n      for (const [node, path] of nodes) {\n        if (node && (node as any).type && (node as any).type === 'mention') {\n          setIsDisabled(true);\n          break;\n        }\n      }\n\n      if (isInTable(editor)) {\n        setIsDisabled(true);\n      }\n    } else {\n      setIsDisabled(false);\n    }\n  }, [selection]);\n\n  useEffect(() => {\n    window.tripdocs.editorsMap[editor.docId].api.addComment = function () {\n      addComment(\n        window.tripdocs.editorsMap[editor.docId].editor,\n        setSideCommentRowNum,\n        setCurRangeId,\n        editorId,\n        setIdenticalSelectionRangeId,\n        false,\n        setWIPCommentRangeId\n      );\n    };\n  }, []);\n\n  return isDisabled ? (\n    <IconButton {...props} disabled={true}>\n      <IconBtn\n        className={icon}\n        style={{\n          color: '#a0a0a0',\n        }}\n      ></IconBtn>\n    </IconButton>\n  ) : (\n    <IconButton\n      {...props}\n      onMouseDown={async (event: any) => {\n        event.preventDefault();\n\n        window.tripdocs.editorsMap[editor.docId].api.addComment();\n      }}\n    >\n      <IconBtn className={icon}></IconBtn>\n    </IconButton>\n  );\n};\n\nexport const ShareButton: React.FC<any> = ({ icon, editor, callback, ...props }) => {\n  const selection = editor.selection;\n  return (\n    <IconButton\n      {...props}\n      onMouseDown={async (event: any) => {\n        event.preventDefault();\n        const shareInfo = {\n          docUrl: '',\n          targetLocation: editor.selection.focus.path.slice(0, -1),\n          targetNode: Node.get(editor, editor.selection.focus.path.slice(0, -1)),\n          sharer: storage.get('userInfo'),\n          readOnly: false,\n        };\n        callback(shareInfo);\n        Transforms.deselect(editor);\n      }}\n    >\n      <IconBtn>{icon}</IconBtn>\n    </IconButton>\n  );\n};\n\nlet count = 0;\nlet isDoubleClick = false;\nexport const FormatButton: React.FC<any> = ({ format, editor, onClick, ...props }) => {\n  const selection = editor && editor.selection;\n  const formats = ['backgroundColor', 'fontColor', 'code', 'underline', 'bold', 'italic', 'fontSizeChange', 'strikethrough'];\n  const [copyBtnArr, setCopyBtnArr] = useState([]);\n  const [copyBtnActive, setCopyBtnActive] = useState(false);\n\n  const [copyMeta, setCopyMeta] = useState({ type: null, tabLevel: null, oldType: null, id: null });\n  const copyBtnActiveRef = useRef(copyBtnActive);\n  const copyBtnArrRef = useRef(copyBtnArr);\n  const copyMetaRef = useRef(copyMeta);\n\n  const mouseUpFn = () => {\n    const selection = editor && editor.selection;\n    const curCopyBtnActive = copyBtnActiveRef.current;\n    const curCopyBtnArr = copyBtnArrRef.current;\n    const curCopyMeta = copyMetaRef.current;\n    if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n      if (curCopyBtnActive) {\n        const editorEl = editor && ReactEditor.toDOMNode(editor, editor);\n        if (Range.isCollapsed(selection)) {\n          Transforms.select(editor, selection.focus.path.slice(0, -1));\n        }\n        formats.forEach((format: any) => {\n          Editor.removeMark(editor, format);\n        });\n        let fmtObj: any = {};\n        curCopyBtnArr.forEach(item => Object.assign(fmtObj, item));\n        for (let key in fmtObj) {\n          Editor.addMark(editor, key, fmtObj[key]);\n        }\n\n        Object.values(curCopyMeta).some(item => item !== null) && Transforms.setNodes(editor, curCopyMeta as any);\n\n        if (isDoubleClick) {\n          return;\n        }\n        setCopyMeta({ type: null, tabLevel: null, oldType: null, id: null });\n        setCopyBtnArr([]);\n        setCopyBtnActive(false);\n        copyBtnArrRef.current = [];\n        copyBtnActiveRef.current = false;\n        copyMetaRef.current = { type: null, tabLevel: null, oldType: null, id: null };\n        editorEl.style.cursor = 'unset';\n        Transforms.collapse(editor, { edge: 'focus' });\n      }\n    }\n  };\n  const resetCopyBtn = () => {\n    const editorEl = editor && ReactEditor.toDOMNode(editor, editor);\n    setCopyMeta({ type: null, tabLevel: null, oldType: null, id: null });\n    setCopyBtnArr([]);\n    setCopyBtnActive(false);\n    copyBtnArrRef.current = [];\n    copyBtnActiveRef.current = false;\n    copyMetaRef.current = { type: null, tabLevel: null, oldType: null, id: null };\n    editorEl.style.cursor = 'unset';\n    Transforms.collapse(editor, { edge: 'focus' });\n  };\n\n  useEffect(() => {\n    const editorEl = editor && ReactEditor.toDOMNode(editor, editor);\n    editorEl && editorEl.addEventListener('mouseup', mouseUpFn);\n    return () => {\n      editorEl && editorEl.removeEventListener('mouseup', mouseUpFn);\n    };\n  }, [editor]);\n\n  switch (format) {\n    case 'reset':\n      return (\n        <IconButton\n          {...props}\n          active={false}\n          onClick={onClick}\n          onMouseDown={(event: any) => {\n            event.preventDefault();\n            event.stopPropagation();\n            event.nativeEvent.stopImmediatePropagation();\n            if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n              formats.forEach((format: any) => {\n                Editor.removeMark(editor, format);\n              });\n            }\n          }}\n        >\n          <IconBtn\n            className=\"Tripdocs-clear_format\"\n            style={{ fontSize: 18 }}\n            onMouseDown={(e: any) => {\n              e.preventDefault();\n            }}\n          />\n        </IconButton>\n      );\n    case 'copy':\n      return (\n        <IconButton\n          {...props}\n          active={copyBtnActive}\n          onMouseDown={(event: any) => {\n            let selection = editor.selection;\n            count += 1;\n            setTimeout(() => {\n              if (count === 1) {\n                if (copyBtnActive) {\n                  resetCopyBtn();\n                }\n                isDoubleClick = false;\n              } else if (count === 2) {\n                isDoubleClick = true;\n              }\n              count = 0;\n            }, 300);\n\n            event.preventDefault();\n            if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n              if (!copyBtnActive) {\n                const nextFormatNode = Editor.nodes(editor, {\n                  at: selection,\n                  match: (node: any) => {\n                    if (!node.text) return false;\n                    const formatCount = getAllMatchedFormatNames(node, formats).length;\n                    return formatCount > 0;\n                  },\n                }).next().value;\n                if (nextFormatNode) {\n                  const [node, path]: any = nextFormatNode;\n                  const formatArr = getAllMatchedFormatNames(node, formats);\n                  setCopyBtnArr(formatArr);\n                  copyBtnArrRef.current = formatArr;\n                } else {\n                  setCopyBtnArr([]);\n                  copyBtnArrRef.current = [];\n                }\n\n                const [curNode]: any = Editor.above(editor, { at: Editor.start(editor, selection) });\n\n                console.log('[onDoubleClick] curNode ', curNode, selection, editor.selection);\n                if (curNode.type || curNode.tabLevel) {\n                  setCopyMeta({\n                    type: (curNode as any).type,\n                    tabLevel: (curNode as any).tabLevel,\n                    oldType: (curNode as any).oldType,\n                    id: (curNode as any).id,\n                  }); // 设置 heading，li 等格式\n                  copyMetaRef.current = {\n                    type: (curNode as any).type,\n                    tabLevel: (curNode as any).tabLevel,\n                    oldType: (curNode as any).oldType,\n                    id: (curNode as any).id,\n                  };\n                }\n                setCopyBtnActive(true);\n                copyBtnActiveRef.current = true;\n\n                if (typeof window !== 'undefined') {\n                  const editorEl = editor && ReactEditor.toDOMNode(editor, editor);\n                  editorEl.style.cursor = `url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAABv0lEQVRIDe2UPSiFYRTHfZavDEySQclgQ5IFJbEQWVjEqJiQUiws8rVQyGi6q8nNJlEWWdgQkyw+E4Xf/3quzn09F7eU5Z76dc75n/Pc8z7v87w3JSVp//0G0s0DjBHnwKnTVKuFdjhwWtAVIdTAPTwGi8F8GmEHQqCFYdiFSfBZK+I1bMMVVMOvbJauZ5j7oXuTerfrGcav+PrTPOIEWiaMe2pWuiO5dcINXvkX8w14cl3axXe2R7HBNTTi910c43wDYho8ic6nA7TLZleXzwddiAKnRVyqTUz8Ruyr5aJfwha8gA53FFYhC/KgCkrhFeKaBvisHFED4pneiAZrUMQyooHxiy5ewg8aXeEZ6Izk9UMyu9Nscp2FvouI+Qacu9qx89bp4HdBPcu2QKyn34DpgO5N470iNV9AiXfVx4AeW0v0FlWwWNvXEGtdNrFxogNGWLxuf4C4EIaMFrN734Ac16wraU1Xrw3WrEhcD5VOswcekYKHrIEL8ADzMADRJ2oh1g0aBmudJPrIZqAJpuDT7A50LQ9BH0wxaNERRP/0QsT6Q9POLGHXowfphRPwWh9qWaBSR94f0JLp376Bd9juSuHEZV/lAAAAAElFTkSuQmCC') 5 5,text`;\n                }\n              }\n            }\n          }}\n        >\n          <IconBtn className=\"Tripdocs-format_brush\" style={{ fontSize: 18 }} />\n        </IconButton>\n      );\n    default:\n      return null;\n  }\n};\n\nexport function addComment(\n  editor: ReactEditor,\n  setSideCommentRowNum: any,\n  setCurRangeId: any,\n  editorId: any,\n  setIdenticalSelectionRangeId: any,\n  isInlineImage: boolean = false,\n  setWIPCommentRangeId: any\n) {\n  const domSelection = window.getSelection();\n\n  let selection = editor.selection;\n  const editorOptions = window.tripdocs.editorsMap[editor.docId];\n  if (!selection) {\n    if (editorOptions.readOnly) {\n      selection = getSelectionFromDomSelection(editor, domSelection);\n    }\n    console.log('[addComment] selection', selection);\n    if (!selection) {\n      return;\n    }\n  }\n\n  let anchorSelection = null;\n\n  const anchorRowPath = selection.anchor.path.slice(0, -1);\n  const focusRowPath = selection.focus.path.slice(0, -1);\n\n  let texts: string[] = [];\n  let title = '';\n  const fragments = Node.fragment(editor, selection);\n  for (let i = 0; i < fragments.length; i++) {\n    texts.push(Node.string(fragments[i]));\n  }\n  for (const str of texts) {\n    title += str;\n  }\n  console.log('[addComment]~~[texts]', texts, selection, fragments, fragments.length);\n  anchorSelection = isInlineImage ? getInnerSelection(editor, selection) : selection;\n\n  console.log('[addComment] {title}', title, anchorSelection);\n\n  if (isInlineImage) {\n    const commentType = ELTYPE.INLINEIMAGE;\n    insertCommentStyle(editor, anchorSelection, setCurRangeId, editorId, setIdenticalSelectionRangeId, setWIPCommentRangeId, title, commentType);\n  } else {\n    insertCommentStyle(editor, anchorSelection, setCurRangeId, editorId, setIdenticalSelectionRangeId, setWIPCommentRangeId, title);\n  }\n\n  ReactEditor.blur(editor);\n  console.log('[addComment] [anchorRowPath]', anchorRowPath);\n  const tabbableParentPath = getParentPathByTypes(editor, selection.anchor.path, TABBABLE_TYPES);\n  if (tabbableParentPath) {\n    setSideCommentRowNum(tabbableParentPath[0]);\n  }\n\n  setTimeout(() => {\n    const textareaDom: HTMLElement = document.getElementsByClassName('comment-creator')[0] as HTMLElement;\n    textareaDom && textareaDom.children && textareaDom.children[0] && (textareaDom.children[0] as HTMLElement).focus();\n  }, 150);\n}\n\nfunction getInnerSelection(editor, selection) {\n  if (!editor || !selection) {\n    return null;\n  }\n  const anchorPoint = selection.anchor;\n  const point = { path: Path.next(anchorPoint.path), offset: 0 };\n  const inlineImageEntry = Editor.node(editor, point);\n  if (inlineImageEntry) {\n    const [node, path] = inlineImageEntry;\n    console.log('[getInnerSelection] [inlineImageEntry]', node, path);\n    if ((node as any).type === ELTYPE.INLINEIMAGE) {\n      return {\n        anchor: {\n          path: [...path, 0],\n          offset: 0,\n        },\n        focus: {\n          path: [...path, 0],\n          offset: 0,\n        },\n      };\n    }\n  }\n}\n","import { css, cx } from '@emotion/css';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { f } from '@src/resource/string';\nimport { min } from 'lodash';\nimport React from 'react';\nimport { COLOR_DEFAULT } from '../Components';\nimport { ColorButton } from './buttons';\nimport { colorArray, colorChoice, ColorFormat } from './color';\n\nconst DEFAULT_COLOR = {\n  FONT: 'rgb(0, 0, 0)',\n  BACKGROUND: 'rgb(255, 255, 255)',\n};\n\nconst getDefaultColor = (colorFormat: ColorFormat) => {\n  return colorFormat === 'fontColor' ? DEFAULT_COLOR.FONT : DEFAULT_COLOR.BACKGROUND;\n};\n\nexport const dropdownMenuColor = (editor: any, colorFormat: ColorFormat, callback: any, curSelectedColor: string) => (\n  <div\n    style={{\n      backgroundColor: 'white',\n      border: '1px solid #dee0e3',\n      borderRadius: '4px',\n      boxShadow: '0 0 15px 0 rgba(0, 0, 0, 0.2)',\n      userSelect: 'none',\n    }}\n  >\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '10px',\n      }}\n    >\n      {}\n      <div\n        className={cx(\n          'default-color-button',\n          css`\n            cursor: pointer;\n            margin-bottom: 5px;\n            display: flex;\n            align-items: center;\n            justify-content: flex-start;\n            width: 100%;\n            height: 26px;\n            border-radius: 4px;\n            &:hover {\n              background-color: ${COLOR_DEFAULT.HOVER_BG_COLOR};\n            }\n          `\n        )}\n        onMouseDown={event => {\n          event.preventDefault();\n          event.stopPropagation();\n          event.nativeEvent.stopImmediatePropagation();\n          const { selection } = editor;\n          if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n            const defaultColor = getDefaultColor(colorFormat);\n            colorChoice(editor, colorFormat, defaultColor);\n            callback && callback(defaultColor);\n          }\n        }}\n      >\n        <div\n          className={cx(\n            css`\n              border-radius: 4px;\n              border: solid 1px #dee0e3;\n              margin-left: 2px;\n              background-color: ${getDefaultColor(colorFormat)};\n              width: 20px;\n              height: 20px;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              overflow: hidden;\n              position: relative;\n            `,\n            colorFormat === 'backgroundColor'\n              ? css`\n                  &::before {\n                    content: '|';\n                    color: red;\n                    position: absolute;\n                    transform: rotate(-45deg) scale(2.5);\n                    font-weight: 100;\n                  }\n                `\n              : null\n          )}\n        />\n        <span style={{ marginLeft: '8px' }}>{f('default')}</span>\n      </div>\n      <div\n        style={{\n          display: 'flex',\n          width: 220,\n          height: 196,\n          flexFlow: 'wrap',\n        }}\n      >\n        {colorArray.map((colorItem: string, index: number) => (\n          <ColorButton\n            editor={editor}\n            format={colorFormat}\n            color={colorItem}\n            key={index}\n            callback={callback}\n            curSelectedColor={curSelectedColor}\n          ></ColorButton>\n        ))}\n      </div>\n    </div>\n  </div>\n);\n","import isHotkey from 'is-hotkey';\nimport { Editor } from '@src/components/slate-packages/slate';\nimport { toggleMark } from './mark';\nimport { toggleBlock } from '../block';\nimport { ELTYPE } from '../config';\n\nexport const onKeyDownTextMark = (e: KeyboardEvent, editor: Editor) => {\n  if (!editor.selection) {\n    console.log('[onKeyDownTextMark]', 'Selection不存在，不做处理！');\n    return;\n  }\n  const isTitle = editor.selection.focus.path[0] === 0;\n  if (isTitle) {\n    return;\n  }\n  if (isHotkey('mod+b', e)) {\n    e.preventDefault();\n    toggleMark(editor, 'bold');\n  }\n  if (isHotkey('mod+i', e)) {\n    e.preventDefault();\n    toggleMark(editor, 'italic');\n  }\n  if (isHotkey('mod+shift+x', e)) {\n    e.preventDefault();\n    toggleMark(editor, 'strikethrough');\n  }\n  if (isHotkey('mod+u', e)) {\n    e.preventDefault();\n    toggleMark(editor, 'underline');\n  }\n  if (isHotkey('mod+e', e)) {\n    e.preventDefault();\n    toggleMark(editor, 'code');\n  }\n  if (isHotkey('mod+alt+t', e)) {\n    e.preventDefault();\n    toggleBlock(editor, ELTYPE.TODO_LIST, editor.selection);\n  }\n};\n","import { ShareAltOutlined } from '@ant-design/icons';\nimport { Dropdown, Tooltip } from 'antd';\nimport $ from 'jquery';\nimport _, { debounce, min, throttle } from 'lodash';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Editor, Node, Path, Point, Range } from '@src/components/slate-packages/slate';\nimport { ReactEditor, useSlate } from '../../../slate-packages/slate-react';\n\nimport { HoverMenu, IconBtn, IconButton } from '../Components';\nimport { ELTYPE, INLINE_TYPES, TABBABLE_TYPES } from '../config';\nimport { insertEditLink } from '../EditLink';\nimport { isSameLineSelection } from '../pluginsUtils/selectionUtils';\nimport { SideCommentButton, FontButton, MarkButton, ShareButton } from './buttons';\nimport { dropdownMenuColor } from './dropdownMenus';\nimport { getColorMark, toggleMark } from './mark';\nimport { getCache, setCache } from '@src/utils/cacheUtils';\nimport { getParentPathByTypes } from '../pluginsUtils/getPathUtils';\nimport { getSelectionFromDomSelection } from '@src/components/slate-packages/slate-react/components/editable';\nimport { f } from '@src/resource/string';\n\nexport const HoveringToolbar = (props: any) => {\n  const {\n    shareCallback,\n    showToolbar,\n    editorId,\n    currentColor,\n    setCurrentColor,\n    setSideCommentRowNum,\n    setCurRangeId,\n    isMobile,\n    isShowHoveringCommentButton,\n  } = props;\n\n  const ref = useRef<HTMLDivElement | null>();\n  const editor: any = useSlate();\n  const [select, setSelect] = useState(editor.selection);\n  const [visible, setVisible] = useState({\n    fontColorVisible: false,\n    bgColorVisible: false,\n    cellBgColorVisible: false,\n    cellBgColor: 'rgb(0, 255, 0)',\n  });\n\n  const bgColorClick = () => {\n    Editor.addMark(editor, 'backgroundColor', currentColor.bgColor);\n  };\n\n  const fontColorClick = () => {\n    Editor.addMark(editor, 'fontColor', currentColor.fontColor);\n  };\n\n  const compareWidth = () => {\n    if (window.innerWidth < 768) {\n      return 10;\n    } else if (window.innerWidth >= 768 && window.innerWidth < 992) {\n      return -50;\n    } else {\n      return -200;\n    }\n  };\n\n  const handleChange = (value: any) => {\n    console.log(value);\n    const selection = select;\n    if (selection && ReactEditor.hasRange(editor, selection) && min([selection.anchor.path[0], selection.focus.path[0]]) !== 0) {\n      toggleMark(editor, value);\n    }\n  };\n  const isInElectron: boolean = getCache(editor?.docId, 'options')?.isInElectron;\n\n  useEffect(() => {\n    const handleMouseUp = () => {\n      if (getCache(editor.docId, 'mouseIsPress')) {\n        return;\n      }\n      const selection: any = editor && editor.selection;\n\n      const el = ref.current;\n\n      if (!el) {\n        return;\n      }\n      if (!selection || !ReactEditor.isFocused(editor) || Range.isCollapsed(selection) || Editor.string(editor, selection) === '') {\n        el.removeAttribute('style');\n        return;\n      }\n      if (isMobile && ReactEditor.isReadOnly(editor)) {\n        el.style.display = 'none';\n        return;\n      }\n      const domSelection = window.getSelection();\n      const { anchorNode, focusNode } = domSelection;\n      if (!domSelection || !anchorNode || !focusNode) {\n        return;\n      }\n      const [focusParentPath, anchorParentPath] = [\n        getParentPathByTypes(editor, selection.focus.path, TABBABLE_TYPES),\n        getParentPathByTypes(editor, selection.anchor.path, TABBABLE_TYPES),\n      ];\n\n      console.log(focusParentPath, anchorParentPath);\n      const isAbove = Point.isAfter(selection.anchor, selection.focus);\n      const domRange = domSelection.getRangeAt(0);\n      const rect = domRange.getBoundingClientRect();\n      el.style.transition = 'opacity 0.4s ease-in-out';\n      el.style.position = 'absolute';\n      el.style.lineHeight = '1';\n      const editorRect = $(`#${editorId}`)[0].getBoundingClientRect();\n      console.log('[handleMouseUp]', editor.selection);\n      if (editor.selection === null || (editor && Range.isCollapsed(editor.selection))) {\n        return;\n      }\n      const curNode: any = Editor.above(editor, selection) && Editor.above(editor, selection)[0];\n      if (\n        curNode\n          ? !(\n              (curNode.clientId && selection && ReactEditor.hasRange(editor, selection) && !_.isEqual(selection.focus.path, selection.anchor.path)) ||\n              curNode.type === ELTYPE.TABLE\n            )\n          : true\n      ) {\n        el.style.opacity = '1';\n        el.style.zIndex = '1000';\n        el.style.top = isAbove ? `${rect.top - editorRect.top + 40}px` : `${rect.bottom - editorRect.top + 90}px`;\n\n        let leftOffset = window.innerWidth - (rect.left + window.pageXOffset) - 420;\n        if (0 < leftOffset) {\n          leftOffset = 0;\n        }\n\n        el.style.left = `${rect.left - editorRect.left + leftOffset}px`;\n      }\n    };\n\n    const handleMouseMove = _.debounce(() => setTimeout(handleMouseUp, 200), 220);\n    const editorEl = ReactEditor.toDOMNode(editor, editor);\n\n    function mouseUp() {\n      setCache(editor.docId, 'mouseIsPress', false);\n      handleMouseUp();\n      const el = ref.current;\n      setTimeout(() => {\n        if (el && editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && !Range.isCollapsed(editor.selection)) {\n          el.style.display = 'flex';\n        }\n      }, 100);\n    }\n    function mouseDown() {\n      setCache(editor.docId, 'mouseIsPress', true);\n      const el = ref.current;\n      if (el) {\n        el.style.display = 'none';\n      }\n    }\n    editorEl.addEventListener('mouseup', mouseUp);\n    editorEl.addEventListener('mousedown', mouseDown);\n    document.addEventListener('selectionchange', handleMouseMove);\n    console.log('[handleMouseUp] init', editorEl);\n\n    return () => {\n      setCache(editor.docId, 'mouseIsPress', false);\n      editorEl.removeEventListener('mouseup', mouseUp);\n      editorEl.removeEventListener('mousedown', mouseDown);\n      document.removeEventListener('selectionchange', handleMouseMove);\n    };\n  }, []);\n  const en = 'en';\n  return (\n    <HoverMenu className=\"hovering-toolbar-wrap\" ref={ref}>\n      {}\n      <Tooltip title={`${f('bold')}（Ctrl+B）`}>\n        <MarkButton format=\"bold\" editor={editor} icon=\"Tripdocs-bold\" />\n      </Tooltip>\n      <Tooltip title={`${f('italic')}（Ctrl+I）`}>\n        <MarkButton format=\"italic\" editor={editor} icon=\"Tripdocs-italic\" />\n      </Tooltip>\n      <Tooltip title={`${f('underline')}（Ctrl+U）`}>\n        <MarkButton format=\"underline\" editor={editor} icon=\"Tripdocs-underline\" />\n      </Tooltip>\n      <Tooltip title={`${f('strikethrough')}（Ctrl+Shift+X）`}>\n        <MarkButton format=\"strikethrough\" editor={editor} icon=\"Tripdocs-strikethrough\" />\n      </Tooltip>\n      <Tooltip title={`${f('code')}（Ctrl+E）`}>\n        <MarkButton format=\"code\" editor={editor} icon=\"Tripdocs-code_braces\" />\n      </Tooltip>\n      <Tooltip title={`${f('link')}`}>\n        <IconButton\n          style={{ display: !isSameLineSelection(editor.selection) ? 'none' : null }}\n          onMouseDown={(e: any) => {\n            e.preventDefault();\n            const sel = editor.selection;\n            if (editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && !isSameLineSelection(editor.selection)) {\n              return;\n            }\n            insertEditLink(editor, '', sel);\n            return;\n          }}\n        >\n          <IconBtn className=\"Tripdocs-add_link\"></IconBtn>\n        </IconButton>\n      </Tooltip>\n      {}\n      <Dropdown\n        overlay={dropdownMenuColor(\n          editor,\n          'fontColor',\n          flag => setCurrentColor({ ...currentColor, fontColor: flag }),\n          getColorMark(editor, 'fontColor')\n        )}\n        visible={visible.fontColorVisible}\n        onVisibleChange={flag => setVisible({ ...visible, fontColorVisible: flag })}\n      >\n        <IconButton\n          fontColor={currentColor.fontColor}\n          onMouseDown={(e: any) => {\n            e.preventDefault();\n            fontColorClick();\n          }}\n        >\n          <IconBtn className=\"Tripdocs-text_color\"></IconBtn>\n        </IconButton>\n      </Dropdown>\n      <Dropdown\n        overlay={dropdownMenuColor(\n          editor,\n          'backgroundColor',\n          flag => setCurrentColor({ ...currentColor, bgColor: flag }),\n          getColorMark(editor, 'backgroundColor')\n        )}\n        visible={visible.bgColorVisible}\n        onVisibleChange={flag => setVisible({ ...visible, bgColorVisible: flag })}\n      >\n        <IconButton\n          backgroundColor={currentColor.bgColor}\n          onMouseDown={(e: any) => {\n            e.preventDefault();\n            bgColorClick();\n          }}\n        >\n          <IconBtn className=\"Tripdocs-highlight_fill\"></IconBtn>\n        </IconButton>\n      </Dropdown>\n      <Tooltip title={`${f('increaseFontSize')}`}>\n        <FontButton format=\"fontSizeLarger\" icon=\"Tripdocs-zoom_in\" />\n      </Tooltip>\n      <Tooltip title={`${f('decreaseFontSize')}`}>\n        <FontButton format=\"fontSizeSmaller\" icon=\"Tripdocs-zoom_out\" />\n      </Tooltip>\n      {}\n      {isShowHoveringCommentButton ? (\n        <Tooltip title={`${f('addComment')}`}>\n          <SideCommentButton\n            icon=\"Tripdocs-comment_add\"\n            setSideCommentRowNum={setSideCommentRowNum}\n            setCurRangeId={setCurRangeId}\n            editorId={editorId}\n          />\n        </Tooltip>\n      ) : null}\n      {!isInElectron && (\n        <Tooltip title={`${f('share')}`}>\n          <ShareButton icon={<IconBtn className=\"Tripdocs-share\" />} editor={editor} callback={shareCallback} />\n        </Tooltip>\n      )}\n    </HoverMenu>\n  );\n};\n\nexport const HoveringCommentButton = (props: any) => {\n  const { editorId, width, setSideCommentRowNum, setCurRangeId, isShowHoveringCommentButton, isMobile } = props;\n\n  const ref = useRef<HTMLDivElement | null>();\n  const targetRef = useRef(null);\n  const editor: any = useSlate();\n\n  useEffect(() => {\n    const onDOMSelectionChange = debounce(e => {\n      console.log('HoveringCommentButton onDOMSelectionChange');\n      const domSelection = window.getSelection();\n      const domSel = getSelectionFromDomSelection(editor, domSelection);\n      const el = ref.current;\n      if (!domSel) {\n        hideComment(el);\n        return;\n      }\n      const { anchor, focus } = domSel;\n      if (!anchor || !focus) {\n        hideComment(el);\n        return;\n      }\n\n      const editorDom = document.getElementById(editorId);\n\n      const editorInlineContainerDom = editorDom?.parentElement?.parentElement?.parentElement?.parentElement?.parentElement;\n\n      const isInline = editorInlineContainerDom?.classList?.contains('inline-editor-container');\n      const isFocused = editorInlineContainerDom?.classList?.contains('inline-editor-container-focused');\n      const inTable = isInTable(editor, domSel);\n      const isNotL = isNotLine(domSel);\n      const isInlineEl = isInlineElement(editor, domSel);\n\n      console.log('onDOMSelectionChange', el, domSel, inTable);\n      if (\n        !el ||\n        domSelection.isCollapsed ||\n        domSel?.anchor?.path[0] === 0 ||\n        (isInline && !isFocused) ||\n        (isMobile && ReactEditor.isReadOnly(editor)) ||\n        isNotL ||\n        inTable ||\n        isInlineEl\n      ) {\n        hideComment(el);\n        return;\n      }\n      const domRange = domSelection.getRangeAt(0);\n      const rect = domRange.getBoundingClientRect();\n      const editorRect = editorDom?.getBoundingClientRect();\n\n      if (editorRect.width !== rect.width + 120) {\n        const INPUT_EDITOR_HEIGHT = 68;\n\n        el.style.display = 'flex';\n        el.style.opacity = '1';\n        el.style.zIndex = '1000';\n        el.style.top = `${rect.top - editorRect.top + INPUT_EDITOR_HEIGHT - 25}px`;\n        el.style.left = `${rect.left + rect.width / 2 - editorRect.left}px`;\n      }\n    }, 300);\n    const hideComment = el => {\n      if (el && el.style) {\n        el.style.opacity = '0';\n        el.style.display = 'none';\n      }\n    };\n    const isInTable = (editor, sel) => {\n      let ret = null;\n      if (sel) {\n        ret = Editor.above(editor, {\n          at: sel,\n          match: (n: any) => n.type === ELTYPE.TABLE,\n        });\n      }\n      return ret;\n    };\n    const isNotLine = sel => {\n      const res = Path.equals(sel.focus.path.slice(0, -1), sel.anchor.path.slice(0, -1));\n      console.log('isNotLine', sel, res);\n      return !res;\n    };\n    const isInlineElement = (editor, sel) => {\n      const [start, end] = Range.edges(sel);\n      const startNext = Editor.next(editor, { at: start });\n      const endPrev = Editor.previous(editor, { at: end });\n\n      if (startNext?.[1] && endPrev?.[1] && Path.equals(startNext[1], endPrev[1])) {\n        const parent = Editor.parent(editor, startNext[1]);\n        const el: any = parent?.[0];\n        if (INLINE_TYPES.includes(el?.type)) {\n          return true;\n        }\n        return false;\n      }\n    };\n    const isMdEditor = getCache(editor?.docId, 'options')?.isMdEditor;\n    if (isMdEditor) return;\n    if (width) {\n      document.addEventListener('mousedown', onDOMSelectionChange);\n      document.addEventListener('mouseup', onDOMSelectionChange);\n      document.addEventListener('selectionchange', onDOMSelectionChange);\n    }\n    return function () {\n      document.removeEventListener('mousedown', onDOMSelectionChange);\n      document.removeEventListener('mouseup', onDOMSelectionChange);\n      document.removeEventListener('selectionchange', onDOMSelectionChange);\n    };\n  }, [width]);\n\n  return isShowHoveringCommentButton ? (\n    <HoverMenu className=\"hovering-toolbar-wrap\" ref={ref}>\n      <SideCommentButton icon=\"Tripdocs-comment_add\" setSideCommentRowNum={setSideCommentRowNum} editorId={editorId} setCurRangeId={setCurRangeId} />\n    </HoverMenu>\n  ) : null;\n};\n","import { PlayCircleOutlined, VideoCameraOutlined, WarningOutlined } from '@ant-design/icons';\nimport { Badge, Menu } from 'antd';\nimport React, { useState } from 'react';\nimport { TripdocsSdkContext } from '../../Docs';\nimport { insertCodeBlock } from '../docs/plugins/CodeBlock';\nimport { IconBtn } from '../docs/plugins/Components';\nimport { insertDivide } from '../docs/plugins/Divide';\nimport { insertFile } from '../docs/plugins/File/filePlugins';\nimport { TableCellSelect } from '../docs/plugins/siderMenu';\nimport { Node, Path } from '@src/components/slate-packages/slate';\nimport { f } from '@src/resource/string';\nimport { css } from '@emotion/css';\nimport $ from 'jquery';\n\nimport { ExcalidrawSlateNode } from '../docs/plugins/Excalidraw';\nimport { getCache } from '@src/utils/cacheUtils';\nexport default (props: any) => {\n  const { editor, editorSelection, setCardMenuVisible, cardMenuVisible, docWidth, modalState } = props;\n  const { selection, elementPath, elementType } = editorSelection;\n\n  const [tableHover, setTableHover] = useState(null);\n  const { docId } = React.useContext(TripdocsSdkContext);\n\n  const isTable = editor?.selection?.focus.path.length > 4;\n\n  const isInElectron: boolean = getCache(docId, 'options')?.isInElectron;\n  console.log('[isInElectron]', isInElectron);\n  const iconStyle: object = {\n    fontSize: '18px',\n    color: 'rgba(0,0,0,.5)',\n    marginRight: '8px',\n    display: 'inline-block',\n  };\n\n  return (\n    <Menu\n      className={css`\n        .ant-dropdown-menu-item-active,\n        .ant-dropdown-menu-submenu-active {\n          color: rgb(50, 100, 255);\n          background-color: rgba(50, 100, 255, 0.1);\n          .ant-dropdown-menu-item-icon,\n          .ant-dropdown-menu-title-content {\n            color: rgb(50, 100, 255) !important;\n          }\n          .ant-dropdown-menu-submenu-title {\n            background-color: transparent;\n          }\n        }\n      `}\n      onContextMenu={e => {\n        e.preventDefault();\n      }}\n      style={{ width: '224px' }}\n      data-ignore-slate\n    >\n      {!isTable && (\n        <Menu.Item\n          key={'0'}\n          icon={<IconBtn className={`Tripdocs-split_line`} style={iconStyle}></IconBtn>}\n          onMouseDown={e => {\n            e.preventDefault();\n            insertDivide(editor);\n            setCardMenuVisible(false);\n          }}\n        >\n          {f('divider')}\n        </Menu.Item>\n      )}\n\n      {!isTable && (\n        <Menu.Item\n          key={'1'}\n          icon={<IconBtn className={`Tripdocs-code_tags`} style={iconStyle}></IconBtn>}\n          onMouseDown={e => {\n            e.preventDefault();\n            insertCodeBlock(editor, editor.selection.focus.path);\n            setCardMenuVisible(false);\n          }}\n        >\n          {f('codeBlock')}\n        </Menu.Item>\n      )}\n\n      {!isTable && (\n        <Menu.SubMenu\n          key=\"table-sub\"\n          title={f('table')}\n          icon={<IconBtn className={`Tripdocs-table`} style={{ ...iconStyle, transform: 'translateY(3px)' }}></IconBtn>}\n          onTitleClick={e => {\n            e.domEvent.preventDefault();\n          }}\n        >\n          <div key={'00'} style={{ padding: '8px 12px', display: cardMenuVisible ? null : 'none' }}>\n            <div\n              style={{\n                display: 'flex',\n                height: 30,\n                alignItems: 'center',\n                justifyContent: 'center',\n              }}\n            >\n              <p>\n                {f('tableSize')} {Math.floor(tableHover / 9 + 1)} × {(tableHover % 9) + 1}\n              </p>\n            </div>\n            <div\n              style={{\n                display: 'flex',\n                width: 234,\n                height: 234,\n                flexFlow: 'wrap',\n              }}\n              onMouseOver={e => {\n                e.preventDefault();\n              }}\n            >\n              {TableCellSelect(setCardMenuVisible, setTableHover, tableHover, editor, docWidth, elementPath)}\n            </div>\n          </div>\n        </Menu.SubMenu>\n      )}\n    </Menu>\n  );\n};\n","import React from 'react';\nimport { f } from '@src/resource/string';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { Menu } from 'antd';\nimport { IconBtn } from '../docs/plugins/Components';\nimport { ELTYPE } from '../docs/plugins/config';\nimport { insertEditLink } from '../docs/plugins/EditLink';\nimport { isSameLineSelection } from '../docs/plugins/pluginsUtils/selectionUtils';\nimport { BlockIconButton, TabButton, TocButton, ToolbarButton, VersionButton } from '../docs/plugins/StaticToolbar/buttons';\nimport { ReactEditor } from '../slate-packages/slate-react';\n\nexport default (props: any) => {\n  const {\n    editor,\n    editorSelection,\n    setCardMenuVisible,\n    cardMenuVisible,\n    docWidth,\n    modalState,\n    setValue,\n    isShowAnchor,\n    setIsShowAnchor,\n    isDisabled,\n    hasSelCells,\n  } = props;\n  const isInElectron: boolean = getCache(editor?.docId, 'options')?.isInElectron;\n\n  return (\n    <Menu\n      onContextMenu={e => {\n        e.preventDefault();\n      }}\n      style={{ width: '302px' }}\n      data-ignore-slate\n    >\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n        }}\n      >\n        <ToolbarButton\n          title={f('numberedList')}\n          isDisabled={isDisabled || hasSelCells}\n          button={<BlockIconButton format={ELTYPE.OLLIST} icon=\"Tripdocs-ordered\" editor={editor} />}\n        />\n        <ToolbarButton\n          title={f('bulletedList')}\n          isDisabled={isDisabled || hasSelCells}\n          button={<BlockIconButton format={ELTYPE.ULLIST} icon=\"Tripdocs-unordered\" editor={editor} />}\n        />\n        <ToolbarButton\n          title={`${f('toDoList')}（Ctrl+Alt+T）`}\n          isDisabled={isDisabled || hasSelCells}\n          button={<BlockIconButton format={ELTYPE.TODO_LIST} icon=\"Tripdocs-checkbox_selected\" editor={editor} />}\n        />\n        <ToolbarButton\n          title={f('quote')}\n          isDisabled={isDisabled || hasSelCells}\n          button={<BlockIconButton format={ELTYPE.BLOCK_QUOTE} icon=\"Tripdocs-quote\" editor={editor} />}\n        />\n        <ToolbarButton\n          title={f('link')}\n          button={<IconBtn className={`Tripdocs-add_link`}></IconBtn>}\n          style={{\n            cursor:\n              editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && !isSameLineSelection(editor.selection)\n                ? 'not-allowed'\n                : null,\n            opacity:\n              editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && !isSameLineSelection(editor.selection) ? '0.4' : null,\n          }}\n          isDisabled={\n            isDisabled ||\n            (editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && !isSameLineSelection(editor.selection)) ||\n            hasSelCells\n          }\n          onMouseDown={e => {\n            if (editor && editor.selection && ReactEditor.hasRange(editor, editor.selection) && !isSameLineSelection(editor.selection)) {\n              return;\n            }\n\n            insertEditLink(editor, '', editor.selection);\n            return;\n          }}\n        />\n        <ToolbarButton\n          title={`${f('increaseIndentation')}（Tab)`}\n          isDisabled={isDisabled}\n          button={<TabButton icon={<IconBtn className=\"Tripdocs-outdent\" />} editor={editor} />}\n        />\n        <ToolbarButton\n          title={`${f('decreaseIndentation')}（Shift+Tab)`}\n          isDisabled={isDisabled}\n          button={<TabButton isDecrease icon={<IconBtn className=\"Tripdocs-lnent\" />} editor={editor} />}\n        />\n        {}\n        {!isInElectron && (\n          <ToolbarButton\n            title={`${f('historyVersion')}（Alt+H)`}\n            button={<VersionButton icon={<IconBtn className=\"Tripdocs-history\" />} editor={editor} setValue={setValue} />}\n          />\n        )}\n        <ToolbarButton\n          title={isShowAnchor ? f('hideOutline') : f('showOutline')}\n          buttonClass={'toc-btn'}\n          button={\n            <TocButton icon={<IconBtn className=\"Tripdocs-menu\" />} editor={editor} setIsShowAnchor={setIsShowAnchor} isShowAnchor={isShowAnchor} />\n          }\n        />\n      </div>\n    </Menu>\n  );\n};\n","import {\n  AlignCenterOutlined,\n  AlignLeftOutlined,\n  AlignRightOutlined,\n  CheckOutlined,\n  LineHeightOutlined,\n  MoreOutlined,\n  PlusSquareTwoTone,\n  VerticalAlignBottomOutlined,\n  VerticalAlignMiddleOutlined,\n  VerticalAlignTopOutlined,\n} from '@ant-design/icons';\nimport storage from '@utils/storage';\nimport { Dropdown, message, Modal, Popconfirm, Select, Tooltip } from 'antd';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { Editor, Node, Range, Transforms } from '@src/components/slate-packages/slate';\nimport { isBlockActive, toggleBlock } from '../block';\nimport { COLOR_ACTIVE, COLOR_DEFAULT, COLOR_DISABLED, IconBtn, IconButton } from '../Components';\nimport { ELTYPE, HEADING_TYPES, TABBABLE_TYPES } from '../config';\nimport { alignToggle, isAlignActive, isVerticalAlignActive, setVerticalAlign } from '../HoveringToolbar';\nimport { decreaseIndent, increaseIndent } from '../indent';\nimport { insertOl } from '../OLULList/OlList';\nimport { min } from '../siderMenu';\nimport staticToolbarCardMenu from '../../../DropdownMenu/staticToolbarCardMenu';\nimport staticToolbarMoreMenu from '../../../DropdownMenu/staticToolbarMoreMenu';\nimport { opsTable, TableOps } from '../table/tableOperation';\nimport { css, cx } from '@emotion/css';\nimport { isLineHeightActive } from '../HoveringToolbar/lineheight';\nimport { getCache, recoverCacheDocContent } from '@src/utils/cacheUtils';\nimport { toSharedType, YjsEditor } from '@src/components/slate-packages/slate-yjs';\nimport { IS_RECOVERING_CONTENT } from '../ErrorHandle/weak-maps';\nimport sessStorage from '@src/utils/sessStorage';\nimport { SEL_CELLS } from '@src/utils/weak-maps';\nimport { getEditorEventEmitter } from '../table/selection';\nimport { createUUID } from '@src/utils/randomId';\nimport { f } from '@src/resource/string';\nimport { ReactEditor } from '@src/components/slate-packages/slate-react';\nimport { fontLetterByNum, fontSizeByNum } from '../HoveringToolbar/fontSize';\n\nexport const FileButton: React.FC<any> = (props: any) => {\n  const { title, icon, callback, style } = props;\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  return (\n    <Tooltip\n      title={title}\n      placement=\"bottom\"\n      visible={tooltipVisible}\n      onVisibleChange={visible => {\n        setTooltipVisible(visible);\n      }}\n    >\n      <div\n        className=\"static-toolbar-btn\"\n        onMouseDown={e => {\n          e.preventDefault();\n          callback();\n          window.event.returnValue = false;\n          setTooltipVisible(false);\n        }}\n        style={style}\n      >\n        {icon}\n      </div>\n    </Tooltip>\n  );\n};\n\ninterface ToolbarButtonProps {\n  title: string;\n  button: React.ReactElement;\n  onMouseDown: (e?: React.MouseEvent) => void;\n  isDisabled?: boolean;\n  buttonClass?: string;\n}\n\nexport const ToolbarButton: React.FC<any> = (props: ToolbarButtonProps) => {\n  const { title, button, onMouseDown: mouseDownFn, isDisabled = false, buttonClass } = props;\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  return (\n    <Tooltip\n      title={title}\n      placement=\"bottom\"\n      visible={tooltipVisible}\n      onVisibleChange={visible => {\n        setTooltipVisible(visible);\n      }}\n    >\n      <div\n        className={cx('static-toolbar-btn', buttonClass)}\n        onMouseDown={e => {\n          e.preventDefault();\n          setTooltipVisible(false);\n          mouseDownFn && mouseDownFn(e);\n        }}\n        onMouseDownCapture={e => {\n          if (isDisabled) {\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n          }\n        }}\n        style={{\n          cursor: isDisabled ? 'not-allowed' : null,\n          opacity: isDisabled ? '0.4' : null,\n        }}\n      >\n        {button}\n      </div>\n    </Tooltip>\n  );\n};\n\nexport const ToolbarArrowButton: React.FC<any> = (props: ToolbarButtonProps) => {\n  const { button, isDisabled = false, buttonClass } = props;\n  return (\n    <div\n      className={cx('static-toolbar-arrow-btn', buttonClass)}\n      onMouseDownCapture={e => {\n        if (isDisabled) {\n          e.preventDefault();\n          e.stopPropagation();\n          return;\n        }\n      }}\n      style={{\n        cursor: isDisabled ? 'not-allowed' : null,\n        opacity: isDisabled ? '0.4' : null,\n      }}\n    >\n      {button}\n    </div>\n  );\n};\n\nexport const VerticalAlignButton: React.FC<any> = ({ valign, icon, editor, ...props }) => {\n  const selection = editor && editor.selection;\n  const active = editor && isVerticalAlignActive(editor, valign, selection);\n  return (\n    <IconButton\n      {...props}\n      active={active}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        setVerticalAlign(editor, valign, selection);\n      }}\n    >\n      {icon}\n    </IconButton>\n  );\n};\n\nexport const handleTableOps = (editor: ReactEditor, ops: TableOps) => {\n  const selection = editor && editor.selection;\n  if (\n    selection &&\n    ReactEditor.hasRange(editor, selection) &&\n    ((selection.anchor && min(selection.anchor.path[0], selection.focus.path[0]) !== 0) || (!selection.anchor && selection[0] !== 0))\n  ) {\n    opsTable(editor, ops, selection);\n  } else {\n    if (selection && ReactEditor.hasRange(editor, selection) && selection.anchor && Range.start(selection).path[0] === Range.end(selection).path[0]) {\n      if (selection.anchor.path[0] < selection.focus.path[0]) {\n        let sel = {\n          anchor: {\n            path: [selection.anchor.path[0] + 1, selection.anchor.path[1]],\n            offset: 0,\n          },\n          focus: selection.focus,\n        };\n        opsTable(editor, ops, sel);\n      } else {\n        let sel = {\n          anchor: selection.anchor,\n          focus: { path: [selection.focus.path[0] + 1, selection.focus.path[1]], offset: 0 },\n        };\n        opsTable(editor, ops, sel);\n      }\n    } else if (selection && ReactEditor.hasRange(editor, selection) && !selection.anchor) {\n      opsTable(editor, ops, selection);\n    }\n  }\n};\n\nexport const TableOpsButton: React.FC<any> = (props: any) => {\n  const { ops, icon, editor, ...attributes } = props;\n  return (\n    <IconButton\n      {...attributes}\n      key={ops}\n      style={{\n        color: ['deleteTable', 'deleteRow', 'deleteCol'].includes(ops) ? 'rgb(245, 74, 69)' : null,\n      }}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        handleTableOps(editor, ops);\n      }}\n    >\n      <IconBtn className={`tripdocs-sdk-iconfont icon-${icon}`} style={{ fontSize: 16 }}></IconBtn>\n    </IconButton>\n  );\n};\n\nexport const StaticToolbarMoreMenuButton: React.FC<any> = ({\n  editor,\n  editorSelection,\n  docWidth,\n  modalState,\n  setValue,\n  isShowAnchor,\n  setIsShowAnchor,\n  isDisabled,\n  hasSelCells,\n  ...props\n}) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [cardMenuVisible, setCardMenuVisible] = useState(false);\n  const selection = editor && editor.selection;\n  const node = selection && ReactEditor.hasRange(editor, selection) && Node.get(editor, selection.focus.path.slice(0, -1));\n  return (\n    <Tooltip\n      title={f('moreFeatures')}\n      placement=\"bottom\"\n      visible={tooltipVisible}\n      onVisibleChange={visible => {\n        !cardMenuVisible && setTooltipVisible(visible);\n      }}\n    >\n      <div\n        onMouseDown={(e: any) => {\n          e.preventDefault();\n        }}\n      ></div>\n      <Dropdown\n        placement=\"bottomRight\"\n        mouseEnterDelay={0}\n        overlay={staticToolbarMoreMenu({\n          editor,\n          editorSelection,\n          setCardMenuVisible,\n          cardMenuVisible,\n          docWidth,\n          modalState,\n          setValue,\n          isShowAnchor,\n          setIsShowAnchor,\n          isDisabled,\n          hasSelCells,\n        })}\n        trigger={['click']}\n        overlayClassName={cx(\n          'editor-header-cardmenu',\n          css`\n            & .static-toolbar-btn {\n              width: 22px;\n              height: 22px;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              cursor: pointer;\n              margin: 3px 6px;\n              &:hover {\n                background-color: ${COLOR_DEFAULT.HOVER_BG_COLOR};\n                border-radius: 4px;\n              }\n              button,\n              .pmenu-block-icon {\n                cursor: pointer;\n                display: flex;\n                align-items: center;\n                width: 100%;\n                height: 100%;\n                justify-content: center;\n                border-radius: 4px;\n              }\n            }\n          `\n        )}\n        visible={cardMenuVisible}\n        onVisibleChange={flag => setCardMenuVisible(flag)}\n      >\n        <div\n          className={cx('static-toolbar-btn', 'more-btn')}\n          onMouseDown={e => {\n            e.preventDefault();\n            setTooltipVisible(false);\n          }}\n          onClick={e => {\n            e.preventDefault();\n          }}\n        >\n          <MoreOutlined\n            onMouseDown={(e: any) => {\n              e.preventDefault();\n            }}\n          />\n        </div>\n      </Dropdown>\n    </Tooltip>\n  );\n};\n\nexport const CardMenuButton: React.FC<any> = ({ editor, editorSelection, docWidth, modalState, isDisabled, ...props }) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [cardMenuVisible, setCardMenuVisible] = useState(false);\n\n  return (\n    <Tooltip\n      title={f('insert')}\n      placement=\"bottom\"\n      visible={tooltipVisible}\n      onVisibleChange={visible => {\n        !cardMenuVisible && setTooltipVisible(visible);\n      }}\n    >\n      <Dropdown\n        mouseEnterDelay={0}\n        overlay={staticToolbarCardMenu({\n          editor,\n          editorSelection,\n          setCardMenuVisible,\n          cardMenuVisible,\n          docWidth,\n          modalState,\n        })}\n        trigger={['click']}\n        disabled={isDisabled}\n        overlayClassName=\"editor-header-cardmenu\"\n        visible={cardMenuVisible}\n        onVisibleChange={flag => setCardMenuVisible(flag)}\n      >\n        <div\n          className=\"static-toolbar-btn\"\n          onMouseDown={e => {\n            e.preventDefault();\n            setTooltipVisible(false);\n          }}\n          onMouseDownCapture={e => {\n            if (isDisabled) {\n              e.preventDefault();\n              e.stopPropagation();\n              return;\n            }\n          }}\n          onClick={e => {\n            e.preventDefault();\n          }}\n          style={{\n            width: '64px',\n            borderRadius: '4px',\n            cursor: isDisabled ? 'not-allowed' : null,\n            opacity: isDisabled ? '0.4' : null,\n          }}\n        >\n          <IconBtn\n            className=\"Tripdocs-plus_squra\"\n            onMouseDown={(e: any) => {\n              e.preventDefault();\n            }}\n          />\n          <div\n            className={cx(css`\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              flex: 0 0 38px;\n              margin-left: 2px;\n            `)}\n          >\n            {f('insert')}\n          </div>\n        </div>\n      </Dropdown>\n    </Tooltip>\n  );\n};\n\nexport const FontLetterSelectButton: React.FC<any> = ({ editor, anchorTrigger, ...props }) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [selectVisible, setSelectVisible] = useState(false);\n  const selection = editor && editor.selection;\n  const node: any =\n    selection && ReactEditor.hasRange(editor, selection) && ReactEditor.hasRange(editor, selection) && Node.get(editor, Range.start(selection).path);\n  const { Option } = Select;\n  const letter = [0, 1, 2, 3, 4, 5, 6];\n\n  let curFontLetter: any = (node && node.fontLetter) || 0;\n\n  return useMemo(\n    () => (\n      <Tooltip\n        title={f('fontLetter')}\n        placement=\"bottom\"\n        visible={tooltipVisible}\n        onVisibleChange={visible => {\n          !selectVisible && setTooltipVisible(visible);\n        }}\n      >\n        <Select\n          className={cx(\n            'static-toolbar-select',\n            css`\n              & .ant-select-selection-item {\n                width: 40px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 13px;\n              }\n              &.ant-select-open {\n                margin: 3px;\n                border-radius: 4px;\n                background-color: ${COLOR_ACTIVE.BG_COLOR};\n                .ant-select-selection-item {\n                  color: ${COLOR_ACTIVE.COLOR};\n                }\n              }\n            `\n          )}\n          bordered={false}\n          value={(curFontLetter || 0) + ''}\n          dropdownStyle={{ minWidth: '75px' }}\n          onDropdownVisibleChange={visible => {\n            setSelectVisible(visible);\n          }}\n          onMouseDown={e => {\n            e.preventDefault();\n            setTooltipVisible(false);\n          }}\n          onClick={e => {\n            e.preventDefault();\n          }}\n          onSelect={value => {\n            fontLetterByNum(editor, value);\n          }}\n        >\n          {letter.map((item, index) => (\n            <Option\n              value={item}\n              key={index}\n              style={{\n                paddingLeft: item === curFontLetter ? null : '14px',\n                minHeight: index !== 0 ? 42 - index * 2 : null,\n                fontSize: 16,\n                color: COLOR_DEFAULT.COLOR,\n                display: 'flex',\n                alignItems: 'center',\n              }}\n              className={css`\n                &.ant-select-item-option-active {\n                  background-color: ${COLOR_ACTIVE.BG_COLOR};\n                }\n              `}\n            >\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'flex-start',\n                  lineHeight: 1,\n                }}\n              >\n                <CheckOutlined\n                  style={{\n                    marginRight: '5px',\n                    fontSize: '14px',\n                    color: COLOR_ACTIVE.COLOR,\n                    visibility: letter[index] === curFontLetter && !tooltipVisible ? 'visible' : 'hidden',\n                  }}\n                />{' '}\n                {letter[index]}\n              </div>\n            </Option>\n          ))}\n        </Select>\n      </Tooltip>\n    ),\n    [curFontLetter, tooltipVisible]\n  );\n};\n\nexport const SizeSelectButton: React.FC<any> = ({ editor, anchorTrigger, ...props }) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [selectVisible, setSelectVisible] = useState(false);\n  const selection = editor && editor.selection;\n  const node: any =\n    selection && ReactEditor.hasRange(editor, selection) && ReactEditor.hasRange(editor, selection) && Node.get(editor, Range.start(selection).path);\n  const { Option } = Select;\n  const sizeArr = [12, 14, 16, 18, 20, 24, 28, 30, 32, 36, 40, 48, 56, 64, 72, 96, 120, 144];\n\n  let curSize: any = (node && node.fontSizeChange && node.fontSizeChange + 14) || 14;\n\n  return useMemo(\n    () => (\n      <Tooltip\n        title={f('fontSize')}\n        placement=\"bottom\"\n        visible={tooltipVisible}\n        onVisibleChange={visible => {\n          !selectVisible && setTooltipVisible(visible);\n        }}\n      >\n        <Select\n          className={cx(\n            'static-toolbar-select',\n            css`\n              & .ant-select-selection-item {\n                width: 40px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 13px;\n              }\n              &.ant-select-open {\n                margin: 3px;\n                border-radius: 4px;\n                background-color: ${COLOR_ACTIVE.BG_COLOR};\n                .ant-select-selection-item {\n                  color: ${COLOR_ACTIVE.COLOR};\n                }\n              }\n            `\n          )}\n          bordered={false}\n          value={(curSize || 14) + ''}\n          dropdownStyle={{ minWidth: '75px' }}\n          onDropdownVisibleChange={visible => {\n            setSelectVisible(visible);\n          }}\n          onMouseDown={e => {\n            e.preventDefault();\n            setTooltipVisible(false);\n          }}\n          onClick={e => {\n            e.preventDefault();\n          }}\n          onSelect={value => {\n            fontSizeByNum(editor, value);\n          }}\n        >\n          {sizeArr.map((item, index) => (\n            <Option\n              value={item}\n              key={index}\n              style={{\n                paddingLeft: item === curSize ? null : '14px',\n                minHeight: index !== 0 ? 42 - index * 2 : null,\n                fontSize: 16,\n                color: COLOR_DEFAULT.COLOR,\n                display: 'flex',\n                alignItems: 'center',\n              }}\n              className={css`\n                &.ant-select-item-option-active {\n                  background-color: ${COLOR_ACTIVE.BG_COLOR};\n                }\n              `}\n            >\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'flex-start',\n                  lineHeight: 1,\n                }}\n              >\n                <CheckOutlined\n                  style={{\n                    marginRight: '5px',\n                    fontSize: '14px',\n                    color: COLOR_ACTIVE.COLOR,\n                    visibility: sizeArr[index] === curSize && !tooltipVisible ? 'visible' : 'hidden',\n                  }}\n                />{' '}\n                {sizeArr[index]}\n              </div>\n            </Option>\n          ))}\n        </Select>\n      </Tooltip>\n    ),\n    [curSize, tooltipVisible]\n  );\n};\n\nexport const TypeSelectButton: React.FC<any> = ({ editor, anchorTrigger, ...props }) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [selectVisible, setSelectVisible] = useState(false);\n  const selection = editor && editor.selection;\n  const node: any =\n    selection &&\n    ReactEditor.hasRange(editor, selection) &&\n    ReactEditor.hasRange(editor, selection) &&\n    Node.get(editor, Range.start(selection).path.slice(0, -1));\n  const { Option } = Select;\n  const typeArr = [\n    ELTYPE.PARAGRAPH,\n    ELTYPE.HEADING_ONE,\n    ELTYPE.HEADING_TWO,\n    ELTYPE.HEADING_THREE,\n    ELTYPE.HEADING_FOUR,\n    ELTYPE.HEADING_FIVE,\n    ELTYPE.HEADING_SIX,\n  ];\n  const mapping = {\n    [ELTYPE.PARAGRAPH]: f('normal'),\n    [ELTYPE.HEADING_ONE]: f('heading1'),\n    [ELTYPE.HEADING_TWO]: f('heading2'),\n    [ELTYPE.HEADING_THREE]: f('heading3'),\n    [ELTYPE.HEADING_FOUR]: f('heading4'),\n    [ELTYPE.HEADING_FIVE]: f('heading5'),\n    [ELTYPE.HEADING_SIX]: f('heading6'),\n  };\n\n  let curType: any = node && (node.type as string) ? (node.type as string) : ELTYPE.PARAGRAPH;\n  if (node && node.oldType && (node.type == ELTYPE.ULLIST || node.type == ELTYPE.OLLIST || node.type == ELTYPE.TODO_LIST)) {\n    curType = node.oldType;\n  }\n  const mappedValue = mapping[curType] ?? mapping[ELTYPE.PARAGRAPH];\n\n  return useMemo(\n    () => (\n      <Tooltip\n        title={f('format')}\n        placement=\"bottom\"\n        visible={tooltipVisible}\n        onVisibleChange={visible => {\n          !selectVisible && setTooltipVisible(visible);\n        }}\n      >\n        <Select\n          className={cx(\n            'static-toolbar-select',\n            css`\n              & .ant-select-selection-item {\n                width: 78px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-size: 13px;\n              }\n              &.ant-select-open {\n                margin: 3px;\n                border-radius: 4px;\n                background-color: ${COLOR_ACTIVE.BG_COLOR};\n                .ant-select-selection-item {\n                  color: ${COLOR_ACTIVE.COLOR};\n                }\n              }\n            `\n          )}\n          bordered={false}\n          value={mapping[curType] ?? mapping[ELTYPE.PARAGRAPH]}\n          dropdownStyle={{ minWidth: '180px' }}\n          onDropdownVisibleChange={visible => {\n            setSelectVisible(visible);\n          }}\n          onMouseDown={e => {\n            e.preventDefault();\n            setTooltipVisible(false);\n          }}\n          onClick={e => {\n            e.preventDefault();\n          }}\n          onSelect={value => {\n            const listNodes =\n              editor &&\n              Editor.nodes(editor, {\n                match: (n: any) => {\n                  return n.type == ELTYPE.OLLIST || n.type == ELTYPE.ULLIST || n.type == ELTYPE.TODO_LIST;\n                },\n              });\n            let no = 0;\n            for (const [node1, path1] of listNodes) {\n              no++;\n\n              Transforms.setNodes(editor, { oldType: value } as Partial<Node>, { at: selection });\n            }\n            if (!no) {\n              node && Transforms.setNodes(editor, { type: value } as Partial<Node>, { at: selection });\n            }\n\n            setTimeout(() => getEditorEventEmitter(editor.docId).emit('updateOutlineAnchor', editor.docId), 100);\n          }}\n        >\n          {typeArr.map((item, index) => (\n            <Option\n              value={item}\n              key={index}\n              style={{\n                paddingLeft: item === curType ? null : '14px',\n                minHeight: index !== 0 ? 42 - index * 2 : null,\n                fontSize: index !== 0 ? (index === 1 ? 26 : index === 6 ? 16 : 26 - index * 2) : null,\n                color: index !== 0 ? COLOR_DEFAULT.COLOR : null,\n                fontWeight: index !== 0 ? 600 : null,\n                display: 'flex',\n                alignItems: 'center',\n              }}\n              className={css`\n                &.ant-select-item-option-active {\n                  background-color: ${COLOR_ACTIVE.BG_COLOR};\n                }\n              `}\n            >\n              <div\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'flex-start',\n                  lineHeight: 1,\n                  color: mappedValue === mapping[item] ? COLOR_ACTIVE.COLOR : null,\n                }}\n              >\n                <CheckOutlined\n                  style={{\n                    marginRight: '12px',\n                    fontSize: '14px',\n                    color: COLOR_ACTIVE.COLOR,\n                    visibility: mappedValue === mapping[item] ? 'visible' : 'hidden',\n                  }}\n                />{' '}\n                {mapping[item]}\n              </div>\n            </Option>\n          ))}\n        </Select>\n      </Tooltip>\n    ),\n    [curType, tooltipVisible]\n  );\n};\n\nexport const AlignSelectButton: React.FC<any> = ({ editor, isVertical, ...props }) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [selectVisible, setSelectVisible] = useState(false);\n  const selection = editor && editor.selection;\n  const node: any = selection && ReactEditor.hasRange(editor, selection) && Node.get(editor, selection.focus.path.slice(0, -1));\n  const { Option } = Select;\n  const alignArr = ['align-left', 'align-center', 'align-right'];\n  const vAlignArr: any = ['top', 'middle', 'bottom'];\n  const mapping: any = {\n    'align-left': [f('alignLeft'), <IconBtn className=\"Tripdocs-align_left\" />],\n    'align-center': [f('alignCenter'), <IconBtn className=\"Tripdocs-align_center\" />],\n    'align-right': [f('alignRight'), <IconBtn className=\"Tripdocs-align-right\" />],\n    top: [f('alignTop'), <IconBtn className=\"Tripdocs-back_to_top\" />],\n    middle: [f('alignMiddle'), <IconBtn className=\"Tripdocs-align_middle\" />],\n    bottom: [f('alignBottom'), <IconBtn className=\"Tripdocs-align_bottom\" />],\n  };\n  let curAlign: any;\n  const defaultAlign = {\n    vertical: vAlignArr.filter(\n      (valign: any) => editor && editor.selection && ReactEditor.hasRange(editor, selection) && isVerticalAlignActive(editor, valign, selection)\n    )[0],\n    horizontal:\n      alignArr.filter(align => editor && editor.selection && ReactEditor.hasRange(editor, selection) && isAlignActive(editor, align, selection))[0] ||\n      (node && node.type === ELTYPE.IMAGE ? 'align-center' : 'align-left'),\n  };\n  curAlign = selection && ReactEditor.hasRange(editor, selection) && (isVertical ? defaultAlign.vertical : defaultAlign.horizontal);\n  return (\n    <Tooltip\n      title={isVertical ? f('alignmentVertical') : f('alignmentHorizontal')}\n      placement=\"bottom\"\n      visible={tooltipVisible}\n      onVisibleChange={visible => {\n        !selectVisible && setTooltipVisible(visible);\n      }}\n    >\n      <Select\n        className={cx(\n          'static-toolbar-select',\n          css`\n            &.ant-select-open {\n              margin: 3px;\n              border-radius: 4px;\n              background-color: ${COLOR_ACTIVE.BG_COLOR};\n              .ant-select-selection-item {\n                color: ${COLOR_ACTIVE.COLOR};\n              }\n            }\n          `\n        )}\n        bordered={false}\n        value={\n          isVertical\n            ? (curAlign && mapping[curAlign][1]) ?? <IconBtn className=\"Tripdocs-back_to_top\" />\n            : (curAlign && mapping[curAlign][1]) ?? <IconBtn className=\"Tripdocs-align_left\" />\n        }\n        dropdownStyle={{ minWidth: '150px' }}\n        onDropdownVisibleChange={visible => {\n          setSelectVisible(visible);\n        }}\n        onMouseDown={e => {\n          e.preventDefault();\n          setTooltipVisible(false);\n        }}\n        onClick={e => {\n          e.preventDefault();\n        }}\n        onSelect={value => {\n          editor && node && (isVertical ? setVerticalAlign(editor, value, selection) : alignToggle(editor, value.split('-')[1], selection));\n        }}\n      >\n        {(isVertical ? vAlignArr : alignArr).map((item: any, index: number) => (\n          <Option\n            value={item}\n            key={'index' + index}\n            style={{\n              paddingLeft: item === curAlign ? null : '14px',\n            }}\n            className={css`\n              &.ant-select-item-option-active {\n                background-color: ${COLOR_ACTIVE.BG_COLOR};\n              }\n            `}\n          >\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'flex-start',\n                color: item === curAlign ? COLOR_ACTIVE.COLOR : null,\n              }}\n            >\n              <CheckOutlined\n                style={{\n                  marginRight: '12px',\n                  fontSize: '14px',\n                  color: COLOR_ACTIVE.COLOR,\n                  visibility: item === curAlign ? 'visible' : 'hidden',\n                }}\n              />\n              <span style={{ marginRight: '10px' }}>{mapping[item][1]}</span>\n              <span>{mapping[item][0]}</span>\n            </div>\n          </Option>\n        ))}\n      </Select>\n    </Tooltip>\n  );\n};\n\nexport const BlockIconButton: React.FC<any> = (props: any) => {\n  const { format, icon, svgIcon, editor, isDisabled, ...attributes } = props;\n  const selection = editor && editor.selection;\n\n  const active = editor && isBlockActive(editor, format, selection);\n\n  let alignActive: any;\n  if (format.startsWith('align')) {\n    alignActive = editor && isAlignActive(editor, format, selection);\n  }\n  return (\n    <div\n      className=\"pmenu-block-icon\"\n      {...attributes}\n      key={format}\n      style={{\n        backgroundColor: active || alignActive ? '#e8efff' : 'unset',\n        cursor: isDisabled ? 'not-allowed' : null,\n        opacity: isDisabled ? '0.4' : null,\n        color: isDisabled ? COLOR_DISABLED.COLOR : null,\n      }}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        if (editor.selection) {\n          const rowNode: any =\n            editor.selection.anchor.path.length < 3\n              ? Node.get(editor, [editor.selection.anchor.path[0]])\n              : Node.get(editor, editor.selection.anchor.path.slice(0, -1));\n          if (format.startsWith('align')) {\n            const fo = format.split('-')[1];\n            alignToggle(editor, fo, selection);\n            return;\n          }\n\n          if (rowNode.type !== format && [ELTYPE.OLLIST, ELTYPE.ULLIST].includes(format)) {\n            let id = format + '=' + createUUID();\n\n            const employee = storage.get('userInfo')?.employee;\n            insertOl(\n              editor,\n              {\n                type: format,\n                tabLevel: 0,\n                num: 1,\n                id: id,\n                oldType: rowNode.oldType || (HEADING_TYPES.includes(rowNode.type) ? rowNode.type : undefined),\n                authCls: 'auth-' + employee,\n                elId: createUUID(),\n              },\n              { at: editor.selection }\n            );\n            return;\n          }\n          if (selection && ReactEditor.hasRange(editor, selection) && selection[0] !== 0) {\n            toggleBlock(editor, format, selection);\n          } else {\n            if (selection) {\n              toggleBlock(editor, format, selection);\n            }\n          }\n        }\n      }}\n    >\n      <div style={{ color: active ? COLOR_ACTIVE.COLOR : COLOR_DEFAULT.COLOR, fontSize: 16 }}>\n        {svgIcon ? svgIcon : <IconBtn className={icon}></IconBtn>}\n      </div>\n    </div>\n  );\n};\n\nexport const TabButton: React.FC<any> = (props: any) => {\n  const { format, icon, editor, isDecrease, ...attributes } = props;\n\n  const selection = editor && editor.selection;\n\n  return (\n    <IconButton\n      {...props}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        const selCells = SEL_CELLS.get(editor);\n        const hasSelCells = selCells && selCells.length > 0;\n        const node = selection && ReactEditor.hasRange(editor, selection) && Node.get(editor, selection.focus.path.slice(0, -1));\n\n        if (isDecrease) {\n          if (hasSelCells) {\n            selCells.forEach((entry: any) => {\n              const [, path] = entry;\n              const node: any = Node.get(editor, path);\n              const { children } = node;\n              children.forEach((child: any, index: number) => {\n                if ([...TABBABLE_TYPES].includes(child.type)) {\n                  decreaseIndent(editor, child, {\n                    anchor: { path: [...path, index, 0], offset: 0 },\n                    focus: { path: [...path, index, 0], offset: 0 },\n                  });\n                }\n              });\n            });\n          } else {\n            decreaseIndent(editor, node, selection);\n          }\n        } else {\n          if (hasSelCells) {\n            selCells.forEach((entry: any) => {\n              const [, path] = entry;\n              const node: any = Node.get(editor, path);\n              const { children } = node;\n              console.log('[increaseIndent]', children);\n              children.forEach((child: any, index: number) => {\n                if ([...TABBABLE_TYPES].includes(child.type)) {\n                  increaseIndent(editor, child, {\n                    anchor: { path: [...path, index, 0], offset: 0 },\n                    focus: { path: [...path, index, 0], offset: 0 },\n                  });\n                }\n              });\n            });\n          } else {\n            console.log('increaseIndent((((', editor, node, selection);\n            increaseIndent(editor, node, selection);\n          }\n        }\n      }}\n    >\n      {icon}\n    </IconButton>\n  );\n};\n\nexport const LineHeightSelectButton: React.FC<any> = ({ editor, ...props }) => {\n  const [tooltipVisible, setTooltipVisible] = useState(false);\n  const [selectVisible, setSelectVisible] = useState(false);\n  const selection = editor && editor.selection;\n  const node = selection && ReactEditor.hasRange(editor, selection) && Node.get(editor, selection.focus.path.slice(0, -1));\n  const { Option } = Select;\n\n  const lineHeightArr: any = ['1.75', '1', '1.15', '1.5', '2', '2.5', '3'];\n\n  let curLineHeight;\n\n  curLineHeight =\n    selection &&\n    ReactEditor.hasRange(editor, selection) &&\n    lineHeightArr.filter(\n      (lineHeight: any) => editor && editor.selection && ReactEditor.hasRange(editor, selection) && isLineHeightActive(editor, lineHeight, selection)\n    )[0];\n  const en = 'en';\n  return (\n    <Tooltip\n      title={f('lineHeight')}\n      placement=\"bottom\"\n      visible={tooltipVisible}\n      onVisibleChange={visible => {\n        !selectVisible && setTooltipVisible(visible);\n      }}\n    >\n      <Select\n        className={cx(\n          'static-toolbar-select',\n          css`\n            &.ant-select-open {\n              margin: 3px;\n              border-radius: 4px;\n              background-color: ${COLOR_ACTIVE.BG_COLOR};\n              .ant-select-selection-item {\n                color: ${COLOR_ACTIVE.COLOR};\n              }\n            }\n          `\n        )}\n        bordered={false}\n        value={(<IconBtn className=\"Tripdocs-line_height\" />) as any}\n        dropdownStyle={{ minWidth: '140px' }}\n        onDropdownVisibleChange={visible => {\n          setSelectVisible(visible);\n        }}\n        onMouseDown={e => {\n          e.preventDefault();\n          setTooltipVisible(false);\n        }}\n        onClick={e => {\n          e.preventDefault();\n        }}\n        onSelect={value => {\n          Transforms.setNodes(editor, { lineHeight: value } as Partial<Node>, { at: selection });\n        }}\n      >\n        {lineHeightArr.map((item: any, index: number) => (\n          <Option\n            value={item}\n            key={'index' + index}\n            style={{\n              paddingLeft: item === curLineHeight ? null : '14px',\n            }}\n            className={css`\n              &.ant-select-item-option-active {\n                background-color: ${COLOR_ACTIVE.BG_COLOR};\n              }\n            `}\n          >\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'flex-start',\n                color: item === curLineHeight ? COLOR_ACTIVE.COLOR : null,\n              }}\n            >\n              <CheckOutlined\n                style={{\n                  marginRight: '12px',\n                  fontSize: '14px',\n                  color: COLOR_ACTIVE.COLOR,\n                  visibility: item === curLineHeight ? 'visible' : 'hidden',\n                }}\n              />\n              <span>{item === '1.75' ? f('default') : item}</span>\n            </div>\n          </Option>\n        ))}\n      </Select>\n    </Tooltip>\n  );\n};\n\nexport const TocButton: React.FC<any> = (props: any) => {\n  const { format, icon, editor, setIsShowAnchor, isShowAnchor, ...attributes } = props;\n\n  const selection = editor && editor.selection;\n  return (\n    <IconButton\n      {...props}\n      active={isShowAnchor}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        setIsShowAnchor(prev => !prev);\n      }}\n    >\n      {icon}\n    </IconButton>\n  );\n};\n\nexport const CACHE_DOC_CONTENT: WeakMap<Editor, Node[]> = new WeakMap();\n\nexport const VersionButton: React.FC<any> = (props: any) => {\n  const { format, icon, editor, setValue, ...attributes } = props;\n\n  const selection = editor && editor.selection;\n  const node = selection && ReactEditor.hasRange(editor, selection) && Node.get(editor, selection.focus.path.slice(0, -1));\n\n  return (\n    <IconButton\n      {...props}\n      onMouseDown={(event: any) => {\n        event.preventDefault();\n        showCacheDocContentModal(editor);\n        const { docId } = editor;\n      }}\n    >\n      {icon}\n    </IconButton>\n  );\n};\n\nconst DocCacheItemContent = props => {\n  const { docContentCacheArr, editor } = props;\n\n  const [index, setIndex] = useState(0);\n\n  const serialize = useCallback(nodes => {\n    return nodes.map(n => Node.string(n)).join('\\n');\n  }, []);\n\n  useEffect(() => {\n    CACHE_DOC_CONTENT.set(editor, docContentCacheArr?.[index]?.docContent);\n  }, [index]);\n\n  return (\n    <div>\n      {docContentCacheArr.map(({ docContent, at }, i) => {\n        return (\n          <div\n            className={cx(\n              'doc-cache-item',\n              css`\n                & {\n                  padding: 12px;\n                  border: 1px solid ${index === i ? `#286fff` : `#f0f0f0`};\n                  margin-top: 16px;\n\n                  &:hover {\n                    border: 1px solid #286fff;\n                  }\n                }\n              `\n            )}\n            onMouseDown={e => {\n              e.preventDefault();\n              setIndex(i);\n            }}\n          >\n            <div>\n              <span style={{ fontWeight: 'bold' }}>保存时间</span>\n              {'： '}\n              <span>{at.replace(/:\\d{3}$/, '')}</span>\n            </div>\n            <div>\n              <span style={{ fontWeight: 'bold' }}>文档内容</span>\n              {'： '}\n              {}\n              <span\n                className={css`\n                  font-size: 12px;\n                  word-break: break-all;\n                  display: -webkit-box;\n                  -webkit-box-orient: vertical;\n                  -webkit-line-clamp: 3;\n                  overflow: hidden;\n                `}\n              >\n                {serialize(docContent)}\n              </span>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport const showCacheDocContentModal = editor => {\n  const { docId } = editor;\n  const docContentCacheArr = sessStorage.get('tripdocs_sdk/docContentCacheArr_' + docId) || [];\n\n  if (docContentCacheArr.length > 0) {\n    const modal = Modal.info({\n      title: '文档历史版本',\n      content: <DocCacheItemContent docContentCacheArr={docContentCacheArr} editor={editor} />,\n      maskClosable: true,\n      closable: true,\n      width: '70vw',\n      onOk: () => {\n        const cacheDocContent = CACHE_DOC_CONTENT.get(editor);\n\n        IS_RECOVERING_CONTENT.set(editor, true);\n        window.tripdocs.editorsMap[editor.docId].api.setContent(cacheDocContent);\n        setTimeout(() => IS_RECOVERING_CONTENT.set(editor, false));\n      },\n    });\n  } else {\n    message.destroy();\n    message.info('没有历史版本');\n  }\n};\n","import { Editor, Element as SlateElement, Transforms } from '@src/components/slate-packages/slate';\nimport { ELTYPE, TABBABLE_TYPES } from '../config';\n\nexport const isLineHeightActive = (editor: any, lineHeight: '1.75' | '1' | '1.15' | '1.5' | '2' | '2.5' | '3', selection: any) => {\n  try {\n    if (lineHeight === '1.75') {\n      const [match] = Editor.nodes(editor, {\n        at: selection,\n        mode: 'highest',\n        match: (n: any) => {\n          if (n.lineHeight === '1.75') {\n            return n.lineHeight === '1.75';\n          }\n          return [...TABBABLE_TYPES].includes(n?.type) && !Editor.isEditor(n) && SlateElement.isElement(n) && !(n as any).lineHeight;\n        },\n      });\n      return !!match;\n    }\n    const [match] = Editor.nodes(editor, {\n      match: (n: any) => n.lineHeight === lineHeight,\n    });\n    return !!match;\n  } catch (e) {}\n};\n","import { Editor } from '@src/components/slate-packages/slate';\nimport { HistoryEditor } from '@src/components/slate-packages/slate-history';\nimport { getCache, recoverCacheDocContent } from '@src/utils/cacheUtils';\nimport { notification } from 'antd';\nimport { showCacheDocContentModal } from '../StaticToolbar/buttons';\nimport { ErrorMsg } from './types';\nimport { IS_RECOVERING_CONTENT, SLATE_ERRORS } from './weak-maps';\n\nlet timeout = null;\n\nexport const handleSlateError = (e: ErrorMsg, editor?: (Editor & HistoryEditor) | any) => {\n  let errorStack;\n  try {\n    throw new Error();\n  } catch (err) {\n    errorStack = err.stack.toString();\n    console.error('[handleSlateError]', errorStack, e);\n  }\n\n  if (editor?.history?.undos?.length) {\n    console.log(editor.history.undos);\n\n    const lastCached = recoverCacheDocContent(editor);\n\n    if (lastCached && lastCached.length > 2) {\n      console.log('[handleSlateError] 恢复缓存', lastCached);\n      IS_RECOVERING_CONTENT.set(editor, true);\n      window.tripdocs.editorsMap[editor.docId].api.setContent(lastCached);\n      setTimeout(() => IS_RECOVERING_CONTENT.set(editor, false));\n    }\n\n    const errors = SLATE_ERRORS.get(editor) || [];\n    SLATE_ERRORS.set(editor, [...errors, e]);\n    if (!timeout) {\n      timeout = setTimeout(() => {\n        showCacheDocContentModal(editor);\n        notification.warn({\n          message: '',\n          description: '文档出现异常，请选择一个版本回退',\n          duration: 3,\n        });\n\n        const stack: any[] = getCache(editor.docId, 'changeEditorStack') || [];\n        let newStack: any[] = [];\n        if (stack.length >= 1) {\n          newStack.push(stack[0]);\n          for (let i = 1; i < stack.length; i++) {\n            newStack.push({\n              content: [],\n              operations: stack[i].operations,\n            });\n          }\n        } else {\n          newStack = stack;\n        }\n\n        timeout = null;\n      }, 0);\n    }\n  }\n\n  return;\n};\n","import isPlainObject from 'is-plain-object'\r\n\r\nimport {\r\n  Ancestor,\r\n  ExtendedType,\r\n  Location,\r\n  Node,\r\n  NodeEntry,\r\n  Operation,\r\n  Path,\r\n  PathRef,\r\n  Point,\r\n  PointRef,\r\n  Range,\r\n  RangeRef,\r\n  Span,\r\n  Text,\r\n  Transforms,\r\n} from '..'\r\nimport {\r\n  DIRTY_PATHS,\r\n  NORMALIZING,\r\n  PATH_REFS,\r\n  POINT_REFS,\r\n  RANGE_REFS,\r\n} from '../utils/weak-maps'\r\nimport {\r\n  getWordDistance,\r\n  getCharacterDistance,\r\n  splitByCharacterDistance,\r\n} from '../utils/string'\r\nimport { Descendant } from './node'\r\nimport { Element } from './element'\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\n\r\nexport type BaseSelection = Range | null\r\n\r\nexport type Selection = ExtendedType<'Selection', BaseSelection>\r\n\r\n\r\n\r\nexport interface BaseEditor {\r\n  docId?: string\r\n  children: Descendant[]\r\n  selection: Selection\r\n  operations: Operation[]\r\n  marks: Omit<Text, 'text'> | null\r\n\r\n  \r\n  isInline: (element: Element) => boolean\r\n  isVoid: (element: Element) => boolean\r\n  normalizeNode: (entry: NodeEntry) => void\r\n  onChange: () => void\r\n\r\n  \r\n  addMark: (key: string, value: any) => void\r\n  apply: (operation: Operation) => void\r\n  deleteBackward: (unit: 'character' | 'word' | 'line' | 'block') => void\r\n  deleteForward: (unit: 'character' | 'word' | 'line' | 'block') => void\r\n  deleteFragment: (direction?: 'forward' | 'backward') => void\r\n  getFragment: () => Descendant[]\r\n  insertBreak: () => void\r\n  insertFragment: (fragment: Node[]) => void\r\n  insertNode: (node: Node) => void\r\n  insertText: (text: string) => void\r\n  removeMark: (key: string) => void\r\n}\r\n\r\nexport type Editor = ExtendedType<'Editor', BaseEditor>\r\n\r\nexport interface EditorInterface {\r\n  above: <T extends Ancestor>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      voids?: boolean\r\n    }\r\n  ) => NodeEntry<T> | undefined\r\n  addMark: (editor: Editor, key: string, value: any) => void\r\n  after: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      distance?: number\r\n      unit?: 'offset' | 'character' | 'word' | 'line' | 'block'\r\n      voids?: boolean\r\n    }\r\n  ) => Point | undefined\r\n  before: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      distance?: number\r\n      unit?: 'offset' | 'character' | 'word' | 'line' | 'block'\r\n      voids?: boolean\r\n    }\r\n  ) => Point | undefined\r\n  deleteBackward: (\r\n    editor: Editor,\r\n    options?: {\r\n      unit?: 'character' | 'word' | 'line' | 'block'\r\n    }\r\n  ) => void\r\n  deleteForward: (\r\n    editor: Editor,\r\n    options?: {\r\n      unit?: 'character' | 'word' | 'line' | 'block'\r\n    }\r\n  ) => void\r\n  deleteFragment: (\r\n    editor: Editor,\r\n    options?: {\r\n      direction?: 'forward' | 'backward'\r\n    }\r\n  ) => void\r\n  edges: (editor: Editor, at: Location) => [Point, Point]\r\n  end: (editor: Editor, at: Location) => Point\r\n  first: (editor: Editor, at: Location) => NodeEntry\r\n  fragment: (editor: Editor, at: Location) => Descendant[]\r\n  hasBlocks: (editor: Editor, element: Element) => boolean\r\n  hasInlines: (editor: Editor, element: Element) => boolean\r\n  hasPath: (editor: Editor, path: Path) => boolean\r\n  hasTexts: (editor: Editor, element: Element) => boolean\r\n  insertBreak: (editor: Editor) => void\r\n  insertFragment: (editor: Editor, fragment: Node[]) => void\r\n  insertNode: (editor: Editor, node: Node) => void\r\n  insertText: (editor: Editor, text: string) => void\r\n  isBlock: (editor: Editor, value: any) => value is Element\r\n  isEditor: (value: any) => value is Editor\r\n  isEnd: (editor: Editor, point: Point, at: Location) => boolean\r\n  isEdge: (editor: Editor, point: Point, at: Location) => boolean\r\n  isEmpty: (editor: Editor, element: Element) => boolean\r\n  isInline: (editor: Editor, value: any) => value is Element\r\n  isNormalizing: (editor: Editor) => boolean\r\n  isStart: (editor: Editor, point: Point, at: Location) => boolean\r\n  isVoid: (editor: Editor, value: any) => value is Element\r\n  last: (editor: Editor, at: Location) => NodeEntry\r\n  leaf: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    }\r\n  ) => NodeEntry<Text>\r\n  levels: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      reverse?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => Generator<NodeEntry<T>, void, undefined>\r\n  marks: (editor: Editor) => Omit<Text, 'text'> | null\r\n  next: <T extends Descendant>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      voids?: boolean\r\n    }\r\n  ) => NodeEntry<T> | undefined\r\n  node: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    }\r\n  ) => NodeEntry\r\n  nodes: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location | Span\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      universal?: boolean\r\n      reverse?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => Generator<NodeEntry<T>, void, undefined>\r\n  normalize: (\r\n    editor: Editor,\r\n    options?: {\r\n      force?: boolean\r\n    }\r\n  ) => void\r\n  parent: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    }\r\n  ) => NodeEntry<Ancestor>\r\n  path: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    }\r\n  ) => Path\r\n  pathRef: (\r\n    editor: Editor,\r\n    path: Path,\r\n    options?: {\r\n      affinity?: 'backward' | 'forward' | null\r\n    }\r\n  ) => PathRef\r\n  pathRefs: (editor: Editor) => Set<PathRef>\r\n  point: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      edge?: 'start' | 'end'\r\n    }\r\n  ) => Point\r\n  pointRef: (\r\n    editor: Editor,\r\n    point: Point,\r\n    options?: {\r\n      affinity?: 'backward' | 'forward' | null\r\n    }\r\n  ) => PointRef\r\n  pointRefs: (editor: Editor) => Set<PointRef>\r\n  positions: (\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      unit?: 'offset' | 'character' | 'word' | 'line' | 'block'\r\n      reverse?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => Generator<Point, void, undefined>\r\n  previous: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      voids?: boolean\r\n    }\r\n  ) => NodeEntry<T> | undefined\r\n  range: (editor: Editor, at: Location, to?: Location) => Range\r\n  rangeRef: (\r\n    editor: Editor,\r\n    range: Range,\r\n    options?: {\r\n      affinity?: 'backward' | 'forward' | 'outward' | 'inward' | null\r\n    }\r\n  ) => RangeRef\r\n  rangeRefs: (editor: Editor) => Set<RangeRef>\r\n  removeMark: (editor: Editor, key: string) => void\r\n  setNormalizing: (editor: Editor, isNormalizing: boolean) => void\r\n  start: (editor: Editor, at: Location) => Point\r\n  string: (\r\n    editor: Editor,\r\n    at: Location,\r\n    options?: {\r\n      voids?: boolean\r\n    }\r\n  ) => string\r\n  unhangRange: (\r\n    editor: Editor,\r\n    range: Range,\r\n    options?: {\r\n      voids?: boolean\r\n    }\r\n  ) => Range\r\n  void: (\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      mode?: 'highest' | 'lowest'\r\n      voids?: boolean\r\n    }\r\n  ) => NodeEntry<Element> | undefined\r\n  withoutNormalizing: (editor: Editor, fn: () => void) => void\r\n}\r\n\r\nconst IS_EDITOR_CACHE = new WeakMap<object, boolean>()\r\n\r\nexport const Editor: EditorInterface = {\r\n  \r\n\r\n  above<T extends Ancestor>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      voids?: boolean\r\n    } = {}\r\n  ): NodeEntry<T> | undefined {\r\n    const {\r\n      voids = false,\r\n      mode = 'lowest',\r\n      at = editor.selection,\r\n      match,\r\n    } = options\r\n\r\n    if (!at) {\r\n      return\r\n    }\r\n\r\n    const path = Editor.path(editor, at)\r\n    const reverse = mode === 'lowest'\r\n\r\n    for (const [n, p] of Editor.levels(editor, {\r\n      at: path,\r\n      voids,\r\n      match,\r\n      reverse,\r\n    })) {\r\n      if (!Text.isText(n) && !Path.equals(path, p)) {\r\n        return [n, p]\r\n      }\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  addMark(editor: Editor, key: string, value: any): void {\r\n    editor.addMark(key, value)\r\n  },\r\n\r\n  \r\n\r\n  after(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      distance?: number\r\n      unit?: 'offset' | 'character' | 'word' | 'line' | 'block'\r\n      voids?: boolean\r\n    } = {}\r\n  ): Point | undefined {\r\n    const anchor = Editor.point(editor, at, { edge: 'end' })\r\n    const focus = Editor.end(editor, [])\r\n    const range = { anchor, focus }\r\n    const { distance = 1 } = options\r\n    let d = 0\r\n    let target\r\n\r\n    for (const p of Editor.positions(editor, {\r\n      ...options,\r\n      at: range,\r\n    })) {\r\n      if (d > distance) {\r\n        break\r\n      }\r\n\r\n      if (d !== 0) {\r\n        target = p\r\n      }\r\n\r\n      d++\r\n    }\r\n\r\n    return target\r\n  },\r\n\r\n  \r\n\r\n  before(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      distance?: number\r\n      unit?: 'offset' | 'character' | 'word' | 'line' | 'block'\r\n      voids?: boolean\r\n    } = {}\r\n  ): Point | undefined {\r\n    const anchor = Editor.start(editor, [])\r\n    const focus = Editor.point(editor, at, { edge: 'start' })\r\n    const range = { anchor, focus }\r\n    const { distance = 1 } = options\r\n    let d = 0\r\n    let target\r\n\r\n    for (const p of Editor.positions(editor, {\r\n      ...options,\r\n      at: range,\r\n      reverse: true,\r\n    })) {\r\n      if (d > distance) {\r\n        break\r\n      }\r\n\r\n      if (d !== 0) {\r\n        target = p\r\n      }\r\n\r\n      d++\r\n    }\r\n\r\n    return target\r\n  },\r\n\r\n  \r\n\r\n  deleteBackward(\r\n    editor: Editor,\r\n    options: {\r\n      unit?: 'character' | 'word' | 'line' | 'block'\r\n    } = {}\r\n  ): void {\r\n    const { unit = 'character' } = options\r\n    editor.deleteBackward(unit)\r\n  },\r\n\r\n  \r\n\r\n  deleteForward(\r\n    editor: Editor,\r\n    options: {\r\n      unit?: 'character' | 'word' | 'line' | 'block'\r\n    } = {}\r\n  ): void {\r\n    const { unit = 'character' } = options\r\n    editor.deleteForward(unit)\r\n  },\r\n\r\n  \r\n\r\n  deleteFragment(\r\n    editor: Editor,\r\n    options: {\r\n      direction?: 'forward' | 'backward'\r\n    } = {}\r\n  ): void {\r\n    const { direction = 'forward' } = options\r\n    editor.deleteFragment(direction)\r\n  },\r\n\r\n  \r\n\r\n  edges(editor: Editor, at: Location): [Point, Point] {\r\n    return [Editor.start(editor, at), Editor.end(editor, at)]\r\n  },\r\n\r\n  \r\n\r\n  end(editor: Editor, at: Location): Point {\r\n    return Editor.point(editor, at, { edge: 'end' })\r\n  },\r\n\r\n  \r\n\r\n  first(editor: Editor, at: Location): NodeEntry {\r\n    const path = Editor.path(editor, at, { edge: 'start' })\r\n    return Editor.node(editor, path)\r\n  },\r\n\r\n  \r\n\r\n  fragment(editor: Editor, at: Location): Descendant[] {\r\n    const range = Editor.range(editor, at)\r\n    const fragment = Node.fragment(editor, range)\r\n    return fragment\r\n  },\r\n  \r\n\r\n  hasBlocks(editor: Editor, element: Element): boolean {\r\n    return element.children.some(n => Editor.isBlock(editor, n))\r\n  },\r\n\r\n  \r\n\r\n  hasInlines(editor: Editor, element: Element): boolean {\r\n    return element.children.some(\r\n      n => Text.isText(n) || Editor.isInline(editor, n)\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  hasTexts(editor: Editor, element: Element): boolean {\r\n    return element.children.every(n => Text.isText(n))\r\n  },\r\n\r\n  \r\n\r\n  insertBreak(editor: Editor): void {\r\n    editor.insertBreak()\r\n  },\r\n\r\n  \r\n\r\n  insertFragment(editor: Editor, fragment: Node[]): void {\r\n    editor.insertFragment(fragment)\r\n  },\r\n\r\n  \r\n\r\n  insertNode(editor: Editor, node: Node): void {\r\n    editor.insertNode(node)\r\n  },\r\n\r\n  \r\n\r\n  insertText(editor: Editor, text: string): void {\r\n    editor.insertText(text)\r\n  },\r\n\r\n  \r\n\r\n  isBlock(editor: Editor, value: any): value is Element {\r\n    return Element.isElement(value) && !editor.isInline(value)\r\n  },\r\n\r\n  \r\n\r\n  isEditor(value: any): value is Editor {\r\n    if (!isPlainObject(value)) return false\r\n    const cachedIsEditor = IS_EDITOR_CACHE.get(value)\r\n    if (cachedIsEditor !== undefined) {\r\n      return cachedIsEditor\r\n    }\r\n    const isEditor =\r\n      typeof value.addMark === 'function' &&\r\n      typeof value.apply === 'function' &&\r\n      typeof value.deleteBackward === 'function' &&\r\n      typeof value.deleteForward === 'function' &&\r\n      typeof value.deleteFragment === 'function' &&\r\n      typeof value.insertBreak === 'function' &&\r\n      typeof value.insertFragment === 'function' &&\r\n      typeof value.insertNode === 'function' &&\r\n      typeof value.insertText === 'function' &&\r\n      typeof value.isInline === 'function' &&\r\n      typeof value.isVoid === 'function' &&\r\n      typeof value.normalizeNode === 'function' &&\r\n      typeof value.onChange === 'function' &&\r\n      typeof value.removeMark === 'function' &&\r\n      (value.marks === null || isPlainObject(value.marks)) &&\r\n      (value.selection === null || Range.isRange(value.selection)) &&\r\n      Node.isNodeList(value.children) &&\r\n      Operation.isOperationList(value.operations)\r\n    IS_EDITOR_CACHE.set(value, isEditor)\r\n    return isEditor\r\n  },\r\n\r\n  \r\n\r\n  isEnd(editor: Editor, point: Point, at: Location): boolean {\r\n    const end = Editor.end(editor, at)\r\n    return Point.equals(point, end)\r\n  },\r\n\r\n  \r\n\r\n  isEdge(editor: Editor, point: Point, at: Location): boolean {\r\n    return Editor.isStart(editor, point, at) || Editor.isEnd(editor, point, at)\r\n  },\r\n\r\n  \r\n\r\n  isEmpty(editor: Editor, element: Element): boolean {\r\n    const { children } = element\r\n    const [first] = children\r\n    return (\r\n      children.length === 0 ||\r\n      (children.length === 1 &&\r\n        Text.isText(first) &&\r\n        first.text === '' &&\r\n        !editor.isVoid(element))\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isInline(editor: Editor, value: any): value is Element {\r\n    return Element.isElement(value) && editor.isInline(value)\r\n  },\r\n\r\n  \r\n\r\n  isNormalizing(editor: Editor): boolean {\r\n    const isNormalizing = NORMALIZING.get(editor)\r\n    return isNormalizing === undefined ? true : isNormalizing\r\n  },\r\n\r\n  \r\n\r\n  isStart(editor: Editor, point: Point, at: Location): boolean {\r\n    \r\n    if (point.offset !== 0) {\r\n      return false\r\n    }\r\n\r\n    const start = Editor.start(editor, at)\r\n    return Point.equals(point, start)\r\n  },\r\n\r\n  \r\n\r\n  isVoid(editor: Editor, value: any): value is Element {\r\n    return Element.isElement(value) && editor.isVoid(value)\r\n  },\r\n\r\n  \r\n\r\n  last(editor: Editor, at: Location): NodeEntry {\r\n    const path = Editor.path(editor, at, { edge: 'end' })\r\n    return Editor.node(editor, path)\r\n  },\r\n\r\n  \r\n\r\n  leaf(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    } = {}\r\n  ): NodeEntry<Text> {\r\n    const path = Editor.path(editor, at, options)\r\n    const node = Node.leaf(editor, path)\r\n    return [node, path]\r\n  },\r\n\r\n  \r\n\r\n  *levels<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      reverse?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): Generator<NodeEntry<T>, void, undefined> {\r\n    const { at = editor.selection, reverse = false, voids = false } = options\r\n    let { match } = options\r\n\r\n    if (match == null) {\r\n      match = () => true\r\n    }\r\n\r\n    if (!at) {\r\n      return\r\n    }\r\n\r\n    const levels: NodeEntry<T>[] = []\r\n    const path = Editor.path(editor, at)\r\n\r\n    for (const [n, p] of Node.levels(editor, path)) {\r\n      if (!match(n, p)) {\r\n        continue\r\n      }\r\n\r\n      levels.push([n, p])\r\n\r\n      if (!voids && Editor.isVoid(editor, n)) {\r\n        break\r\n      }\r\n    }\r\n\r\n    if (reverse) {\r\n      levels.reverse()\r\n    }\r\n\r\n    yield* levels\r\n  },\r\n\r\n  \r\n\r\n  marks(editor: Editor): Omit<Text, 'text'> | null {\r\n    const { marks, selection } = editor\r\n\r\n    if (!selection) {\r\n      return null\r\n    }\r\n\r\n    if (marks) {\r\n      return marks\r\n    }\r\n\r\n    if (Range.isExpanded(selection)) {\r\n      const [match] = Editor.nodes(editor, { match: Text.isText })\r\n\r\n      if (match) {\r\n        const [node] = match as NodeEntry<Text>\r\n        const { text, ...rest } = node\r\n        return rest\r\n      } else {\r\n        return {}\r\n      }\r\n    }\r\n\r\n    const { anchor } = selection\r\n    const { path } = anchor\r\n    let [node] = Editor.leaf(editor, path)\r\n\r\n    if (anchor.offset === 0) {\r\n      const prev = Editor.previous(editor, { at: path, match: Text.isText })\r\n      const block = Editor.above(editor, {\r\n        match: (n:any)  => Editor.isBlock(editor, n),\r\n      })\r\n\r\n      if (prev && block) {\r\n        const [prevNode, prevPath] = prev\r\n        const [, blockPath] = block\r\n\r\n        if (Path.isAncestor(blockPath, prevPath)) {\r\n          node = prevNode as Text\r\n        }\r\n      }\r\n    }\r\n\r\n    const { text, ...rest } = node\r\n    return rest\r\n  },\r\n\r\n  \r\n\r\n  next<T extends Descendant>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      voids?: boolean\r\n    } = {}\r\n  ): NodeEntry<T> | undefined {\r\n    const { mode = 'lowest', voids = false } = options\r\n    let { match, at = editor.selection } = options\r\n\r\n    if (!at) {\r\n      return\r\n    }\r\n\r\n    const pointAfterLocation = Editor.after(editor, at, { voids })\r\n\r\n    if (!pointAfterLocation) return\r\n\r\n    const [, to] = Editor.last(editor, [])\r\n\r\n    const span: Span = [pointAfterLocation.path, to]\r\n\r\n    if (Path.isPath(at) && at.length === 0) {\r\n      handleSlateError( `Cannot get the next node from the root node!`, editor)\r\n    }\r\n\r\n    if (match == null) {\r\n      if (Path.isPath(at)) {\r\n        const [parent] = Editor.parent(editor, at)\r\n        match = n => parent.children.includes(n)\r\n      } else {\r\n        match = () => true\r\n      }\r\n    }\r\n\r\n    const [next] = Editor.nodes(editor, { at: span, match, mode, voids })\r\n    return next\r\n  },\r\n\r\n  \r\n\r\n  node(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    } = {}\r\n  ): NodeEntry {\r\n    const path = Editor.path(editor, at, options)\r\n    const node = Node.get(editor, path)\r\n    return [node, path]\r\n  },\r\n\r\n  \r\n\r\n  *nodes<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location | Span\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      universal?: boolean\r\n      reverse?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): Generator<NodeEntry<T>, void, undefined> {\r\n    const {\r\n      at = editor.selection,\r\n      mode = 'all',\r\n      universal = false,\r\n      reverse = false,\r\n      voids = false,\r\n    } = options\r\n    let { match } = options\r\n\r\n    if (!match) {\r\n      match = () => true\r\n    }\r\n\r\n    if (!at) {\r\n      return\r\n    }\r\n\r\n    let from\r\n    let to\r\n\r\n    if (Span.isSpan(at)) {\r\n      from = at[0]\r\n      to = at[1]\r\n    } else {\r\n      const first = Editor.path(editor, at, { edge: 'start' })\r\n      const last = Editor.path(editor, at, { edge: 'end' })\r\n      from = reverse ? last : first\r\n      to = reverse ? first : last\r\n    }\r\n\r\n    const nodeEntries = Node.nodes(editor, {\r\n      reverse,\r\n      from,\r\n      to,\r\n      pass: ([n]) => (voids ? false : Editor.isVoid(editor, n)),\r\n    })\r\n\r\n    const matches: NodeEntry<T>[] = []\r\n    let hit: NodeEntry<T> | undefined\r\n\r\n    for (const [node, path] of nodeEntries) {\r\n      const isLower = hit && Path.compare(path, hit[1]) === 0\r\n\r\n      \r\n      if (mode === 'highest' && isLower) {\r\n        continue\r\n      }\r\n\r\n      if (!match(node, path)) {\r\n        \r\n        \r\n        \r\n        if (universal && !isLower && Text.isText(node)) {\r\n          return\r\n        } else {\r\n          continue\r\n        }\r\n      }\r\n\r\n      \r\n      if (mode === 'lowest' && isLower) {\r\n        hit = [node, path]\r\n        continue\r\n      }\r\n\r\n      \r\n      const emit: NodeEntry<T> | undefined =\r\n        mode === 'lowest' ? hit : [node, path]\r\n\r\n      if (emit) {\r\n        if (universal) {\r\n          matches.push(emit)\r\n        } else {\r\n          yield emit\r\n        }\r\n      }\r\n\r\n      hit = [node, path]\r\n    }\r\n\r\n    \r\n    if (mode === 'lowest' && hit) {\r\n      if (universal) {\r\n        matches.push(hit)\r\n      } else {\r\n        yield hit\r\n      }\r\n    }\r\n\r\n    \r\n    \r\n    if (universal) {\r\n      yield* matches\r\n    }\r\n  },\r\n  \r\n\r\n  normalize(\r\n    editor: Editor,\r\n    options: {\r\n      force?: boolean\r\n    } = {}\r\n  ): void {\r\n    const { force = false } = options\r\n    const getDirtyPaths = (editor: Editor) => {\r\n      return DIRTY_PATHS.get(editor) || []\r\n    }\r\n\r\n    if (!Editor.isNormalizing(editor)) {\r\n      return\r\n    }\r\n\r\n    if (force) {\r\n      const allPaths = Array.from(Node.nodes(editor), ([, p]) => p)\r\n      DIRTY_PATHS.set(editor, allPaths)\r\n    }\r\n\r\n    if (getDirtyPaths(editor).length === 0) {\r\n      return\r\n    }\r\n\r\n    Editor.withoutNormalizing(editor, () => {\r\n      \r\n      for (const dirtyPath of getDirtyPaths(editor)) {\r\n        if (Node.has(editor, dirtyPath)) {\r\n          const entry = Editor.node(editor, dirtyPath)\r\n          const [node, _] = entry\r\n\r\n          \r\n          if (Element.isElement(node) && node.children.length === 0) {\r\n            editor.normalizeNode(entry)\r\n          }\r\n        }\r\n      }\r\n\r\n      const max = getDirtyPaths(editor).length * 42 \r\n      let m = 0\r\n\r\n      while (getDirtyPaths(editor).length !== 0) {\r\n        if (m > max) {\r\n          handleSlateError( `\r\n            Could not completely normalize the editor after ${max} iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\r\n          `, editor)\r\n        }\r\n\r\n        const dirtyPath = getDirtyPaths(editor).pop()!\r\n\r\n        \r\n        if (Node.has(editor, dirtyPath)) {\r\n          const entry = Editor.node(editor, dirtyPath)\r\n          editor.normalizeNode(entry)\r\n        }\r\n        m++\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  parent(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    } = {}\r\n  ): NodeEntry<Ancestor> {\r\n    const path = Editor.path(editor, at, options)\r\n    const parentPath = Path.parent(path)\r\n    const entry = Editor.node(editor, parentPath)\r\n    return entry as NodeEntry<Ancestor>\r\n  },\r\n\r\n  \r\n\r\n  path(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      depth?: number\r\n      edge?: 'start' | 'end'\r\n    } = {}\r\n  ): Path {\r\n    const { depth, edge } = options\r\n\r\n    if (Path.isPath(at)) {\r\n      if (edge === 'start') {\r\n        const [, firstPath] = Node.first(editor, at)\r\n        at = firstPath\r\n      } else if (edge === 'end') {\r\n        const [, lastPath] = Node.last(editor, at)\r\n        at = lastPath\r\n      }\r\n    }\r\n\r\n    if (Range.isRange(at)) {\r\n      if (edge === 'start') {\r\n        at = Range.start(at)\r\n      } else if (edge === 'end') {\r\n        at = Range.end(at)\r\n      } else {\r\n        at = Path.common(at.anchor.path, at.focus.path)\r\n      }\r\n    }\r\n\r\n    if (Point.isPoint(at)) {\r\n      at = at.path\r\n    }\r\n\r\n    if (depth != null) {\r\n      at = at.slice(0, depth)\r\n    }\r\n\r\n    return at\r\n  },\r\n\r\n  hasPath(editor: Editor, path: Path): boolean {\r\n    return Node.has(editor, path)\r\n  },\r\n\r\n  \r\n\r\n  pathRef(\r\n    editor: Editor,\r\n    path: Path,\r\n    options: {\r\n      affinity?: 'backward' | 'forward' | null\r\n    } = {}\r\n  ): PathRef {\r\n    const { affinity = 'forward' } = options\r\n    const ref: PathRef = {\r\n      current: path,\r\n      affinity,\r\n      unref() {\r\n        const { current } = ref\r\n        const pathRefs = Editor.pathRefs(editor)\r\n        pathRefs.delete(ref)\r\n        ref.current = null\r\n        return current\r\n      },\r\n    }\r\n\r\n    const refs = Editor.pathRefs(editor)\r\n    refs.add(ref)\r\n    return ref\r\n  },\r\n\r\n  \r\n\r\n  pathRefs(editor: Editor): Set<PathRef> {\r\n    let refs = PATH_REFS.get(editor)\r\n\r\n    if (!refs) {\r\n      refs = new Set()\r\n      PATH_REFS.set(editor, refs)\r\n    }\r\n\r\n    return refs\r\n  },\r\n\r\n  \r\n\r\n  point(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      edge?: 'start' | 'end'\r\n    } = {}\r\n  ): Point {\r\n    const { edge = 'start' } = options\r\n\r\n    if (Path.isPath(at)) {\r\n      let path\r\n\r\n      if (edge === 'end') {\r\n        const [, lastPath] = Node.last(editor, at)\r\n        path = lastPath\r\n      } else {\r\n        const [, firstPath] = Node.first(editor, at)\r\n        path = firstPath\r\n      }\r\n\r\n      const node:any = Node.get(editor, path)\r\n\r\n      if (!Text.isText(node)) {\r\n        handleSlateError( \r\n          `Cannot get the ${edge} point in the node at path [${at}] because it has no ${edge} text node.`, editor\r\n        )\r\n      }\r\n      \r\n      return {\r\n        path, offset: edge === 'end' ?\r\n          node.text ?\r\n            node.text.length :\r\n            node.children && node.children.length ?\r\n              node.children[0]?.text?.length : 0\r\n          : 0\r\n      }\r\n    }\r\n\r\n    if (Range.isRange(at)) {\r\n      const [start, end] = Range.edges(at)\r\n      return edge === 'start' ? start : end\r\n    }\r\n\r\n    return at\r\n  },\r\n\r\n  \r\n\r\n  pointRef(\r\n    editor: Editor,\r\n    point: Point,\r\n    options: {\r\n      affinity?: 'backward' | 'forward' | null\r\n    } = {}\r\n  ): PointRef {\r\n    const { affinity = 'forward' } = options\r\n    const ref: PointRef = {\r\n      current: point,\r\n      affinity,\r\n      unref() {\r\n        const { current } = ref\r\n        const pointRefs = Editor.pointRefs(editor)\r\n        pointRefs.delete(ref)\r\n        ref.current = null\r\n        return current\r\n      },\r\n    }\r\n\r\n    const refs = Editor.pointRefs(editor)\r\n    refs.add(ref)\r\n    return ref\r\n  },\r\n\r\n  \r\n\r\n  pointRefs(editor: Editor): Set<PointRef> {\r\n    let refs = POINT_REFS.get(editor)\r\n\r\n    if (!refs) {\r\n      refs = new Set()\r\n      POINT_REFS.set(editor, refs)\r\n    }\r\n\r\n    return refs\r\n  },\r\n\r\n  \r\n\r\n  *positions(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      unit?: 'offset' | 'character' | 'word' | 'line' | 'block'\r\n      reverse?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): Generator<Point, void, undefined> {\r\n    const {\r\n      at = editor.selection,\r\n      unit = 'offset',\r\n      reverse = false,\r\n      voids = false,\r\n    } = options\r\n\r\n    if (!at) {\r\n      return\r\n    }\r\n\r\n    \r\n\r\n    const range = Editor.range(editor, at)\r\n    const [start, end] = Range.edges(range)\r\n    const first = reverse ? end : start\r\n    let isNewBlock = false\r\n    let blockText = ''\r\n    let distance = 0 \r\n    let leafTextRemaining = 0\r\n    let leafTextOffset = 0\r\n\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    for (const [node, path] of Editor.nodes(editor, { at, reverse, voids })) {\r\n      \r\n      if (Element.isElement(node)) {\r\n        \r\n        \r\n        \r\n        if (!voids && editor.isVoid(node)) {\r\n          yield Editor.start(editor, path)\r\n          continue\r\n        }\r\n\r\n        \r\n        \r\n        \r\n        if (editor.isInline(node)) continue\r\n\r\n        \r\n        if (Editor.hasInlines(editor, node)) {\r\n          \r\n          \r\n          \r\n          \r\n\r\n          \r\n          \r\n          \r\n          \r\n          \r\n          \r\n          const e = Path.isAncestor(path, end.path)\r\n            ? end\r\n            : Editor.end(editor, path)\r\n          const s = Path.isAncestor(path, start.path)\r\n            ? start\r\n            : Editor.start(editor, path)\r\n\r\n          blockText = Editor.string(editor, { anchor: s, focus: e }, { voids })\r\n          isNewBlock = true\r\n        }\r\n      }\r\n\r\n      \r\n      if (Text.isText(node)) {\r\n        const isFirst = Path.equals(path, first.path)\r\n\r\n        \r\n        \r\n        \r\n        \r\n\r\n        \r\n        if (isFirst) {\r\n          leafTextRemaining = reverse\r\n            ? first.offset\r\n            : node.text.length - first.offset\r\n          leafTextOffset = first.offset \r\n        } else {\r\n          leafTextRemaining = node.text.length\r\n          leafTextOffset = reverse ? leafTextRemaining : 0\r\n        }\r\n\r\n        \r\n        if (isFirst || isNewBlock || unit === 'offset') {\r\n          yield { path, offset: leafTextOffset }\r\n          isNewBlock = false\r\n        }\r\n\r\n        \r\n        while (true) {\r\n          \r\n          \r\n          \r\n          if (distance === 0) {\r\n            if (blockText === '') break\r\n            distance = calcDistance(blockText, unit, reverse)\r\n            \r\n            \r\n            blockText = splitByCharacterDistance(\r\n              blockText,\r\n              distance,\r\n              reverse\r\n            )[1]\r\n          }\r\n\r\n          \r\n          leafTextOffset = reverse\r\n            ? leafTextOffset - distance\r\n            : leafTextOffset + distance\r\n          leafTextRemaining = leafTextRemaining - distance\r\n\r\n          \r\n          \r\n          \r\n          if (leafTextRemaining < 0) {\r\n            distance = -leafTextRemaining\r\n            break\r\n          }\r\n\r\n          \r\n          \r\n          \r\n          distance = 0\r\n          yield { path, offset: leafTextOffset }\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\n    \r\n\r\n    \r\n    \r\n    function calcDistance(text: string, unit: string, reverse?: boolean) {\r\n      if (unit === 'character') {\r\n        return getCharacterDistance(text, reverse)\r\n      } else if (unit === 'word') {\r\n        return getWordDistance(text, reverse)\r\n      } else if (unit === 'line' || unit === 'block') {\r\n        return text.length\r\n      }\r\n      return 1\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  previous<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      voids?: boolean\r\n    } = {}\r\n  ): NodeEntry<T> | undefined {\r\n    const { mode = 'lowest', voids = false } = options\r\n    let { match, at = editor.selection } = options\r\n\r\n    if (!at) {\r\n      return\r\n    }\r\n\r\n    const pointBeforeLocation = Editor.before(editor, at, { voids })\r\n\r\n    if (!pointBeforeLocation) {\r\n      return\r\n    }\r\n\r\n    const [, to] = Editor.first(editor, [])\r\n\r\n    \r\n    \r\n    const span: Span = [pointBeforeLocation.path, to]\r\n\r\n    if (Path.isPath(at) && at.length === 0) {\r\n      handleSlateError( `Cannot get the previous node from the root node!`, editor)\r\n    }\r\n\r\n    if (match == null) {\r\n      if (Path.isPath(at)) {\r\n        const [parent] = Editor.parent(editor, at)\r\n        match = n => parent.children.includes(n)\r\n      } else {\r\n        match = () => true\r\n      }\r\n    }\r\n\r\n    const [previous] = Editor.nodes(editor, {\r\n      reverse: true,\r\n      at: span,\r\n      match,\r\n      mode,\r\n      voids,\r\n    })\r\n\r\n    return previous\r\n  },\r\n\r\n  \r\n\r\n  range(editor: Editor, at: Location, to?: Location): Range {\r\n    if (Range.isRange(at) && !to) {\r\n      return at\r\n    }\r\n\r\n    const start = Editor.start(editor, at)\r\n    const end = Editor.end(editor, to || at)\r\n    return { anchor: start, focus: end }\r\n  },\r\n\r\n  \r\n\r\n  rangeRef(\r\n    editor: Editor,\r\n    range: Range,\r\n    options: {\r\n      affinity?: 'backward' | 'forward' | 'outward' | 'inward' | null\r\n    } = {}\r\n  ): RangeRef {\r\n    const { affinity = 'forward' } = options\r\n    const ref: RangeRef = {\r\n      current: range,\r\n      affinity,\r\n      unref() {\r\n        const { current } = ref\r\n        const rangeRefs = Editor.rangeRefs(editor)\r\n        rangeRefs.delete(ref)\r\n        ref.current = null\r\n        return current\r\n      },\r\n    }\r\n\r\n    const refs = Editor.rangeRefs(editor)\r\n    refs.add(ref)\r\n    return ref\r\n  },\r\n\r\n  \r\n\r\n  rangeRefs(editor: Editor): Set<RangeRef> {\r\n    let refs = RANGE_REFS.get(editor)\r\n\r\n    if (!refs) {\r\n      refs = new Set()\r\n      RANGE_REFS.set(editor, refs)\r\n    }\r\n\r\n    return refs\r\n  },\r\n\r\n  \r\n\r\n  removeMark(editor: Editor, key: string): void {\r\n    editor.removeMark(key)\r\n  },\r\n\r\n  \r\n  setNormalizing(editor: Editor, isNormalizing: boolean): void {\r\n    NORMALIZING.set(editor, isNormalizing)\r\n  },\r\n\r\n  \r\n\r\n  start(editor: Editor, at: Location): Point {\r\n    return Editor.point(editor, at, { edge: 'start' })\r\n  },\r\n\r\n  \r\n\r\n  string(\r\n    editor: Editor,\r\n    at: Location,\r\n    options: {\r\n      voids?: boolean\r\n    } = {}\r\n  ): string {\r\n    const { voids = false } = options\r\n    const range = Editor.range(editor, at)\r\n    const [start, end] = Range.edges(range)\r\n    let text = ''\r\n\r\n    for (const [node, path] of Editor.nodes(editor, {\r\n      at: range,\r\n      match: Text.isText,\r\n      voids,\r\n    })) {\r\n      let t = node.text\r\n\r\n      if (Path.equals(path, end.path)) {\r\n        t = t.slice(0, end.offset)\r\n      }\r\n\r\n      if (Path.equals(path, start.path)) {\r\n        t = t.slice(start.offset)\r\n      }\r\n\r\n      text += t\r\n    }\r\n\r\n    return text\r\n  },\r\n\r\n  \r\n\r\n  unhangRange(\r\n    editor: Editor,\r\n    range: Range,\r\n    options: {\r\n      voids?: boolean\r\n    } = {}\r\n  ): Range {\r\n    const { voids = false } = options\r\n    let [start, end] = Range.edges(range)\r\n\r\n    \r\n    if (start.offset !== 0 || end.offset !== 0 || Range.isCollapsed(range)) {\r\n      return range\r\n    }\r\n\r\n    const endBlock = Editor.above(editor, {\r\n      at: end,\r\n      match: n => Editor.isBlock(editor, n),\r\n    })\r\n    const blockPath = endBlock ? endBlock[1] : []\r\n    const first = Editor.start(editor, start)\r\n    const before = { anchor: first, focus: end }\r\n    let skip = true\r\n\r\n    for (const [node, path] of Editor.nodes(editor, {\r\n      at: before,\r\n      match: Text.isText,\r\n      reverse: true,\r\n      voids,\r\n    })) {\r\n      if (skip) {\r\n        skip = false\r\n        continue\r\n      }\r\n\r\n      if (node.text !== '' || Path.isBefore(path, blockPath)) {\r\n        end = { path, offset: node.text.length }\r\n        break\r\n      }\r\n    }\r\n\r\n    return { anchor: start, focus: end }\r\n  },\r\n\r\n  \r\n\r\n  void(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      mode?: 'highest' | 'lowest'\r\n      voids?: boolean\r\n    } = {}\r\n  ): NodeEntry<Element> | undefined {\r\n    return Editor.above(editor, {\r\n      ...options,\r\n      match: (n:any)  => Editor.isVoid(editor, n),\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  withoutNormalizing(editor: Editor, fn: () => void): void {\r\n    const value = Editor.isNormalizing(editor)\r\n    Editor.setNormalizing(editor, false)\r\n    try {\r\n      fn()\r\n    } finally {\r\n      Editor.setNormalizing(editor, value)\r\n    }\r\n    Editor.normalize(editor)\r\n  },\r\n}\r\n\r\n\r\n\r\nexport type NodeMatch<T extends Node> =\r\n  | ((node: Node, path: Path) => node is T)\r\n  | ((node: Node, path: Path) => boolean)\r\n","import { Path, Point, Range } from '..'\r\n\r\n\r\n\r\nexport type Location = Path | Point | Range\r\n\r\nexport interface LocationInterface {\r\n  isLocation: (value: any) => value is Location\r\n}\r\n\r\nexport const Location: LocationInterface = {\r\n  \r\n\r\n  isLocation(value: any): value is Location {\r\n    return Path.isPath(value) || Point.isPoint(value) || Range.isRange(value)\r\n  },\r\n}\r\n\r\n\r\n\r\nexport type Span = [Path, Path]\r\n\r\nexport interface SpanInterface {\r\n  isSpan: (value: any) => value is Span\r\n}\r\n\r\nexport const Span: SpanInterface = {\r\n  \r\n\r\n  isSpan(value: any): value is Span {\r\n    return (\r\n      Array.isArray(value) && value.length === 2 && value.every(Path.isPath)\r\n    )\r\n  },\r\n}\r\n","import { ELTYPE } from '@src/components/docs/plugins/config'\r\nimport { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport { produce } from 'immer'\r\nimport { Editor, Path, Range, Text } from '..'\r\nimport { Element, ElementEntry } from './element'\r\n\r\n\r\n\r\nexport type BaseNode = Editor | Element | Text\r\nexport type Node = Editor | Element | Text\r\n\r\nexport interface NodeInterface {\r\n  ancestor: (root: Node, path: Path) => Ancestor\r\n  ancestors: (\r\n    root: Node,\r\n    path: Path,\r\n    options?: {\r\n      reverse?: boolean\r\n    }\r\n  ) => Generator<NodeEntry<Ancestor>, void, undefined>\r\n  child: (root: Node, index: number) => Descendant\r\n  children: (\r\n    root: Node,\r\n    path: Path,\r\n    options?: {\r\n      reverse?: boolean\r\n    }\r\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\r\n  common: (root: Node, path: Path, another: Path) => NodeEntry\r\n  descendant: (root: Node, path: Path) => Descendant\r\n  descendants: (\r\n    root: Node,\r\n    options?: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (node: NodeEntry) => boolean\r\n    }\r\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\r\n  elements: (\r\n    root: Node,\r\n    options?: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (node: NodeEntry) => boolean\r\n    }\r\n  ) => Generator<ElementEntry, void, undefined>\r\n  extractProps: (node: Node) => NodeProps\r\n  first: (root: Node, path: Path) => NodeEntry\r\n  fragment: (root: Node, range: Range) => Descendant[]\r\n  get: (root: Node, path: Path) => Node\r\n  has: (root: Node, path: Path) => boolean\r\n  isNode: (value: any) => value is Node\r\n  isNodeList: (value: any) => value is Node[]\r\n  last: (root: Node, path: Path) => NodeEntry\r\n  leaf: (root: Node, path: Path) => Text\r\n  levels: (\r\n    root: Node,\r\n    path: Path,\r\n    options?: {\r\n      reverse?: boolean\r\n    }\r\n  ) => Generator<NodeEntry, void, undefined>\r\n  matches: (node: Node, props: Partial<Node>) => boolean\r\n  nodes: (\r\n    root: Node,\r\n    options?: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (entry: NodeEntry) => boolean\r\n    }\r\n  ) => Generator<NodeEntry, void, undefined>\r\n  parent: (root: Node, path: Path) => Ancestor\r\n  string: (node: Node) => string\r\n  texts: (\r\n    root: Node,\r\n    options?: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (node: NodeEntry) => boolean\r\n    }\r\n  ) => Generator<NodeEntry<Text>, void, undefined>\r\n}\r\n\r\nconst IS_NODE_LIST_CACHE = new WeakMap<any[], boolean>()\r\n\r\nexport const Node: NodeInterface = {\r\n  \r\n\r\n  ancestor(root: Node, path: Path): Ancestor {\r\n    const node = Node.get(root, path)\r\n\r\n    if (Text.isText(node)) {\r\n      handleSlateError( \r\n        `Cannot get the ancestor node at path [${path}] because it refers to a text node instead: ${node}`\r\n      )\r\n    }\r\n\r\n    return node as any\r\n  },\r\n\r\n  \r\n\r\n  *ancestors(\r\n    root: Node,\r\n    path: Path,\r\n    options: {\r\n      reverse?: boolean\r\n    } = {}\r\n  ): Generator<NodeEntry<Ancestor>, void, undefined> {\r\n    for (const p of Path.ancestors(path, options)) {\r\n      const n = Node.ancestor(root, p)\r\n      const entry: NodeEntry<Ancestor> = [n, p]\r\n      yield entry\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  child(root: Node, index: number): Descendant {\r\n    if (Text.isText(root)) {\r\n      handleSlateError( \r\n        `Cannot get the child of a text node: ${JSON.stringify(root)}`\r\n      )\r\n    }\r\n\r\n    const c = (root as any).children[index] as Descendant\r\n\r\n    if (c == null) {\r\n      handleSlateError( \r\n        `Cannot get child at index \\`${index}\\` in node: ${JSON.stringify(\r\n          root\r\n        )}`\r\n      )\r\n    }\r\n\r\n    return c\r\n  },\r\n\r\n  \r\n\r\n  *children(\r\n    root: Node,\r\n    path: Path,\r\n    options: {\r\n      reverse?: boolean\r\n    } = {}\r\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\r\n    const { reverse = false } = options\r\n    const ancestor = Node.ancestor(root, path)\r\n    const { children } = ancestor\r\n    let index = reverse ? children.length - 1 : 0\r\n\r\n    while (reverse ? index >= 0 : index < children.length) {\r\n      const child = Node.child(ancestor, index)\r\n      const childPath = path.concat(index)\r\n      yield [child, childPath]\r\n      index = reverse ? index - 1 : index + 1\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  common(root: Node, path: Path, another: Path): NodeEntry {\r\n    const p = Path.common(path, another)\r\n    const n = Node.get(root, p)\r\n    return [n, p]\r\n  },\r\n\r\n  \r\n\r\n  descendant(root: Node, path: Path): Descendant {\r\n    const node = Node.get(root, path)\r\n\r\n    if (Editor.isEditor(node)) {\r\n      handleSlateError( \r\n        `Cannot get the descendant node at path [${path}] because it refers to the root editor node instead: ${node}`\r\n      )\r\n    }\r\n\r\n    return node\r\n  },\r\n\r\n  \r\n\r\n  *descendants(\r\n    root: Node,\r\n    options: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (node: NodeEntry) => boolean\r\n    } = {}\r\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\r\n    for (const [node, path] of Node.nodes(root, options)) {\r\n      if (path.length !== 0) {\r\n        \r\n        \r\n        yield [node, path] as NodeEntry<Descendant>\r\n      }\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  *elements(\r\n    root: Node,\r\n    options: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (node: NodeEntry) => boolean\r\n    } = {}\r\n  ): Generator<ElementEntry, void, undefined> {\r\n    for (const [node, path] of Node.nodes(root, options)) {\r\n      if (Element.isElement(node)) {\r\n        yield [node, path]\r\n      }\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  extractProps(node: Node): NodeProps {\r\n    if (Element.isAncestor(node)) {\r\n      const { children, ...properties } = node\r\n\r\n      return properties\r\n    } else {\r\n      const { text, ...properties } = node\r\n\r\n      return properties\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  first(root: Node, path: Path): NodeEntry {\r\n    const p = path.slice()\r\n    let n = Node.get(root, p)\r\n\r\n    while (n) {\r\n      if (Text.isText(n) || n.children.length === 0) {\r\n        break\r\n      } else {\r\n        n = n.children[0]\r\n        p.push(0)\r\n      }\r\n    }\r\n\r\n    return [n, p]\r\n  },\r\n\r\n  \r\n\r\n  fragment(root: Node, range: Range): Descendant[] {\r\n    if (Text.isText(root)) {\r\n      handleSlateError( \r\n        `Cannot get a fragment starting from a root text node: ${JSON.stringify(\r\n          root\r\n        )}`\r\n      )\r\n    }\r\n\r\n    const newRoot = produce({ children: (root as any).children }, r => {\r\n      const [start, end] = Range.edges(range)\r\n      const nodeEntries = Node.nodes(r, {\r\n        reverse: true,\r\n        pass: ([, path]) => !Range.includes(range, path),\r\n      })\r\n\r\n      for (const [, path] of nodeEntries) {\r\n        if (!Range.includes(range, path)) {\r\n          const parent = Node.parent(r, path)\r\n          const index = path[path.length - 1]\r\n          parent.children.splice(index, 1)\r\n        }\r\n\r\n        if (Path.equals(path, end.path)) {\r\n          const leaf = Node.leaf(r, path)\r\n          leaf.text = leaf.text.slice(0, end.offset)\r\n        }\r\n\r\n        if (Path.equals(path, start.path)) {\r\n          const leaf = Node.leaf(r, path)\r\n          leaf.text = leaf.text.slice(start.offset)\r\n        }\r\n      }\r\n\r\n      if (Editor.isEditor(r)) {\r\n        r.selection = null\r\n      }\r\n    })\r\n\r\n    return newRoot.children\r\n  },\r\n\r\n  \r\n\r\n  get(root: Node, path: Path): Node {\r\n    let node = root\r\n\r\n    for (let i = 0; i < path.length; i++) {\r\n      const p = path[i]\r\n\r\n      if (Text.isText(node) || !node.children[p]) {\r\n        handleSlateError( \r\n          `Cannot find a descendant at path [${path}] in node: ${JSON.stringify(\r\n            root\r\n          )}`\r\n        )\r\n      }\r\n\r\n      node = (node as any).children[p]\r\n    }\r\n\r\n    return node\r\n  },\r\n\r\n  \r\n\r\n  has(root: Node, path: Path): boolean {\r\n    let node = root\r\n\r\n    for (let i = 0; i < path.length; i++) {\r\n      const p = path[i]\r\n\r\n      if (Text.isText(node) || !node.children[p]) {\r\n        return false\r\n      }\r\n\r\n      node = node.children[p]\r\n    }\r\n\r\n    return true\r\n  },\r\n\r\n  \r\n\r\n  isNode(value: any): value is Node {\r\n    return (\r\n      Text.isText(value) || Element.isElement(value) || Editor.isEditor(value)\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isNodeList(value: any): value is Node[] {\r\n    if (!Array.isArray(value)) {\r\n      return false\r\n    }\r\n    const cachedResult = IS_NODE_LIST_CACHE.get(value)\r\n    if (cachedResult !== undefined) {\r\n      return cachedResult\r\n    }\r\n    const isNodeList = value.every(val => Node.isNode(val))\r\n    IS_NODE_LIST_CACHE.set(value, isNodeList)\r\n    return isNodeList\r\n  },\r\n\r\n  \r\n\r\n  last(root: Node, path: Path): NodeEntry {\r\n    const p = path.slice()\r\n    let n = Node.get(root, p)\r\n\r\n    while (n) {\r\n      if (Text.isText(n) || n.children.length === 0) {\r\n        break\r\n      } else {\r\n        const i = n.children.length - 1\r\n        n = n.children[i]\r\n        p.push(i)\r\n      }\r\n    }\r\n\r\n    return [n, p]\r\n  },\r\n\r\n  \r\n\r\n  leaf(root: Node, path: Path): Text {\r\n    const node = Node.get(root, path)\r\n\r\n    if (!Text.isText(node)) {\r\n      \r\n      if(Element.isElement(node)) {\r\n        const nodeType =(node as any).type;\r\n        if(nodeType && [ELTYPE.CARD_SUF, ELTYPE.CARD_PRE].includes(nodeType) ) {\r\n          \r\n          return (node as any).children[0];\r\n        }\r\n      }\r\n\r\n      handleSlateError( \r\n        `Cannot get the leaf node at path [${path}] because it refers to a non-leaf node: ${node}`\r\n      )\r\n    }\r\n\r\n    return node as any\r\n  },\r\n\r\n  \r\n\r\n  *levels(\r\n    root: Node,\r\n    path: Path,\r\n    options: {\r\n      reverse?: boolean\r\n    } = {}\r\n  ): Generator<NodeEntry, void, undefined> {\r\n    for (const p of Path.levels(path, options)) {\r\n      const n = Node.get(root, p)\r\n      yield [n, p]\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  matches(node: Node, props: Partial<Node>): boolean {\r\n    return (\r\n      (Element.isElement(node) &&\r\n        Element.isElementProps(props) &&\r\n        Element.matches(node, props)) ||\r\n      (Text.isText(node) &&\r\n        Text.isTextProps(props) &&\r\n        Text.matches(node, props))\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  *nodes(\r\n    root: Node,\r\n    options: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (entry: NodeEntry) => boolean\r\n    } = {}\r\n  ): Generator<NodeEntry, void, undefined> {\r\n    const { pass, reverse = false } = options\r\n    const { from = [], to } = options\r\n    const visited = new Set()\r\n    let p: Path = []\r\n    let n = root\r\n\r\n    while (true) {\r\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\r\n        break\r\n      }\r\n\r\n      if (!visited.has(n)) {\r\n        yield [n, p]\r\n      }\r\n\r\n      \r\n      if (\r\n        !visited.has(n) &&\r\n        !Text.isText(n) &&\r\n        n.children.length !== 0 &&\r\n        (pass == null || pass([n, p]) === false)\r\n      ) {\r\n        visited.add(n)\r\n        let nextIndex = reverse ? n.children.length - 1 : 0\r\n\r\n        if (Path.isAncestor(p, from)) {\r\n          nextIndex = from[p.length]\r\n        }\r\n\r\n        p = p.concat(nextIndex)\r\n        n = Node.get(root, p)\r\n        continue\r\n      }\r\n\r\n      \r\n      if (p.length === 0) {\r\n        break\r\n      }\r\n\r\n      \r\n      if (!reverse) {\r\n        const newPath = Path.next(p)\r\n\r\n        if (Node.has(root, newPath)) {\r\n          p = newPath\r\n          n = Node.get(root, p)\r\n          continue\r\n        }\r\n      }\r\n\r\n      \r\n      if (reverse && p[p.length - 1] !== 0) {\r\n        const newPath = Path.previous(p)\r\n        p = newPath\r\n        n = Node.get(root, p)\r\n        continue\r\n      }\r\n\r\n      \r\n      p = Path.parent(p)\r\n      n = Node.get(root, p)\r\n      visited.add(n)\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  parent(root: Node, path: Path): Ancestor {\r\n    const parentPath = Path.parent(path)\r\n    const p:any = Node.get(root, parentPath)\r\n\r\n    if (Text.isText(p)) {\r\n      handleSlateError( \r\n        `Cannot get the parent of path [${path}] because it does not exist in the root.`\r\n      )\r\n    }\r\n\r\n    return p\r\n  },\r\n\r\n  \r\n\r\n  string(node: Node): string {\r\n    if (Text.isText(node)) {\r\n      return node.text\r\n    } else {\r\n      return node.children.map(Node.string).join('')\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  *texts(\r\n    root: Node,\r\n    options: {\r\n      from?: Path\r\n      to?: Path\r\n      reverse?: boolean\r\n      pass?: (node: NodeEntry) => boolean\r\n    } = {}\r\n  ): Generator<NodeEntry<Text>, void, undefined> {\r\n    for (const [node, path] of Node.nodes(root, options)) {\r\n      if (Text.isText(node)) {\r\n        yield [node, path]\r\n      }\r\n    }\r\n  },\r\n}\r\n\r\n\r\n\r\nexport type Descendant = Element | Text\r\n\r\n\r\n\r\nexport type Ancestor = Editor | Element\r\n\r\n\r\n\r\nexport type NodeEntry<T extends Node = Node> = [T, Path]\r\n\r\n\r\nexport type NodeProps =\r\n  | Omit<Editor, 'children'>\r\n  | Omit<Element, 'children'>\r\n  | Omit<Text, 'text'>\r\n","import { ExtendedType, Node, Path, Range } from '..'\r\nimport isPlainObject from 'is-plain-object'\r\n\r\nexport type BaseInsertNodeOperation = {\r\n  type: 'insert_node'\r\n  path: Path\r\n  node: Node,\r\n  anchorId?: string;\r\n}\r\n\r\nexport type InsertNodeOperation = ExtendedType<\r\n  'InsertNodeOperation',\r\n  BaseInsertNodeOperation\r\n>\r\n\r\nexport type BaseInsertTextOperation = {\r\n  type: 'insert_text'\r\n  path: Path\r\n  offset: number\r\n  text: string\r\n}\r\n\r\nexport type InsertTextOperation = ExtendedType<\r\n  'InsertTextOperation',\r\n  BaseInsertTextOperation\r\n>\r\n\r\nexport type BaseMergeNodeOperation = {\r\n  type: 'merge_node'\r\n  path: Path\r\n  position: number\r\n  properties: Partial<Node>\r\n}\r\n\r\nexport type MergeNodeOperation = ExtendedType<\r\n  'MergeNodeOperation',\r\n  BaseMergeNodeOperation\r\n>\r\n\r\nexport type BaseMoveNodeOperation = {\r\n  type: 'move_node'\r\n  path: Path\r\n  newPath: Path\r\n}\r\n\r\nexport type MoveNodeOperation = ExtendedType<\r\n  'MoveNodeOperation',\r\n  BaseMoveNodeOperation\r\n>\r\n\r\nexport type BaseRemoveNodeOperation = {\r\n  type: 'remove_node'\r\n  path: Path\r\n  node: Node\r\n}\r\n\r\nexport type RemoveNodeOperation = ExtendedType<\r\n  'RemoveNodeOperation',\r\n  BaseRemoveNodeOperation\r\n>\r\n\r\nexport type BaseRemoveTextOperation = {\r\n  type: 'remove_text'\r\n  path: Path\r\n  offset: number\r\n  text: string\r\n}\r\n\r\nexport type RemoveTextOperation = ExtendedType<\r\n  'RemoveTextOperation',\r\n  BaseRemoveTextOperation\r\n>\r\n\r\nexport type BaseSetNodeOperation = {\r\n  type: 'set_node'\r\n  path: Path\r\n  properties: Partial<Node>\r\n  newProperties: Partial<Node>\r\n}\r\n\r\nexport type SetNodeOperation = ExtendedType<\r\n  'SetNodeOperation',\r\n  BaseSetNodeOperation\r\n>\r\n\r\nexport type BaseSetSelectionOperation =\r\n  | {\r\n    type: 'set_selection'\r\n    properties: null\r\n    newProperties: Range\r\n  }\r\n  | {\r\n    type: 'set_selection'\r\n    properties: Partial<Range>\r\n    newProperties: Partial<Range>\r\n  }\r\n  | {\r\n    type: 'set_selection'\r\n    properties: Range\r\n    newProperties: null\r\n  }\r\n\r\nexport type SetSelectionOperation = ExtendedType<\r\n  'SetSelectionOperation',\r\n  BaseSetSelectionOperation\r\n>\r\n\r\nexport type BaseSplitNodeOperation = {\r\n  type: 'split_node'\r\n  path: Path\r\n  position: number\r\n  properties: Partial<Node>\r\n  anchorId?: string\r\n}\r\n\r\nexport type SplitNodeOperation = ExtendedType<\r\n  'SplitNodeOperation',\r\n  BaseSplitNodeOperation\r\n>\r\n\r\nexport type NodeOperation =\r\n  | InsertNodeOperation\r\n  | MergeNodeOperation\r\n  | MoveNodeOperation\r\n  | RemoveNodeOperation\r\n  | SetNodeOperation\r\n  | SplitNodeOperation\r\n\r\nexport type SelectionOperation = SetSelectionOperation\r\n\r\nexport type TextOperation = InsertTextOperation | RemoveTextOperation\r\n\r\n\r\n\r\nexport type Operation = NodeOperation | SelectionOperation | TextOperation\r\n\r\nexport interface OperationInterface {\r\n  isNodeOperation: (value: any) => value is NodeOperation\r\n  isOperation: (value: any) => value is Operation\r\n  isOperationList: (value: any) => value is Operation[]\r\n  isSelectionOperation: (value: any) => value is SelectionOperation\r\n  isTextOperation: (value: any) => value is TextOperation\r\n  inverse: (op: Operation) => Operation\r\n}\r\n\r\nexport const Operation: OperationInterface = {\r\n  \r\n\r\n  isNodeOperation(value: any): value is NodeOperation {\r\n    return Operation.isOperation(value) && value.type.endsWith('_node')\r\n  },\r\n\r\n  \r\n\r\n  isOperation(value: any): value is Operation {\r\n    if (!isPlainObject(value)) {\r\n      return false\r\n    }\r\n\r\n    switch (value.type) {\r\n      case 'insert_node':\r\n        return Path.isPath(value.path) && Node.isNode(value.node)\r\n      case 'insert_text':\r\n        return (\r\n          typeof value.offset === 'number' &&\r\n          typeof value.text === 'string' &&\r\n          Path.isPath(value.path)\r\n        )\r\n      case 'merge_node':\r\n        return (\r\n          typeof value.position === 'number' &&\r\n          Path.isPath(value.path) &&\r\n          isPlainObject(value.properties)\r\n        )\r\n      case 'move_node':\r\n        return Path.isPath(value.path) && Path.isPath(value.newPath)\r\n      case 'remove_node':\r\n        return Path.isPath(value.path) && Node.isNode(value.node)\r\n      case 'remove_text':\r\n        return (\r\n          typeof value.offset === 'number' &&\r\n          typeof value.text === 'string' &&\r\n          Path.isPath(value.path)\r\n        )\r\n      case 'set_node':\r\n        return (\r\n          Path.isPath(value.path) &&\r\n          isPlainObject(value.properties) &&\r\n          isPlainObject(value.newProperties)\r\n        )\r\n      case 'set_selection':\r\n        return (\r\n          (value.properties === null && Range.isRange(value.newProperties)) ||\r\n          (value.newProperties === null && Range.isRange(value.properties)) ||\r\n          (isPlainObject(value.properties) &&\r\n            isPlainObject(value.newProperties))\r\n        )\r\n      case 'split_node':\r\n        return (\r\n          Path.isPath(value.path) &&\r\n          typeof value.position === 'number' &&\r\n          isPlainObject(value.properties)\r\n        )\r\n      default:\r\n        return false\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  isOperationList(value: any): value is Operation[] {\r\n    return (\r\n      Array.isArray(value) && value.every(val => Operation.isOperation(val))\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isSelectionOperation(value: any): value is SelectionOperation {\r\n    return Operation.isOperation(value) && value.type.endsWith('_selection')\r\n  },\r\n\r\n  \r\n\r\n  isTextOperation(value: any): value is TextOperation {\r\n    return Operation.isOperation(value) && value.type.endsWith('_text')\r\n  },\r\n\r\n  \r\n\r\n  inverse(op: Operation): Operation {\r\n    switch (op.type) {\r\n      case 'insert_node': {\r\n        return { ...op, type: 'remove_node' }\r\n      }\r\n\r\n      case 'insert_text': {\r\n        return { ...op, type: 'remove_text' }\r\n      }\r\n\r\n      case 'merge_node': {\r\n        return { ...op, type: 'split_node', path: Path.previous(op.path) }\r\n      }\r\n\r\n      case 'move_node': {\r\n        const { newPath, path } = op\r\n\r\n        \r\n        if (Path.equals(newPath, path)) {\r\n          return op\r\n        }\r\n\r\n        \r\n        \r\n        if (Path.isSibling(path, newPath)) {\r\n          return { ...op, path: newPath, newPath: path }\r\n        }\r\n\r\n        \r\n        \r\n        \r\n        \r\n        \r\n        \r\n        const inversePath = Path.transform(path, op)!\r\n        const inverseNewPath = Path.transform(Path.next(path), op)!\r\n        return { ...op, path: inversePath, newPath: inverseNewPath }\r\n      }\r\n\r\n      case 'remove_node': {\r\n        return { ...op, type: 'insert_node' }\r\n      }\r\n\r\n      case 'remove_text': {\r\n        return { ...op, type: 'insert_text' }\r\n      }\r\n\r\n      case 'set_node': {\r\n        const { properties, newProperties } = op\r\n        return { ...op, properties: newProperties, newProperties: properties }\r\n      }\r\n\r\n      case 'set_selection': {\r\n        const { properties, newProperties } = op\r\n\r\n        if (properties == null) {\r\n          return {\r\n            ...op,\r\n            properties: newProperties as Range,\r\n            newProperties: null,\r\n          }\r\n        } else if (newProperties == null) {\r\n          return {\r\n            ...op,\r\n            properties: null,\r\n            newProperties: properties as Range,\r\n          }\r\n        } else {\r\n          return { ...op, properties: newProperties, newProperties: properties }\r\n        }\r\n      }\r\n\r\n      case 'split_node': {\r\n        return { ...op, type: 'merge_node', path: Path.next(op.path) }\r\n      }\r\n    }\r\n  },\r\n}\r\n","import { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport { produce } from 'immer'\r\nimport { Operation } from '..'\r\n\r\n\r\n\r\nexport type Path = number[]\r\n\r\nexport interface PathInterface {\r\n  ancestors: (path: Path, options?: { reverse?: boolean }) => Path[]\r\n  common: (path: Path, another: Path) => Path\r\n  compare: (path: Path, another: Path) => -1 | 0 | 1\r\n  endsAfter: (path: Path, another: Path) => boolean\r\n  endsAt: (path: Path, another: Path) => boolean\r\n  endsBefore: (path: Path, another: Path) => boolean\r\n  equals: (path: Path, another: Path) => boolean\r\n  hasPrevious: (path: Path) => boolean\r\n  isAfter: (path: Path, another: Path) => boolean\r\n  isAncestor: (path: Path, another: Path) => boolean\r\n  isBefore: (path: Path, another: Path) => boolean\r\n  isChild: (path: Path, another: Path) => boolean\r\n  isCommon: (path: Path, another: Path) => boolean\r\n  isDescendant: (path: Path, another: Path) => boolean\r\n  isParent: (path: Path, another: Path) => boolean\r\n  isPath: (value: any) => value is Path\r\n  isSibling: (path: Path, another: Path) => boolean\r\n  levels: (\r\n    path: Path,\r\n    options?: {\r\n      reverse?: boolean\r\n    }\r\n  ) => Path[]\r\n  next: (path: Path) => Path\r\n  parent: (path: Path) => Path\r\n  previous: (path: Path) => Path\r\n  relative: (path: Path, ancestor: Path) => Path\r\n  transform: (\r\n    path: Path,\r\n    operation: Operation,\r\n    options?: { affinity?: 'forward' | 'backward' | null }\r\n  ) => Path | null\r\n}\r\n\r\nexport const Path: PathInterface = {\r\n  \r\n\r\n  ancestors(path: Path, options: { reverse?: boolean } = {}): Path[] {\r\n    const { reverse = false } = options\r\n    let paths = Path.levels(path, options)\r\n\r\n    if (reverse) {\r\n      paths = paths.slice(1)\r\n    } else {\r\n      paths = paths.slice(0, -1)\r\n    }\r\n\r\n    return paths\r\n  },\r\n\r\n  \r\n\r\n  common(path: Path, another: Path): Path {\r\n    const common: Path = []\r\n\r\n    for (let i = 0; i < path.length && i < another.length; i++) {\r\n      const av = path[i]\r\n      const bv = another[i]\r\n\r\n      if (av !== bv) {\r\n        break\r\n      }\r\n\r\n      common.push(av)\r\n    }\r\n\r\n    return common\r\n  },\r\n\r\n  \r\n\r\n  compare(path: Path, another: Path): -1 | 0 | 1 {\r\n    const min = Math.min(path.length, another.length)\r\n\r\n    for (let i = 0; i < min; i++) {\r\n      if (path[i] < another[i]) return -1\r\n      if (path[i] > another[i]) return 1\r\n    }\r\n\r\n    return 0\r\n  },\r\n\r\n  \r\n\r\n  endsAfter(path: Path, another: Path): boolean {\r\n    const i = path.length - 1\r\n    const as = path.slice(0, i)\r\n    const bs = another.slice(0, i)\r\n    const av = path[i]\r\n    const bv = another[i]\r\n    return Path.equals(as, bs) && av > bv\r\n  },\r\n\r\n  \r\n\r\n  endsAt(path: Path, another: Path): boolean {\r\n    const i = path.length\r\n    const as = path.slice(0, i)\r\n    const bs = another.slice(0, i)\r\n    return Path.equals(as, bs)\r\n  },\r\n\r\n  \r\n\r\n  endsBefore(path: Path, another: Path): boolean {\r\n    const i = path.length - 1\r\n    const as = path.slice(0, i)\r\n    const bs = another.slice(0, i)\r\n    const av = path[i]\r\n    const bv = another[i]\r\n    return Path.equals(as, bs) && av < bv\r\n  },\r\n\r\n  \r\n\r\n  equals(path: Path, another: Path): boolean {\r\n    \r\n    \r\n    \r\n    return (\r\n      path.length === another.length && path.every((n, i) => n === another[i])\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  hasPrevious(path: Path): boolean {\r\n    return path[path.length - 1] > 0\r\n  },\r\n\r\n  \r\n\r\n  isAfter(path: Path, another: Path): boolean {\r\n    return Path.compare(path, another) === 1\r\n  },\r\n\r\n  \r\n\r\n  isAncestor(path: Path, another: Path): boolean {\r\n    return path.length < another.length && Path.compare(path, another) === 0\r\n  },\r\n\r\n  \r\n\r\n  isBefore(path: Path, another: Path): boolean {\r\n    return Path.compare(path, another) === -1\r\n  },\r\n\r\n  \r\n\r\n  isChild(path: Path, another: Path): boolean {\r\n    return (\r\n      path.length === another.length + 1 && Path.compare(path, another) === 0\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isCommon(path: Path, another: Path): boolean {\r\n    return path.length <= another.length && Path.compare(path, another) === 0\r\n  },\r\n\r\n  \r\n\r\n  isDescendant(path: Path, another: Path): boolean {\r\n    return path.length > another.length && Path.compare(path, another) === 0\r\n  },\r\n\r\n  \r\n\r\n  isParent(path: Path, another: Path): boolean {\r\n    return (\r\n      path.length + 1 === another.length && Path.compare(path, another) === 0\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isPath(value: any): value is Path {\r\n    return (\r\n      Array.isArray(value) &&\r\n      (value.length === 0 || typeof value[0] === 'number')\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isSibling(path: Path, another: Path): boolean {\r\n    if (path.length !== another.length) {\r\n      return false\r\n    }\r\n\r\n    const as = path.slice(0, -1)\r\n    const bs = another.slice(0, -1)\r\n    const al = path[path.length - 1]\r\n    const bl = another[another.length - 1]\r\n    return al !== bl && Path.equals(as, bs)\r\n  },\r\n\r\n  \r\n\r\n  levels(\r\n    path: Path,\r\n    options: {\r\n      reverse?: boolean\r\n    } = {}\r\n  ): Path[] {\r\n    const { reverse = false } = options\r\n    const list: Path[] = []\r\n\r\n    for (let i = 0; i <= path.length; i++) {\r\n      list.push(path.slice(0, i))\r\n    }\r\n\r\n    if (reverse) {\r\n      list.reverse()\r\n    }\r\n\r\n    return list\r\n  },\r\n\r\n  \r\n\r\n  next(path: Path): Path {\r\n    if (path.length === 0) {\r\n      handleSlateError( \r\n        `Cannot get the next path of a root path [${path}], because it has no next index.`\r\n      )\r\n    }\r\n\r\n    const last = path[path.length - 1]\r\n    return path.slice(0, -1).concat(last + 1)\r\n  },\r\n\r\n  \r\n\r\n  parent(path: Path): Path {\r\n    if (path.length === 0) {\r\n      handleSlateError( `Cannot get the parent path of the root path [${path}].`)\r\n    }\r\n\r\n    return path.slice(0, -1)\r\n  },\r\n\r\n  \r\n\r\n  previous(path: Path): Path {\r\n    if (path.length === 0) {\r\n      handleSlateError( \r\n        `Cannot get the previous path of a root path [${path}], because it has no previous index.`\r\n      )\r\n    }\r\n\r\n    const last = path[path.length - 1]\r\n\r\n    if (last <= 0) {\r\n      handleSlateError( \r\n        `Cannot get the previous path of a first child path [${path}] because it would result in a negative index.`\r\n      )\r\n    }\r\n\r\n    return path.slice(0, -1).concat(last - 1)\r\n  },\r\n\r\n  \r\n\r\n  relative(path: Path, ancestor: Path): Path {\r\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\r\n      handleSlateError( \r\n        `Cannot get the relative path of [${path}] inside ancestor [${ancestor}], because it is not above or equal to the path.`\r\n      )\r\n    }\r\n\r\n    return path.slice(ancestor.length)\r\n  },\r\n\r\n  \r\n\r\n  transform(\r\n    path: Path | null,\r\n    operation: Operation,\r\n    options: { affinity?: 'forward' | 'backward' | null } = {}\r\n  ): Path | null {\r\n    return produce(path, p => {\r\n      const { affinity = 'forward' } = options\r\n\r\n      \r\n      if (!path || path?.length === 0) {\r\n        return\r\n      }\r\n\r\n      if (p === null) {\r\n        return null\r\n      }\r\n\r\n      switch (operation.type) {\r\n        case 'insert_node': {\r\n          const { path: op } = operation\r\n\r\n          if (\r\n            Path.equals(op, p) ||\r\n            Path.endsBefore(op, p) ||\r\n            Path.isAncestor(op, p)\r\n          ) {\r\n            p[op.length - 1] += 1\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'remove_node': {\r\n          const { path: op } = operation\r\n\r\n          if (Path.equals(op, p) || Path.isAncestor(op, p)) {\r\n            return null\r\n          } else if (Path.endsBefore(op, p)) {\r\n            p[op.length - 1] -= 1\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'merge_node': {\r\n          const { path: op, position } = operation\r\n\r\n          if (Path.equals(op, p) || Path.endsBefore(op, p)) {\r\n            p[op.length - 1] -= 1\r\n          } else if (Path.isAncestor(op, p)) {\r\n            p[op.length - 1] -= 1\r\n            p[op.length] += position\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'split_node': {\r\n          const { path: op, position } = operation\r\n\r\n          if (Path.equals(op, p)) {\r\n            if (affinity === 'forward') {\r\n              p[p.length - 1] += 1\r\n            } else if (affinity === 'backward') {\r\n              \r\n            } else {\r\n              return null\r\n            }\r\n          } else if (Path.endsBefore(op, p)) {\r\n            p[op.length - 1] += 1\r\n          } else if (Path.isAncestor(op, p) && path[op.length] >= position) {\r\n            p[op.length - 1] += 1\r\n            p[op.length] -= position\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'move_node': {\r\n          const { path: op, newPath: onp } = operation\r\n\r\n          \r\n          if (Path.equals(op, onp)) {\r\n            return\r\n          }\r\n\r\n          if (Path.isAncestor(op, p) || Path.equals(op, p)) {\r\n            const copy = onp.slice()\r\n\r\n            if (Path.endsBefore(op, onp) && op.length < onp.length) {\r\n              copy[op.length - 1] -= 1\r\n            }\r\n\r\n            return copy.concat(p.slice(op.length))\r\n          } else if (\r\n            Path.isSibling(op, onp) &&\r\n            (Path.isAncestor(onp, p) || Path.equals(onp, p))\r\n          ) {\r\n            if (Path.endsBefore(op, p)) {\r\n              p[op.length - 1] -= 1\r\n            } else {\r\n              p[op.length - 1] += 1\r\n            }\r\n          } else if (\r\n            Path.endsBefore(onp, p) ||\r\n            Path.equals(onp, p) ||\r\n            Path.isAncestor(onp, p)\r\n          ) {\r\n            if (Path.endsBefore(op, p)) {\r\n              p[op.length - 1] -= 1\r\n            }\r\n\r\n            p[onp.length - 1] += 1\r\n          } else if (Path.endsBefore(op, p)) {\r\n            if (Path.equals(onp, p)) {\r\n              p[onp.length - 1] += 1\r\n            }\r\n\r\n            p[op.length - 1] -= 1\r\n          }\r\n\r\n          break\r\n        }\r\n      }\r\n    })\r\n  },\r\n}\r\n","import { Operation, Path } from '..'\r\n\r\n\r\n\r\nexport interface PathRef {\r\n  current: Path | null\r\n  affinity: 'forward' | 'backward' | null\r\n  unref(): Path | null\r\n}\r\n\r\nexport interface PathRefInterface {\r\n  transform: (ref: PathRef, op: Operation) => void\r\n}\r\n\r\nexport const PathRef: PathRefInterface = {\r\n  \r\n\r\n  transform(ref: PathRef, op: Operation): void {\r\n    const { current, affinity } = ref\r\n\r\n    if (current == null) {\r\n      return\r\n    }\r\n\r\n    const path = Path.transform(current, op, { affinity })\r\n    ref.current = path\r\n\r\n    if (path == null) {\r\n      ref.unref()\r\n    }\r\n  },\r\n}\r\n","import isPlainObject  from 'is-plain-object'\r\nimport { produce } from 'immer'\r\nimport { ExtendedType, Operation, Path } from '..'\r\n\r\n\r\n\r\nexport interface BasePoint {\r\n  path: Path\r\n  offset: number\r\n}\r\n\r\nexport type Point = ExtendedType<'Point', BasePoint>\r\n\r\nexport interface PointInterface {\r\n  compare: (point: Point, another: Point) => -1 | 0 | 1\r\n  isAfter: (point: Point, another: Point) => boolean\r\n  isBefore: (point: Point, another: Point) => boolean\r\n  equals: (point: Point, another: Point) => boolean\r\n  isPoint: (value: any) => value is Point\r\n  transform: (\r\n    point: Point,\r\n    op: Operation,\r\n    options?: { affinity?: 'forward' | 'backward' | null }\r\n  ) => Point | null\r\n}\r\n\r\nexport const Point: PointInterface = {\r\n  \r\n\r\n  compare(point: Point, another: Point): -1 | 0 | 1 {\r\n    const result = Path.compare(point.path, another.path)\r\n\r\n    if (result === 0) {\r\n      if (point.offset < another.offset) return -1\r\n      if (point.offset > another.offset) return 1\r\n      return 0\r\n    }\r\n\r\n    return result\r\n  },\r\n\r\n  \r\n\r\n  isAfter(point: Point, another: Point): boolean {\r\n    return Point.compare(point, another) === 1\r\n  },\r\n\r\n  \r\n\r\n  isBefore(point: Point, another: Point): boolean {\r\n    return Point.compare(point, another) === -1\r\n  },\r\n\r\n  \r\n\r\n  equals(point: Point, another: Point): boolean {\r\n    \r\n    return (\r\n      point.offset === another.offset && Path.equals(point.path, another.path)\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isPoint(value: any): value is Point {\r\n    return (\r\n      isPlainObject(value) &&\r\n      typeof value.offset === 'number' &&\r\n      Path.isPath(value.path)\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  transform(\r\n    point: Point | null,\r\n    op: Operation,\r\n    options: { affinity?: 'forward' | 'backward' | null } = {}\r\n  ): Point | null {\r\n    return produce(point, p => {\r\n      if (p === null) {\r\n        return null\r\n      }\r\n      const { affinity = 'forward' } = options\r\n      const { path, offset } = p\r\n\r\n      switch (op.type) {\r\n        case 'insert_node':\r\n        case 'move_node': {\r\n          p.path = Path.transform(path, op, options)!\r\n          break\r\n        }\r\n\r\n        case 'insert_text': {\r\n          if (Path.equals(op.path, path) && op.offset <= offset) {\r\n            p.offset += op.text.length\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'merge_node': {\r\n          if (Path.equals(op.path, path)) {\r\n            p.offset += op.position\r\n          }\r\n\r\n          p.path = Path.transform(path, op, options)!\r\n          break\r\n        }\r\n\r\n        case 'remove_text': {\r\n          if (Path.equals(op.path, path) && op.offset <= offset) {\r\n            p.offset -= Math.min(offset - op.offset, op.text.length)\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'remove_node': {\r\n          if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\r\n            return null\r\n          }\r\n\r\n          p.path = Path.transform(path, op, options)!\r\n          break\r\n        }\r\n\r\n        case 'split_node': {\r\n          if (Path.equals(op.path, path)) {\r\n            if (op.position === offset && affinity == null) {\r\n              return null\r\n            } else if (\r\n              op.position < offset ||\r\n              (op.position === offset && affinity === 'forward')\r\n            ) {\r\n              p.offset -= op.position\r\n\r\n              p.path = Path.transform(path, op, {\r\n                ...options,\r\n                affinity: 'forward',\r\n              })!\r\n            }\r\n          } else {\r\n            p.path = Path.transform(path, op, options)!\r\n          }\r\n\r\n          break\r\n        }\r\n      }\r\n    })\r\n  },\r\n}\r\n\r\n\r\n\r\nexport type PointEntry = [Point, 'anchor' | 'focus']\r\n","import { Operation, Point } from '..'\r\n\r\n\r\n\r\nexport interface PointRef {\r\n  current: Point | null\r\n  affinity: 'forward' | 'backward' | null\r\n  unref(): Point | null\r\n}\r\n\r\nexport interface PointRefInterface {\r\n  transform: (ref: PointRef, op: Operation) => void\r\n}\r\n\r\nexport const PointRef: PointRefInterface = {\r\n  \r\n\r\n  transform(ref: PointRef, op: Operation): void {\r\n    const { current, affinity } = ref\r\n\r\n    if (current == null) {\r\n      return\r\n    }\r\n\r\n    const point = Point.transform(current, op, { affinity })\r\n    ref.current = point\r\n\r\n    if (point == null) {\r\n      ref.unref()\r\n    }\r\n  },\r\n}\r\n","import { produce } from 'immer'\r\nimport isPlainObject  from 'is-plain-object'\r\nimport { ExtendedType, Operation, Path, Point, PointEntry } from '..'\r\n\r\n\r\n\r\nexport interface BaseRange {\r\n  anchor: Point\r\n  focus: Point\r\n}\r\n\r\nexport type Range = ExtendedType<'Range', BaseRange>\r\n\r\nexport interface RangeInterface {\r\n  edges: (\r\n    range: Range,\r\n    options?: {\r\n      reverse?: boolean\r\n    }\r\n  ) => [Point, Point]\r\n  end: (range: Range) => Point\r\n  equals: (range: Range, another: Range) => boolean\r\n  includes: (range: Range, target: Path | Point | Range) => boolean\r\n  intersection: (range: Range, another: Range) => Range | null\r\n  isBackward: (range: Range) => boolean\r\n  isCollapsed: (range: Range) => boolean\r\n  isExpanded: (range: Range) => boolean\r\n  isForward: (range: Range) => boolean\r\n  isRange: (value: any) => value is Range\r\n  points: (range: Range) => Generator<PointEntry, void, undefined>\r\n  start: (range: Range) => Point\r\n  transform: (\r\n    range: Range,\r\n    op: Operation,\r\n    options?: {\r\n      affinity?: 'forward' | 'backward' | 'outward' | 'inward' | null\r\n    }\r\n  ) => Range | null\r\n}\r\n\r\nexport const Range: RangeInterface = {\r\n  \r\n\r\n  edges(\r\n    range: Range,\r\n    options: {\r\n      reverse?: boolean\r\n    } = {}\r\n  ): [Point, Point] {\r\n    const { reverse = false } = options\r\n    const { anchor, focus } = range\r\n    return Range.isBackward(range) === reverse\r\n      ? [anchor, focus]\r\n      : [focus, anchor]\r\n  },\r\n\r\n  \r\n\r\n  end(range: Range): Point {\r\n    const [, end] = Range.edges(range)\r\n    return end\r\n  },\r\n\r\n  \r\n\r\n  equals(range: Range, another: Range): boolean {\r\n    return (\r\n      Point.equals(range.anchor, another.anchor) &&\r\n      Point.equals(range.focus, another.focus)\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  includes(range: Range, target: Path | Point | Range): boolean {\r\n    if (Range.isRange(target)) {\r\n      if (\r\n        Range.includes(range, target.anchor) ||\r\n        Range.includes(range, target.focus)\r\n      ) {\r\n        return true\r\n      }\r\n\r\n      const [rs, re] = Range.edges(range)\r\n      const [ts, te] = Range.edges(target)\r\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te)\r\n    }\r\n\r\n    const [start, end] = Range.edges(range)\r\n    let isAfterStart = false\r\n    let isBeforeEnd = false\r\n\r\n    if (Point.isPoint(target)) {\r\n      isAfterStart = Point.compare(target, start) >= 0\r\n      isBeforeEnd = Point.compare(target, end) <= 0\r\n    } else {\r\n      isAfterStart = Path.compare(target, start.path) >= 0\r\n      isBeforeEnd = Path.compare(target, end.path) <= 0\r\n    }\r\n\r\n    return isAfterStart && isBeforeEnd\r\n  },\r\n\r\n  \r\n\r\n  intersection(range: Range, another: Range): Range | null {\r\n    const { anchor, focus, ...rest } = range\r\n    const [s1, e1] = Range.edges(range)\r\n    const [s2, e2] = Range.edges(another)\r\n    const start = Point.isBefore(s1, s2) ? s2 : s1\r\n    const end = Point.isBefore(e1, e2) ? e1 : e2\r\n\r\n    if (Point.isBefore(end, start)) {\r\n      return null\r\n    } else {\r\n      return { anchor: start, focus: end, ...rest }\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  isBackward(range: Range): boolean {\r\n    const { anchor, focus } = range\r\n    return Point.isAfter(anchor, focus)\r\n  },\r\n\r\n  \r\n\r\n  isCollapsed(range: Range): boolean {\r\n    const { anchor, focus } = range\r\n    return Point.equals(anchor, focus)\r\n  },\r\n\r\n  \r\n\r\n  isExpanded(range: Range): boolean {\r\n    return !Range.isCollapsed(range)\r\n  },\r\n\r\n  \r\n\r\n  isForward(range: Range): boolean {\r\n    return !Range.isBackward(range)\r\n  },\r\n\r\n  \r\n\r\n  isRange(value: any): value is Range {\r\n    return (\r\n      isPlainObject(value) &&\r\n      Point.isPoint(value.anchor) &&\r\n      Point.isPoint(value.focus)\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  *points(range: Range): Generator<PointEntry, void, undefined> {\r\n    yield [range.anchor, 'anchor']\r\n    yield [range.focus, 'focus']\r\n  },\r\n\r\n  \r\n\r\n  start(range: Range): Point {\r\n    const [start] = Range.edges(range)\r\n    return start\r\n  },\r\n\r\n  \r\n\r\n  transform(\r\n    range: Range | null,\r\n    op: Operation,\r\n    options: {\r\n      affinity?: 'forward' | 'backward' | 'outward' | 'inward' | null\r\n    } = {}\r\n  ): Range | null {\r\n    return produce(range, r => {\r\n      if (r === null) {\r\n        return null\r\n      }\r\n      const { affinity = 'inward' } = options\r\n      let affinityAnchor: 'forward' | 'backward' | null\r\n      let affinityFocus: 'forward' | 'backward' | null\r\n\r\n      if (affinity === 'inward') {\r\n        \r\n        \r\n        \r\n        const isCollapsed = Range.isCollapsed(r)\r\n        if (Range.isForward(r)) {\r\n          affinityAnchor = 'forward'\r\n          affinityFocus = isCollapsed ? affinityAnchor : 'backward'\r\n        } else {\r\n          affinityAnchor = 'backward'\r\n          affinityFocus = isCollapsed ? affinityAnchor : 'forward'\r\n        }\r\n      } else if (affinity === 'outward') {\r\n        if (Range.isForward(r)) {\r\n          affinityAnchor = 'backward'\r\n          affinityFocus = 'forward'\r\n        } else {\r\n          affinityAnchor = 'forward'\r\n          affinityFocus = 'backward'\r\n        }\r\n      } else {\r\n        affinityAnchor = affinity\r\n        affinityFocus = affinity\r\n      }\r\n      const anchor = Point.transform(r.anchor, op, { affinity: affinityAnchor })\r\n      const focus = Point.transform(r.focus, op, { affinity: affinityFocus })\r\n\r\n      if (!anchor || !focus) {\r\n        return null\r\n      }\r\n\r\n      r.anchor = anchor\r\n      r.focus = focus\r\n    })\r\n  },\r\n}\r\n","import { Operation, Range } from '..'\r\n\r\n\r\n\r\nexport interface RangeRef {\r\n  current: Range | null\r\n  affinity: 'forward' | 'backward' | 'outward' | 'inward' | null\r\n  unref(): Range | null\r\n}\r\n\r\nexport interface RangeRefInterface {\r\n  transform: (ref: RangeRef, op: Operation) => void\r\n}\r\n\r\nexport const RangeRef: RangeRefInterface = {\r\n  \r\n\r\n  transform(ref: RangeRef, op: Operation): void {\r\n    const { current, affinity } = ref\r\n\r\n    if (current == null) {\r\n      return\r\n    }\r\n\r\n    const path = Range.transform(current, op, { affinity })\r\n    ref.current = path\r\n\r\n    if (path == null) {\r\n      ref.unref()\r\n    }\r\n  },\r\n}\r\n","import isPlainObject  from 'is-plain-object'\r\n\r\n\r\nexport const isDeepEqual = (\r\n  node: Record<string, any>,\r\n  another: Record<string, any>\r\n): boolean => {\r\n  for (const key in node) {\r\n    const a = node[key]\r\n    const b = another[key]\r\n    if (isPlainObject(a) && isPlainObject(b)) {\r\n      if (!isDeepEqual(a, b)) return false\r\n    } else if (Array.isArray(a) && Array.isArray(b)) {\r\n      if (a.length !== b.length) return false\r\n      for (let i = 0; i < a.length; i++) {\r\n        if (a[i] !== b[i]) return false\r\n      }\r\n      return true\r\n    } else if (a !== b) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  for (const key in another) {\r\n    if (node[key] === undefined && another[key] !== undefined) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n","import isPlainObject  from 'is-plain-object'\r\nimport { Range } from '..'\r\nimport { ExtendedType } from './custom-types'\r\nimport { isDeepEqual } from '../utils/deep-equal'\r\n\r\n\r\n\r\nexport interface BaseText {\r\n  text: string\r\n}\r\n\r\nexport type Text = ExtendedType<'Text', BaseText>\r\n\r\nexport interface TextInterface {\r\n  equals: (text: Text, another: Text, options?: { loose?: boolean }) => boolean\r\n  isText: (value: any) => value is Text\r\n  isTextList: (value: any) => value is Text[]\r\n  isTextProps: (props: any) => props is Partial<Text>\r\n  matches: (text: Text, props: Partial<Text>) => boolean\r\n  decorations: (node: Text, decorations: Range[]) => Text[]\r\n}\r\n\r\nexport const Text: TextInterface = {\r\n  \r\n  equals(\r\n    text: Text,\r\n    another: Text,\r\n    options: { loose?: boolean } = {}\r\n  ): boolean {\r\n    const { loose = false } = options\r\n\r\n    function omitText(obj: Record<any, any>) {\r\n      const { text, anchorId, ...rest } = obj\r\n\r\n      return rest\r\n    }\r\n\r\n    return isDeepEqual(\r\n      loose ? omitText(text) : text,\r\n      loose ? omitText(another) : another\r\n    )\r\n  },\r\n\r\n  \r\n\r\n  isText(value: any): value is Text {\r\n    return isPlainObject(value) && typeof value.text === 'string'\r\n  },\r\n\r\n  \r\n\r\n  isTextList(value: any): value is Text[] {\r\n    return Array.isArray(value) && value.every(val => Text.isText(val))\r\n  },\r\n\r\n  \r\n\r\n  isTextProps(props: any): props is Partial<Text> {\r\n    return (props as Partial<Text>).text !== undefined\r\n  },\r\n\r\n  \r\n\r\n  matches(text: Text, props: Partial<Text>): boolean {\r\n    for (const key in props) {\r\n      if (key === 'text') {\r\n        continue\r\n      }\r\n\r\n      if (!text.hasOwnProperty(key) || text[key] !== props[key]) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    return true\r\n  },\r\n\r\n  \r\n\r\n  decorations(node: Text, decorations: Range[]): Text[] {\r\n    let leaves: Text[] = [{ ...node }]\r\n\r\n    for (const dec of decorations) {\r\n      const { anchor, focus, ...rest } = dec\r\n      const [start, end] = Range.edges(dec)\r\n      const next = []\r\n      let o = 0\r\n\r\n      for (const leaf of leaves) {\r\n        const { length } = leaf.text\r\n        const offset = o\r\n        o += length\r\n\r\n        \r\n        if (start.offset <= offset && end.offset >= o) {\r\n          Object.assign(leaf, rest)\r\n          next.push(leaf)\r\n          continue\r\n        }\r\n\r\n        \r\n        if (\r\n          (start.offset !== end.offset &&\r\n            (start.offset === o || end.offset === offset)) ||\r\n          start.offset > o ||\r\n          end.offset < offset ||\r\n          (end.offset === offset && offset !== 0)\r\n        ) {\r\n          next.push(leaf)\r\n          continue\r\n        }\r\n\r\n        \r\n        \r\n        \r\n        let middle = leaf\r\n        let before\r\n        let after\r\n\r\n        if (end.offset < o) {\r\n          const off = end.offset - offset\r\n          after = { ...middle, text: middle.text.slice(off) }\r\n          middle = { ...middle, text: middle.text.slice(0, off) }\r\n        }\r\n\r\n        if (start.offset > offset) {\r\n          const off = start.offset - offset\r\n          before = { ...middle, text: middle.text.slice(0, off) }\r\n          middle = { ...middle, text: middle.text.slice(off) }\r\n        }\r\n\r\n        Object.assign(middle, rest)\r\n\r\n        if (before) {\r\n          next.push(before)\r\n        }\r\n\r\n        next.push(middle)\r\n\r\n        if (after) {\r\n          next.push(after)\r\n        }\r\n      }\r\n\r\n      leaves = next\r\n    }\r\n\r\n    return leaves\r\n  },\r\n}\r\n","import { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport { createDraft, finishDraft, isDraft } from 'immer'\r\nimport {\r\n  Node,\r\n  Editor,\r\n  Selection,\r\n  Range,\r\n  Point,\r\n  Text,\r\n  Element,\r\n  Operation,\r\n  Descendant,\r\n  NodeEntry,\r\n  Path,\r\n  Ancestor,\r\n  BaseRange,\r\n} from '..'\r\n\r\nexport interface GeneralTransforms {\r\n  transform: (editor: Editor, op: Operation) => void\r\n}\r\n\r\nconst applyToDraft = (editor: Editor, selection: Selection, op: Operation) => {\r\n  \r\n  switch (op.type) {\r\n    case 'insert_node': {\r\n      const { path, node } = op\r\n      const parent = Node.parent(editor, path)\r\n      const index = path[path.length - 1]\r\n\r\n\r\n\r\n      if (index > parent.children.length) {\r\n        handleSlateError( \r\n          `Cannot apply an \"insert_node\" operation at path [${path}] because the destination is past the end of the node.`, editor\r\n        )\r\n      }\r\n\r\n      parent.children.splice(index, 0, node)\r\n      if (selection) {\r\n        for (const [point, key] of Range.points(selection)) {\r\n          selection[key] = Point.transform(point, op)!\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'insert_text': {\r\n      const { path, offset, text } = op\r\n      if (text.length === 0) break\r\n      const node = Node.leaf(editor, path)\r\n      const before = node.text.slice(0, offset)\r\n      const after = node.text.slice(offset)\r\n      node.text = (before + text + after)\r\n      \r\n    \r\n\r\n      if (selection) {\r\n        for (const [point, key] of Range.points(selection)) {\r\n          selection[key] = Point.transform(point, op)!\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'merge_node': {\r\n      const { path } = op\r\n      const node = Node.get(editor, path)\r\n      const prevPath = Path.previous(path)\r\n      const prev = Node.get(editor, prevPath)\r\n      const parent = Node.parent(editor, path)\r\n      const index = path[path.length - 1]\r\n\r\n      if (Text.isText(node) && Text.isText(prev)) {\r\n        prev.text += node.text\r\n      } else if (!Text.isText(node) && !Text.isText(prev)) {\r\n        prev.children.push(...node.children)\r\n      } else {\r\n        handleSlateError( \r\n          `Cannot apply a \"merge_node\" operation at path [${path}] to nodes of different interfaces: ${node} ${prev}`, editor\r\n        )\r\n      }\r\n\r\n      parent.children.splice(index, 1)\r\n\r\n      if (selection) {\r\n        for (const [point, key] of Range.points(selection)) {\r\n          selection[key] = Point.transform(point, op)!\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'move_node': {\r\n      const { path, newPath } = op\r\n\r\n      if (Path.isAncestor(path, newPath)) {\r\n        handleSlateError( \r\n          `Cannot move a path [${path}] to new path [${newPath}] because the destination is inside itself.`, editor\r\n        )\r\n      }\r\n\r\n      const node = Node.get(editor, path)\r\n      const parent = Node.parent(editor, path)\r\n      const index = path[path.length - 1]\r\n\r\n      \r\n      \r\n      \r\n      \r\n      \r\n      \r\n      parent.children.splice(index, 1)\r\n      const truePath = Path.transform(path, op)!\r\n      const newParent = Node.get(editor, Path.parent(truePath)) as Ancestor\r\n      const newIndex = truePath[truePath.length - 1]\r\n\r\n      newParent.children.splice(newIndex, 0, node)\r\n\r\n      if (selection) {\r\n        for (const [point, key] of Range.points(selection)) {\r\n          selection[key] = Point.transform(point, op)!\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'remove_node': {\r\n      const { path } = op\r\n      const index = path[path.length - 1]\r\n      const parent = Node.parent(editor, path)\r\n      parent.children.splice(index, 1)\r\n\r\n      \r\n      \r\n      if (selection) {\r\n        for (const [point, key] of Range.points(selection)) {\r\n          const result = Point.transform(point, op)\r\n\r\n          if (selection != null && result != null) {\r\n            selection[key] = result\r\n          } else {\r\n            let prev: NodeEntry<Text> | undefined\r\n            let next: NodeEntry<Text> | undefined\r\n\r\n            for (const [n, p] of Node.texts(editor)) {\r\n              if (Path.compare(p, path) === -1) {\r\n                prev = [n, p]\r\n              } else {\r\n                next = [n, p]\r\n                break\r\n              }\r\n            }\r\n\r\n            let preferNext = false\r\n            if (prev && next) {\r\n              if (Path.equals(next[1], path)) {\r\n                preferNext = !Path.hasPrevious(next[1])\r\n              } else {\r\n                preferNext =\r\n                  Path.common(prev[1], path).length <\r\n                  Path.common(next[1], path).length\r\n              }\r\n            }\r\n\r\n            if (prev && !preferNext) {\r\n              point.path = prev[1]\r\n              point.offset = prev[0].text.length\r\n            } else if (next) {\r\n              point.path = next[1]\r\n              point.offset = 0\r\n            } else {\r\n              selection = null\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'remove_text': {\r\n      const { path, offset, text } = op\r\n      if (text.length === 0) break\r\n      const node = Node.leaf(editor, path)\r\n      const before = node.text.slice(0, offset)\r\n      const after = node.text.slice(offset + text.length)\r\n      node.text = before + after\r\n\r\n      if (selection) {\r\n        for (const [point, key] of Range.points(selection)) {\r\n          selection[key] = Point.transform(point, op)!\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'set_node': {\r\n      const { path, properties, newProperties } = op\r\n\r\n      if (path.length === 0) {\r\n        handleSlateError( `Cannot set properties on the root node!`, editor)\r\n      }\r\n\r\n      const node = Node.get(editor, path)\r\n\r\n      for (const key in newProperties) {\r\n        if (key === 'children' || key === 'text') {\r\n          handleSlateError( `Cannot set the \"${key}\" property of nodes!`, editor)\r\n        }\r\n\r\n        const value = newProperties[key]\r\n\r\n        if (value == null) {\r\n          delete node[key]\r\n        } else {\r\n          node[key] = value\r\n        }\r\n      }\r\n\r\n      \r\n      for (const key in properties) {\r\n        if (!newProperties.hasOwnProperty(key)) {\r\n          delete node[key]\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'set_selection': {\r\n      const { newProperties } = op\r\n\r\n      if (newProperties == null) {\r\n        selection = newProperties as any\r\n      } else {\r\n        if (selection == null) {\r\n          if (!Range.isRange(newProperties)) {\r\n            handleSlateError( \r\n              `Cannot apply an incomplete \"set_selection\" operation properties ${JSON.stringify(\r\n                newProperties\r\n              )} when there is no current selection.`, editor\r\n            )\r\n          }\r\n\r\n          selection = { ...newProperties } as any\r\n        }\r\n\r\n        for (const key in newProperties) {\r\n          const value = newProperties[key]\r\n\r\n          if (value == null) {\r\n            if (key === 'anchor' || key === 'focus') {\r\n              handleSlateError( `Cannot remove the \"${key}\" selection property`, editor)\r\n            }\r\n\r\n            delete selection[key]\r\n          } else {\r\n            selection[key] = value\r\n          }\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n\r\n    case 'split_node': {\r\n      const { path, position, properties, } = op\r\n\r\n      if (path.length === 0) {\r\n        handleSlateError( \r\n          `Cannot apply a \"split_node\" operation at path [${path}] because the root node cannot be split.`, editor\r\n        )\r\n      }\r\n\r\n      const node = Node.get(editor, path)\r\n      const parent = Node.parent(editor, path)\r\n      const index = path[path.length - 1]\r\n      let newNode: Descendant\r\n\r\n      if (Text.isText(node)) {\r\n        const before = node.text.slice(0, position)\r\n        const after = node.text.slice(position)\r\n        node.text = before\r\n\r\n        newNode = {\r\n          ...node,\r\n          ...(properties as Partial<Text>),\r\n          text: after,\r\n        }\r\n\r\n      } else {\r\n        const before = node.children.slice(0, position)\r\n        const after = node.children.slice(position)\r\n        node.children = before\r\n\r\n        newNode = {\r\n          ...node,\r\n          ...(properties as Partial<Element>),\r\n          children: after,\r\n        }\r\n      }\r\n      parent.children.splice(index + 1, 0, newNode)\r\n\r\n      if (selection) {\r\n        for (const [point, key] of Range.points(selection)) {\r\n          selection[key] = Point.transform(point, op)!\r\n        }\r\n      }\r\n\r\n      break\r\n    }\r\n  }\r\n  return selection\r\n}\r\n\r\nexport const GeneralTransforms: GeneralTransforms = {\r\n  \r\n\r\n  transform(editor: Editor, op: Operation): void {\r\n    editor.children = createDraft(editor.children)\r\n    let selection = editor.selection && createDraft(editor.selection)\r\n\r\n    try {\r\n      selection = applyToDraft(editor, selection, op)\r\n    } finally {\r\n      editor.children = finishDraft(editor.children)\r\n\r\n      if (selection) {\r\n        editor.selection = isDraft(selection)\r\n          ? (finishDraft(selection) as Range)\r\n          : selection\r\n      } else {\r\n        editor.selection = null\r\n      }\r\n    }\r\n  },\r\n}\r\n","import { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport {\r\n  Editor,\r\n  Element,\r\n  Location,\r\n  Node,\r\n  Path,\r\n  Point,\r\n  Range,\r\n  Text,\r\n  Transforms,\r\n  NodeEntry,\r\n  Ancestor,\r\n} from '..'\r\nimport { NodeMatch } from '../interfaces/editor'\r\n\r\nexport interface NodeTransforms {\r\n  insertNodes: <T extends Node>(\r\n    editor: Editor,\r\n    nodes: Node | Node[],\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      select?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  liftNodes: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  mergeNodes: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  moveNodes: <T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      to: Path\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  removeNodes: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  setNodes: <T extends Node>(\r\n    editor: Editor,\r\n    props: Partial<T>,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      split?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  splitNodes: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      always?: boolean\r\n      height?: number\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  unsetNodes: <T extends Node>(\r\n    editor: Editor,\r\n    props: string | string[],\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      split?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  unwrapNodes: <T extends Node>(\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      split?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  wrapNodes: <T extends Node>(\r\n    editor: Editor,\r\n    element: Element,\r\n    options?: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      split?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n}\r\n\r\nexport const NodeTransforms: NodeTransforms = {\r\n  \r\n\r\n  insertNodes<T extends Node>(\r\n    editor: Editor,\r\n    nodes: Node | Node[],\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      select?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { hanging = false, voids = false, mode = 'lowest' } = options\r\n      let { at, match, select } = options\r\n\r\n      if (Node.isNode(nodes)) {\r\n        nodes = [nodes]\r\n      }\r\n\r\n      if (nodes.length === 0) {\r\n        return\r\n      }\r\n\r\n      const [node] = nodes\r\n\r\n      \r\n      \r\n      \r\n      if (!at) {\r\n        if (editor.selection) {\r\n          at = editor.selection\r\n        } else if (editor.children.length > 0) {\r\n          at = Editor.end(editor, [])\r\n        } else {\r\n          at = [0]\r\n        }\r\n\r\n        select = true\r\n      }\r\n\r\n      if (select == null) {\r\n        select = false\r\n      }\r\n\r\n      if (Range.isRange(at)) {\r\n        if (!hanging) {\r\n          at = Editor.unhangRange(editor, at)\r\n        }\r\n\r\n        if (Range.isCollapsed(at)) {\r\n          at = at.anchor\r\n        } else {\r\n          const [, end] = Range.edges(at)\r\n          const pointRef = Editor.pointRef(editor, end)\r\n          Transforms.delete(editor, { at })\r\n          at = pointRef.unref()!\r\n        }\r\n      }\r\n\r\n      if (Point.isPoint(at)) {\r\n        if (match == null) {\r\n          if (Text.isText(node)) {\r\n            match = n => Text.isText(n)\r\n          } else if (editor.isInline(node)) {\r\n            match = n => Text.isText(n) || Editor.isInline(editor, n)\r\n          } else {\r\n            match = n => Editor.isBlock(editor, n)\r\n          }\r\n        }\r\n\r\n        const [entry] = Editor.nodes(editor, {\r\n          at: at.path,\r\n          match,\r\n          mode,\r\n          voids,\r\n        })\r\n\r\n        if (entry) {\r\n          const [, matchPath] = entry\r\n          const pathRef = Editor.pathRef(editor, matchPath)\r\n          const isAtEnd = Editor.isEnd(editor, at, matchPath)\r\n          Transforms.splitNodes(editor, { at, match, mode, voids })\r\n          const path = pathRef.unref()!\r\n          at = isAtEnd ? Path.next(path) : path\r\n        } else {\r\n          return\r\n        }\r\n      }\r\n\r\n      const parentPath = Path.parent(at)\r\n      let index = at[at.length - 1]\r\n\r\n      if (!voids && Editor.void(editor, { at: parentPath })) {\r\n        return\r\n      }\r\n\r\n      for (const node of nodes) {\r\n        const path = parentPath.concat(index)\r\n        index++\r\n        editor.apply({ type: 'insert_node', path, node })\r\n        at = Path.next(at)\r\n      }\r\n      at = Path.previous(at)\r\n\r\n      if (select) {\r\n        const point = Editor.end(editor, at)\r\n\r\n        if (point) {\r\n          Transforms.select(editor, point)\r\n        }\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  liftNodes<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { at = editor.selection, mode = 'lowest', voids = false } = options\r\n      let { match } = options\r\n\r\n      if (match == null) {\r\n        match = Path.isPath(at)\r\n          ? matchPath(editor, at)\r\n          : n => Editor.isBlock(editor, n)\r\n      }\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      const matches = Editor.nodes(editor, { at, match, mode, voids })\r\n      const pathRefs = Array.from(matches, ([, p]) => Editor.pathRef(editor, p))\r\n\r\n      for (const pathRef of pathRefs) {\r\n        const path = pathRef.unref()!\r\n\r\n        if (path.length < 2) {\r\n          handleSlateError( \r\n            `Cannot lift node at a path [${path}] because it has a depth of less than \\`2\\`.`, editor\r\n          )\r\n        }\r\n\r\n        const parentNodeEntry = Editor.node(editor, Path.parent(path))\r\n        const [parent, parentPath] = parentNodeEntry as NodeEntry<Ancestor>\r\n        const index = path[path.length - 1]\r\n        const { length } = parent.children\r\n\r\n        if (length === 1) {\r\n          const toPath = Path.next(parentPath)\r\n          Transforms.moveNodes(editor, { at: path, to: toPath, voids })\r\n          Transforms.removeNodes(editor, { at: parentPath, voids })\r\n        } else if (index === 0) {\r\n          Transforms.moveNodes(editor, { at: path, to: parentPath, voids })\r\n        } else if (index === length - 1) {\r\n          const toPath = Path.next(parentPath)\r\n          Transforms.moveNodes(editor, { at: path, to: toPath, voids })\r\n        } else {\r\n          const splitPath = Path.next(path)\r\n          const toPath = Path.next(parentPath)\r\n          Transforms.splitNodes(editor, { at: splitPath, voids })\r\n          Transforms.moveNodes(editor, { at: path, to: toPath, voids })\r\n        }\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  mergeNodes<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      let { match, at = editor.selection } = options\r\n      const { hanging = false, voids = false, mode = 'lowest' } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (match == null) {\r\n        if (Path.isPath(at)) {\r\n          const [parent] = Editor.parent(editor, at)\r\n          match = n => parent.children.includes(n)\r\n        } else {\r\n          match = n => Editor.isBlock(editor, n)\r\n        }\r\n      }\r\n\r\n      if (!hanging && Range.isRange(at)) {\r\n        at = Editor.unhangRange(editor, at)\r\n      }\r\n\r\n      if (Range.isRange(at)) {\r\n        if (Range.isCollapsed(at)) {\r\n          at = at.anchor\r\n        } else {\r\n          const [, end] = Range.edges(at)\r\n          const pointRef = Editor.pointRef(editor, end)\r\n          Transforms.delete(editor, { at })\r\n          at = pointRef.unref()!\r\n\r\n          if (options.at == null) {\r\n            Transforms.select(editor, at)\r\n          }\r\n        }\r\n      }\r\n\r\n      const [current] = Editor.nodes(editor, { at, match, voids, mode })\r\n      const prev = Editor.previous(editor, { at, match, voids, mode })\r\n\r\n      if (!current || !prev) {\r\n        return\r\n      }\r\n\r\n      const [node, path] = current\r\n      const [prevNode, prevPath] = prev\r\n\r\n      if (path.length === 0 || prevPath.length === 0) {\r\n        return\r\n      }\r\n\r\n      const newPath = Path.next(prevPath)\r\n      const commonPath = Path.common(path, prevPath)\r\n      const isPreviousSibling = Path.isSibling(path, prevPath)\r\n      const levels = Array.from(Editor.levels(editor, { at: path }), ([n]) => n)\r\n        .slice(commonPath.length)\r\n        .slice(0, -1)\r\n\r\n      \r\n      \r\n      const emptyAncestor = Editor.above(editor, {\r\n        at: path,\r\n        mode: 'highest',\r\n        match: (n:any)  => levels.includes(n) && hasSingleChildNest(editor, n),\r\n      })\r\n\r\n      const emptyRef = emptyAncestor && Editor.pathRef(editor, emptyAncestor[1])\r\n      let properties\r\n      let position\r\n\r\n      \r\n      \r\n      if (Text.isText(node) && Text.isText(prevNode)) {\r\n        const { text, ...rest } = node\r\n        position = prevNode.text.length\r\n        properties = rest as Partial<Text>\r\n      } else if (Element.isElement(node) && Element.isElement(prevNode)) {\r\n        const { children, ...rest } = node\r\n        position = prevNode.children.length\r\n        properties = rest as Partial<Element>\r\n      } else {\r\n        handleSlateError( \r\n          `Cannot merge the node at path [${path}] with the previous sibling because it is not the same kind: ${JSON.stringify(\r\n            node\r\n          )} ${JSON.stringify(prevNode)}`, editor\r\n        )\r\n      }\r\n\r\n      \r\n      \r\n      if (!isPreviousSibling) {\r\n        Transforms.moveNodes(editor, { at: path, to: newPath, voids })\r\n      }\r\n\r\n      \r\n      \r\n      if (emptyRef) {\r\n        Transforms.removeNodes(editor, { at: emptyRef.current!, voids })\r\n      }\r\n\r\n      \r\n      \r\n      \r\n      \r\n      \r\n      if (\r\n        (Element.isElement(prevNode) && Editor.isEmpty(editor, prevNode)) ||\r\n        (Text.isText(prevNode) &&\r\n          prevNode.text === '' &&\r\n          prevPath[prevPath.length - 1] !== 0)\r\n      ) {\r\n        Transforms.removeNodes(editor, { at: prevPath, voids })\r\n      } else {\r\n        editor.apply({\r\n          type: 'merge_node',\r\n          path: newPath,\r\n          position,\r\n          properties,\r\n        })\r\n      }\r\n\r\n      if (emptyRef) {\r\n        emptyRef.unref()\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  moveNodes<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      to: Path\r\n      voids?: boolean\r\n    }\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const {\r\n        to,\r\n        at = editor.selection,\r\n        mode = 'lowest',\r\n        voids = false,\r\n      } = options\r\n      let { match } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (match == null) {\r\n        match = Path.isPath(at)\r\n          ? matchPath(editor, at)\r\n          : n => Editor.isBlock(editor, n)\r\n      }\r\n\r\n      const toRef = Editor.pathRef(editor, to)\r\n      const targets = Editor.nodes(editor, { at, match, mode, voids })\r\n      const pathRefs = Array.from(targets, ([, p]) => Editor.pathRef(editor, p))\r\n\r\n      for (const pathRef of pathRefs) {\r\n        const path = pathRef.unref()!\r\n        const newPath = toRef.current!\r\n\r\n        if (path.length !== 0) {\r\n          editor.apply({ type: 'move_node', path, newPath })\r\n        }\r\n\r\n        if (\r\n          toRef.current &&\r\n          Path.isSibling(newPath, path) &&\r\n          Path.isAfter(newPath, path)\r\n        ) {\r\n          \r\n          \r\n          \r\n          toRef.current = Path.next(toRef.current)\r\n        }\r\n      }\r\n\r\n      toRef.unref()\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  removeNodes<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { hanging = false, voids = false, mode = 'lowest' } = options\r\n      let { at = editor.selection, match } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (match == null) {\r\n        match = Path.isPath(at)\r\n          ? matchPath(editor, at)\r\n          : n => Editor.isBlock(editor, n)\r\n      }\r\n\r\n      if (!hanging && Range.isRange(at)) {\r\n        at = Editor.unhangRange(editor, at)\r\n      }\r\n\r\n      const depths = Editor.nodes(editor, { at, match, mode, voids })\r\n      const pathRefs = Array.from(depths, ([, p]) => Editor.pathRef(editor, p))\r\n\r\n      for (const pathRef of pathRefs) {\r\n        const path = pathRef.unref()!\r\n\r\n        if (path) {\r\n          const [node] = Editor.node(editor, path)\r\n          editor.apply({ type: 'remove_node', path, node })\r\n        }\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  setNodes<T extends Node>(\r\n    editor: Editor,\r\n    props: Partial<Node>,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      hanging?: boolean\r\n      split?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      let { match, at = editor.selection } = options\r\n      const {\r\n        hanging = false,\r\n        mode = 'lowest',\r\n        split = false,\r\n        voids = false,\r\n      } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (match == null) {\r\n        match = Path.isPath(at)\r\n          ? matchPath(editor, at)\r\n          : n => Editor.isBlock(editor, n)\r\n      }\r\n\r\n      if (!hanging && Range.isRange(at)) {\r\n        at = Editor.unhangRange(editor, at)\r\n      }\r\n\r\n      if (split && Range.isRange(at)) {\r\n        if (\r\n          Range.isCollapsed(at) &&\r\n          Editor.leaf(editor, at.anchor)[0].text.length > 0\r\n        ) {\r\n          \r\n          \r\n          return\r\n        }\r\n        const rangeRef = Editor.rangeRef(editor, at, { affinity: 'inward' })\r\n        const [start, end] = Range.edges(at)\r\n        const splitMode = mode === 'lowest' ? 'lowest' : 'highest'\r\n        const endAtEndOfNode = Editor.isEnd(editor, end, end.path)\r\n        Transforms.splitNodes(editor, {\r\n          at: end,\r\n          match,\r\n          mode: splitMode,\r\n          voids,\r\n          always: !endAtEndOfNode,\r\n        })\r\n        const startAtStartOfNode = Editor.isStart(editor, start, start.path)\r\n        Transforms.splitNodes(editor, {\r\n          at: start,\r\n          match,\r\n          mode: splitMode,\r\n          voids,\r\n          always: !startAtStartOfNode,\r\n        })\r\n        at = rangeRef.unref()!\r\n\r\n        if (options.at == null) {\r\n          Transforms.select(editor, at)\r\n        }\r\n      }\r\n\r\n      for (const [node, path] of Editor.nodes(editor, {\r\n        at,\r\n        match,\r\n        mode,\r\n        voids,\r\n      })) {\r\n        const properties: Partial<Node> = {}\r\n        const newProperties: Partial<Node> = {}\r\n\r\n        \r\n        if (path.length === 0) {\r\n          continue\r\n        }\r\n\r\n        let hasChanges = false\r\n\r\n        for (const k in props) {\r\n          if (k === 'children' || k === 'text') {\r\n            continue\r\n          }\r\n\r\n          if (props[k] !== node[k]) {\r\n            hasChanges = true\r\n            \r\n            if (node.hasOwnProperty(k)) properties[k] = node[k]\r\n            \r\n            if (props[k] != null) newProperties[k] = props[k]\r\n          }\r\n        }\r\n\r\n        if (hasChanges) {\r\n          editor.apply({\r\n            type: 'set_node',\r\n            path,\r\n            properties,\r\n            newProperties,\r\n          })\r\n        }\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  splitNodes<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'highest' | 'lowest'\r\n      always?: boolean\r\n      height?: number\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { mode = 'lowest', voids = false } = options\r\n      let { match, at = editor.selection, height = 0, always = false } = options\r\n\r\n      if (match == null) {\r\n        match = n => Editor.isBlock(editor, n)\r\n      }\r\n\r\n      if (Range.isRange(at)) {\r\n        at = deleteRange(editor, at)\r\n      }\r\n\r\n      \r\n      \r\n      if (Path.isPath(at)) {\r\n        const path = at\r\n        const point = Editor.point(editor, path)\r\n        const [parent] = Editor.parent(editor, path)\r\n        match = n => n === parent\r\n        height = point.path.length - path.length + 1\r\n        at = point\r\n        always = true\r\n      }\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      const beforeRef = Editor.pointRef(editor, at, {\r\n        affinity: 'backward',\r\n      })\r\n      const [highest] = Editor.nodes(editor, { at, match, mode, voids })\r\n\r\n      if (!highest) {\r\n        return\r\n      }\r\n\r\n      const voidMatch = Editor.void(editor, { at, mode: 'highest' })\r\n      const nudge = 0\r\n\r\n      if (!voids && voidMatch) {\r\n        const [voidNode, voidPath] = voidMatch\r\n\r\n        if (Element.isElement(voidNode) && editor.isInline(voidNode)) {\r\n          let after = Editor.after(editor, voidPath)\r\n\r\n          if (!after) {\r\n            const text = { text: '' }\r\n            const afterPath = Path.next(voidPath)\r\n            Transforms.insertNodes(editor, text, { at: afterPath, voids })\r\n            after = Editor.point(editor, afterPath)!\r\n          }\r\n\r\n          at = after\r\n          always = true\r\n        }\r\n\r\n        const siblingHeight = at.path.length - voidPath.length\r\n        height = siblingHeight + 1\r\n        always = true\r\n      }\r\n\r\n      const afterRef = Editor.pointRef(editor, at)\r\n      const depth = at.path.length - height\r\n      const [, highestPath] = highest\r\n      const lowestPath = at.path.slice(0, depth)\r\n      let position = height === 0 ? at.offset : at.path[depth] + nudge\r\n\r\n      for (const [node, path] of Editor.levels(editor, {\r\n        at: lowestPath,\r\n        reverse: true,\r\n        voids,\r\n      })) {\r\n        let split = false\r\n\r\n        if (\r\n          path.length < highestPath.length ||\r\n          path.length === 0 ||\r\n          (!voids && Editor.isVoid(editor, node))\r\n        ) {\r\n          break\r\n        }\r\n\r\n        const point = beforeRef.current!\r\n        const isEnd = Editor.isEnd(editor, point, path)\r\n\r\n        if (always || !beforeRef || !Editor.isEdge(editor, point, path)) {\r\n          split = true\r\n          const properties = Node.extractProps(node)\r\n          editor.apply({\r\n            type: 'split_node',\r\n            path,\r\n            position,\r\n            properties,\r\n          })\r\n        }\r\n\r\n        position = path[path.length - 1] + (split || isEnd ? 1 : 0)\r\n      }\r\n\r\n      if (options.at == null) {\r\n        const point = afterRef.current || Editor.end(editor, [])\r\n        Transforms.select(editor, point)\r\n      }\r\n\r\n      beforeRef.unref()\r\n      afterRef.unref()\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  unsetNodes<T extends Node>(\r\n    editor: Editor,\r\n    props: string | string[],\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      split?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    if (!Array.isArray(props)) {\r\n      props = [props]\r\n    }\r\n\r\n    const obj = {}\r\n\r\n    for (const key of props) {\r\n      obj[key] = null\r\n    }\r\n\r\n    Transforms.setNodes(editor, obj, options)\r\n  },\r\n\r\n  \r\n\r\n  unwrapNodes<T extends Node>(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      split?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { mode = 'lowest', split = false, voids = false } = options\r\n      let { at = editor.selection, match } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (match == null) {\r\n        match = Path.isPath(at)\r\n          ? matchPath(editor, at)\r\n          : n => Editor.isBlock(editor, n)\r\n      }\r\n\r\n      if (Path.isPath(at)) {\r\n        at = Editor.range(editor, at)\r\n      }\r\n\r\n      const rangeRef = Range.isRange(at) ? Editor.rangeRef(editor, at) : null\r\n      const matches = Editor.nodes(editor, { at, match, mode, voids })\r\n      const pathRefs = Array.from(\r\n        matches,\r\n        ([, p]) => Editor.pathRef(editor, p)\r\n        \r\n        \r\n        \r\n      ).reverse()\r\n\r\n      for (const pathRef of pathRefs) {\r\n        const path = pathRef.unref()!\r\n        const [node] = Editor.node(editor, path)\r\n        let range = Editor.range(editor, path)\r\n\r\n        if (split && rangeRef) {\r\n          range = Range.intersection(rangeRef.current!, range)!\r\n        }\r\n\r\n        Transforms.liftNodes(editor, {\r\n          at: range,\r\n          match: (n:any)  => Element.isAncestor(node) && node.children.includes(n),\r\n          voids,\r\n        })\r\n      }\r\n\r\n      if (rangeRef) {\r\n        rangeRef.unref()\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  wrapNodes<T extends Node>(\r\n    editor: Editor,\r\n    element: Element,\r\n    options: {\r\n      at?: Location\r\n      match?: NodeMatch<T>\r\n      mode?: 'all' | 'highest' | 'lowest'\r\n      split?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { mode = 'lowest', split = false, voids = false } = options\r\n      let { match, at = editor.selection } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (match == null) {\r\n        if (Path.isPath(at)) {\r\n          match = matchPath(editor, at)\r\n        } else if (editor.isInline(element)) {\r\n          match = n => Editor.isInline(editor, n) || Text.isText(n)\r\n        } else {\r\n          match = n => Editor.isBlock(editor, n)\r\n        }\r\n      }\r\n\r\n      if (split && Range.isRange(at)) {\r\n        const [start, end] = Range.edges(at)\r\n        const rangeRef = Editor.rangeRef(editor, at, {\r\n          affinity: 'inward',\r\n        })\r\n        Transforms.splitNodes(editor, { at: end, match, voids })\r\n        Transforms.splitNodes(editor, { at: start, match, voids })\r\n        at = rangeRef.unref()!\r\n\r\n        if (options.at == null) {\r\n          Transforms.select(editor, at)\r\n        }\r\n      }\r\n\r\n      const roots = Array.from(\r\n        Editor.nodes(editor, {\r\n          at,\r\n          match: editor.isInline(element)\r\n            ? n => Editor.isBlock(editor, n)\r\n            : n => Editor.isEditor(n),\r\n          mode: 'lowest',\r\n          voids,\r\n        })\r\n      )\r\n\r\n      for (const [, rootPath] of roots) {\r\n        const a = Range.isRange(at)\r\n          ? Range.intersection(at, Editor.range(editor, rootPath))\r\n          : at\r\n\r\n        if (!a) {\r\n          continue\r\n        }\r\n\r\n        const matches = Array.from(\r\n          Editor.nodes(editor, { at: a, match, mode, voids })\r\n        )\r\n\r\n        if (matches.length > 0) {\r\n          const [first] = matches\r\n          const last = matches[matches.length - 1]\r\n          const [, firstPath] = first\r\n          const [, lastPath] = last\r\n\r\n          if (firstPath.length === 0 && lastPath.length === 0) {\r\n            \r\n            continue\r\n          }\r\n\r\n          const commonPath = Path.equals(firstPath, lastPath)\r\n            ? Path.parent(firstPath)\r\n            : Path.common(firstPath, lastPath)\r\n\r\n          const range = Editor.range(editor, firstPath, lastPath)\r\n          const commonNodeEntry = Editor.node(editor, commonPath)\r\n          const [commonNode] = commonNodeEntry\r\n          const depth = commonPath.length + 1\r\n          const wrapperPath = Path.next(lastPath.slice(0, depth))\r\n          const wrapper = { ...element, children: [] }\r\n          Transforms.insertNodes(editor, wrapper, { at: wrapperPath, voids })\r\n\r\n          Transforms.moveNodes(editor, {\r\n            at: range,\r\n            match: (n:any)  =>\r\n              Element.isAncestor(commonNode) && commonNode.children.includes(n),\r\n            to: wrapperPath.concat(0),\r\n            voids,\r\n          })\r\n        }\r\n      }\r\n    })\r\n  },\r\n}\r\n\r\nconst hasSingleChildNest = (editor: Editor, node: Node): boolean => {\r\n  if (Element.isElement(node)) {\r\n    const element = node as Element\r\n    if (Editor.isVoid(editor, node)) {\r\n      return true\r\n    } else if (element.children.length === 1) {\r\n      return hasSingleChildNest(editor, element.children[0])\r\n    } else {\r\n      return false\r\n    }\r\n  } else if (Editor.isEditor(node)) {\r\n    return false\r\n  } else {\r\n    return true\r\n  }\r\n}\r\n\r\n\r\n\r\nconst deleteRange = (editor: Editor, range: Range): Point | null => {\r\n  if (Range.isCollapsed(range)) {\r\n    return range.anchor\r\n  } else {\r\n    const [, end] = Range.edges(range)\r\n    const pointRef = Editor.pointRef(editor, end)\r\n    Transforms.delete(editor, { at: range })\r\n    return pointRef.unref()\r\n  }\r\n}\r\n\r\nconst matchPath = (editor: Editor, path: Path): ((node: Node) => boolean) => {\r\n  const [node] = Editor.node(editor, path)\r\n  return n => n === node\r\n}\r\n","import { handleSlateError } from '@src/components/docs/plugins/ErrorHandle/handleSlateError'\r\nimport { Editor, Location, Point, Range, Transforms } from '..'\r\n\r\nexport interface SelectionTransforms {\r\n  collapse: (\r\n    editor: Editor,\r\n    options?: {\r\n      edge?: 'anchor' | 'focus' | 'start' | 'end'\r\n    }\r\n  ) => void\r\n  deselect: (editor: Editor) => void\r\n  move: (\r\n    editor: Editor,\r\n    options?: {\r\n      distance?: number\r\n      unit?: 'offset' | 'character' | 'word' | 'line'\r\n      reverse?: boolean\r\n      edge?: 'anchor' | 'focus' | 'start' | 'end'\r\n    }\r\n  ) => void\r\n  select: (editor: Editor, target: Location) => void\r\n  setPoint: (\r\n    editor: Editor,\r\n    props: Partial<Point>,\r\n    options?: {\r\n      edge?: 'anchor' | 'focus' | 'start' | 'end'\r\n    }\r\n  ) => void\r\n  setSelection: (editor: Editor, props: Partial<Range>) => void\r\n}\r\n\r\nexport const SelectionTransforms: SelectionTransforms = {\r\n  \r\n\r\n  collapse(\r\n    editor: Editor,\r\n    options: {\r\n      edge?: 'anchor' | 'focus' | 'start' | 'end'\r\n    } = {}\r\n  ): void {\r\n    const { edge = 'anchor' } = options\r\n    const { selection } = editor\r\n\r\n    if (!selection) {\r\n      return\r\n    } else if (edge === 'anchor') {\r\n      Transforms.select(editor, selection.anchor)\r\n    } else if (edge === 'focus') {\r\n      Transforms.select(editor, selection.focus)\r\n    } else if (edge === 'start') {\r\n      const [start] = Range.edges(selection)\r\n      Transforms.select(editor, start)\r\n    } else if (edge === 'end') {\r\n      const [, end] = Range.edges(selection)\r\n      Transforms.select(editor, end)\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  deselect(editor: Editor): void {\r\n    const { selection } = editor\r\n\r\n    if (selection) {\r\n      editor.apply({\r\n        type: 'set_selection',\r\n        properties: selection,\r\n        newProperties: null,\r\n      })\r\n    }\r\n  },\r\n\r\n  \r\n\r\n  move(\r\n    editor: Editor,\r\n    options: {\r\n      distance?: number\r\n      unit?: 'offset' | 'character' | 'word' | 'line'\r\n      reverse?: boolean\r\n      edge?: 'anchor' | 'focus' | 'start' | 'end'\r\n    } = {}\r\n  ): void {\r\n    const { selection } = editor\r\n    const { distance = 1, unit = 'character', reverse = false } = options\r\n    let { edge = null } = options\r\n\r\n    if (!selection) {\r\n      return\r\n    }\r\n\r\n    if (edge === 'start') {\r\n      edge = Range.isBackward(selection) ? 'focus' : 'anchor'\r\n    }\r\n\r\n    if (edge === 'end') {\r\n      edge = Range.isBackward(selection) ? 'anchor' : 'focus'\r\n    }\r\n\r\n    const { anchor, focus } = selection\r\n    const opts = { distance, unit }\r\n    const props: Partial<Range> = {}\r\n\r\n    if (edge == null || edge === 'anchor') {\r\n      const point = reverse\r\n        ? Editor.before(editor, anchor, opts)\r\n        : Editor.after(editor, anchor, opts)\r\n\r\n      if (point) {\r\n        props.anchor = point\r\n      }\r\n    }\r\n\r\n    if (edge == null || edge === 'focus') {\r\n      const point = reverse\r\n        ? Editor.before(editor, focus, opts)\r\n        : Editor.after(editor, focus, opts)\r\n\r\n      if (point) {\r\n        props.focus = point\r\n      }\r\n    }\r\n\r\n    Transforms.setSelection(editor, props)\r\n  },\r\n\r\n  \r\n\r\n  select(editor: Editor, target: Location): void {\r\n    const { selection } = editor\r\n    target = Editor.range(editor, target)\r\n\r\n    if (selection) {\r\n      Transforms.setSelection(editor, target)\r\n      return\r\n    }\r\n\r\n    if (!Range.isRange(target)) {\r\n      handleSlateError( \r\n        `When setting the selection and the current selection is \\`null\\` you must provide at least an \\`anchor\\` and \\`focus\\`, but you passed: ${JSON.stringify(\r\n          target\r\n        )}`, editor\r\n      )\r\n    }\r\n\r\n    editor.apply({\r\n      type: 'set_selection',\r\n      properties: selection,\r\n      newProperties: target,\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  setPoint(\r\n    editor: Editor,\r\n    props: Partial<Point>,\r\n    options: {\r\n      edge?: 'anchor' | 'focus' | 'start' | 'end'\r\n    } = {}\r\n  ): void {\r\n    const { selection } = editor\r\n    let { edge = 'both' } = options\r\n\r\n    if (!selection) {\r\n      return\r\n    }\r\n\r\n    if (edge === 'start') {\r\n      edge = Range.isBackward(selection) ? 'focus' : 'anchor'\r\n    }\r\n\r\n    if (edge === 'end') {\r\n      edge = Range.isBackward(selection) ? 'anchor' : 'focus'\r\n    }\r\n\r\n    const { anchor, focus } = selection\r\n    const point = edge === 'anchor' ? anchor : focus\r\n\r\n    Transforms.setSelection(editor, {\r\n      [edge === 'anchor' ? 'anchor' : 'focus']: { ...point, ...props },\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  setSelection(editor: Editor, props: Partial<Range>): void {\r\n    const { selection } = editor\r\n    const oldProps: Partial<Range> | null = {}\r\n    const newProps: Partial<Range> = {}\r\n\r\n    if (!selection) {\r\n      return\r\n    }\r\n\r\n    for (const k in props) {\r\n      if (\r\n        (k === 'anchor' &&\r\n          props.anchor != null &&\r\n          !Point.equals(props.anchor, selection.anchor)) ||\r\n        (k === 'focus' &&\r\n          props.focus != null &&\r\n          !Point.equals(props.focus, selection.focus)) ||\r\n        (k !== 'anchor' && k !== 'focus' && props[k] !== selection[k])\r\n      ) {\r\n        oldProps[k] = selection[k]\r\n        newProps[k] = props[k]\r\n      }\r\n    }\r\n\r\n    if (Object.keys(oldProps).length > 0) {\r\n      editor.apply({\r\n        type: 'set_selection',\r\n        properties: oldProps,\r\n        newProperties: newProps,\r\n      })\r\n    }\r\n  },\r\n}\r\n","import { createRandomId } from '@src/utils/randomId'\r\nimport {\r\n  Editor,\r\n  Element,\r\n  Location,\r\n  Node,\r\n  NodeEntry,\r\n  Path,\r\n  Text,\r\n  Point,\r\n  Range,\r\n  Transforms,\r\n} from '..'\r\n\r\nexport interface TextTransforms {\r\n  delete: (\r\n    editor: Editor,\r\n    options?: {\r\n      at?: Location\r\n      distance?: number\r\n      unit?: 'character' | 'word' | 'line' | 'block'\r\n      reverse?: boolean\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  insertFragment: (\r\n    editor: Editor,\r\n    fragment: Node[],\r\n    options?: {\r\n      at?: Location\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n  insertText: (\r\n    editor: Editor,\r\n    text: string,\r\n    options?: {\r\n      at?: Location\r\n      voids?: boolean\r\n    }\r\n  ) => void\r\n}\r\n\r\nexport const TextTransforms: TextTransforms = {\r\n  \r\n\r\n  delete(\r\n    editor: Editor,\r\n    options: {\r\n      at?: Location\r\n      distance?: number\r\n      unit?: 'character' | 'word' | 'line' | 'block'\r\n      reverse?: boolean\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const {\r\n        reverse = false,\r\n        unit = 'character',\r\n        distance = 1,\r\n        voids = false,\r\n      } = options\r\n      let { at = editor.selection, hanging = false } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (Range.isRange(at) && Range.isCollapsed(at)) {\r\n        at = at.anchor\r\n      }\r\n\r\n      if (Point.isPoint(at)) {\r\n        const furthestVoid = Editor.void(editor, { at, mode: 'highest' })\r\n\r\n        if (!voids && furthestVoid) {\r\n          const [, voidPath] = furthestVoid\r\n          at = voidPath\r\n        } else {\r\n          const opts = { unit, distance }\r\n          const target = reverse\r\n            ? Editor.before(editor, at, opts) || Editor.start(editor, [])\r\n            : Editor.after(editor, at, opts) || Editor.end(editor, [])\r\n          at = { anchor: at, focus: target }\r\n          hanging = true\r\n        }\r\n      }\r\n\r\n      if (Path.isPath(at)) {\r\n        Transforms.removeNodes(editor, { at, voids })\r\n        return\r\n      }\r\n\r\n      if (Range.isCollapsed(at)) {\r\n        return\r\n      }\r\n\r\n      if (!hanging) {\r\n        const [, end] = Range.edges(at)\r\n        const endOfDoc = Editor.end(editor, [])\r\n\r\n        if (!Point.equals(end, endOfDoc)) {\r\n          at = Editor.unhangRange(editor, at, { voids })\r\n        }\r\n      }\r\n\r\n      let [start, end] = Range.edges(at)\r\n      const startBlock = Editor.above(editor, {\r\n        match: (n:any)  => Editor.isBlock(editor, n),\r\n        at: start,\r\n        voids,\r\n      })\r\n      const endBlock = Editor.above(editor, {\r\n        match: (n:any)  => Editor.isBlock(editor, n),\r\n        at: end,\r\n        voids,\r\n      })\r\n      const isAcrossBlocks =\r\n        startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1])\r\n      const isSingleText = Path.equals(start.path, end.path)\r\n      const startVoid = voids\r\n        ? null\r\n        : Editor.void(editor, { at: start, mode: 'highest' })\r\n      const endVoid = voids\r\n        ? null\r\n        : Editor.void(editor, { at: end, mode: 'highest' })\r\n\r\n      \r\n      if (startVoid) {\r\n        const before = Editor.before(editor, start)\r\n\r\n        if (\r\n          before &&\r\n          startBlock &&\r\n          Path.isAncestor(startBlock[1], before.path)\r\n        ) {\r\n          start = before\r\n        }\r\n      }\r\n\r\n      if (endVoid) {\r\n        const after = Editor.after(editor, end)\r\n\r\n        if (after && endBlock && Path.isAncestor(endBlock[1], after.path)) {\r\n          end = after\r\n        }\r\n      }\r\n\r\n      \r\n      \r\n      const matches: NodeEntry[] = []\r\n      let lastPath: Path | undefined\r\n\r\n      for (const entry of Editor.nodes(editor, { at, voids })) {\r\n        const [node, path] = entry\r\n\r\n        if (lastPath && Path.compare(path, lastPath) === 0) {\r\n          continue\r\n        }\r\n\r\n        if (\r\n          (!voids && Editor.isVoid(editor, node)) ||\r\n          (!Path.isCommon(path, start.path) && !Path.isCommon(path, end.path))\r\n        ) {\r\n          matches.push(entry)\r\n          lastPath = path\r\n        }\r\n      }\r\n\r\n      const pathRefs = Array.from(matches, ([, p]) => Editor.pathRef(editor, p))\r\n      const startRef = Editor.pointRef(editor, start)\r\n      const endRef = Editor.pointRef(editor, end)\r\n\r\n      if (!isSingleText && !startVoid) {\r\n        const point = startRef.current!\r\n        const [node] = Editor.leaf(editor, point)\r\n        const { path } = point\r\n        const { offset } = start\r\n        const text = node.text.slice(offset)\r\n        if (text.length > 0)\r\n          editor.apply({ type: 'remove_text', path, offset, text })\r\n      }\r\n\r\n      for (const pathRef of pathRefs) {\r\n        const path = pathRef.unref()!\r\n        Transforms.removeNodes(editor, { at: path, voids })\r\n      }\r\n\r\n      if (!endVoid) {\r\n        const point = endRef.current!\r\n        const [node] = Editor.leaf(editor, point)\r\n        const { path } = point\r\n        const offset = isSingleText ? start.offset : 0\r\n        const text = node.text.slice(offset, end.offset)\r\n        if (text.length > 0)\r\n          editor.apply({ type: 'remove_text', path, offset, text })\r\n      }\r\n\r\n      if (\r\n        !isSingleText &&\r\n        isAcrossBlocks &&\r\n        endRef.current &&\r\n        startRef.current\r\n      ) {\r\n        Transforms.mergeNodes(editor, {\r\n          at: endRef.current,\r\n          hanging: true,\r\n          voids,\r\n        })\r\n      }\r\n\r\n      const point = reverse\r\n        ? startRef.unref() || endRef.unref()\r\n        : endRef.unref() || startRef.unref()\r\n\r\n      if (options.at == null && point) {\r\n        Transforms.select(editor, point)\r\n      }\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  insertFragment(\r\n    editor: Editor,\r\n    fragment: Node[],\r\n    options: {\r\n      at?: Location\r\n      hanging?: boolean\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { hanging = false, voids = false } = options\r\n      let { at = editor.selection } = options\r\n\r\n      if (!fragment.length) {\r\n        return\r\n      }\r\n\r\n      if (!at) {\r\n        return\r\n      } else if (Range.isRange(at)) {\r\n        if (!hanging) {\r\n          at = Editor.unhangRange(editor, at)\r\n        }\r\n\r\n        if (Range.isCollapsed(at)) {\r\n          at = at.anchor\r\n        } else {\r\n          const [, end] = Range.edges(at)\r\n\r\n          if (!voids && Editor.void(editor, { at: end })) {\r\n            return\r\n          }\r\n\r\n          const pointRef = Editor.pointRef(editor, end)\r\n          Transforms.delete(editor, { at })\r\n          at = pointRef.unref()!\r\n        }\r\n      } else if (Path.isPath(at)) {\r\n        at = Editor.start(editor, at)\r\n      }\r\n\r\n      if (!voids && Editor.void(editor, { at })) {\r\n        return\r\n      }\r\n\r\n      \r\n      \r\n      const inlineElementMatch = Editor.above(editor, {\r\n        at,\r\n        match: (n:any)  => Editor.isInline(editor, n),\r\n        mode: 'highest',\r\n        voids,\r\n      })\r\n\r\n      if (inlineElementMatch) {\r\n        const [, inlinePath] = inlineElementMatch\r\n\r\n        if (Editor.isEnd(editor, at, inlinePath)) {\r\n          const after = Editor.after(editor, inlinePath)!\r\n          at = after\r\n        } else if (Editor.isStart(editor, at, inlinePath)) {\r\n          const before = Editor.before(editor, inlinePath)!\r\n          at = before\r\n        }\r\n      }\r\n\r\n      const blockMatch = Editor.above(editor, {\r\n        match: (n:any)  => Editor.isBlock(editor, n),\r\n        at,\r\n        voids,\r\n      })!\r\n      const [, blockPath] = blockMatch\r\n      const isBlockStart = Editor.isStart(editor, at, blockPath)\r\n      const isBlockEnd = Editor.isEnd(editor, at, blockPath)\r\n      const isBlockEmpty = isBlockStart && isBlockEnd\r\n      const mergeStart = !isBlockStart || (isBlockStart && isBlockEnd)\r\n      const mergeEnd = !isBlockEnd\r\n      const [, firstPath] = Node.first({ children: fragment }, [])\r\n      const [, lastPath] = Node.last({ children: fragment }, [])\r\n\r\n      const matches: NodeEntry[] = []\r\n      const matcher = ([n, p]: NodeEntry) => {\r\n        const isRoot = p.length === 0\r\n        if (isRoot) {\r\n          return false\r\n        }\r\n\r\n        if (isBlockEmpty) {\r\n          return true\r\n        }\r\n\r\n        if (\r\n          mergeStart &&\r\n          Path.isAncestor(p, firstPath) &&\r\n          Element.isElement(n) &&\r\n          !editor.isVoid(n) &&\r\n          !editor.isInline(n)\r\n        ) {\r\n          return false\r\n        }\r\n\r\n        if (\r\n          mergeEnd &&\r\n          Path.isAncestor(p, lastPath) &&\r\n          Element.isElement(n) &&\r\n          !editor.isVoid(n) &&\r\n          !editor.isInline(n)\r\n        ) {\r\n          return false\r\n        }\r\n\r\n        return true\r\n      }\r\n\r\n      for (const entry of Node.nodes(\r\n        { children: fragment },\r\n        { pass: matcher }\r\n      )) {\r\n        if (matcher(entry)) {\r\n          matches.push(entry)\r\n        }\r\n      }\r\n\r\n      const starts = []\r\n      const middles = []\r\n      const ends = []\r\n      let starting = true\r\n      let hasBlocks = false\r\n\r\n      for (const [node] of matches) {\r\n        const newNode = {...node, anchorId: createRandomId()}\r\n        if (Element.isElement(newNode) && !editor.isInline(newNode)) {\r\n          starting = false\r\n          hasBlocks = true\r\n          middles.push(newNode)\r\n        } else if (starting) {\r\n          starts.push(newNode)\r\n        } else {\r\n          ends.push(newNode)\r\n        }\r\n      }\r\n\r\n      const [inlineMatch] = Editor.nodes(editor, {\r\n        at,\r\n        match: (n:any)  => Text.isText(n) || Editor.isInline(editor, n),\r\n        mode: 'highest',\r\n        voids,\r\n      })!\r\n\r\n      const [, inlinePath] = inlineMatch\r\n      const isInlineStart = Editor.isStart(editor, at, inlinePath)\r\n      const isInlineEnd = Editor.isEnd(editor, at, inlinePath)\r\n\r\n      const middleRef = Editor.pathRef(\r\n        editor,\r\n        isBlockEnd ? Path.next(blockPath) : blockPath\r\n      )\r\n\r\n      const endRef = Editor.pathRef(\r\n        editor,\r\n        isInlineEnd ? Path.next(inlinePath) : inlinePath\r\n      )\r\n\r\n      const blockPathRef = Editor.pathRef(editor, blockPath)\r\n\r\n      Transforms.splitNodes(editor, {\r\n        at,\r\n        match: (n:any)  =>\r\n          hasBlocks\r\n            ? Editor.isBlock(editor, n)\r\n            : Text.isText(n) || Editor.isInline(editor, n),\r\n        mode: hasBlocks ? 'lowest' : 'highest',\r\n        voids,\r\n      })\r\n\r\n      const startRef = Editor.pathRef(\r\n        editor,\r\n        !isInlineStart || (isInlineStart && isInlineEnd)\r\n          ? Path.next(inlinePath)\r\n          : inlinePath\r\n      )\r\n\r\n      Transforms.insertNodes(editor, starts, {\r\n        at: startRef.current!,\r\n        match: (n:any)  => Text.isText(n) || Editor.isInline(editor, n),\r\n        mode: 'highest',\r\n        voids,\r\n      })\r\n\r\n      if (isBlockEmpty && middles.length) {\r\n        Transforms.delete(editor, { at: blockPathRef.unref()!, voids })\r\n      }\r\n\r\n      Transforms.insertNodes(editor, middles, {\r\n        at: middleRef.current!,\r\n        match: (n:any)  => Editor.isBlock(editor, n),\r\n        mode: 'lowest',\r\n        voids,\r\n      })\r\n\r\n      Transforms.insertNodes(editor, ends, {\r\n        at: endRef.current!,\r\n        match: (n:any)  => Text.isText(n) || Editor.isInline(editor, n),\r\n        mode: 'highest',\r\n        voids,\r\n      })\r\n\r\n      if (!options.at) {\r\n        let path\r\n\r\n        if (ends.length > 0) {\r\n          path = Path.previous(endRef.current!)\r\n        } else if (middles.length > 0) {\r\n          path = Path.previous(middleRef.current!)\r\n        } else {\r\n          path = Path.previous(startRef.current!)\r\n        }\r\n\r\n        const end = Editor.end(editor, path)\r\n        Transforms.select(editor, end)\r\n      }\r\n\r\n      startRef.unref()\r\n      middleRef.unref()\r\n      endRef.unref()\r\n    })\r\n  },\r\n\r\n  \r\n\r\n  insertText(\r\n    editor: Editor,\r\n    text: string,\r\n    options: {\r\n      at?: Location\r\n      voids?: boolean\r\n    } = {}\r\n  ): void {\r\n    Editor.withoutNormalizing(editor, () => {\r\n      const { voids = false } = options\r\n      let { at = editor.selection } = options\r\n\r\n      if (!at) {\r\n        return\r\n      }\r\n\r\n      if (Path.isPath(at)) {\r\n        at = Editor.range(editor, at)\r\n      }\r\n\r\n      if (Range.isRange(at)) {\r\n        if (Range.isCollapsed(at)) {\r\n          at = at.anchor\r\n        } else {\r\n          const end = Range.end(at)\r\n\r\n          if (!voids && Editor.void(editor, { at: end })) {\r\n            return\r\n          }\r\n\r\n          const pointRef = Editor.pointRef(editor, end)\r\n          Transforms.delete(editor, { at, voids })\r\n          at = pointRef.unref()!\r\n          Transforms.setSelection(editor, { anchor: at, focus: at })\r\n        }\r\n      }\r\n\r\n      if (!voids && Editor.void(editor, { at })) {\r\n        return\r\n      }\r\n\r\n      const { path, offset } = at\r\n      if (text.length > 0)\r\n        editor.apply({ type: 'insert_text', path, offset, text })\r\n    })\r\n  },\r\n}\r\n","import { GeneralTransforms } from './general'\r\nimport { NodeTransforms } from './node'\r\nimport { SelectionTransforms } from './selection'\r\nimport { TextTransforms } from './text'\r\n\r\nexport const Transforms: GeneralTransforms &\r\n  NodeTransforms &\r\n  SelectionTransforms &\r\n  TextTransforms = {\r\n  ...GeneralTransforms,\r\n  ...NodeTransforms,\r\n  ...SelectionTransforms,\r\n  ...TextTransforms,\r\n}\r\n","import { mdastToSlate } from '../transformers/mdast-to-slate';\n\nexport default function plugin() {\n  this.Compiler = function (node: any) {\n    return mdastToSlate(node);\n  };\n}\n","import { createTheme } from '@uiw/codemirror-themes';\nimport { tags as t } from '@lezer/highlight';\n\nconst base00 = '#2e3440',\n  base01 = '#3b4252',\n  base02 = '#434c5e',\n  base03 = '#4c566a';\n\nconst base04 = '#d8dee9',\n  base05 = '#e5e9f0',\n  base06 = '#eceff4';\n\nconst base07 = '#ffa500',\n  base08 = '#88c0d0',\n  base09 = '#81a1ff',\n  base0A = '#0000cc';\n\nconst base0b = '#bf616a',\n  base0C = '#d08770',\n  base0D = '#ebcb8b',\n  base0E = '#a3be8c',\n  base0F = '#b48ead';\n\nconst invalid = '#d30102',\n  darkBackground = base06,\n  highlightBackground = darkBackground,\n  background = '#ffffff',\n  tooltipBackground = base01,\n  selection = darkBackground,\n  cursor = base01;\n\nexport const myTheme = createTheme({\n  theme: 'light',\n  settings: {\n    background: background,\n    foreground: base00,\n    caret: cursor,\n    selection: selection,\n    selectionMatch: '#036dd626',\n    lineHighlight: highlightBackground,\n    gutterBackground: '#fff',\n    gutterForeground: '#8a919966',\n  },\n  styles: [\n    { tag: t.keyword, color: base09 },\n    {\n      tag: [t.name, t.deleted, t.character, t.propertyName, t.macroName],\n      color: base0C,\n    },\n    { tag: [t.variableName], color: base0C },\n    { tag: [t.function(t.variableName)], color: base0D },\n    { tag: [t.labelName], color: base09 },\n    {\n      tag: [t.color, t.constant(t.name), t.standard(t.name)],\n      color: base0C,\n    },\n    { tag: [t.definition(t.name), t.separator], color: base0E },\n    { tag: [t.brace], color: base07 },\n    {\n      tag: [t.annotation],\n      color: invalid,\n    },\n    {\n      tag: [t.number, t.changed, t.annotation, t.modifier, t.self, t.namespace],\n      color: base08,\n    },\n    {\n      tag: [t.typeName, t.className],\n      color: base0D,\n    },\n    {\n      tag: [t.operator, t.operatorKeyword],\n      color: base0E,\n    },\n    {\n      tag: [t.tagName],\n      color: base0F,\n    },\n    {\n      tag: [t.squareBracket],\n      color: base0b,\n    },\n    {\n      tag: [t.angleBracket],\n      color: base0C,\n    },\n    {\n      tag: [t.attributeName],\n      color: base0D,\n    },\n    {\n      tag: [t.regexp],\n      color: base0A,\n    },\n    {\n      tag: [t.quote],\n      color: base0E,\n    },\n    { tag: [t.string], color: base0C },\n    {\n      tag: t.link,\n      color: base07,\n      textDecoration: 'underline',\n      textUnderlinePosition: 'under',\n    },\n    {\n      tag: [t.url, t.escape, t.special(t.string)],\n      color: base0C,\n    },\n    { tag: [t.meta], color: base08 },\n    { tag: [t.comment], color: base02, fontStyle: 'italic' },\n    { tag: t.strong, fontWeight: 'bold', color: base00 },\n    { tag: t.emphasis, fontStyle: 'italic', color: base00 },\n    { tag: t.strikethrough, textDecoration: 'line-through' },\n    { tag: t.heading, fontWeight: 'bold', color: base0A },\n    { tag: t.special(t.heading1), fontWeight: 'bold', color: base0A },\n    { tag: t.heading1, fontWeight: 'bold', color: base0A },\n    {\n      tag: [t.heading2, t.heading3, t.heading4],\n      fontWeight: 'bold',\n      color: base0A,\n    },\n    {\n      tag: [t.heading5, t.heading6],\n      color: base0A,\n    },\n    { tag: [t.atom, t.bool, t.special(t.variableName)], color: base0C },\n    {\n      tag: [t.processingInstruction, t.inserted],\n      color: base0E,\n    },\n    {\n      tag: [t.contentSeparator],\n      color: base0D,\n    },\n    { tag: t.invalid, color: base02, borderBottom: `1px dotted ${invalid}` },\n  ],\n});\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport unified from 'unified';\nimport markdown from 'remark-parse';\nimport gfm from 'remark-gfm';\nimport frontmatter from 'remark-frontmatter';\nimport remarkToSlate from '../docs/plugins/transformers/remark-to-slate';\nimport { Element, Node } from '../slate-packages/slate';\nimport { createRandomId } from '../../utils/randomId';\nimport './index.less';\nimport CodeMirror from '@uiw/react-codemirror';\nimport { keymap } from '@codemirror/view';\nimport { markdown as md } from '@codemirror/lang-markdown';\nimport { myTheme } from './theme';\nimport { css, cx } from '@emotion/css';\nimport { f } from '@src/resource/string';\nimport sessStorage from '@src/utils/sessStorage';\nimport hash from 'object-hash';\nimport { yCollab, yUndoManagerKeymap } from 'y-codemirror.next';\nimport * as Y from 'yjs';\nimport { WebsocketProvider as WebsocketProviderOfficial } from 'y-websocket';\nimport { getCache } from '@src/utils/cacheUtils';\nimport { hashCode, intToRGB } from '@src/utils/hexColorUtils';\nimport { hexOpacity20 } from '../docs/slateEditor';\nimport { SyncElement, toSlateDoc } from '../slate-packages/slate-yjs';\nimport { dragInsertLocalFiles, isImageType, readCopyFile } from '../docs/plugins/InlineImage/inlineImagePlugins';\nimport { message } from 'antd';\n\nexport const usercolors = [\n  { color: '#30bced', light: '#30bced33' },\n  { color: '#6eeb83', light: '#6eeb8333' },\n  { color: '#ffbc42', light: '#ffbc4233' },\n  { color: '#ecd444', light: '#ecd44433' },\n  { color: '#ee6352', light: '#ee635233' },\n  { color: '#9ac2c9', light: '#9ac2c933' },\n  { color: '#8acb88', light: '#8acb8833' },\n  { color: '#1be7ff', light: '#1be7ff33' },\n];\n\nexport const userColor = usercolors[Math.floor(Math.random() * 10000) % usercolors.length];\n\ninterface IMDEditorProps {\n  onChange: Function;\n  options: any;\n}\nconst MDEditor: React.FC<IMDEditorProps> = ({ options, onChange }) => {\n  const [value, setValue] = useState('');\n\n  const cmRef = useRef(null);\n  const isInitialized = useRef(false);\n\n  useEffect(() => {\n    const newVal = value || '';\n    const processor = unified().use(markdown).use(gfm).use(frontmatter).use(remarkToSlate);\n    let slateValue: any[];\n    slateValue = processor.processSync(newVal).result as any[];\n\n    if (slateValue.length === 1 && slateValue[0].text === '') {\n      slateValue = [];\n    }\n\n    const newContent = [\n      {\n        type: 'heading-one',\n        children: [\n          {\n            text: '',\n          },\n        ],\n      },\n      {\n        type: 'paragraph',\n        children: [\n          {\n            text: '',\n          },\n        ],\n      },\n      ...(slateValue as any[]),\n      {\n        type: 'paragraph',\n        children: [\n          {\n            text: ' ',\n          },\n        ],\n      },\n    ];\n\n    if (window.tripdocs.editorsMap[options.docId].api?.setContent) {\n      window.tripdocs.editorsMap[options.docId].mdContent = newVal;\n      window.tripdocs.editorsMap[options.docId].md2SlateContent = newContent;\n    }\n  }, [value]);\n\n  let interval;\n  useEffect(() => {\n    if (!interval) {\n      interval = setInterval(() => {\n        let cur_key = 'cur_markdown_content_' + options.docId;\n        let last_key = 'last_markdown_content_' + options.docId;\n        const currentHash = sessStorage.get(cur_key) || '';\n        const lastHash = sessStorage.get(last_key) || '';\n        if (lastHash) {\n          if (lastHash !== currentHash && window.tripdocs.editorsMap[options.docId]) {\n            console.log('【markdown_content_hash】inequal', currentHash, lastHash);\n            window.tripdocs.editorsMap[options.docId]?.api.mdRefreshDocCallback();\n            const { md2SlateContent, api } = window.tripdocs.editorsMap[options.docId];\n            md2SlateContent && api?.setContent(md2SlateContent);\n            sessStorage.set(last_key, currentHash);\n          }\n        } else {\n          sessStorage.set(last_key, currentHash);\n        }\n      }, 1500);\n    }\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  const [sharedType, provider] = useMemo(() => {\n    let provider;\n    const ydoc = new Y.Doc();\n    const docId = options.docId;\n    const url = 'ws://localhost:5000';\n    provider = new WebsocketProviderOfficial(url, docId, ydoc);\n\n    const text = ydoc.getText('codemirror');\n\n    const sharedType = text;\n\n    const me = {\n      name: '未知' + Math.floor(Math.random() * 100),\n      color: userColor.color,\n      colorLight: userColor.light,\n    };\n    if (getCache(options.docId, 'options')) {\n      const { userInfo } = getCache(options.docId, 'options');\n      me.name = userInfo.userName || userInfo.name || userInfo.displayName;\n      me.color = userInfo && userInfo.employee ? '#' + intToRGB(hashCode(userInfo.employee)) : '#000000';\n      me.colorLight = me.color + hexOpacity20;\n    }\n    console.log('Mddocs Yjs => me', getCache(options.docId, 'options'), options, me);\n\n    provider.awareness.setLocalStateField('user', me);\n\n    return [sharedType, provider];\n  }, []);\n\n  provider.on('sync', (isSynced: boolean) => {\n    if (isSynced && !isInitialized.current && sharedType.length === 0 && options.defaultMDValue) {\n      sharedType.insert(0, options.defaultMDValue);\n      console.log('Mddocs Yjs => sharedType', sharedType, sharedType.toJSON());\n      isInitialized.current = true;\n    }\n  });\n\n  return (\n    <div\n      style={{ height: '100%' }}\n      data-ignore-slate\n      className={cx(\n        'mdeditor_container_wrap',\n        css`\n          .cm-theme {\n            height: 100%;\n          }\n          .cm-scroller {\n            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, Courier, monospace;\n            overflow-x: hidden;\n            .cm-content {\n              width: 90%;\n              white-space: pre-wrap;\n              word-break: break-all;\n            }\n          }\n          * ::selection {\n            color: inherit;\n            background: #d7d4f0;\n          }\n          .cm-activeLineGutter {\n            background: none;\n            color: #8f8f8f;\n          }\n        `\n      )}\n    >\n      {}\n      {sharedType && provider && (\n        <CodeMirror\n          ref={cmRef}\n          data-ignore-slate\n          height=\"100%\"\n          width=\"100%\"\n          theme={myTheme}\n          basicSetup={{\n            highlightActiveLine: false,\n            lineNumbers: true,\n            autocompletion: true,\n            crosshairCursor: false,\n            bracketMatching: true,\n            foldGutter: false,\n          }}\n          extensions={[keymap.of([...yUndoManagerKeymap]), md(), yCollab(sharedType, provider.awareness)]}\n          onDragOver={e => {\n            e.preventDefault();\n          }}\n          onDragStart={e => {\n            e.dataTransfer.effectAllowed;\n          }}\n          onDropCapture={e => {\n            e.stopPropagation();\n\n            e.preventDefault();\n            let files = e.dataTransfer.files;\n            if (files && files[0] && isImageType(files[0].type)) {\n              if (files[0].size > 10 * 1024 * 1024) {\n                message.error('图片文件不能大于 10mb');\n                return;\n              }\n              readCopyFile(options.docId, files[0], source => {\n                const imgMdStr = `![image](${source})`;\n\n                sharedType.insert(sharedType.length, imgMdStr);\n              });\n            }\n          }}\n          onDrop={e => {\n            e.stopPropagation();\n\n            e.preventDefault();\n          }}\n          onChange={val => {\n            setValue(val);\n            onChange && onChange(val);\n            throttle(() => {\n              let cur_key = 'cur_markdown_content_' + options.docId;\n              sessStorage.set(cur_key, hash(val));\n            }, 400)();\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nfunction throttle(fn, delay) {\n  let last = 0;\n  return (...args) => {\n    const now = Date.now();\n    if (now - last > delay) {\n      last = now;\n      fn(...args);\n    }\n  };\n}\n\nexport default MDEditor;\n","import React from 'react';\nimport MdEditor from './components/MdEditor';\nimport Docs from './Docs';\n\nexport default function MdDocs(options: any) {\n  return (\n    <div\n      className=\"editor-outer-wrapper\"\n      style={{\n        border: '1px solid rgba(0,0,0,0.1)',\n        overflowY: 'auto',\n        overflowX: 'hidden',\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n      }}\n    >\n      <div\n        className=\"editor-outer-wrapper\"\n        data-ignore-slate\n        style={{\n          border: '1px solid rgba(0,0,0,0.1)',\n          overflowY: 'auto',\n          overflowX: 'hidden',\n          position: 'relative',\n          width: '50%',\n          height: '100%',\n        }}\n      >\n        {}\n        <MdEditor options={options} onChange={undefined} />\n      </div>\n      <div\n        className=\"editor-outer-wrapper\"\n        style={{\n          border: '1px solid rgba(0,0,0,0.1)',\n          overflowY: 'auto',\n          overflowX: 'hidden',\n          position: 'relative',\n          width: '50%',\n          height: '100%',\n        }}\n      >\n        <Docs {...{ ...options, showHelpBlock: false, showGlobalComment: false }} socketUrl=\"offline\" />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport $ from 'jquery';\nimport html2canvas from 'html2canvas';\nimport * as html2pdf from 'html2pdf.js';\n\nimport { Text, Node } from '@src/components/slate-packages/slate';\n\nimport { ELTYPE, HEADING_TYPES, slateDefaultValue } from './components/docs/plugins/config';\nimport Docs from './Docs';\nimport './style/less/slatedocs-sdk.less';\nimport { addApiListener } from './utils/apiListener';\nimport storage from './utils/storage';\nimport '@src/style/less/slatedocs.less';\nimport MdDocs from './MdDocs';\nimport { getCache, setCache } from './utils/cacheUtils';\nimport { getDefaultValueByBase64 } from './utils/getDefaultValue';\nimport { createUUID } from './utils/randomId';\nimport sessStorage from './utils/sessStorage';\n\nexport const Editor = function (opt: Options, container: any) {\n  if (typeof window !== 'object') {\n    return;\n  }\n\n  const options = { ...opt };\n  const {\n    onSlateChange = function onSlateChange() {},\n    titleCallback = function titleCallback() {},\n    initCallback = function initCallback() {},\n    mentionCallback = function mentionCallback() {},\n    roomUsersCallback = function roomUsersCallback() {},\n    commentCallback = function commentCallback() {},\n    shareCallback = function shareCallback() {},\n    docStatusCallback = function docStatusCallback() {},\n    getDocHistoryCallback = function getDocHistoryCallback() {},\n    getDocBlobByVersionCallback = function getDocBlobByVersionCallback() {},\n    restoreDocCallback = function restoreDocCallback() {},\n    mdRefreshDocCallback = function mdRefreshDocCallback() {},\n    getDocToken = async function getDocToken() {\n      return Promise.resolve(null);\n    },\n    getUserList = null,\n    linkClickCallBack = async function linkClickCallBack() {\n      return Promise.resolve([]);\n    },\n    lang = 'zh',\n  } = options;\n  console.log(`tripdocs start init, version:` + require('../package.json').version);\n  window.tripdocs.lang = lang;\n  if (!window.tripdocs.cache.console) {\n    try {\n      window.tripdocs.cache.console = console;\n      const proxy = new Proxy(window.tripdocs.cache.console.error, {\n        apply(target, thisArg, ...args) {\n          try {\n            const errStr = args.toString();\n            if (errStr && errStr.indexOf('Warning:') !== 0 && errStr.indexOf('ErrorBoundary') === -1 && errStr.indexOf('[handleSlateError]') !== 0) {\n              let errFormat = '\\n----\\n' + errStr + '\\n----\\n';\n\n              try {\n                throw new Error();\n              } catch (error: any) {\n                errFormat += '\\n----\\n' + error.stack + '\\n----\\n';\n              }\n              console.log('proxy err stack:', errFormat);\n              let newStack: any[] = [];\n              const stack: any[] = getCache(options.docId, 'changeEditorStack') || [];\n              if (stack.length >= 1) {\n                newStack.push(stack[0]);\n                for (let i = 1; i < stack.length; i++) {\n                  newStack.push({\n                    content: [],\n                    operations: stack[i].operations,\n                  });\n                }\n              } else {\n                newStack = stack;\n              }\n              const id = createUUID();\n              sessStorage.set('tripdocs_sdk/ubtErrorId', id);\n              sessStorage.set('tripdocs_sdk/ubtError', errFormat + '\\n id:' + id);\n\n              const str = JSON.stringify(newStack);\n              const sliceLen = 10 * 1000;\n              const num = Math.ceil(str.length / sliceLen);\n\n              for (let i = 0; i < num; i++) {}\n            }\n          } catch (error) {\n          } finally {\n            return Reflect.apply(target, thisArg, ...args);\n          }\n        },\n      });\n      console.error = proxy;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  verifyOptions(options);\n  polyfillJs();\n\n  const { employee, userName: name } = options.userInfo;\n\n  const dom = container || document.getElementById(`editorContainer-${options.docId}`);\n  let isDOM =\n    typeof HTMLElement === 'object'\n      ? function (obj) {\n          return obj instanceof HTMLElement;\n        }\n      : function (obj) {\n          return obj && typeof obj === 'object' && obj.nodeType === 1 && typeof obj.nodeName === 'string';\n        };\n  if (!isDOM(dom)) {\n    console.error('dom err', dom);\n    return;\n  }\n\n  window.tripdocs.editorsMap = window.tripdocs.editorsMap\n    ? { ...window.tripdocs.editorsMap, [options.docId]: { ...options } }\n    : { [options.docId]: { ...options } };\n  window.tripdocs.editorsMap[options.docId].cache = {\n    textValue: '',\n    commentId: '',\n    timeCheck: true,\n    docContentQueue: [],\n  };\n  setCache(options.docId, 'options', options);\n  const initTimestamp = new Date().getTime();\n  console.log('[time check] benchmark timestamp: ', initTimestamp);\n  setCache(options.docId, 'initTimestamp', initTimestamp);\n\n  dom.addEventListener(\n    'unload',\n    () => {\n      delete window.tripdocs.editorsMap[options.docId];\n    },\n    { once: true }\n  );\n\n  if (!options) {\n    ReactDOM.render(<div>init error,your options is null</div>, dom);\n    return;\n  }\n  window.tripdocs.editorsMap[options.docId].api = {};\n\n  addApiListener(onSlateChange, options.docId);\n  addApiListener(initCallback, options.docId);\n  addApiListener(mentionCallback, options.docId);\n  addApiListener(roomUsersCallback, options.docId);\n  addApiListener(commentCallback, options.docId);\n  addApiListener(shareCallback, options.docId);\n  addApiListener(docStatusCallback, options.docId);\n  addApiListener(getDocHistoryCallback, options.docId);\n  addApiListener(getDocBlobByVersionCallback, options.docId);\n  addApiListener(restoreDocCallback, options.docId);\n  addApiListener(mdRefreshDocCallback, options.docId);\n\n  if (options.isMdEditor) {\n    ReactDOM.render(<MdDocs {...options} name={name} />, dom);\n  } else {\n    ReactDOM.render(<Docs {...options} name={name} />, dom);\n  }\n\n  window.tripdocs.editorsMap[options.docId].api.getContent = getContentForID(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.getTitle = getTitleForID(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.getMentions = getAllMentionsForID(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.getHeadings = getHeadingsForID(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.getComments = getAllComment(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.destroy = destroy(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.reload = reload(options);\n  window.tripdocs.editorsMap[options.docId].api.scrollToViewByAnchorId = scrollToViewByAnchorId(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.scrollToViewByRangeId = scrollToViewByRangeId(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.getUserList = getUserList;\n  window.tripdocs.editorsMap[options.docId].api.linkClickCallBack = linkClickCallBack;\n  window.tripdocs.editorsMap[options.docId].api.titleCallback = titleCallback;\n  window.tripdocs.editorsMap[options.docId].api.getDocToken = getDocToken;\n  window.tripdocs.editorsMap[options.docId].api.compareDocContentWithDefault = compareDocContentWithDefault(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.setContent = setContent(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.getContentByBase64 = getDefaultValueByBase64;\n  window.tripdocs.editorsMap[options.docId].api.getEditorBottomDom = getEditorBottomDom(options.docId);\n  window.tripdocs.editorsMap[options.docId].api.joinDevGroup = options?.joinDevGroup;\n\n  return window.tripdocs.editorsMap[options.docId];\n};\nwindow.tripdocs = {\n  Editor,\n  cache: {},\n  lang: 'zh',\n  rrwebRecord: { upload: () => {} },\n};\nfunction dynamicLoadJs(url, callback?: Function) {\n  if (document.getElementsByTagName('head')[0].outerHTML.includes(url)) {\n    return;\n  }\n  let head = document.getElementsByTagName('head')[0];\n  let script: any = document.createElement('script');\n  script.type = 'text/javascript';\n  script.src = url;\n  if (typeof callback == 'function') {\n    script.onload = script.onreadystatechange = function () {\n      if (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete') {\n        callback();\n        script.onload = script.onreadystatechange = null;\n      }\n    };\n  }\n  head.appendChild(script);\n}\n\nfunction getContentForID(docId = 'default') {\n  return () => window.tripdocs.editorsMap[docId]?.editor?.children;\n}\n\nfunction getTitleForID(docId = 'default') {\n  return () => Node.string(window.tripdocs.editorsMap[docId]?.editor?.children[0]);\n}\n\nfunction getAllMentionsForID(docId = 'default') {\n  return () => {\n    const { SlateEditor: Editor, editor } = window.tripdocs.editorsMap[docId];\n    if (!editor) {\n      return;\n    }\n    const arr = [];\n    for (let node of editor.children) {\n      if (node.type === ELTYPE.MENTION) {\n        console.log('getMentions editor.--------------', node);\n        arr.push(node);\n      }\n    }\n    return arr;\n  };\n}\n\nfunction getHeadingsForID(docId = 'default') {\n  return () => {\n    const { SlateEditor: Editor, editor } = window.tripdocs.editorsMap[docId];\n    const arr = [];\n\n    for (let node of editor.children) {\n      if (HEADING_TYPES.includes(node.type)) {\n        console.log('getHeadings editor.--------------', node);\n        arr.push({\n          string: Node.string(node),\n          type: node.type,\n        });\n      }\n    }\n    return arr;\n  };\n}\n\nfunction getAllComment(docId = 'default') {\n  return () => {\n    return window.tripdocs.editorsMap[docId].commentData;\n  };\n}\n\nfunction destroy(docId = 'default') {\n  return () => {\n    window.tripdocs.editorsMap[docId] &&\n      window.tripdocs.editorsMap[docId]?.socket?.provider?.disconnect &&\n      window.tripdocs.editorsMap[docId]?.socket?.provider?.destroy();\n    const container = document.getElementById(`editorContainer-${docId}`);\n\n    if (container) {\n      ReactDOM.unmountComponentAtNode(container);\n    }\n    delete window.tripdocs.editorsMap[docId];\n  };\n}\n\nfunction reload(options) {\n  return () => {\n    const { docId } = options;\n    const container = document.getElementById(`editorContainer-${docId}`);\n    ReactDOM.unmountComponentAtNode(container);\n    const editor = new window.tripdocs.Editor(options, container);\n    return editor;\n  };\n}\n\nfunction scrollToViewByAnchorId(docId = 'default') {\n  return (anchorId: string) => {\n    const { SlateEditor: Editor, editor, ReactEditor } = window.tripdocs.editorsMap[docId];\n    const curNodeEntry = Editor.nodes(editor, {\n      at: [],\n      match: (n: any) => n?.anchorId === anchorId,\n    }).next().value;\n\n    const anchorItemEl = ReactEditor.toDOMNode(editor, curNodeEntry[0]);\n    anchorItemEl.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    $(anchorItemEl).on('webkitAnimationEnd animationEnd', function () {\n      $(this).removeClass('anchor-target');\n    });\n    $(anchorItemEl).addClass('anchor-target');\n  };\n}\n\nfunction scrollToViewByRangeId(docId = 'default') {\n  return (rangeId: string) => {\n    const json = JSON.parse(rangeId);\n    const { SlateEditor: Editor, editor, ReactEditor } = window.tripdocs.editorsMap[docId];\n    const curNodeEntry = Editor.nodes(editor, {\n      at: [],\n      match: (n: any) => n?.anchorId === json.anchorId,\n    }).next().value;\n\n    const anchorItemEl = ReactEditor.toDOMNode(editor, curNodeEntry[0]);\n    anchorItemEl.scrollIntoView({ behavior: 'smooth', block: 'center' });\n    $(anchorItemEl).on('webkitAnimationEnd animationEnd', function () {\n      $(this).removeClass('anchor-target');\n    });\n    $(anchorItemEl).addClass('anchor-target');\n  };\n}\n\nfunction compareDocContentWithDefault(docId = 'default') {\n  return () => {\n    const undos = window.tripdocs.editorsMap[docId].editor.history.undos as any[][];\n    const result = undos.some(arr => {\n      return arr.some(op => {\n        if (op.type !== 'set_selection') {\n          return true;\n        }\n        return false;\n      });\n    });\n    return result;\n  };\n}\nfunction setContent(docId = 'default') {\n  return (obj: any, mode: string = 'json', loading: boolean) => {\n    if (!window.tripdocs.editorsMap[docId].api.setTemplate) {\n      console.error('setContent setTemplate function undefined');\n      return;\n    }\n    const api = window.tripdocs.editorsMap[docId]?.api;\n    loading && api && api?.setLoading(true);\n\n    if (mode === 'json') {\n      const newJson = execModalParam(docId, obj);\n      api?.setTemplate(newJson);\n      return;\n    }\n\n    const json = getDefaultValueByBase64(obj);\n    const newJson = execModalParam(docId, json);\n\n    console.log('setContent ::', newJson);\n    api?.setTemplate(newJson);\n  };\n}\nexport function execModalParam(docId: string, content: any[]) {\n  const options = getCache(docId, 'options');\n  try {\n    if (options.openModalParam && Array.isArray(content)) {\n      if (Node.string(content[0]) === '$name') {\n        const name = options?.userInfo?.userName;\n        const title = { ...content[0], children: [{ text: name }] };\n        return [title, ...content.slice(1)];\n      }\n    }\n  } catch (error) {\n    console.error('execModalParam error');\n    return content;\n  }\n  return content;\n}\nfunction getEditorBottomDom(docId = 'default') {\n  return () => {\n    try {\n      const dom = document.getElementById('editorContainer-bottom-' + docId);\n      return dom;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\n\nfunction verifyOptions(options: Options) {\n  const containerVerify = document.getElementById(`editorContainer-${options.docId}`);\n\n  if (!options.docId || !containerVerify) {\n    console.error('没有 docId，或者 editorContainer-${docId}无法获取 dom，不可以初始化');\n    return;\n  }\n  if (!options.allUserList) {\n    options.allUserList = [];\n  }\n  if (!options.openModalParam) {\n    options.openModalParam = true;\n  }\n  if (!options.useTripdocsFileUpload) {\n    options.useTripdocsFileUpload = false;\n  }\n  if (typeof options.historyVersionShortKey !== 'boolean') {\n    options.historyVersionShortKey = false;\n  }\n  if (!options.defaultTitle) {\n    options.defaultTitle = '';\n  }\n  if (!options.reloadCallback) {\n    options.reloadCallback = function () {};\n  }\n  if (!options.spellcheck) {\n    options.spellcheck = false;\n  }\n  if (!options.defaultUserList) {\n    options.defaultUserList = [];\n  }\n  if (!options.banCommentNesting) {\n    options.banCommentNesting = false;\n  }\n  if (!options.openAutoRecover) {\n    options.openAutoRecover = false;\n  }\n  if (options.isWideMode === undefined) {\n    options.isWideMode = false;\n  }\n  if (!options.defaultCommentData) {\n    options.defaultCommentData = [];\n  }\n  if (!options.toolbar) {\n    options.toolbar = [];\n  }\n  if (!options.socketUrl) {\n    options.socketUrl = 'offline';\n  }\n  if (!options.socketUrl) {\n    options.socketUrl = 'offline';\n  }\n  if (!options.userInfo) {\n    options.userInfo = {\n      employee: 'TEST00',\n      userName: '游客',\n    };\n  }\n  if (!options.safeAreaBottom) {\n    options.safeAreaBottom = 0;\n  }\n  if (!options.showTopMenuOnlyRead) {\n    options.showTopMenuOnlyRead = false;\n  }\n\n  if (typeof options.useIMEInput !== 'boolean') {\n    options.useIMEInput = true;\n  }\n  if (!options.tocPlacement) {\n    options.tocPlacement = 'left';\n  }\n  if (!options.deepestDisplayAnchorHeading) {\n    options.deepestDisplayAnchorHeading = 6;\n  }\n  if (!options.errorRecoverCallback) {\n    options.errorRecoverCallback = function errorRecoverCallback() {\n      console.log('errorRecoverCallback');\n    };\n  }\n  if (!options.fallbackCallback) {\n    options.fallbackCallback = function fallbackCallback() {\n      console.log('fallbackCallback');\n    };\n  }\n  if (!options.isMdEditor) {\n    options.isMdEditor = false;\n  }\n  if (!options.joinDevGroup) {\n    options.joinDevGroup = () => {};\n  }\n  if (options.showGlobalComment === undefined) {\n    options.showGlobalComment = true;\n  }\n  if (options.showHoveringCommentButton === undefined) {\n    options.showHoveringCommentButton = true;\n  }\n  if (!options.showHelpBlock) {\n    options.showHelpBlock = false;\n  }\n  if (!options.openRrweb) {\n    options.openRrweb = false;\n  }\n  if (!options.cssTarget) {\n    options.cssTarget = '';\n  }\n  if (options.useValidationWorker === undefined) {\n    options.useValidationWorker = true;\n  }\n  if (options.defaultValue2) {\n    options.defaultValue = getDefaultValueByBase64(options.defaultValue2);\n\n    console.log('options.defaultValue', options.defaultValue);\n  }\n  options.socketUrl = options.socketUrl || 'offline';\n  options.socketUrl = options.socketUrl.replace(/https*:\\/\\//, '');\n  console.log('options.socketUrl', options.socketUrl);\n  options.secure = !!options.secure;\n  options.fake = !!options.fake;\n  if (!options.defaultValue) {\n    if (options.defaultTitle) {\n      slateDefaultValue[0].children = [{ text: options.defaultTitle }];\n      options.defaultValue = slateDefaultValue;\n    } else {\n      options.defaultValue = slateDefaultValue;\n    }\n\n    console.log('options.defaultValue', options.defaultValue);\n  }\n  if (!options.defaultMDValue) {\n    if (options.defaultMDValue === null) {\n      options.defaultMDValue = '';\n    }\n  }\n}\n\nfunction polyfillJs() {\n  if (!String.prototype.matchAll) {\n    String.prototype.matchAll = function (rx) {\n      if (typeof rx === 'string') rx = new RegExp(rx, 'g');\n      rx = new RegExp(rx);\n      let cap = [];\n      let all = [];\n      while ((cap = rx.exec(this)) !== null) all.push(cap);\n      return all;\n    } as any;\n  }\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/**\\r\\n * Copyright (c) Meta Platforms, Inc. and affiliates.\\r\\n *\\r\\n * This source code is licensed under the MIT license found in the\\r\\n * LICENSE file in the root directory of this source tree.\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n .Button__root {\\r\\n    padding-top: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    padding-left: 15px;\\r\\n    padding-right: 15px;\\r\\n    border: 0px;\\r\\n    background-color: #eee;\\r\\n    border-radius: 5px;\\r\\n    cursor: pointer;\\r\\n    font-size: 14px;\\r\\n  }\\r\\n  .Button__root:hover {\\r\\n    background-color: #ddd;\\r\\n  }\\r\\n  .Button__small {\\r\\n    padding-top: 5px;\\r\\n    padding-bottom: 5px;\\r\\n    padding-left: 10px;\\r\\n    padding-right: 10px;\\r\\n    font-size: 13px;\\r\\n  }\\r\\n  .Button__disabled {\\r\\n    cursor: not-allowed;\\r\\n  }\\r\\n  .Button__disabled:hover {\\r\\n    background-color: #eee;\\r\\n  }\\r\\n  \", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/**\\r\\n * Copyright (c) Meta Platforms, Inc. and affiliates.\\r\\n *\\r\\n * This source code is licensed under the MIT license found in the\\r\\n * LICENSE file in the root directory of this source tree.\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n .action-button {\\r\\n  background-color: #eee;\\r\\n  border: 0;\\r\\n  padding: 6px 12px;\\r\\n  position: relative;\\r\\n  margin-left: 5px;\\r\\n  border-radius: 15px;\\r\\n  color: #222;\\r\\n  display: inline-block;\\r\\n  cursor: pointer\\r\\n}\\r\\n\\r\\n.action-button:hover {\\r\\n  background-color: #ddd;\\r\\n  color: #000\\r\\n}\\r\\n\\r\\n .ExcalidrawModal__overlay {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    position: fixed;\\r\\n    flex-direction: column;\\r\\n    top: 0px;\\r\\n    bottom: 0px;\\r\\n    left: 0px;\\r\\n    right: 0px;\\r\\n    flex-grow: 0px;\\r\\n    flex-shrink: 1px;\\r\\n    z-index: 1021;\\r\\n    background-color: rgba(40, 40, 40, 0.6);\\r\\n  }\\r\\n  .ExcalidrawModal__actions {\\r\\n    text-align: end;\\r\\n    position: absolute;\\r\\n    right: 5px;\\r\\n    top: 4px;\\r\\n    z-index: 1;\\r\\n  }\\r\\n  .ExcalidrawModal__actions button {\\r\\n    background-color: #fff;\\r\\n    border-radius: 5px;\\r\\n  }\\r\\n  .ExcalidrawModal__row {\\r\\n    position: relative;\\r\\n    padding: 40px 5px 5px;\\r\\n    width: 70vw;\\r\\n    height: 70vh;\\r\\n    border-radius: 8px;\\r\\n    box-shadow: 0 12px 28px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1),\\r\\n      inset 0 0 0 1px rgba(255, 255, 255, 0.5);\\r\\n  }\\r\\n  .ExcalidrawModal__row > div {\\r\\n    border-radius: 5px;\\r\\n  }\\r\\n  .ExcalidrawModal__modal {\\r\\n    position: relative;\\r\\n    z-index: 10;\\r\\n    top: 50px;\\r\\n    width: auto;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    border-radius: 8px;\\r\\n    background-color: #eee;\\r\\n  }\\r\\n  .ExcalidrawModal__discardModal {\\r\\n    margin-top: 60px;\\r\\n    text-align: center;\\r\\n  }\\r\\n  .excalidraw.excalidraw-modal-container {\\r\\n\\r\\n    z-index: 1023 !important;\\r\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"/**\\r\\n * Copyright (c) Meta Platforms, Inc. and affiliates.\\r\\n *\\r\\n * This source code is licensed under the MIT license found in the\\r\\n * LICENSE file in the root directory of this source tree.\\r\\n *\\r\\n *\\r\\n */\\r\\n\\r\\n .Modal__overlay {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    position: fixed;\\r\\n    flex-direction: column;\\r\\n    top: 0px;\\r\\n    bottom: 0px;\\r\\n    left: 0px;\\r\\n    right: 0px;\\r\\n    background-color: rgba(40, 40, 40, 0.6);\\r\\n    flex-grow: 0px;\\r\\n    flex-shrink: 1px;\\r\\n    z-index: 1022;\\r\\n  }\\r\\n  .Modal__modal {\\r\\n    padding: 20px;\\r\\n    min-height: 100px;\\r\\n    min-width: 300px;\\r\\n    display: flex;\\r\\n    flex-grow: 0px;\\r\\n    background-color: #fff;\\r\\n    flex-direction: column;\\r\\n    position: relative;\\r\\n    box-shadow: 0 0 20px 0 #444;\\r\\n    border-radius: 10px;\\r\\n  }\\r\\n  .Modal__title {\\r\\n    color: #444;\\r\\n    margin: 0px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px solid #ccc;\\r\\n  }\\r\\n  .Modal__closeButton {\\r\\n    border: 0px;\\r\\n    position: absolute;\\r\\n    right: 20px;\\r\\n    border-radius: 20px;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    display: flex;\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    text-align: center;\\r\\n    cursor: pointer;\\r\\n    background-color: #eee;\\r\\n  }\\r\\n  .Modal__closeButton:hover {\\r\\n    background-color: #ddd;\\r\\n  }\\r\\n  .Modal__content {\\r\\n    padding-top: 20px;\\r\\n  }\\r\\n  \", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"./Tripdocs.eot?t=1651041473420\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"./Tripdocs.woff2?t=1651041473420\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"./Tripdocs.woff?t=1651041473420\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"./Tripdocs.ttf?t=1651041473420\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"./Tripdocs.svg?t=1651041473420\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___, { hash: \"#iefix\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___, { hash: \"#Tripdocs\" });\n// Module\nexports.push([module.id, \"@font-face {\\r\\n  font-family: 'Tripdocs';\\r\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \"); /* IE9*/\\r\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format('embedded-opentype'),  url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") format('woff2'),\\r\\n    url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") format('woff'), url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") format('truetype'),\\r\\n     url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") format('svg'); /* iOS 4.1- */\\r\\n}\\r\\n\\r\\n[class^='Tripdocs-'],\\r\\n[class*=' Tripdocs-'] {\\r\\n  font-family: 'Tripdocs' !important;\\r\\n  font-size: 16px;\\r\\n  font-style: normal;\\r\\n  -webkit-font-smoothing: antialiased;\\r\\n  -moz-osx-font-smoothing: grayscale;\\r\\n}\\r\\n\\r\\n.Tripdocs-search:before {\\r\\n  content: '\\\\f0a55';\\r\\n}\\r\\n.Tripdocs-back_to_top:before {\\r\\n  content: '\\\\f0a56';\\r\\n}\\r\\n.Tripdocs-close:before {\\r\\n  content: '\\\\f0a6a';\\r\\n}\\r\\n.Tripdocs-add:before {\\r\\n  content: '\\\\f0ae7';\\r\\n}\\r\\n.Tripdocs-up_arrow:before {\\r\\n  content: '\\\\f0ae8';\\r\\n}\\r\\n.Tripdocs-delete:before {\\r\\n  content: '\\\\f0aeb';\\r\\n}\\r\\n.Tripdocs-duplicate:before {\\r\\n  content: '\\\\f0aec';\\r\\n}\\r\\n.Tripdocs-edit:before {\\r\\n  content: '\\\\f0aed';\\r\\n}\\r\\n.Tripdocs-information:before {\\r\\n  content: '\\\\f0aee';\\r\\n}\\r\\n.Tripdocs-zoom_in:before {\\r\\n  content: '\\\\f0af3';\\r\\n}\\r\\n.Tripdocs-zoom_out:before {\\r\\n  content: '\\\\f0af4';\\r\\n}\\r\\n.Tripdocs-down_arrow:before {\\r\\n  content: '\\\\f0af5';\\r\\n}\\r\\n.Tripdocs-preview-close:before {\\r\\n  content: '\\\\f0af8';\\r\\n}\\r\\n.Tripdocs-repeal:before {\\r\\n  content: '\\\\f0af9';\\r\\n}\\r\\n.Tripdocs-file_text:before {\\r\\n  content: '\\\\f0afa';\\r\\n}\\r\\n.Tripdocs-redo:before {\\r\\n  content: '\\\\f0afb';\\r\\n}\\r\\n.Tripdocs-remove:before {\\r\\n  content: '\\\\f0afc';\\r\\n}\\r\\n.Tripdocs-history:before {\\r\\n  content: '\\\\f0afd';\\r\\n}\\r\\n.Tripdocs-warning:before {\\r\\n  content: '\\\\f0afe';\\r\\n}\\r\\n.Tripdocs-more:before {\\r\\n  content: '\\\\f0aff';\\r\\n}\\r\\n.Tripdocs-photo:before {\\r\\n  content: '\\\\f0b00';\\r\\n}\\r\\n.Tripdocs-list:before {\\r\\n  content: '\\\\f0b01';\\r\\n}\\r\\n.Tripdocs-export:before {\\r\\n  content: '\\\\f0b02';\\r\\n}\\r\\n.Tripdocs-import:before {\\r\\n  content: '\\\\f0b03';\\r\\n}\\r\\n.Tripdocs-share:before {\\r\\n  content: '\\\\f0b04';\\r\\n}\\r\\n.Tripdocs-clear:before {\\r\\n  content: '\\\\f0b05';\\r\\n}\\r\\n.Tripdocs-minus_squra:before {\\r\\n  content: '\\\\f0b06';\\r\\n}\\r\\n.Tripdocs-plus_squra:before {\\r\\n  content: '\\\\f0b07';\\r\\n}\\r\\n.Tripdocs-help:before {\\r\\n  content: '\\\\f0b08';\\r\\n}\\r\\n.Tripdocs-preview_open:before {\\r\\n  content: '\\\\f0b09';\\r\\n}\\r\\n.Tripdocs-read_only:before {\\r\\n  content: '\\\\f0b0a';\\r\\n}\\r\\n.Tripdocs-flle_add:before {\\r\\n  content: '\\\\f0b0b';\\r\\n}\\r\\n.Tripdocs-menu:before {\\r\\n  content: '\\\\f0b0c';\\r\\n}\\r\\n.Tripdocs-mine:before {\\r\\n  content: '\\\\f0b0d';\\r\\n}\\r\\n.Tripdocs-home:before {\\r\\n  content: '\\\\f0b0e';\\r\\n}\\r\\n.Tripdocs-find:before {\\r\\n  content: '\\\\f0b1c';\\r\\n}\\r\\n.Tripdocs-right_arrow:before {\\r\\n  content: '\\\\f0b0f';\\r\\n}\\r\\n.Tripdocs-left_arrow:before {\\r\\n  content: '\\\\f0b10';\\r\\n}\\r\\n.Tripdocs-drop_down:before {\\r\\n  content: '\\\\f0b11';\\r\\n}\\r\\n.Tripdocs-drop_right:before {\\r\\n  content: '\\\\f0b12';\\r\\n}\\r\\n.Tripdocs-drop_left:before {\\r\\n  content: '\\\\f0b13';\\r\\n}\\r\\n.Tripdocs-drop_rightt2:before {\\r\\n  content: '\\\\f0b14';\\r\\n}\\r\\n.Tripdocs-drop_left2:before {\\r\\n  content: '\\\\f0b15';\\r\\n}\\r\\n.Tripdocs-sort:before {\\r\\n  content: '\\\\f0b16';\\r\\n}\\r\\n.Tripdocs-drop_up:before {\\r\\n  content: '\\\\f0b17';\\r\\n}\\r\\n.Tripdocs-upper_right:before {\\r\\n  content: '\\\\f0b18';\\r\\n}\\r\\n.Tripdocs-lower_right:before {\\r\\n  content: '\\\\f0b19';\\r\\n}\\r\\n.Tripdocs-lower_left:before {\\r\\n  content: '\\\\f0b1a';\\r\\n}\\r\\n.Tripdocs-upper_left:before {\\r\\n  content: '\\\\f0b1b';\\r\\n}\\r\\n.Tripdocs-cut:before {\\r\\n  content: '\\\\f0b1d';\\r\\n}\\r\\n.Tripdocs-crop:before {\\r\\n  content: '\\\\f0b1e';\\r\\n}\\r\\n.Tripdocs-comment_add:before {\\r\\n  content: '\\\\f0b1f';\\r\\n}\\r\\n.Tripdocs-comment_delete:before {\\r\\n  content: '\\\\f0b20';\\r\\n}\\r\\n.Tripdocs-comment-text:before {\\r\\n  content: '\\\\f0b21';\\r\\n}\\r\\n.Tripdocs-comment_question:before {\\r\\n  content: '\\\\f0b22';\\r\\n}\\r\\n.Tripdocs-comment-processing:before {\\r\\n  content: '\\\\f0b23';\\r\\n}\\r\\n.Tripdocs-comment_single:before {\\r\\n  content: '\\\\f0b24';\\r\\n}\\r\\n.Tripdocs-comment_multiple:before {\\r\\n  content: '\\\\f0b25';\\r\\n}\\r\\n.Tripdocs-comment-check:before {\\r\\n  content: '\\\\f0b26';\\r\\n}\\r\\n.Tripdocs-no_border:before {\\r\\n  content: '\\\\f0b27';\\r\\n}\\r\\n.Tripdocs-paste:before {\\r\\n  content: '\\\\f0b28';\\r\\n}\\r\\n.Tripdocs-fileWord:before {\\r\\n  content: '\\\\f0b29';\\r\\n}\\r\\n.Tripdocs-add_link:before {\\r\\n  content: '\\\\f0b2a';\\r\\n}\\r\\n.Tripdocs-fdelete_link:before {\\r\\n  content: '\\\\f0b2b';\\r\\n}\\r\\n.Tripdocs-video:before {\\r\\n  content: '\\\\f0b2c';\\r\\n}\\r\\n.Tripdocs-file_excel:before {\\r\\n  content: '\\\\f0b2d';\\r\\n}\\r\\n.Tripdocs-save:before {\\r\\n  content: '\\\\f0b2e';\\r\\n}\\r\\n.Tripdocs-read:before {\\r\\n  content: '\\\\f0b2f';\\r\\n}\\r\\n.Tripdocs-slide:before {\\r\\n  content: '\\\\f0b30';\\r\\n}\\r\\n.Tripdocs-laptop:before {\\r\\n  content: '\\\\f0b31';\\r\\n}\\r\\n.Tripdocs-code_tags:before {\\r\\n  content: '\\\\f0b32';\\r\\n}\\r\\n.Tripdocs-code_braces:before {\\r\\n  content: '\\\\f0b33';\\r\\n}\\r\\n.Tripdocs-split_line:before {\\r\\n  content: '\\\\f0b34';\\r\\n}\\r\\n.Tripdocs-italic:before {\\r\\n  content: '\\\\f0b35';\\r\\n}\\r\\n.Tripdocs-text_color_fill:before {\\r\\n  content: '\\\\f0b36';\\r\\n}\\r\\n.Tripdocs-underline:before {\\r\\n  content: '\\\\f0b37';\\r\\n}\\r\\n.Tripdocs-strikethrough:before {\\r\\n  content: '\\\\f0b38';\\r\\n}\\r\\n.Tripdocs-quote:before {\\r\\n  content: '\\\\f0b39';\\r\\n}\\r\\n.Tripdocs-text_color:before {\\r\\n  content: '\\\\f0b3a';\\r\\n}\\r\\n.Tripdocs-cell_color_fill:before {\\r\\n  content: '\\\\f0b3b';\\r\\n}\\r\\n.Tripdocs-format_clear:before {\\r\\n  content: '\\\\f0b3c';\\r\\n}\\r\\n.Tripdocs-bold:before {\\r\\n  content: '\\\\f0b3d';\\r\\n}\\r\\n.Tripdocs-enter:before {\\r\\n  content: '\\\\f0b3e';\\r\\n}\\r\\n.Tripdocs-clear_format:before {\\r\\n  content: '\\\\f0b3f';\\r\\n}\\r\\n.Tripdocs-format_brush:before {\\r\\n  content: '\\\\f0b40';\\r\\n}\\r\\n.Tripdocs-color_fill:before {\\r\\n  content: '\\\\f0b41';\\r\\n}\\r\\n.Tripdocs-combine:before {\\r\\n  content: '\\\\f0b42';\\r\\n}\\r\\n.Tripdocs-split:before {\\r\\n  content: '\\\\f0b43';\\r\\n}\\r\\n.Tripdocs-add_col_before:before {\\r\\n  content: '\\\\f0b44';\\r\\n}\\r\\n.Tripdocs-add_col_after:before {\\r\\n  content: '\\\\f0b45';\\r\\n}\\r\\n.Tripdocs-add_row_above:before {\\r\\n  content: '\\\\f0b46';\\r\\n}\\r\\n.Tripdocs-add_row_below:before {\\r\\n  content: '\\\\f0b47';\\r\\n}\\r\\n.Tripdocs-delete_row:before {\\r\\n  content: '\\\\f0b48';\\r\\n}\\r\\n.Tripdocs-delete_col:before {\\r\\n  content: '\\\\f0b49';\\r\\n}\\r\\n.Tripdocs-delete_table:before {\\r\\n  content: '\\\\f0b4a';\\r\\n}\\r\\n.Tripdocs-table:before {\\r\\n  content: '\\\\f0b4b';\\r\\n}\\r\\n.Tripdocs-head6:before {\\r\\n  content: '\\\\f0b4c';\\r\\n}\\r\\n.Tripdocs-head5:before {\\r\\n  content: '\\\\f0b4d';\\r\\n}\\r\\n.Tripdocs-head4:before {\\r\\n  content: '\\\\f0b4e';\\r\\n}\\r\\n.Tripdocs-head3:before {\\r\\n  content: '\\\\f0b4f';\\r\\n}\\r\\n.Tripdocs-head2:before {\\r\\n  content: '\\\\f0b50';\\r\\n}\\r\\n.Tripdocs-head1:before {\\r\\n  content: '\\\\f0b51';\\r\\n}\\r\\n.Tripdocs-head:before {\\r\\n  content: '\\\\f0b52';\\r\\n}\\r\\n.Tripdocs-outdent:before {\\r\\n  content: '\\\\f0b53';\\r\\n}\\r\\n.Tripdocs-unordered:before {\\r\\n  content: '\\\\f0b54';\\r\\n}\\r\\n.Tripdocs-lnent:before {\\r\\n  content: '\\\\f0b57';\\r\\n}\\r\\n.Tripdocs-align_middle:before {\\r\\n  content: '\\\\f0b58';\\r\\n}\\r\\n.Tripdocs-back_to_top:before {\\r\\n  content: '\\\\f0b59';\\r\\n}\\r\\n.Tripdocs-align_bottom:before {\\r\\n  content: '\\\\f0b5a';\\r\\n}\\r\\n.Tripdocs-line_height:before {\\r\\n  content: '\\\\f0b5b';\\r\\n}\\r\\n.Tripdocs-align-right:before {\\r\\n  content: '\\\\f0b5c';\\r\\n}\\r\\n.Tripdocs-align_justify:before {\\r\\n  content: '\\\\f0b5d';\\r\\n}\\r\\n.Tripdocs-align_left:before {\\r\\n  content: '\\\\f0b5e';\\r\\n}\\r\\n.Tripdocs-align_center:before {\\r\\n  content: '\\\\f0b5f';\\r\\n}\\r\\n.Tripdocs-drop_up_fill:before {\\r\\n  content: '\\\\f0b60';\\r\\n}\\r\\n.Tripdocs-drop_down_fill:before {\\r\\n  content: '\\\\f0b61';\\r\\n}\\r\\n.Tripdocs-tasklist:before {\\r\\n  content: '\\\\f0b56';\\r\\n}\\r\\n.Tripdocs-ordered:before {\\r\\n  content: '\\\\f0b55';\\r\\n}\\r\\n.Tripdocs-log_out:before {\\r\\n  content: '\\\\f0a54';\\r\\n}\\r\\n.Tripdocs-login_in:before {\\r\\n  content: '\\\\f0af7';\\r\\n}\\r\\n.Tripdocs-checkbox_selected:before {\\r\\n  content: '\\\\f0c02';\\r\\n}\\r\\n.Tripdocs-checkbox:before {\\r\\n  content: '\\\\f0c03';\\r\\n}\\r\\n.Tripdocs-feedback:before {\\r\\n  content: '\\\\f0c04';\\r\\n}\\r\\n.Tripdocs-highlight_fill:before {\\r\\n  content: '\\\\f0c05';\\r\\n}\\r\\n.Tripdocs-highlight:before {\\r\\n  content: '\\\\f0c06';\\r\\n}\\r\\n.Tripdocs-keyboard:before {\\r\\n  content: '\\\\f0c07';\\r\\n}\\r\\n.Tripdocs-zoom_in:before {\\r\\n  content: '\\\\f0c08';\\r\\n}\\r\\n.Tripdocs-zoom_out:before {\\r\\n  content: '\\\\f0c09';\\r\\n}\\r\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../../../node_modules/.pnpm/style-loader@1.3.0_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/cjs.js!./Button.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/.pnpm/style-loader@1.3.0_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/cjs.js!./ExcalidrawModal.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/.pnpm/style-loader@1.3.0_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/cjs.js!./Modal.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/.pnpm/style-loader@1.3.0_webpack@5.75.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/.pnpm/css-loader@3.6.0_webpack@5.75.0/node_modules/css-loader/dist/cjs.js!./Tripdocs.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","export default \"data:application/vnd.ms-fontobject;base64,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AVwBXQFeAV8BYAFhAWIBYwFkAWUBZgFnAWgBaQFqAWsBbAFtAW4BbwFwAXEBcgFzAXQBdQF2AXcBeAF5AXoBewF8AX0BfgF/AYABgRVfX19fX18tZGVuZ2NodWYwYTU0LWYUX19fX19fLXNvdXN1b2YwYTU1LWYVX19fX19fLXpoaWRpbmdmMGE1Ni1mE19fX19fXy1jbG9zZWYwYTZhLWYRX19fX19fLWFkZGYwYWU3LWYVX19fX19fLXVwYXJyb3dmMGFlOC1mFF9fX19fXy1kZWxldGVmMGFlYi1mF19fX19fXy1kdXBsaWNhdGVmMGFlYy1mEl9fX19fXy1lZGl0ZjBhZWQtZhlfX19fX18taW5mb3JtYXRpb25mMGFlZS1mFF9fX19fXy16b29taW5mMGFmMy1mFV9fX19fXy16b29tb3V0ZjBhZjQtZhdfX19fX18tZG93bmFycm93ZjBhZjUtZhZfX19fX18tbG9naW5vdXRmMGFmNy1mGl9fX19fXy1wcmV2aWV3Y2xvc2VmMGFmOC1mFF9fX19fXy1yZXBlYWxmMGFmOS1mF19fX19fXy1maWxlX3RleHRmMGFmYS1mEl9fX19fXy1yZWRvZjBhZmItZhRfX19fX18tcmVtb3ZlZjBhZmMtZhVfX19fX18taGlzdG9yeWYwYWZkLWYVX19fX19fLXdhcm5pbmdmMGFmZS1mEl9fX19fXy1tb3JlZjBhZmYtZhNfX19fX18tcGhvdG9mMGIwMC1mEl9fX19fXy1saXN0ZjBiMDEtZhRfX19fX18tZXhwb3J0ZjBiMDItZhRfX19fX18taW1wb3J0ZjBiMDMtZhNfX19fX18tc2hhcmVmMGIwNC1mE19fX19fXy1jbGVhcmYwYjA1LWYZX19fX19fLW1pbnVzX3NxdXJhZjBiMDYtZhhfX19fX18tcGx1c19zcXVyYWYwYjA3LWYSX19fX19fLWhlbHBmMGIwOC1mGl9fX19fXy1wcmV2aWV3X29wZW5mMGIwOS1mF19fX19fXy1yZWFkX29ubHlmMGIwYS1mFl9fX19fXy1mbGxlX2FkZGYwYjBiLWYSX19fX19fLW1lbnVmMGIwYy1mEl9fX19fXy1taW5lZjBiMGQtZhJfX19fX18taG9tZWYwYjBlLWYZX19fX19fLXJpZ2h0X2Fycm93ZjBiMGYtZhhfX19fX18tbGVmdF9hcnJvd2YwYjEwLWYXX19fX19fLWRyb3BfZG93bmYwYjExLWYYX19fX19fLWRyb3BfcmlnaHRmMGIxMi1mF19fX19fXy1kcm9wX2xlZnRmMGIxMy1mGl9fX19fXy1kcm9wX3JpZ2h0dDJmMGIxNC1mGF9fX19fXy1kcm9wX2xlZnQyZjBiMTUtZhJfX19fX18tc29ydGYwYjE2LWYVX19fX19fLWRyb3BfdXBmMGIxNy1mGV9fX19fXy11cHBlcl9yaWdodGYwYjE4LWYZX19fX19fLWxvd2VyX3JpZ2h0ZjBiMTktZhhfX19fX18tbG93ZXJfbGVmdGYwYjFhLWYYX19fX19fLXVwcGVyX2xlZnRmMGIxYi1mEl9fX19fXy1maW5kZjBiMWMtZhFfX19fX18tY3V0ZjBiMWQtZhJfX19fX18tY3JvcGYwYjFlLWYZX19fX19fLWNvbW1lbnRfYWRkZjBiMWYtZhxfX19fX18tY29tbWVudF9kZWxldGVmMGIyMC1mGV9fX19fXy1jb21tZW50dGV4dGYwYjIxLWYeX19fX19fLWNvbW1lbnRfcXVlc3Rpb25mMGIyMi1mH19fX19fXy1jb21tZW50cHJvY2Vzc2luZ2YwYjIzLWYcX19fX19fLWNvbW1lbnRfc2luZ2xlZjBiMjQtZh5fX19fX18tY29tbWVudF9tdWx0aXBsZWYwYjI1LWYaX19fX19fLWNvbW1lbnRjaGVja2YwYjI2LWYXX19fX19fLW5vX2JvcmRlcmYwYjI3LWYTX19fX19fLXBhc3RlZjBiMjgtZhZfX19fX18tZmlsZXdvcmRmMGIyOS1mFl9fX19fXy1hZGRfbGlua2YwYjJhLWYaX19fX19fLWZkZWxldGVfbGlua2YwYjJiLWYTX19fX19fLXZpZGVvZjBiMmMtZhhfX19fX18tZmlsZV9leGNlbGYwYjJkLWYSX19fX19fLXNhdmVmMGIyZS1mEl9fX19fXy1yZWFkZjBiMmYtZhNfX19fX18tc2xpZGVmMGIzMC1mFF9fX19fXy1sYXB0b3BmMGIzMS1mF19fX19fXy1jb2RlX3RhZ3NmMGIzMi1mGV9fX19fXy1jb2RlX2JyYWNlc2YwYjMzLWYYX19fX19fLXNwbGl0X2xpbmVmMGIzNC1mFF9fX19fXy1pdGFsaWNmMGIzNS1mHV9fX19fXy10ZXh0X2NvbG9yX2ZpbGxmMGIzNi1mF19fX19fXy11bmRlcmxpbmVmMGIzNy1mG19fX19fXy1zdHJpa2V0aHJvdWdoZjBiMzgtZhNfX19fX18tcXVvdGVmMGIzOS1mGF9fX19fXy10ZXh0X2NvbG9yZjBiM2EtZh1fX19fX18tY2VsbF9jb2xvcl9maWxsZjBiM2ItZhpfX19fX18tZm9ybWF0X2NsZWFyZjBiM2MtZhJfX19fX18tYm9sZGYwYjNkLWYTX19fX19fLWVudGVyZjBiM2UtZhpfX19fX18tY2xlYXJfZm9ybWF0ZjBiM2YtZhpfX19fX18tZm9ybWF0X2JydXNoZjBiNDAtZhhfX19fX18tY29sb3JfZmlsbGYwYjQxLWYVX19fX19fLWNvbWJpbmVmMGI0Mi1mE19fX19fXy1zcGxpdGYwYjQzLWYcX19fX19fLWFkZF9jb2xfYmVmb3JlZjBiNDQtZhtfX19fX18tYWRkX2NvbF9hZnRlcmYwYjQ1LWYbX19fX19fLWFkZF9yb3dfYWJvdmVmMGI0Ni1mG19fX19fXy1hZGRfcm93X2JlbG93ZjBiNDctZhhfX19fX18tZGVsZXRlX3Jvd2YwYjQ4LWYYX19fX19fLWRlbGV0ZV9jb2xmMGI0OS1mGl9fX19fXy1kZWxldGVfdGFibGVmMGI0YS1mE19fX19fXy10YWJsZWYwYjRiLWYTX19fX19fLWhlYWQ2ZjBiNGMtZhNfX19fX18taGVhZDVmMGI0ZC1mE19fX19fXy1oZWFkNGYwYjRlLWYTX19fX19fLWhlYWQzZjBiNGYtZhNfX19fX18taGVhZDJmMGI1MC1mE19fX19fXy1oZWFkMWYwYjUxLWYSX19fX19fLWhlYWRmMGI1Mi1mFV9fX19fXy1vdXRkZW50ZjBiNTMtZhdfX19fX18tdW5vcmRlcmVkZjBiNTQtZhVfX19fX18tb3JkZXJlZGYwYjU1LWYWX19fX19fLXRhc2tsaXN0ZjBiNTYtZhNfX19fX18tbG5lbnRmMGI1Ny1mGl9fX19fXy1hbGlnbl9taWRkbGVmMGI1OC1mGV9fX19fXy1iYWNrX3RvX3RvcGYwYjU5LWYaX19fX19fLWFsaWduX2JvdHRvbWYwYjVhLWYZX19fX19fLWxpbmVfaGVpZ2h0ZjBiNWItZhhfX19fX18tYWxpZ25yaWdodGYwYjVjLWYbX19fX19fLWFsaWduX2p1c3RpZnlmMGI1ZC1mGF9fX19fXy1hbGlnbl9sZWZ0ZjBiNWUtZhpfX19fX18tYWxpZ25fY2VudGVyZjBiNWYtZhpfX19fX18tZHJvcF91cF9maWxsZjBiNjAtbxxfX19fX18tZHJvcF9kb3duX2ZpbGxmMGI2MS1vH19fX19fXy1jaGVja2JveF9zZWxlY3RlZGYwYzAyLW8WX19fX19fLWNoZWNrYm94ZjBjMDMtZhZfX19fX18tZmVlZGJhY2tmMGMwNC1mHF9fX19fXy1oaWdobGlnaHRfZmlsbGYwYzA1LWYXX19fX19fLWhpZ2hsaWdodGYwYzA2LWYWX19fX19fLWtleWJvYXJkZjBjMDctZhVfX19fX18tem9vbV9pbmYwYzA4LWYWX19fX19fLXpvb21fb3V0ZjBjMDktZgAAAAAA\"","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIiA+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxkZWZzPg0KICAgIDxmb250IGlkPSJUcmlwZG9jcyIgaG9yaXotYWR2LXg9IjEwMjQiPg0KICAgICAgPGZvbnQtZmFjZQ0KICAgICAgICBmb250LWZhbWlseT0iVHJpcGRvY3MiDQogICAgICAgIHVuaXRzLXBlci1lbT0iMTAyNCINCiAgICAgICAgYXNjZW50PSIxMDI0Ig0KICAgICAgICBkZXNjZW50PSIwIg0KICAgICAgLz4NCiAgICAgIDxtaXNzaW5nLWdseXBoIGhvcml6LWFkdi14PSIwIi8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1zb3VzdW9mMGE1NS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYTU1OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE00MjYuNjY3IDk2MEM2MjYuOTYyIDk2MCA3ODkuMzMzIDc5Ny42MjkgNzg5LjMzMyA1OTcuMzMzQzc4OS4zMzMgNTEyLjU2OCA3NjAuMjUzIDQzNC41OTUgNzExLjUyNCAzNzIuODQ2TDk0Ny41MDMgMTM2LjgzN0w4ODcuMTYzIDc2LjQ5N0w2NTEuMTU0IDMxMi40NzZDNTg5LjQwNSAyNjMuNzQ3IDUxMS40MzIgMjM0LjY2NyA0MjYuNjY3IDIzNC42NjdDMjI2LjM3MSAyMzQuNjY3IDY0IDM5Ny4wMzggNjQgNTk3LjMzM0M2NCA3OTcuNjI5IDIyNi4zNzEgOTYwIDQyNi42NjcgOTYwek00MjYuNjY3IDg3NC42NjdDMjczLjUgODc0LjY2NyAxNDkuMzMzIDc1MC41IDE0OS4zMzMgNTk3LjMzM0MxNDkuMzMzIDQ0NC4xNjYgMjczLjUgMzIwIDQyNi42NjcgMzIwQzU3OS44MzQgMzIwIDcwNCA0NDQuMTY2IDcwNCA1OTcuMzMzQzcwNCA3NTAuNSA1NzkuODM0IDg3NC42NjcgNDI2LjY2NyA4NzQuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXpoaWRpbmdmMGE1Ni1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYTU2OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05MTcuMzMzIDkxNy4zMzNMOTE3LjMzMyA4MzJMNTcyLjM1MiA4MzJMODQwLjgzNyA1NjMuNTAzTDc4MC40OTcgNTAzLjE2M0w1NTQuNjY3IDcyOS4wMDNMNTU0LjY2NyAxMDYuNjY3TDQ2OS4zMzMgMTA2LjY2N0w0NjkuMzMzIDcyOS4wMDNMMjQzLjUwMyA1MDMuMTYzTDE4My4xNjMgNTYzLjUwM0w0NTEuNjQ4IDgzMkwxMDYuNjY3IDgzMkwxMDYuNjY3IDkxNy4zMzNMOTE3LjMzMyA5MTcuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNsb3NlZjBhNmEtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGE2YTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNODAxLjgzIDg2Mi4xN0w4NjIuMTcgODAxLjgzTDU3Mi4zMjYgNTEyLjAwNUw4NjIuMTcgMjIyLjE3TDgwMS44MyAxNjEuODNMNTExLjk5NSA0NTEuNjc0TDIyMi4xNyAxNjEuODNMMTYxLjgzIDIyMi4xN0w0NTEuNjY1IDUxMi4wMDVMMTYxLjgzIDgwMS44M0wyMjIuMTcgODYyLjE3TDUxMS45OTUgNTcyLjMzNUw4MDEuODMgODYyLjE3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWFkZGYwYWU3LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZTc7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTU1NC42NjcgODk2TDU1NC42NjcgNTU0LjY2N0w4OTYgNTU0LjY2N0w4OTYgNDY5LjMzM0w1NTQuNjY3IDQ2OS4zMzNMNTU0LjY2NyAxMjhMNDY5LjMzMyAxMjhMNDY5LjMzMyA0NjkuMzMzTDEyOCA0NjkuMzMzTDEyOCA1NTQuNjY3TDQ2OS4zMzMgNTU0LjY2N0w0NjkuMzMzIDg5Nkw1NTQuNjY3IDg5NnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC11cGFycm93ZjBhZTgtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGFlODsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNTEyIDg5MS43MTJMODEzLjY5OSA1OTAuMDEzTDc1My4zNTkgNTI5LjY3M0w1NTQuNjY0IDcyOC4zODRMNTU0LjY2NyAxMTAuMzI3TDQ2OS4zMzMgMTEwLjMyN0w0NjkuMzMgNzI4LjM4NEwyNzAuNjQxIDUyOS42NzNMMjEwLjMwMSA1OTAuMDEzTDUxMiA4OTEuNzEyeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWRlbGV0ZWYwYWViLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZWI7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTk2MCA3ODkuMzMzTDk2MCA3MDRMODc0LjY2NyA3MDRMODc0LjY2NyA2NEwxNDkuMzMzIDY0TDE0OS4zMzMgNzA0TDY0IDcwNEw2NCA3ODkuMzMzTDk2MCA3ODkuMzMzek03ODkuMzMzIDcwNEwyMzQuNjY3IDcwNEwyMzQuNjY3IDE0OS4zMzNMNzg5LjMzMyAxNDkuMzMzTDc4OS4zMzMgNzA0ek00NDggNTk3LjMzM0w0NDggMjU2TDM2Mi42NjcgMjU2TDM2Mi42NjcgNTk3LjMzM0w0NDggNTk3LjMzM3pNNjYxLjMzMyA1OTcuMzMzTDY2MS4zMzMgMjU2TDU3NiAyNTZMNTc2IDU5Ny4zMzNMNjYxLjMzMyA1OTcuMzMzek02NjEuMzMzIDk2MEw2NjEuMzMzIDg3NC42NjdMMzYyLjY2NyA4NzQuNjY3TDM2Mi42NjcgOTYwTDY2MS4zMzMgOTYweiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWR1cGxpY2F0ZWYwYWVjLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZWM7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkzOC42NjcgNzY4TDkzOC42NjcgODUuMzMzTDI1NiA4NS4zMzNMMjU2IDc2OEw5MzguNjY3IDc2OHpNODUzLjMzMyA2ODIuNjY3TDM0MS4zMzMgNjgyLjY2N0wzNDEuMzMzIDE3MC42NjdMODUzLjMzMyAxNzAuNjY3TDg1My4zMzMgNjgyLjY2N3pNNzY4IDkzOC42NjdMNzY4IDg1My4zMzNMMTcwLjY2NyA4NTMuMzMzTDE3MC42NjcgMjU2TDg1LjMzMyAyNTZMODUuMzMzIDkzOC42NjdMNzY4IDkzOC42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZWRpdGYwYWVkLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZWQ7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgMTU1LjU4Mkw5MTcuMzMzIDcwLjI0OEwxMDYuNjY3IDcwLjI0OEwxMDYuNjY3IDE1NS41ODJMOTE3LjMzMyAxNTUuNTgyek02MjQuOTE1IDkzOC42NjdMODc3LjI1NSA2ODYuMzI3TDM4Ni41ODggMTk1LjY2TDEzNC4yNDggMTk1LjY2TDEzNC4yNDggNDQ4TDYyNC45MTUgOTM4LjY2N3pNNDk1LjA2MSA2ODguMTcxTDIxOS41ODIgNDEyLjY1NEwyMTkuNTgyIDI4MC45OTRMMzUxLjI0MiAyODAuOTk0TDYyNi43MzEgNTU2LjUwMUw0OTUuMDYxIDY4OC4xNzF6TTYyNC45MTUgODE3Ljk4N0w1NTUuNDEzIDc0OC41MjNMNjg3LjA4MyA2MTYuODUzTDc1Ni41NzUgNjg2LjMyN0w2MjQuOTE1IDgxNy45ODd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtaW5mb3JtYXRpb25mMGFlZS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYWVlOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MTIgNjRDMjY0LjU3NiA2NCA2NCAyNjQuNTc2IDY0IDUxMkM2NCA3NTkuNDI0IDI2NC41NzYgOTYwIDUxMiA5NjBDNzU5LjQyNCA5NjAgOTYwIDc1OS40MjQgOTYwIDUxMkM5NjAgMjY0LjU3NiA3NTkuNDI0IDY0IDUxMiA2NHpNNTEyIDE0OS4zMzNDNzEyLjI5NSAxNDkuMzMzIDg3NC42NjcgMzExLjcwNSA4NzQuNjY3IDUxMkM4NzQuNjY3IDcxMi4yOTUgNzEyLjI5NSA4NzQuNjY3IDUxMiA4NzQuNjY3QzMxMS43MDUgODc0LjY2NyAxNDkuMzMzIDcxMi4yOTUgMTQ5LjMzMyA1MTJDMTQ5LjMzMyAzMTEuNzA1IDMxMS43MDUgMTQ5LjMzMyA1MTIgMTQ5LjMzM3pNNTU0LjY2NyA2MTguNjY3TDU1NC42NjcgMzYyLjY2N0w2MTguNjY3IDM2Mi42NjdMNjE4LjY2NyAyNzcuMzMzTDQwNS4zMzMgMjc3LjMzM0w0MDUuMzMzIDM2Mi42NjdMNDY5LjMzMyAzNjIuNjY3TDQ2OS4zMzMgNTMzLjMzM0w0MDUuMzMzIDUzMy4zMzNMNDA1LjMzMyA2MTguNjY3TDU1NC42NjcgNjE4LjY2N3pNNTAxLjMzMyA2NjEuMzMzQzQ3MS44NzggNjYxLjMzMyA0NDggNjg1LjIxMSA0NDggNzE0LjY2N0M0NDggNzQ0LjEyMiA0NzEuODc4IDc2OCA1MDEuMzMzIDc2OEM1MzAuNzg5IDc2OCA1NTQuNjY3IDc0NC4xMjIgNTU0LjY2NyA3MTQuNjY3QzU1NC42NjcgNjg1LjIxMSA1MzAuNzg5IDY2MS4zMzMgNTAxLjMzMyA2NjEuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXpvb21pbmYwYWYzLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZjM7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTUxMiA5NjBDNzU5LjQyNCA5NjAgOTYwIDc1OS40MjQgOTYwIDUxMkM5NjAgMjY0LjU3NiA3NTkuNDI0IDY0IDUxMiA2NEMyNjQuNTc2IDY0IDY0IDI2NC41NzYgNjQgNTEyQzY0IDc1OS40MjQgMjY0LjU3NiA5NjAgNTEyIDk2MHpNNTEyIDg3NC42NjdDMzExLjcwNSA4NzQuNjY3IDE0OS4zMzMgNzEyLjI5NSAxNDkuMzMzIDUxMkMxNDkuMzMzIDMxMS43MDUgMzExLjcwNSAxNDkuMzMzIDUxMiAxNDkuMzMzQzcxMi4yOTUgMTQ5LjMzMyA4NzQuNjY3IDMxMS43MDUgODc0LjY2NyA1MTJDODc0LjY2NyA3MTIuMjk1IDcxMi4yOTUgODc0LjY2NyA1MTIgODc0LjY2N3pNNTU0LjY2NyA3NDYuNjY3TDU1NC42NDUgNTU0LjY2N0w3NDYuNjY3IDU1NC42NjdMNzQ2LjY2NyA0NjkuMzMzTDU1NC42NDUgNDY5LjMzM0w1NTQuNjY3IDI3Ny4zMzNMNDY5LjMzMyAyNzcuMzMzTDQ2OS4zMTIgNDY5LjMzM0wyNzcuMzMzIDQ2OS4zMzNMMjc3LjMzMyA1NTQuNjY3TDQ2OS4zMTIgNTU0LjY2N0w0NjkuMzMzIDc0Ni42NjdMNTU0LjY2NyA3NDYuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXpvb21vdXRmMGFmNC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYWY0OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MTIgOTYwQzc1OS40MjQgOTYwIDk2MCA3NTkuNDI0IDk2MCA1MTJDOTYwIDI2NC41NzYgNzU5LjQyNCA2NCA1MTIgNjRDMjY0LjU3NiA2NCA2NCAyNjQuNTc2IDY0IDUxMkM2NCA3NTkuNDI0IDI2NC41NzYgOTYwIDUxMiA5NjB6TTUxMiA4NzQuNjY3QzMxMS43MDUgODc0LjY2NyAxNDkuMzMzIDcxMi4yOTUgMTQ5LjMzMyA1MTJDMTQ5LjMzMyAzMTEuNzA1IDMxMS43MDUgMTQ5LjMzMyA1MTIgMTQ5LjMzM0M3MTIuMjk1IDE0OS4zMzMgODc0LjY2NyAzMTEuNzA1IDg3NC42NjcgNTEyQzg3NC42NjcgNzEyLjI5NSA3MTIuMjk1IDg3NC42NjcgNTEyIDg3NC42Njd6TTc0Ni42NjcgNTU0LjY2N0w3NDYuNjY3IDQ2OS4zMzNMMjc3LjMzMyA0NjkuMzMzTDI3Ny4zMzMgNTU0LjY2N0w3NDYuNjY3IDU1NC42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZG93bmFycm93ZjBhZjUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGFmNTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNTEyIDExMC4zMjdMODEzLjY5OSA0MTIuMDI2TDc1My4zNTkgNDcyLjM2Nkw1NTQuNjY0IDI3My42NTVMNTU0LjY2NyA4OTEuNzEyTDQ2OS4zMzMgODkxLjcxMkw0NjkuMzMgMjczLjY1NUwyNzAuNjQxIDQ3Mi4zNjZMMjEwLjMwMSA0MTIuMDI2eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXByZXZpZXdjbG9zZWYwYWY4LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZjg7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTg5My45MTIgNjcuNjZMOTU0LjI1MiAxMjhMMTQzLjU4NSA5MzguNjY3TDgzLjI0NSA4NzguMzI3TDIyOS43MTkgNzMxLjg4N0MyMjAuNDE1IDcyNC4yMjQgMjExLjIyNiA3MTYuMjE0IDIwMi4xNTMgNzA3Ljg3MUMxMzkuODgxIDY1MC42MSA5MC43ODEgNTg1LjM3NSA1NS4yNTggNTI0LjY4TDQyLjY2NyA1MDMuMTY2TDU1LjIyNSA0ODEuNjMzQzkwLjY1MiA0MjAuODkxIDEzOS42MjQgMzU1LjY3OSAyMDEuODU0IDI5OC40MjFDMjk1LjMxMiAyMTIuNDMgNDAxLjI5NCAxNjEuODMgNTE4Ljc2IDE2MS44M0M1OTYuNjUyIDE2MS44MyA2NjkuNTU0IDE4NC4xOTEgNzM3LjE1MiAyMjQuNDQzTDg5My45MTIgNjcuNjZ6TTk4Mi4yNDIgNDgxLjYyOUw5OTQuODQ3IDUwMy4xNzVMOTgyLjI0MiA1MjQuNzIxQzk0Ni43NDcgNTg1LjM5IDg5Ny42MjkgNjUwLjY0OCA4MzUuMzUzIDcwNy45MDVDNzQxLjgyOCA3OTMuODkzIDYzNS45NDEgODQ0LjQ5NyA1MTguNzYgODQ0LjQ5N0M0NzEuMzk2IDg0NC40OTcgNDI1Ljg3NiA4MzYuMjI3IDM4Mi4yNzEgODIwLjY5NEw0NTEuMTk0IDc1MS43OTNDNDczLjMxIDc1Ni42NTYgNDk1LjgzOCA3NTkuMTYzIDUxOC43NiA3NTkuMTYzQzYxMS45MjQgNzU5LjE2MyA2OTguNTQ5IDcxNy43NjUgNzc3LjU5OCA2NDUuMDg3QzgyNS41MTggNjAxLjAyOCA4NjUuMTg0IDU1MC45MTMgODk1LjQ1NiA1MDMuMTc1Qzg3Mi4yNjYgNDY2LjYwMyA4NDMuNTY3IDQyOC42MzkgODA5Ljg2OCAzOTMuMDcxTDg3MC4yNTUgMzMyLjcyNUM5MTYuMjUxIDM4MC45NTIgOTUzLjY1OSA0MzIuNzc1IDk4Mi4yNDIgNDgxLjYyOXpNNTI5LjQ0NiA2NzMuNUw2ODkuMDg1IDUxMy44NjJDNjgzLjc4MiA1OTkuNTk3IDYxNS4xODEgNjY4LjE5OCA1MjkuNDQ2IDY3My41ek01MTguNzYgMjQ3LjE2M0M0MjUuMjk5IDI0Ny4xNjMgMzM4LjYwNSAyODguNTU1IDI1OS42MzQgMzYxLjIxN0MyMTEuNzY1IDQwNS4yNjIgMTcyLjIxNyA0NTUuMzMxIDE0Mi4wMjEgNTAzLjA5MkMxNzIuMzEzIDU1MC44NiAyMTEuOTc4IDYwMC45OCAyNTkuOTEzIDY0NS4wNTdDMjY5Ljk0NyA2NTQuMjg0IDI4MC4xMDQgNjYzLjAwNyAyOTAuMzggNjcxLjIwNkwzNzEuNzEyIDU4OS44NjFDMzU2LjY5NyA1NjQuNDUzIDM0OC4wODIgNTM0LjgxNCAzNDguMDgyIDUwMy4xNjNDMzQ4LjA4MiA0MDguOTA3IDQyNC40OTIgMzMyLjQ5NyA1MTguNzQ4IDMzMi40OTdDNTUwLjQwNiAzMzIuNDk3IDU4MC4wNTEgMzQxLjExNiA2MDUuNDYzIDM1Ni4xMzdMNjc0LjQyNSAyODcuMTYyQzYyNC44ODMgMjYxLjE1OSA1NzIuOTI3IDI0Ny4xNjMgNTE4Ljc2IDI0Ny4xNjN6TTUxOC43NDggNDE3LjgzQzQ3MS42MiA0MTcuODMgNDMzLjQxNSA0NTYuMDM1IDQzMy40MTUgNTAzLjE2M0M0MzMuNDE1IDUxMC44MTQgNDM0LjQyMiA1MTguMjI5IDQzNi4zMSA1MjUuMjgzTDU0MC44NjggNDIwLjcyNUM1MzMuODE0IDQxOC44MzcgNTI2LjM5OSA0MTcuODMgNTE4Ljc0OCA0MTcuODN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtcmVwZWFsZjBhZjktZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGFmOTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMTA2LjY2NyA5MTcuMzMzTDEwNi42NjcgNjE4LjY2N0w0MDUuMzMzIDYxOC42NjdMMjg3LjcxOSA3MzYuMjk5TDI5MS43MzMgNzQwLjIzQzQxNy4wOCA4NTkuNzM5IDYxNS41ODggODU3LjkyOCA3MzguNzE4IDczNC43OThDODYzLjY4NiA2MDkuODMgODYzLjY4NiA0MDcuMjE3IDczOC43MTggMjgyLjI1QzYxMy43NSAxNTcuMjgyIDQxMS4xMzggMTU3LjI4MiAyODYuMTcgMjgyLjI1TDIyNS44MyAyMjEuOTFDMzg0LjEyMyA2My42MTcgNjQwLjc2NSA2My42MTcgNzk5LjA1OCAyMjEuOTFDOTU3LjM1MSAzODAuMjAyIDk1Ny4zNTEgNjM2Ljg0NSA3OTkuMDU4IDc5NS4xMzhDNjQxLjI3NCA5NTIuOTIyIDM4NS43NjkgOTUzLjQyOSAyMjcuMzU4IDc5Ni42NTdMMTA2LjY2NyA5MTcuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWZpbGVfdGV4dGYwYWZhLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZmE7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTY5Mi42NzYgOTYwTDg3NC42NjcgNzI5LjQ3OUw4NzQuNjY3IDY0TDE0OS4zMzMgNjRMMTQ5LjMzMyA5NjBMNjkyLjY3NiA5NjB6TTU5Ny4zMzMgODc0LjY2N0wyMzQuNjY3IDg3NC42NjdMMjM0LjY2NyAxNDkuMzMzTDc4OS4zMzMgMTQ5LjMzM0w3ODkuMzMzIDY0MEw1OTcuMzMzIDY0MEw1OTcuMzMzIDg3NC42Njd6TTUzMy4zMzMgMzIwTDUzMy4zMzMgMjM0LjY2N0wzMjAgMjM0LjY2N0wzMjAgMzIwTDUzMy4zMzMgMzIwek02NjEuMzMzIDQ5MC42NjdMNjYxLjMzMyA0MDUuMzMzTDMyMCA0MDUuMzMzTDMyMCA0OTAuNjY3TDY2MS4zMzMgNDkwLjY2N3pNNjgyLjY2NyA4MzQuOTY1TDY4Mi42NjcgNzI1LjMzM0w3NjkuMjE2IDcyNS4zMzNMNjgyLjY2NyA4MzQuOTY1eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXJlZG9mMGFmYi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYWZiOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05MTcuNzc3IDkxNy4zMzNMOTE3Ljc3NyA2MTguNjY3TDYxOS4xMTEgNjE4LjY2N0w3MzYuNzI1IDczNi4yOTlMNzMyLjcxMSA3NDAuMjNDNjA3LjM2NCA4NTkuNzM5IDQwOC44NTYgODU3LjkyOCAyODUuNzI2IDczNC43OThDMTYwLjc1OCA2MDkuODMgMTYwLjc1OCA0MDcuMjE3IDI4NS43MjYgMjgyLjI1QzQxMC42OTQgMTU3LjI4MiA2MTMuMzA2IDE1Ny4yODIgNzM4LjI3NCAyODIuMjVMNzk4LjYxNCAyMjEuOTFDNjQwLjMyMSA2My42MTcgMzgzLjY3OSA2My42MTcgMjI1LjM4NiAyMjEuOTFDNjcuMDk0IDM4MC4yMDIgNjcuMDk0IDYzNi44NDUgMjI1LjM4NiA3OTUuMTM4QzM4My4xNyA5NTIuOTIyIDYzOC42NzUgOTUzLjQyOSA3OTcuMDg2IDc5Ni42NTdMOTE3Ljc3NyA5MTcuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXJlbW92ZWYwYWZjLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZmM7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTUxMiA5NjBDNzU5LjQyNCA5NjAgOTYwIDc1OS40MjQgOTYwIDUxMkM5NjAgMjY0LjU3NiA3NTkuNDI0IDY0IDUxMiA2NEMyNjQuNTc2IDY0IDY0IDI2NC41NzYgNjQgNTEyQzY0IDc1OS40MjQgMjY0LjU3NiA5NjAgNTEyIDk2MHpNNTEyIDg3NC42NjdDMzExLjcwNSA4NzQuNjY3IDE0OS4zMzMgNzEyLjI5NSAxNDkuMzMzIDUxMkMxNDkuMzMzIDMxMS43MDUgMzExLjcwNSAxNDkuMzMzIDUxMiAxNDkuMzMzQzcxMi4yOTUgMTQ5LjMzMyA4NzQuNjY3IDMxMS43MDUgODc0LjY2NyA1MTJDODc0LjY2NyA3MTIuMjk1IDcxMi4yOTUgODc0LjY2NyA1MTIgODc0LjY2N3pNNjQ3Ljc2NSA3MDguMTA0TDcwOC4xMDQgNjQ3Ljc2NUw1NzIuMzUyIDUxMkw3MDguMTA0IDM3Ni4yMzVMNjQ3Ljc2NSAzMTUuODk2TDUxMiA0NTEuNjQ4TDM3Ni4yMzUgMzE1Ljg5NkwzMTUuODk2IDM3Ni4yMzVMNDUxLjY0OCA1MTJMMzE1Ljg5NiA2NDcuNzY1TDM3Ni4yMzUgNzA4LjEwNEw1MTIgNTcyLjM1Mkw2NDcuNzY1IDcwOC4xMDR6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtaGlzdG9yeWYwYWZkLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBhZmQ7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTY2MS4zMzMgNzA0QzgzOC4wNjQgNzA0IDk4MS4zMzMgNTYwLjczMSA5ODEuMzMzIDM4NEM5ODEuMzMzIDIwNy4yNjkgODM4LjA2NCA2NCA2NjEuMzMzIDY0QzQ4NC42MDIgNjQgMzQxLjMzMyAyMDcuMjY5IDM0MS4zMzMgMzg0QzM0MS4zMzMgNTYwLjczMSA0ODQuNjAyIDcwNCA2NjEuMzMzIDcwNHpNNjYxLjMzMyA2MTguNjY3QzUzMS43MzEgNjE4LjY2NyA0MjYuNjY3IDUxMy42MDMgNDI2LjY2NyAzODRDNDI2LjY2NyAyNTQuMzk3IDUzMS43MzEgMTQ5LjMzMyA2NjEuMzMzIDE0OS4zMzNDNzkwLjkzNiAxNDkuMzMzIDg5NiAyNTQuMzk3IDg5NiAzODRDODk2IDUxMy42MDMgNzkwLjkzNiA2MTguNjY3IDY2MS4zMzMgNjE4LjY2N3pNMjc3LjMzMyAyMzQuNjY3TDI3Ny4zMzMgMTQ5LjMzM0w2NCAxNDkuMzMzTDY0IDIzNC42NjdMMjc3LjMzMyAyMzQuNjY3ek03MDQgNTMzLjMzM0w3MDQgNDA1LjM1NUw4MTAuNjY3IDQwNS4zMzNMODEwLjY2NyAzMjBMNzA0IDMyMC4wMjFMNzA0IDMyMEw2MTguNjY3IDMyMEw2MTguNjY3IDUzMy4zMzNMNzA0IDUzMy4zMzN6TTI3Ny4zMzMgNTU0LjY2N0wyNzcuMzMzIDQ2OS4zMzNMNjQgNDY5LjMzM0w2NCA1NTQuNjY3TDI3Ny4zMzMgNTU0LjY2N3pNOTE3LjMzMyA4NzQuNjY3TDkxNy4zMzMgNzg5LjMzM0w2NCA3ODkuMzMzTDY0IDg3NC42NjdMOTE3LjMzMyA4NzQuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXdhcm5pbmdmMGFmZS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYWZlOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MTIgOTYwQzc1OS40MjQgOTYwIDk2MCA3NTkuNDI0IDk2MCA1MTJDOTYwIDI2NC41NzYgNzU5LjQyNCA2NCA1MTIgNjRDMjY0LjU3NiA2NCA2NCAyNjQuNTc2IDY0IDUxMkM2NCA3NTkuNDI0IDI2NC41NzYgOTYwIDUxMiA5NjB6TTUxMiA4NzQuNjY3QzMxMS43MDUgODc0LjY2NyAxNDkuMzMzIDcxMi4yOTUgMTQ5LjMzMyA1MTJDMTQ5LjMzMyAzMTEuNzA1IDMxMS43MDUgMTQ5LjMzMyA1MTIgMTQ5LjMzM0M3MTIuMjk1IDE0OS4zMzMgODc0LjY2NyAzMTEuNzA1IDg3NC42NjcgNTEyQzg3NC42NjcgNzEyLjI5NSA3MTIuMjk1IDg3NC42NjcgNTEyIDg3NC42Njd6TTUxMiAzNDEuMzMzQzUzNS41NjQgMzQxLjMzMyA1NTQuNjY3IDMyMi4yMzEgNTU0LjY2NyAyOTguNjY3QzU1NC42NjcgMjc1LjEwMyA1MzUuNTY0IDI1NiA1MTIgMjU2QzQ4OC40MzYgMjU2IDQ2OS4zMzMgMjc1LjEwMyA0NjkuMzMzIDI5OC42NjdDNDY5LjMzMyAzMjIuMjMxIDQ4OC40MzYgMzQxLjMzMyA1MTIgMzQxLjMzM3pNNTU0LjY2NyA3NDYuNjY3TDU1NC42NjcgNDA1LjMzM0w0NjkuMzMzIDQwNS4zMzNMNDY5LjMzMyA3NDYuNjY3TDU1NC42NjcgNzQ2LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1tb3JlZjBhZmYtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGFmZjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMjc3LjMzMyA1NzZMMjc3LjMzMyA0NDhMMTQ5LjMzMyA0NDhMMTQ5LjMzMyA1NzZMMjc3LjMzMyA1NzZ6TTU3NiA1NzZMNTc2IDQ0OEw0NDggNDQ4TDQ0OCA1NzZMNTc2IDU3NnpNODc0LjY2NyA1NzZMODc0LjY2NyA0NDhMNzQ2LjY2NyA0NDhMNzQ2LjY2NyA1NzZMODc0LjY2NyA1NzZ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtcGhvdG9mMGIwMC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjAwOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05MzguNjY3IDg5Nkw5MzguNjY3IDEyOEw4NS4zMzMgMTI4TDg1LjMzMyA4OTZMOTM4LjY2NyA4OTZ6TTg1My4zMzMgODEwLjY2N0wxNzAuNjY3IDgxMC42NjdMMTcwLjY2NyAyMTMuMzMzTDMyMy42MjcgMjEzLjMzM0w2NzkuNSA1NjkuMTczTDg1My4zMzMgNDMwLjEwMUw4NTMuMzMzIDgxMC42Njd6TTY4NS44MjQgNDU0LjgyN0w0NDQuMzMxIDIxMy4zMzNMODUzLjMzMyAyMTMuMzMzTDg1My4zMzMgMzIwLjgzMkw2ODUuODI0IDQ1NC44Mjd6TTM2Mi42NjcgNzQ2LjY2N0M0MzMuMzU5IDc0Ni42NjcgNDkwLjY2NyA2ODkuMzU5IDQ5MC42NjcgNjE4LjY2N0M0OTAuNjY3IDU0Ny45NzQgNDMzLjM1OSA0OTAuNjY3IDM2Mi42NjcgNDkwLjY2N0MyOTEuOTc0IDQ5MC42NjcgMjM0LjY2NyA1NDcuOTc0IDIzNC42NjcgNjE4LjY2N0MyMzQuNjY3IDY4OS4zNTkgMjkxLjk3NCA3NDYuNjY3IDM2Mi42NjcgNzQ2LjY2N3pNMzYyLjY2NyA2NjEuMzMzQzMzOS4xMDMgNjYxLjMzMyAzMjAgNjQyLjIzMSAzMjAgNjE4LjY2N0MzMjAgNTk1LjEwMyAzMzkuMTAzIDU3NiAzNjIuNjY3IDU3NkMzODYuMjMxIDU3NiA0MDUuMzMzIDU5NS4xMDMgNDA1LjMzMyA2MTguNjY3QzQwNS4zMzMgNjQyLjIzMSAzODYuMjMxIDY2MS4zMzMgMzYyLjY2NyA2NjEuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWxpc3RmMGIwMS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjAxOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MTIgOTYwQzU0OS45MTEgOTYwIDU4My45NzIgOTQzLjUxOSA2MDcuNDEgOTE3LjMzMUw3MDQgOTE3LjMzM0w3MDQgODUzLjMzM0w4NzQuNjY3IDg1My4zMzNMODc0LjY2NyA2NEwxNDkuMzMzIDY0TDE0OS4zMzMgODUzLjMzM0wzMjAgODUzLjMzM0wzMjAgOTE3LjMzM0w0MTYuNTkgOTE3LjMzMUM0NDAuMDI4IDk0My41MTkgNDc0LjA4OSA5NjAgNTEyIDk2MHpNMzIwIDc2OEwyMzQuNjY3IDc2OEwyMzQuNjY3IDE0OS4zMzNMNzg5LjMzMyAxNDkuMzMzTDc4OS4zMzMgNzY4TDcwNCA3NjhMNzA0IDcwNEwzMjAgNzA0TDMyMCA3Njh6TTcwNCAzODRMNzA0IDI5OC42NjdMMzIwIDI5OC42NjdMMzIwIDM4NEw3MDQgMzg0ek03MDQgNTU0LjY2N0w3MDQgNDY5LjMzM0wzMjAgNDY5LjMzM0wzMjAgNTU0LjY2N0w3MDQgNTU0LjY2N3pNNTEyIDg3NC42NjdDNDg4LjQzNiA4NzQuNjY3IDQ2OS4zMzMgODU1LjU2NCA0NjkuMzMzIDgzMkw0MDUuMzMzIDgzMkw0MDUuMzMzIDc4OS4zMzNMNjE4LjY2NyA3ODkuMzMzTDYxOC42NjcgODMyTDU1NC42NjcgODMyQzU1NC42NjcgODU1LjU2NCA1MzUuNTY0IDg3NC42NjcgNTEyIDg3NC42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZXhwb3J0ZjBiMDItZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIwMjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMjk4LjY2NyA2NDBMMjk4LjY2NyA1NTQuNjY3TDIxMy4zMzMgNTU0LjY2N0wyMTMuMzMzIDE3MC42NjdMODEwLjY2NyAxNzAuNjY3TDgxMC42NjcgNTU0LjY2N0w3MjUuMzMzIDU1NC42NjdMNzI1LjMzMyA2NDBMODk2IDY0MEw4OTYgODUuMzMzTDEyOCA4NS4zMzNMMTI4IDY0MEwyOTguNjY3IDY0MHpNNTEyIDkzOC42NjdMNzEyLjgzNyA3MzcuODNMNjUyLjQ5NyA2NzcuNDlMNTU0LjY2NyA3NzUuMjk2TDU1NC42NjcgMjU2TDQ2OS4zMzMgMjU2TDQ2OS4zMzMgNzc1LjMzOUwzNzEuNTAzIDY3Ny40OUwzMTEuMTYzIDczNy44M0w1MTIgOTM4LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1pbXBvcnRmMGIwMy1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjAzOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0yOTguNjY3IDY0MEwyOTguNjY3IDU1NC42NjdMMjEzLjMzMyA1NTQuNjY3TDIxMy4zMzMgMTcwLjY2N0w4MTAuNjY3IDE3MC42NjdMODEwLjY2NyA1NTQuNjY3TDcyNS4zMzMgNTU0LjY2N0w3MjUuMzMzIDY0MEw4OTYgNjQwTDg5NiA4NS4zMzNMMTI4IDg1LjMzM0wxMjggNjQwTDI5OC42NjcgNjQwek01NTQuNjY3IDkzOC42NjdMNTU0LjY2NyA0MTkuMzcxTDY1Mi40OTcgNTE3LjE3Nkw3MTIuODM3IDQ1Ni44MzdMNTEyIDI1NkwzMTEuMTYzIDQ1Ni44MzdMMzcxLjUwMyA1MTcuMTc2TDQ2OS4zMzMgNDE5LjM3MUw0NjkuMzMzIDkzOC42NjdMNTU0LjY2NyA5MzguNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXNoYXJlZjBiMDQtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIwNDsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNDg2LjIyMSA0NjAuNjM5QzUyNS4wNzMgNDYwLjYzOSA1NjMuNDcyIDQ1Ni45MjQgNjAxLjA0NSA0NDkuNjA1TDYzNS41NTQgNDQyLjg4M0w2MzUuNTU0IDM0MS4zMzNMODY5LjQyNyA1NDUuOTczTDYzNS41NTQgNzUwLjYxMkw2MzUuNTU0IDYzMi4yNzVMNTk3Ljc1NyA2MjcuOTMyQzQ0Ni4wNjYgNjEwLjUwNSAzMTIuOTAyIDUyNi4yMTYgMjMwLjg3MSA0MDMuNDY5QzMwOS41NDEgNDQwLjcxMSAzOTYuMzY2IDQ2MC42MzkgNDg2LjIyMSA0NjAuNjM5ek00ODYuMjIxIDM3NS4zMDZDMzYzLjM3MSAzNzUuMzA2IDI0Ny4zMjQgMzMxLjk0NyAxNTUuNTE4IDI1NC4xOTJMNDIuNjY3IDE1OC42MTJMODcuMjYyIDI5OS42MTZDMTUzLjk3NiA1MTAuNTU4IDMzMi45NzUgNjY3LjkxMyA1NTAuMjIxIDcwNy4xMzJMNTUwLjIyMSA5MzguNjY3TDk5OS4wMTQgNTQ1Ljk3M0w1NTAuMjIxIDE1My4yNzhMNTUwLjIyMSAzNzEuMzQ5QzUyOS4xMjEgMzczLjk3OCA1MDcuNzYxIDM3NS4zMDYgNDg2LjIyMSAzNzUuMzA2eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNsZWFyZjBiMDUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIwNTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNjQwIDkzOC42NjdMNjQwIDcyNS4zMzNMOTYwIDcyNS4zMzNMOTYwIDQ2OS4zMzNMODc0LjY2NyA0NjkuMzMzTDg3NC42NjcgODUuMzMzTDE0OS4zMzMgODUuMzMzTDE0OS4zMzMgNDY5LjMzM0w2NCA0NjkuMzMzTDY0IDcyNS4zMzNMMzg0IDcyNS4zMzNMMzg0IDkzOC42NjdMNjQwIDkzOC42Njd6TTc4OS4zMzMgNDY5LjMzM0wyMzQuNjY3IDQ2OS4zMzNMMjM0LjY2NyAxNzAuNjY3TDM0MS4zMzMgMTcwLjY2N0wzNDEuMzMzIDM0MS4zMzNMNDI2LjY2NyAzNDEuMzMzTDQyNi42NjcgMTcwLjY2N0w1OTcuMzMzIDE3MC42NjdMNTk3LjMzMyAzNDEuMzMzTDY4Mi42NjcgMzQxLjMzM0w2ODIuNjY3IDE3MC42NjdMNzg5LjMzMyAxNzAuNjY3TDc4OS4zMzMgNDY5LjMzM3pNODc0LjY2NyA2NDBMMTQ5LjMzMyA2NDBMMTQ5LjMzMyA1NTQuNjY3TDg3NC42NjcgNTU0LjY2N0w4NzQuNjY3IDY0MHpNNTU0LjY2NyA4NTMuMzMzTDQ2OS4zMzMgODUzLjMzM0w0NjkuMzMzIDcyNS4zMzNMNTU0LjY2NyA3MjUuMzMzTDU1NC42NjcgODUzLjMzM3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1taW51c19zcXVyYWYwYjA2LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMDY7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgOTE3LjMzM0w5MTcuMzMzIDEwNi42NjdMMTA2LjY2NyAxMDYuNjY3TDEwNi42NjcgOTE3LjMzM0w5MTcuMzMzIDkxNy4zMzN6TTgzMiA4MzJMMTkyIDgzMkwxOTIgMTkyTDgzMiAxOTJMODMyIDgzMnpNNzQ2LjY2NyA1NTQuNjY3TDc0Ni42NjcgNDY5LjMzM0wyNzcuMzMzIDQ2OS4zMzNMMjc3LjMzMyA1NTQuNjY3TDc0Ni42NjcgNTU0LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1wbHVzX3NxdXJhZjBiMDctZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIwNzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTE3LjMzMyA5MTcuMzMzTDkxNy4zMzMgMTA2LjY2N0wxMDYuNjY3IDEwNi42NjdMMTA2LjY2NyA5MTcuMzMzTDkxNy4zMzMgOTE3LjMzM3pNODMyIDgzMkwxOTIgODMyTDE5MiAxOTJMODMyIDE5Mkw4MzIgODMyek01NTQuNjY3IDc0Ni42NjdMNTU0LjY0NSA1NTQuNjY3TDc0Ni42NjcgNTU0LjY2N0w3NDYuNjY3IDQ2OS4zMzNMNTU0LjY0NSA0NjkuMzMzTDU1NC42NjcgMjc3LjMzM0w0NjkuMzMzIDI3Ny4zMzNMNDY5LjMxMiA0NjkuMzMzTDI3Ny4zMzMgNDY5LjMzM0wyNzcuMzMzIDU1NC42NjdMNDY5LjMxMiA1NTQuNjY3TDQ2OS4zMzMgNzQ2LjY2N0w1NTQuNjY3IDc0Ni42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtaGVscGYwYjA4LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMDg7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTUxMiA5NjBDNzU5LjQyNCA5NjAgOTYwIDc1OS40MjQgOTYwIDUxMkM5NjAgMjY0LjU3NiA3NTkuNDI0IDY0IDUxMiA2NEMyNjQuNTc2IDY0IDY0IDI2NC41NzYgNjQgNTEyQzY0IDc1OS40MjQgMjY0LjU3NiA5NjAgNTEyIDk2MHpNNTEyIDg3NC42NjdDMzExLjcwNSA4NzQuNjY3IDE0OS4zMzMgNzEyLjI5NSAxNDkuMzMzIDUxMkMxNDkuMzMzIDMxMS43MDUgMzExLjcwNSAxNDkuMzMzIDUxMiAxNDkuMzMzQzcxMi4yOTUgMTQ5LjMzMyA4NzQuNjY3IDMxMS43MDUgODc0LjY2NyA1MTJDODc0LjY2NyA3MTIuMjk1IDcxMi4yOTUgODc0LjY2NyA1MTIgODc0LjY2N3pNNTEyIDMyMEM1MzUuNTY0IDMyMCA1NTQuNjY3IDMwMC44OTcgNTU0LjY2NyAyNzcuMzMzQzU1NC42NjcgMjUzLjc2OSA1MzUuNTY0IDIzNC42NjcgNTEyIDIzNC42NjdDNDg4LjQzNiAyMzQuNjY3IDQ2OS4zMzMgMjUzLjc2OSA0NjkuMzMzIDI3Ny4zMzNDNDY5LjMzMyAzMDAuODk3IDQ4OC40MzYgMzIwIDUxMiAzMjB6TTUxMiA3NjhDNjA2LjI1NyA3NjggNjgyLjY2NyA2OTEuNTkgNjgyLjY2NyA1OTcuMzMzQzY4Mi42NjcgNTIyLjUzNCA2MzQuMTE5IDQ1Ny4xMjkgNTYzLjE4NiA0MzQuNDkzQzU1Ny41OTkgNDMyLjgyMyA1NTQuNjY3IDQyOS4xOTMgNTU0LjY2NyA0MjEuODE4TDU1NC42NjcgMzYyLjY2N0w0NjkuMzMzIDM2Mi42NjdMNDY5LjMzMyA0MjEuODE4QzQ2OS4zMzMgNDY4LjM0NyA0OTguMjU4IDUwNC4xNDggNTM3Ljk5IDUxNi4wMThDNTczLjA0NCA1MjcuMjA4IDU5Ny4zMzMgNTU5LjkzMSA1OTcuMzMzIDU5Ny4zMzNDNTk3LjMzMyA2NDQuNDYyIDU1OS4xMjggNjgyLjY2NyA1MTIgNjgyLjY2N0M0NjQuODcyIDY4Mi42NjcgNDI2LjY2NyA2NDQuNDYyIDQyNi42NjcgNTk3LjMzM0wzNDEuMzMzIDU5Ny4zMzNDMzQxLjMzMyA2OTEuNTkgNDE3Ljc0MyA3NjggNTEyIDc2OHoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1wcmV2aWV3X29wZW5mMGIwOS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjA5OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MTIuMDEyIDg1My4zMzNDNjI5LjE5MyA4NTMuMzMzIDczNS4wODEgODAyLjcyNSA4MjguNjA2IDcxNi43MjlDODkwLjg4IDY1OS40NjkgOTM5Ljk5NCA1OTQuMjEyIDk3NS40OTQgNTMzLjUzNEw5NzUuNDk0IDUzMy41MzRMOTg4LjA5OSA1MTEuOTg4TDk3NS40OTQgNDkwLjQ0M0M5MzkuOTk5IDQyOS43NzMgODkwLjg4IDM2NC41MTUgODI4LjYwNSAzMDcuMjU4QzczNS4wOCAyMjEuMjcgNjI5LjE5MiAxNzAuNjY3IDUxMi4wMTIgMTcwLjY2N0MzOTQuODMgMTcwLjY2NyAyODguOTQgMjIxLjI4MyAxOTUuNDA1IDMwNy4yOTNDMTMzLjEzMyAzNjQuNTU0IDg0LjAzMyA0MjkuNzg5IDQ4LjUxIDQ5MC40ODNMNDguNTEgNDkwLjQ4M0wzNS45MTggNTExLjk5OEw0OC40NzcgNTMzLjUzMUM4My45MDQgNTk0LjI3MyAxMzIuODc2IDY1OS40ODQgMTk1LjEwNiA3MTYuNzQyQzI4OC41NjQgODAyLjczMyAzOTQuNTQ1IDg1My4zMzMgNTEyLjAxMiA4NTMuMzMzek01MTIuMDEyIDc2OEM0MTguNTUxIDc2OCAzMzEuODU3IDcyNi42MDkgMjUyLjg4NSA2NTMuOTQ2QzIwOC4wOTYgNjEyLjczNSAxNzAuNTkxIDU2Ni4yNSAxNDEuMjE3IDUyMS4zMTZMMTQxLjIxNyA1MjEuMzE2TDEzNS4yNzUgNTEyLjA4NUwxNDEuMjQ1IDUwMi44MTFDMTY4LjQ0NCA0NjEuMzI3IDIwMi41ODEgNDE4LjQ5MiAyNDIuOTQ0IDM3OS43MTRMMjQyLjk0NCAzNzkuNzE0TDI1My4xNjQgMzcwLjEwNkMzMzIuMjIzIDI5Ny40MDkgNDE4Ljg1MSAyNTYgNTEyLjAxMiAyNTZDNjA1LjE3NiAyNTYgNjkxLjgwMSAyOTcuMzk4IDc3MC44NSAzNzAuMDc2QzgxNS42OTUgNDExLjMwOCA4NTMuMzEyIDQ1Ny44NDQgODgyLjc2NSA1MDIuNzcyTDg4Mi43NjUgNTAyLjc3Mkw4ODguNjgzIDUxMkw4ODIuNzYyIDUyMS4yMDlDODU1LjU3MyA1NjIuNjg2IDgyMS40MzIgNjA1LjUyOSA3ODEuMDY4IDY0NC4zMDdMNzgxLjA2OCA2NDQuMzA3TDc3MC44NDggNjUzLjkxM0M2OTEuNzk5IDcyNi41OTggNjA1LjE3NSA3NjggNTEyLjAxMiA3Njh6TTUxMiA2ODIuNjY3QzYwNi4yNTcgNjgyLjY2NyA2ODIuNjY3IDYwNi4yNTcgNjgyLjY2NyA1MTJDNjgyLjY2NyA0MTcuNzQzIDYwNi4yNTcgMzQxLjMzMyA1MTIgMzQxLjMzM0M0MTcuNzQzIDM0MS4zMzMgMzQxLjMzMyA0MTcuNzQzIDM0MS4zMzMgNTEyQzM0MS4zMzMgNjA2LjI1NyA0MTcuNzQzIDY4Mi42NjcgNTEyIDY4Mi42Njd6TTUxMiA1OTcuMzMzQzQ2NC44NzIgNTk3LjMzMyA0MjYuNjY3IDU1OS4xMjggNDI2LjY2NyA1MTJDNDI2LjY2NyA0NjQuODcyIDQ2NC44NzIgNDI2LjY2NyA1MTIgNDI2LjY2N0M1NTkuMTI4IDQyNi42NjcgNTk3LjMzMyA0NjQuODcyIDU5Ny4zMzMgNTEyQzU5Ny4zMzMgNTU5LjEyOCA1NTkuMTI4IDU5Ny4zMzMgNTEyIDU5Ny4zMzN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtcmVhZF9vbmx5ZjBiMGEtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIwYTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNjgyLjY2NyA0NjkuMzMzQzgwNi42NDYgNDY5LjMzMyA5MDQuNDY2IDQwNS44MDcgOTcyLjEyMiAyODMuNzg2TDk3Ni4zMTEgMjc2LjA4M0w5ODcuMDI2IDI1Nkw5NzYuMzExIDIzNS45MTdDOTA4LjUzIDEwOC44NjcgODA5LjIyOSA0Mi42NjcgNjgyLjY2NyA0Mi42NjdDNTU4LjY4NyA0Mi42NjcgNDYwLjg2OCAxMDYuMTkzIDM5My4yMTEgMjI4LjIxNEwzODkuMDIyIDIzNS45MTdMMzc4LjMwOCAyNTZMMzg5LjAyMiAyNzYuMDgzQzQ1Ni44MDMgNDAzLjEzMyA1NTYuMTA0IDQ2OS4zMzMgNjgyLjY2NyA0NjkuMzMzek02OTIuNjc2IDk2MEw4NzQuNjY3IDcyOS40NzlMODc0LjY2NyA1MzMuMzMzTDc4OS4zMzMgNTMzLjMzM0w3ODkuMzMzIDY0MEw1OTcuMzMzIDY0MEw1OTcuMzMzIDg3NC42NjdMMjM0LjY2NyA4NzQuNjY3TDIzNC42NjcgMTQ5LjMzM0wzNjIuNjY3IDE0OS4zMzNMMzYyLjY2NyA2NEwxNDkuMzMzIDY0TDE0OS4zMzMgOTYwTDY5Mi42NzYgOTYwek02ODIuNjY3IDM4NEM1OTguNTMzIDM4NCA1MzIuMjY1IDM0NS4zNyA0ODAuNzQ4IDI2NC4xOTNMNDc2LjM2OCAyNTcuMTMxTDQ3NS42NjkgMjU2LjAyMUw0ODAuNzU0IDI0Ny43OTZDNTI5LjM1NyAxNzEuMjE3IDU5MS4wODkgMTMyLjUwNSA2NjguNTY0IDEyOC4zNzFMNjc1Ljg3NCAxMjguMDg1TDY4Mi42NjcgMTI4Qzc2Ni44MDEgMTI4IDgzMy4wNjggMTY2LjYzIDg4NC41ODYgMjQ3LjgwN0w4ODguOTY1IDI1NC44NjlMODg5LjY0MyAyNTYuMDIxTDg4NC41NzkgMjY0LjIwNEM4MzUuOTc2IDM0MC43ODMgNzc0LjI0NSAzNzkuNDk1IDY5Ni43NjkgMzgzLjYyOUw2ODkuNDU5IDM4My45MTVMNjgyLjY2NyAzODR6TTY4Mi42NjcgMzIwQzcxOC4wMTMgMzIwIDc0Ni42NjcgMjkxLjM0NiA3NDYuNjY3IDI1NkM3NDYuNjY3IDIyMC42NTQgNzE4LjAxMyAxOTIgNjgyLjY2NyAxOTJDNjQ3LjMyIDE5MiA2MTguNjY3IDIyMC42NTQgNjE4LjY2NyAyNTZDNjE4LjY2NyAyOTEuMzQ2IDY0Ny4zMiAzMjAgNjgyLjY2NyAzMjB6TTY4Mi42NjcgODM0Ljk2NUw2ODIuNjY3IDcyNS4zMzNMNzY5LjIxNiA3MjUuMzMzTDY4Mi42NjcgODM0Ljk2NXoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1mbGxlX2FkZGYwYjBiLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMGI7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTg3NC42NjcgNjRMMTQ5LjMzMyA2NEwxNDkuMzMzIDk2MEw2OTIuNjc2IDk2MEw4NzQuNjY3IDcyOS40NzlMODc0LjY2NyA2NHpNNTk3LjMzMyA4NzQuNjY3TDIzNC42NjcgODc0LjY2N0wyMzQuNjY3IDE0OS4zMzNMNzg5LjMzMyAxNDkuMzMzTDc4OS4zMzMgNjQwTDU5Ny4zMzMgNjQwTDU5Ny4zMzMgODc0LjY2N3pNNTU0LjY2NyA1NzZMNTU0LjY0NSA0NjkuMzMzTDY2MS4zMzMgNDY5LjMzM0w2NjEuMzMzIDM4NEw1NTQuNjQ1IDM4NEw1NTQuNjY3IDI3Ny4zMzNMNDY5LjMzMyAyNzcuMzMzTDQ2OS4zMTIgMzg0TDM2Mi42NjcgMzg0TDM2Mi42NjcgNDY5LjMzM0w0NjkuMzEyIDQ2OS4zMzNMNDY5LjMzMyA1NzZMNTU0LjY2NyA1NzZ6TTc2OS4yMTYgNzI1LjMzM0w2ODIuNjY3IDgzNC45NjVMNjgyLjY2NyA3MjUuMzMzTDc2OS4yMTYgNzI1LjMzM3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1tZW51ZjBiMGMtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIwYzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTE3LjMzMyAyNzcuMzMzTDkxNy4zMzMgMTkyTDEwNi42NjcgMTkyTDEwNi42NjcgMjc3LjMzM0w5MTcuMzMzIDI3Ny4zMzN6TTkxNy4zMzMgNTU0LjY2N0w5MTcuMzMzIDQ2OS4zMzNMMTA2LjY2NyA0NjkuMzMzTDEwNi42NjcgNTU0LjY2N0w5MTcuMzMzIDU1NC42Njd6TTkxNy4zMzMgODMyTDkxNy4zMzMgNzQ2LjY2N0wxMDYuNjY3IDc0Ni42NjdMMTA2LjY2NyA4MzJMOTE3LjMzMyA4MzJ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtbWluZWYwYjBkLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMGQ7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTY3OC45MDIgNDQ4QzgxMC41ODQgNDQ4IDkxNy4zMzMgMzUyLjQ4NyA5MTcuMzMzIDIzNC42NjdMOTE3LjMzMyA2NEwxMDYuNjY3IDY0TDEwNi42NjcgMjM0LjY2N0MxMDYuNjY3IDM1Mi40ODcgMjEzLjQxNiA0NDggMzQ1LjA5OCA0NDhMNjc4LjkwMiA0NDh6TTY4NC4zMDggMzYyLjY2N0wzMzkuNjkyIDM2Mi42NjdDMjU4LjEyNCAzNjIuNjY3IDE5MiAzMDUuMzU5IDE5MiAyMzQuNjY3TDE5MiAxNDkuMzMzTDgzMiAxNDkuMzMzTDgzMiAyMzQuNjY3QzgzMiAzMDUuMzU5IDc2NS44NzYgMzYyLjY2NyA2ODQuMzA4IDM2Mi42Njd6TTUxMiA5MzguNjY3QzYyOS44MjEgOTM4LjY2NyA3MjUuMzMzIDg0My4xNTQgNzI1LjMzMyA3MjUuMzMzQzcyNS4zMzMgNjA3LjUxMyA2MjkuODIxIDUxMiA1MTIgNTEyQzM5NC4xNzkgNTEyIDI5OC42NjcgNjA3LjUxMyAyOTguNjY3IDcyNS4zMzNDMjk4LjY2NyA4NDMuMTU0IDM5NC4xNzkgOTM4LjY2NyA1MTIgOTM4LjY2N3pNNTEyIDg1My4zMzNDNDQxLjMwOCA4NTMuMzMzIDM4NCA3OTYuMDI2IDM4NCA3MjUuMzMzQzM4NCA2NTQuNjQxIDQ0MS4zMDggNTk3LjMzMyA1MTIgNTk3LjMzM0M1ODIuNjkyIDU5Ny4zMzMgNjQwIDY1NC42NDEgNjQwIDcyNS4zMzNDNjQwIDc5Ni4wMjYgNTgyLjY5MiA4NTMuMzMzIDUxMiA4NTMuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWhvbWVmMGIwZS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjBlOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MTIgOTYwTDkxNy4zMzMgNTg4LjIxMkw5MTcuMzMzIDQ4Ljc3TDEwNi42NjcgNDguNzdMMTA2LjY2NyA1ODguMjEyTDUxMiA5NjB6TTUxMiA4NDQuMjA2TDE5MiA1NTAuNjg5TDE5MiAxMzQuMTAzTDgzMiAxMzQuMTAzTDgzMiA1NTAuNjg5TDUxMiA4NDQuMjA2ek02NjEuMzMzIDM0Ny40MzdMNjYxLjMzMyAyNjIuMTAzTDM2Mi42NjcgMjYyLjEwM0wzNjIuNjY3IDM0Ny40MzdMNjYxLjMzMyAzNDcuNDM3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWZpbmRmMGIxYy1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjFjOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0zMjAgMjM0LjY2NUwzMjAgMTQ5LjMzMUw4NS4zMzMgMTQ5LjMzMUw4NS4zMzMgMjM0LjY2NUwzMjAgMjM0LjY2NXpNNjcyIDcwMy45OThDNzk1LjcxMSA3MDMuOTk4IDg5NiA2MDMuNzA5IDg5NiA0NzkuOTk4Qzg5NiA0MjguMDM1IDg3OC4zMDYgMzgwLjIwNSA4NDguNjE1IDM0Mi4yMDNMOTY4Ljk0NSAyMjAuOTgyTDkwOC4zODkgMTYwLjg1OUw3ODQuMTA4IDI4Ni4wMjhDNzUxLjEzNiAyNjYuOTMgNzEyLjg0NCAyNTUuOTk4IDY3MiAyNTUuOTk4QzU0OC4yODkgMjU1Ljk5OCA0NDggMzU2LjI4NyA0NDggNDc5Ljk5OEM0NDggNjAzLjcwOSA1NDguMjg5IDcwMy45OTggNjcyIDcwMy45OTh6TTY3MiA2MTguNjY1QzU5NS40MTcgNjE4LjY2NSA1MzMuMzMzIDU1Ni41ODEgNTMzLjMzMyA0NzkuOTk4QzUzMy4zMzMgNDAzLjQxNSA1OTUuNDE3IDM0MS4zMzEgNjcyIDM0MS4zMzFDNzQ4LjU4MyAzNDEuMzMxIDgxMC42NjcgNDAzLjQxNSA4MTAuNjY3IDQ3OS45OThDODEwLjY2NyA1NTYuNTgxIDc0OC41ODMgNjE4LjY2NSA2NzIgNjE4LjY2NXpNMzIwIDU3NS45OThMMzIwIDQ5MC42NjVMODUuMzMzIDQ5MC42NjVMODUuMzMzIDU3NS45OThMMzIwIDU3NS45OTh6TTkzOC42NjcgOTE3LjMzMUw5MzguNjY3IDgzMS45OTdMODUuMzMzIDgzMS45OTdMODUuMzMzIDkxNy4zMzFMOTM4LjY2NyA5MTcuMzMxeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXJpZ2h0X2Fycm93ZjBiMGYtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIwZjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNjE1LjYzNCA4MTEuNTU1TDU1NS4yOTUgNzUxLjIxNUw3NTEuODUxIDU1NC42OEwxMzAuMTQ0IDU1NC42NjdMMTMwLjE0NCA0NjkuMzMzTDc1Ni4xNiA0NjkuMzQ3TDU1NS4yOTUgMjY4LjQ5N0w2MTUuNjM0IDIwOC4xNTdMOTE3LjMzMyA1MDkuODU2eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWxlZnRfYXJyb3dmMGIxMC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjEwOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE00MTAuNTEgODExLjU1NUw0NzAuODQ5IDc1MS4yMTVMMjc0LjI5MyA1NTQuNjhMODk2IDU1NC42NjdMODk2IDQ2OS4zMzNMMjY5Ljk4NCA0NjkuMzQ3TDQ3MC44NDkgMjY4LjQ5N0w0MTAuNTEgMjA4LjE1N0wxMDguODExIDUwOS44NTZ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZHJvcF9kb3duZjBiMTEtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIxMTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNzUzLjM1OSA2NjAuNzA1TDUxMiA0MTkuMzQ2TDI3MC42NDEgNjYwLjcwNUwyMTAuMzAxIDYwMC4zNjZMNTEyIDI5OC42NjdMODEzLjY5OSA2MDAuMzY2eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWRyb3BfcmlnaHRmMGIxMi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjEyOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0zMDAuODExIDIwOC4xNTdMNjAyLjUxIDUwOS44NTZMMzAwLjgxMSA4MTEuNTU1TDM2MS4xNTEgODcxLjg5NUw3MjMuMTg5IDUwOS44NTZMMzYxLjE1MSAxNDcuODE3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWRyb3BfbGVmdGYwYjEzLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMTM7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTcyMy4xODkgODExLjU1NUw0MjEuNDkgNTA5Ljg1Nkw3MjMuMTg5IDIwOC4xNTdMNjYyLjg0OSAxNDcuODE3TDMwMC44MTEgNTA5Ljg1Nkw2NjIuODQ5IDg3MS44OTV6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZHJvcF9yaWdodHQyZjBiMTQtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIxNDsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMjYzLjMyIDc5OS4wNThMNTY1LjAxOSA0OTcuMzU5TDI2My4zMiAxOTUuNjZMMjAyLjk4MSAyNTZMNDQ0LjM0IDQ5Ny4zNTlMMjAyLjk4MSA3MzguNzE4TDI2My4zMiA3OTkuMDU4ek01MTkuMzIgNzk5LjA1OEw4MjEuMDE5IDQ5Ny4zNTlMNTE5LjMyIDE5NS42Nkw0NTguOTgxIDI1Nkw3MDAuMzQgNDk3LjM1OUw0NTguOTgxIDczOC43MThMNTE5LjMyIDc5OS4wNTh6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZHJvcF9sZWZ0MmYwYjE1LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMTU7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTc2MC42OCA3OTkuMDU4TDQ1OC45ODEgNDk3LjM1OUw3NjAuNjggMTk1LjY2TDgyMS4wMTkgMjU2TDU3OS42NiA0OTcuMzU5TDgyMS4wMTkgNzM4LjcxOEw3NjAuNjggNzk5LjA1OHpNNTA0LjY4IDc5OS4wNThMMjAyLjk4MSA0OTcuMzU5TDUwNC42OCAxOTUuNjZMNTY1LjAxOSAyNTZMMzIzLjY2IDQ5Ny4zNTlMNTY1LjAxOSA3MzguNzE4TDUwNC42OCA3OTkuMDU4eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXNvcnRmMGIxNi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjE2OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE03MjMuMTg5IDQzNC44NzVMNzgzLjUyOSAzNzQuNTM1TDUxMiAxMDMuMDA2TDI0MC40NzEgMzc0LjUzNUwzMDAuODExIDQzNC44NzVMNTEyIDIyMy42ODZMNzIzLjE4OSA0MzQuODc1ek01MTIgOTEzLjA0NUw3ODMuNTI5IDY0MS41MTZMNzIzLjE4OSA1ODEuMTc2TDUxMiA3OTIuMzY2TDMwMC44MTEgNTgxLjE3NkwyNDAuNDcxIDY0MS41MTZMNTEyIDkxMy4wNDV6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZHJvcF91cGYwYjE3LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMTc7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTc1My4zNTkgMzU5LjAwNkw1MTIgNjAwLjM2NkwyNzAuNjQxIDM1OS4wMDZMMjEwLjMwMSA0MTkuMzQ2TDUxMiA3MjEuMDQ1TDgxMy42OTkgNDE5LjM0Nkw3NTMuMzU5IDM1OS4wMDZ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtdXBwZXJfcmlnaHRmMGIxOC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjE4OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE03OTUuODA0IDc5NS40OUw3OTUuODA0IDM2OC44MjNMNzEwLjQ3IDM2OC44MjNMNzEwLjQ4MSA2NDkuODMyTDI1OC4zNjYgMTk3LjcxMkwxOTguMDI2IDI1OC4wNTJMNjUwLjE0MSA3MTAuMTcxTDM2OS4xMzcgNzEwLjE1NkwzNjkuMTM3IDc5NS40OXoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1sb3dlcl9yaWdodGYwYjE5LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMTk7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTgyMy42MDggMjAwLjM5MkwzOTYuOTQxIDIwMC4zOTJMMzk2Ljk0MSAyODUuNzI2TDY3Ny45NDkgMjg1LjcxNUwyMjUuODMgNzM3LjgzTDI4Ni4xNyA3OTguMTdMNzM4LjI4OSAzNDYuMDU1TDczOC4yNzQgNjI3LjA1OUw4MjMuNjA4IDYyNy4wNTl6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtbG93ZXJfbGVmdGYwYjFhLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMWE7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTIyOC4xOTYgMjI3Ljg4Mkw2NTQuODYzIDIyNy44ODJMNjU0Ljg2MyAzMTMuMjE2TDM3My44NTQgMzEzLjIwNUw4MjUuOTc0IDc2NS4zMkw3NjUuNjM0IDgyNS42NkwzMTMuNTE1IDM3My41NDVMMzEzLjUzIDY1NC41NDlMMjI4LjE5NiA2NTQuNTQ5eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXVwcGVyX2xlZnRmMGIxYi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjFiOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0yMjguMTk2IDc5NS40OUw2NTQuODYzIDc5NS40OUw2NTQuODYzIDcxMC4xNTZMMzczLjg1NCA3MTAuMTY3TDgyNS45NzQgMjU4LjA1Mkw3NjUuNjM0IDE5Ny43MTJMMzEzLjUxNSA2NDkuODI3TDMxMy41MyAzNjguODIzTDIyOC4xOTYgMzY4LjgyM3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1jdXRmMGIxZC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjFkOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0xNzkuNTAzIDkzOC42NjdMNjY1Ljc3IDQ1Mi4zODFDNjk1LjM3MSA0NzEuMDM2IDczMC40MjUgNDgxLjgzIDc2OCA0ODEuODNDODc0LjAzOSA0ODEuODMgOTYwIDM5NS44NjkgOTYwIDI4OS44M0M5NjAgMTgzLjc5MSA4NzQuMDM5IDk3LjgzIDc2OCA5Ny44M0M2NjEuOTYxIDk3LjgzIDU3NiAxODMuNzkxIDU3NiAyODkuODNDNTc2IDMyNy4zOTYgNTg2Ljc4OCAzNjIuNDQyIDYwNS40MzYgMzkyLjAzOUw1MTIgNDg1LjQ4M0w0MTguNTY0IDM5Mi4wMzlDNDM2LjI3MiAzNjMuOTM0IDQ0Ni44OTIgMzMwLjkxNSA0NDcuOTE4IDI5NS40OTFMNDQ4IDI4OS44M0M0NDggMTgzLjc5MSAzNjIuMDM5IDk3LjgzIDI1NiA5Ny44M0MxNDkuOTYxIDk3LjgzIDY0IDE4My43OTEgNjQgMjg5LjgzQzY0IDM5NS44NjkgMTQ5Ljk2MSA0ODEuODMgMjU2IDQ4MS44M0MyOTMuNTc1IDQ4MS44MyAzMjguNjI5IDQ3MS4wMzYgMzU4LjIzIDQ1Mi4zODFMNDUxLjY0OCA1NDUuODM1TDExOS4xNjMgODc4LjMyN0wxNzkuNTAzIDkzOC42Njd6TTI1NiAzOTYuNDk3QzE5Ny4wOSAzOTYuNDk3IDE0OS4zMzMgMzQ4Ljc0IDE0OS4zMzMgMjg5LjgzQzE0OS4zMzMgMjMwLjkyIDE5Ny4wOSAxODMuMTYzIDI1NiAxODMuMTYzQzMxNC45MSAxODMuMTYzIDM2Mi42NjcgMjMwLjkyIDM2Mi42NjcgMjg5LjgzQzM2Mi42NjcgMzQ4Ljc0IDMxNC45MSAzOTYuNDk3IDI1NiAzOTYuNDk3ek03NjggMzk2LjQ5N0M3MDkuMDkgMzk2LjQ5NyA2NjEuMzMzIDM0OC43NCA2NjEuMzMzIDI4OS44M0M2NjEuMzMzIDIzMC45MiA3MDkuMDkgMTgzLjE2MyA3NjggMTgzLjE2M0M4MjYuOTEgMTgzLjE2MyA4NzQuNjY3IDIzMC45MiA4NzQuNjY3IDI4OS44M0M4NzQuNjY3IDM0OC43NCA4MjYuOTEgMzk2LjQ5NyA3NjggMzk2LjQ5N3pNODQ0LjQ5NyA5MzguNjY3TDkwNC44MzcgODc4LjMyN0w2MjcuNTAzIDYwMC45OTRMNTY3LjE2MyA2NjEuMzMzTDg0NC40OTcgOTM4LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1jcm9wZjBiMWUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIxZTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMTkyIDE5MkwxOTIgNzQ2LjY2N0w2NCA3NDYuNjY3TDY0IDgzMkwxOTIgODMyTDE5MiA5NjBMMjc3LjMzMyA5NjBMMjc3LjMzMyAyNzcuMzMzTDk2MCAyNzcuMzMzTDk2MCAxOTJMODMyIDE5Mkw4MzIgNjRMNzQ2LjY2NyA2NEw3NDYuNjY3IDE5MkwxOTIgMTkyek04MzIgODMyTDgzMiAzNjIuNjY3TDc0Ni42NjcgMzYyLjY2N0w3NDYuNjY3IDc0Ni42NjdMMzYyLjY2NyA3NDYuNjY3TDM2Mi42NjcgODMyTDgzMiA4MzJ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtY29tbWVudF9hZGRmMGIxZi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjFmOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05NjAgODc0LjY2N0w5NjAgMjEzLjMzM0w2NjEuMzMzIDIxMy4zMzNMNTEyIDY0TDM2Mi42NjcgMjEzLjMzM0w2NCAyMTMuMzMzTDY0IDg3NC42NjdMOTYwIDg3NC42Njd6TTg3NC42NjcgNzg5LjMzM0wxNDkuMzMzIDc4OS4zMzNMMTQ5LjMzMyAyOTguNjY3TDM5OC4wMTMgMjk4LjY2N0w1MTIgMTg0LjY4M0w2MjUuOTg3IDI5OC42NjdMODc0LjY2NyAyOTguNjY3TDg3NC42NjcgNzg5LjMzM3pNNTU0LjY2NyA2ODIuNjY3TDU1NC42NjcgNTc2TDY2MS4zMzMgNTc2TDY2MS4zMzMgNDkwLjY2N0w1NTQuNjY3IDQ5MC42NjdMNTU0LjY2NyAzODRMNDY5LjMzMyAzODRMNDY5LjMzMyA0OTAuNjY3TDM2Mi42NjcgNDkwLjY2N0wzNjIuNjY3IDU3Nkw0NjkuMzMzIDU3Nkw0NjkuMzMzIDY4Mi42NjdMNTU0LjY2NyA2ODIuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvbW1lbnRfZGVsZXRlZjBiMjAtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIyMDsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTYwIDg3NC42NjdMOTYwIDIxMy4zMzNMNjYxLjMzMyAyMTMuMzMzTDUxMiA2NEwzNjIuNjY3IDIxMy4zMzNMNjQgMjEzLjMzM0w2NCA4NzQuNjY3TDk2MCA4NzQuNjY3ek04NzQuNjY3IDc4OS4zMzNMMTQ5LjMzMyA3ODkuMzMzTDE0OS4zMzMgMjk4LjY2N0wzOTguMDEzIDI5OC42NjdMNTEyIDE4NC42ODNMNjI1Ljk4NyAyOTguNjY3TDg3NC42NjcgMjk4LjY2N0w4NzQuNjY3IDc4OS4zMzN6TTYwOS44MyA2OTEuNTAzTDY3MC4xNyA2MzEuMTYzTDU3Mi4zMjYgNTMzLjMzOEw2NzAuMTcgNDM1LjUwM0w2MDkuODMgMzc1LjE2M0w1MTEuOTk1IDQ3My4wMDdMNDE0LjE3IDM3NS4xNjNMMzUzLjgzIDQzNS41MDNMNDUxLjY2NSA1MzMuMzM4TDM1My44MyA2MzEuMTYzTDQxNC4xNyA2OTEuNTAzTDUxMS45OTUgNTkzLjY2OUw2MDkuODMgNjkxLjUwM3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1jb21tZW50dGV4dGYwYjIxLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMjE7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTk2MCA4NzQuNjY3TDk2MCAyMTMuMzMzTDY2MS4zMzMgMjEzLjMzM0w1MTIgNjRMMzYyLjY2NyAyMTMuMzMzTDY0IDIxMy4zMzNMNjQgODc0LjY2N0w5NjAgODc0LjY2N3pNODc0LjY2NyA3ODkuMzMzTDE0OS4zMzMgNzg5LjMzM0wxNDkuMzMzIDI5OC42NjdMMzk4LjAxMyAyOTguNjY3TDUxMiAxODQuNjgzTDYyNS45ODcgMjk4LjY2N0w4NzQuNjY3IDI5OC42NjdMODc0LjY2NyA3ODkuMzMzek01MTIgNTEyTDUxMiA0MjYuNjY3TDI5OC42NjcgNDI2LjY2N0wyOTguNjY3IDUxMkw1MTIgNTEyek03MjUuMzMzIDY4Mi42NjdMNzI1LjMzMyA1OTcuMzMzTDI5OC42NjcgNTk3LjMzM0wyOTguNjY3IDY4Mi42NjdMNzI1LjMzMyA2ODIuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvbW1lbnRfcXVlc3Rpb25mMGIyMi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjIyOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05NjAgODc0LjY2N0w5NjAgMjEzLjMzM0w2NjEuMzMzIDIxMy4zMzNMNTEyIDY0TDM2Mi42NjcgMjEzLjMzM0w2NCAyMTMuMzMzTDY0IDg3NC42NjdMOTYwIDg3NC42Njd6TTg3NC42NjcgNzg5LjMzM0wxNDkuMzMzIDc4OS4zMzNMMTQ5LjMzMyAyOTguNjY3TDM5OC4wMTMgMjk4LjY2N0w1MTIgMTg0LjY4M0w2MjUuOTg3IDI5OC42NjdMODc0LjY2NyAyOTguNjY3TDg3NC42NjcgNzg5LjMzM3pNNTU0LjY2NyAzODRMNTU0LjY2NyAyOTguNjY3TDQ2OS4zMzMgMjk4LjY2N0w0NjkuMzMzIDM4NEw1NTQuNjY3IDM4NHpNNTEyIDc0Ni42NjdDNTkwLjU0NyA3NDYuNjY3IDY1NC4yMjIgNjgyLjk5MiA2NTQuMjIyIDYwNC40NDRDNjU0LjIyMiA1NDIuODYzIDYxNS4wODMgNDkwLjQyMiA1NjAuMzIzIDQ3MC42NDJMNTU0LjY2NyA0NjguNzM2TDU1NC42NjcgNDI2LjY2N0w0NjkuMzMzIDQyNi42NjdMNDY5LjMzMyA1MDQuODg5QzQ2OS4zMzMgNTI3LjM4MiA0ODYuNzM5IDU0NS44MSA1MDguODE2IDU0Ny40MzlMNTEyIDU0Ny41NTZDNTQzLjQxOSA1NDcuNTU2IDU2OC44ODkgNTczLjAyNiA1NjguODg5IDYwNC40NDRDNTY4Ljg4OSA2MzUuODYzIDU0My40MTkgNjYxLjMzMyA1MTIgNjYxLjMzM0M0ODEuNzkgNjYxLjMzMyA0NTcuMDc5IDYzNy43ODUgNDU1LjIyMyA2MDguMDQyTDQ1NS4xMTEgNjA0LjQ0NEwzNjkuNzc4IDYwNC40NDRDMzY5Ljc3OCA2ODIuOTkyIDQzMy40NTMgNzQ2LjY2NyA1MTIgNzQ2LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1jb21tZW50cHJvY2Vzc2luZ2YwYjIzLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMjM7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTk2MCA4NzQuNjY3TDk2MCAyMTMuMzMzTDY2MS4zMzMgMjEzLjMzM0w1MTIgNjRMMzYyLjY2NyAyMTMuMzMzTDY0IDIxMy4zMzNMNjQgODc0LjY2N0w5NjAgODc0LjY2N3pNODc0LjY2NyA3ODkuMzMzTDE0OS4zMzMgNzg5LjMzM0wxNDkuMzMzIDI5OC42NjdMMzk4LjAxMyAyOTguNjY3TDUxMiAxODQuNjgzTDYyNS45ODcgMjk4LjY2N0w4NzQuNjY3IDI5OC42NjdMODc0LjY2NyA3ODkuMzMzek01NTQuNjY3IDU3Nkw1NTQuNjY3IDQ5MC42NjdMNDY5LjMzMyA0OTAuNjY3TDQ2OS4zMzMgNTc2TDU1NC42NjcgNTc2ek0zODQgNTc2TDM4NCA0OTAuNjY3TDI5OC42NjcgNDkwLjY2N0wyOTguNjY3IDU3NkwzODQgNTc2ek03MjUuMzMzIDU3Nkw3MjUuMzMzIDQ5MC42NjdMNjQwIDQ5MC42NjdMNjQwIDU3Nkw3MjUuMzMzIDU3NnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1jb21tZW50X3NpbmdsZWYwYjI0LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMjQ7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTk2MCA4NzQuNjY3TDk2MCAyMTMuMzMzTDY2MS4zMzMgMjEzLjMzM0w1MTIgNjRMMzYyLjY2NyAyMTMuMzMzTDY0IDIxMy4zMzNMNjQgODc0LjY2N0w5NjAgODc0LjY2N3pNODc0LjY2NyA3ODkuMzMzTDE0OS4zMzMgNzg5LjMzM0wxNDkuMzMzIDI5OC42NjdMMzk4LjAxMyAyOTguNjY3TDUxMiAxODQuNjgzTDYyNS45ODcgMjk4LjY2N0w4NzQuNjY3IDI5OC42NjdMODc0LjY2NyA3ODkuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvbW1lbnRfbXVsdGlwbGVmMGIyNS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjI1OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05NjAgNzY4TDk2MCAyMTMuMzMzTDc0Ni42NjcgMjEzLjMzM0w1OTcuMzMzIDY0TDQ0OCAyMTMuMzMzTDIzNC42NjcgMjEzLjMzM0wyMzQuNjY3IDc2OEw5NjAgNzY4ek04NzQuNjY3IDY4Mi42NjdMMzIwIDY4Mi42NjdMMzIwIDI5OC42NjdMNDgzLjM0NiAyOTguNjY3TDU5Ny4zMzMgMTg0LjY4M0w3MTEuMzIgMjk4LjY2N0w4NzQuNjY3IDI5OC42NjdMODc0LjY2NyA2ODIuNjY3ek03ODkuMzMzIDkxNy4zMzNMNzg5LjMzMyA4MzJMMTQ5LjMzMyA4MzJMMTQ5LjMzMyAzODRMNjQgMzg0TDY0IDkxNy4zMzNMNzg5LjMzMyA5MTcuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvbW1lbnRjaGVja2YwYjI2LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMjY7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTk2MCA4NzQuNjY3TDk2MCAyMTMuMzMzTDY2MS4zMzMgMjEzLjMzM0w1MTIgNjRMMzYyLjY2NyAyMTMuMzMzTDY0IDIxMy4zMzNMNjQgODc0LjY2N0w5NjAgODc0LjY2N3pNODc0LjY2NyA3ODkuMzMzTDE0OS4zMzMgNzg5LjMzM0wxNDkuMzMzIDI5OC42NjdMMzk4LjAxMyAyOTguNjY3TDUxMiAxODQuNjgzTDYyNS45ODcgMjk4LjY2N0w4NzQuNjY3IDI5OC42NjdMODc0LjY2NyA3ODkuMzMzek02NTIuNDk3IDY3MC4xN0w3MTIuODM3IDYwOS44M0w0NjkuMzMzIDM2Ni4zMjdMMzExLjE2MyA1MjQuNDk3TDM3MS41MDMgNTg0LjgzN0w0NjkuMzMzIDQ4Ny4wMTlMNjUyLjQ5NyA2NzAuMTd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7Atbm9fYm9yZGVyZjBiMjctZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIyNzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMjU2IDE3MC42NjdMODUuMzMzIDE3MC42NjdMODUuMzMzIDg1LjMzM0wyNTYgODUuMzMzTDI1NiAxNzAuNjY3ek00MjYuNjY3IDE3MC42NjdMMzQxLjMzMyAxNzAuNjY3TDM0MS4zMzMgODUuMzMzTDQyNi42NjcgODUuMzMzTDQyNi42NjcgMTcwLjY2N3pNNTk3LjMzMyAxNzAuNjY3TDUxMiAxNzAuNjY3TDUxMiA4NS4zMzNMNTk3LjMzMyA4NS4zMzNMNTk3LjMzMyAxNzAuNjY3ek03NjggMTcwLjY2N0w2ODIuNjY3IDE3MC42NjdMNjgyLjY2NyA4NS4zMzNMNzY4IDg1LjMzM0w3NjggMTcwLjY2N3pNOTM4LjY2NyA4NS4zMzNMOTM4LjY2NyAyNTZMODUzLjMzMyAyNTZMODUzLjMzMyA4NS4zMzNMOTM4LjY2NyA4NS4zMzN6TTE3MC42NjcgMzQxLjMzM0w4NS4zMzMgMzQxLjMzM0w4NS4zMzMgMjU2TDE3MC42NjcgMjU2TDE3MC42NjcgMzQxLjMzM3pNOTM4LjY2NyA0MjYuNjY3TDg1My4zMzMgNDI2LjY2N0w4NTMuMzMzIDM0MS4zMzNMOTM4LjY2NyAzNDEuMzMzTDkzOC42NjcgNDI2LjY2N3pNMTcwLjY2NyA1MTJMODUuMzMzIDUxMkw4NS4zMzMgNDI2LjY2N0wxNzAuNjY3IDQyNi42NjdMMTcwLjY2NyA1MTJ6TTkzOC42NjcgNTk3LjMzM0w4NTMuMzMzIDU5Ny4zMzNMODUzLjMzMyA1MTJMOTM4LjY2NyA1MTJMOTM4LjY2NyA1OTcuMzMzek0xNzAuNjY3IDY4Mi42NjdMODUuMzMzIDY4Mi42NjdMODUuMzMzIDU5Ny4zMzNMMTcwLjY2NyA1OTcuMzMzTDE3MC42NjcgNjgyLjY2N3pNOTM4LjY2NyA3NjhMODUzLjMzMyA3NjhMODUzLjMzMyA2ODIuNjY3TDkzOC42NjcgNjgyLjY2N0w5MzguNjY3IDc2OHpNODUuMzMzIDkzOC42NjdMODUuMzMzIDc2OEwxNzAuNjY3IDc2OEwxNzAuNjY3IDkzOC42NjdMODUuMzMzIDkzOC42Njd6TTM0MS4zMzMgOTM4LjY2N0wyNTYgOTM4LjY2N0wyNTYgODUzLjMzM0wzNDEuMzMzIDg1My4zMzNMMzQxLjMzMyA5MzguNjY3ek01MTIgOTM4LjY2N0w0MjYuNjY3IDkzOC42NjdMNDI2LjY2NyA4NTMuMzMzTDUxMiA4NTMuMzMzTDUxMiA5MzguNjY3ek02ODIuNjY3IDkzOC42NjdMNTk3LjMzMyA5MzguNjY3TDU5Ny4zMzMgODUzLjMzM0w2ODIuNjY3IDg1My4zMzNMNjgyLjY2NyA5MzguNjY3ek05MzguNjY3IDkzOC42NjdMNzY4IDkzOC42NjdMNzY4IDg1My4zMzNMOTM4LjY2NyA4NTMuMzMzTDkzOC42NjcgOTM4LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1wYXN0ZWYwYjI4LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMjg7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTQ2OS4zMzMgOTYwQzUwNy4yNDQgOTYwIDU0MS4zMDUgOTQzLjUxOSA1NjQuNzQzIDkxNy4zMzFMNjYxLjMzMyA5MTcuMzMzTDY2MS4zMzMgODUzLjMzM0w4MzIgODUzLjMzM0w4MzIgNzA0TDc0Ni42NjcgNzA0TDc0Ni42NjcgNzY4TDY2MS4zMzMgNzY4TDY2MS4zMzMgNzA0TDI3Ny4zMzMgNzA0TDI3Ny4zMzMgNzY4TDE5MiA3NjhMMTkyIDE0OS4zMzNMMjc3LjMzMyAxNDkuMzMzTDI3Ny4zMzMgNjRMMTA2LjY2NyA2NEwxMDYuNjY3IDg1My4zMzNMMjc3LjMzMyA4NTMuMzMzTDI3Ny4zMzMgOTE3LjMzM0wzNzMuOTI0IDkxNy4zMzFDMzk3LjM2MSA5NDMuNTE5IDQzMS40MjMgOTYwIDQ2OS4zMzMgOTYwek05MTcuMzMzIDYxOC42NjdMOTE3LjMzMyA2NEwzNjIuNjY3IDY0TDM2Mi42NjcgNjE4LjY2N0w5MTcuMzMzIDYxOC42Njd6TTgzMiA1MzMuMzMzTDQ0OCA1MzMuMzMzTDQ0OCAxNDkuMzMzTDgzMiAxNDkuMzMzTDgzMiA1MzMuMzMzek00NjkuMzMzIDg3NC42NjdDNDQ1Ljc2OSA4NzQuNjY3IDQyNi42NjcgODU1LjU2NCA0MjYuNjY3IDgzMkwzNjIuNjY3IDgzMkwzNjIuNjY3IDc4OS4zMzNMNTc2IDc4OS4zMzNMNTc2IDgzMkw1MTIgODMyQzUxMiA4NTUuNTY0IDQ5Mi44OTcgODc0LjY2NyA0NjkuMzMzIDg3NC42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZmlsZXdvcmRmMGIyOS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjI5OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE02OTIuNjc2IDk2MEw4NzQuNjY3IDcyOS40NzlMODc0LjY2NyAzMjBMNzg5LjMzMyAzMjBMNzg5LjMzMyA2NDBMNTk3LjMzMyA2NDBMNTk3LjMzMyA4NzQuNjY3TDIzNC42NjcgODc0LjY2N0wyMzQuNjY3IDE0OS4zMzNMNDQ4IDE0OS4zMzNMNDQ4IDY0TDE0OS4zMzMgNjRMMTQ5LjMzMyA5NjBMNjkyLjY3NiA5NjB6TTU5Ny4zMzMgMjM0LjY2N0M2MzEuNDE3IDIzNC42NjcgNjU5LjI3OCAyMDguMDIzIDY2MS4yMjUgMTc0LjQyN0w2NjEuMzMzIDE3MC42NjdMNjYxLjMzMyAxMjhDNjYxLjMzMyA5My45MTYgNjM0LjY5IDY2LjA1NSA2MDEuMDk0IDY0LjEwOUw1OTcuMzMzIDY0TDUzMy4zMzMgNjRMNTMzLjMzMyAyMzQuNjY3TDU5Ny4zMzMgMjM0LjY2N3pNNzQ2LjY2NyAyMzQuNjY3Qzc4MC43NTEgMjM0LjY2NyA4MDguNjExIDIwOC4wMjMgODEwLjU1OCAxNzQuNDI3TDgxMC42NjcgMTcwLjY2N0w4MTAuNjY3IDEyOEM4MTAuNjY3IDkyLjY1NCA3ODIuMDEzIDY0IDc0Ni42NjcgNjRDNzEyLjU4MyA2NCA2ODQuNzIyIDkwLjY0NCA2ODIuNzc1IDEyNC4yNEw2ODIuNjY3IDEyOEw2ODIuNjY3IDE3MC42NjdDNjgyLjY2NyAyMDYuMDEzIDcxMS4zMiAyMzQuNjY3IDc0Ni42NjcgMjM0LjY2N3pNODk2IDIzNC42NjdDOTE4LjQ3NCAyMzQuNjY3IDkzOC4yNDIgMjIzLjA4MyA5NDkuNjYgMjA1LjU2TDkxNS4yOTYgMTc5Ljc3N0M5MTEuODc5IDE4Ny4wMDIgOTA0LjUyMyAxOTIgODk2IDE5MkM4ODUuMDYgMTkyIDg3Ni4wNDMgMTgzLjc2NCA4NzQuODEgMTczLjE1NUw4NzQuNjY3IDE3MC42NjdMODc0LjY2NyAxMjhDODc0LjY2NyAxMTYuMjE4IDg4NC4yMTggMTA2LjY2NyA4OTYgMTA2LjY2N0M5MDQuNTE1IDEwNi42NjcgOTExLjg2NCAxMTEuNjU1IDkxNS4yODYgMTE4Ljg2OUw5NDkuNjYgOTMuMTA2QzkzOC4yNDIgNzUuNTg0IDkxOC40NzQgNjQgODk2IDY0Qzg2MS45MTYgNjQgODM0LjA1NSA5MC42NDQgODMyLjEwOSAxMjQuMjRMODMyIDEyOEw4MzIgMTcwLjY2N0M4MzIgMjA2LjAxMyA4NjAuNjU0IDIzNC42NjcgODk2IDIzNC42Njd6TTU5Ny4zMzMgMTkyTDU3NiAxOTJMNTc2IDEwNi42NjdMNTk3LjMzMyAxMDYuNjY3QzYwOC4yNzQgMTA2LjY2NyA2MTcuMjkxIDExNC45MDIgNjE4LjUyMyAxMjUuNTEyTDYxOC42NjcgMTI4TDYxOC42NjcgMTcwLjY2N0M2MTguNjY3IDE4Mi40NDkgNjA5LjExNSAxOTIgNTk3LjMzMyAxOTJ6TTc0Ni42NjcgMTkyQzczNS43MjYgMTkyIDcyNi43MDkgMTgzLjc2NCA3MjUuNDc3IDE3My4xNTVMNzI1LjMzMyAxNzAuNjY3TDcyNS4zMzMgMTI4QzcyNS4zMzMgMTE2LjIxOCA3MzQuODg1IDEwNi42NjcgNzQ2LjY2NyAxMDYuNjY3Qzc1Ny42MDcgMTA2LjY2NyA3NjYuNjI0IDExNC45MDIgNzY3Ljg1NiAxMjUuNTEyTDc2OCAxMjhMNzY4IDE3MC42NjdDNzY4IDE4Mi40NDkgNzU4LjQ0OSAxOTIgNzQ2LjY2NyAxOTJ6TTY4Mi42NjcgODM0Ljk2NUw2ODIuNjY3IDcyNS4zMzNMNzY5LjIxNiA3MjUuMzMzTDY4Mi42NjcgODM0Ljk2NXoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1hZGRfbGlua2YwYjJhLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMmE7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTI5My45MzQgNjIzLjM5OUwzNTQuMjc0IDU2My4wNTlMMjE1LjYwOCA0MjQuMzkyQzE1NS42ODYgMzY0LjQ3MSAxNTUuNjg2IDI2Ny4zMiAyMTUuNjA4IDIwNy4zOTlDMjc0LjE2NyAxNDguODQgMzY4LjI4MyAxNDcuNTA5IDQyOC40NTkgMjAzLjQwNkw0MzIuNjAxIDIwNy4zOTlMNTcxLjI2OCAzNDYuMDY2TDYzMS42MDggMjg1LjcyNkw0OTIuOTQxIDE0Ny4wNTlDMzk5LjY5NSA1My44MTMgMjQ4LjUxNCA1My44MTMgMTU1LjI2OCAxNDcuMDU5QzYzLjYzIDIzOC42OTcgNjIuMDUgMzg2LjI5IDE1MC41MjggNDc5Ljg1OEwxNTUuMjY4IDQ4NC43MzJMMjkzLjkzNCA2MjMuMzk5ek02MTMuOTM0IDY2Ni4wNjZMNjc0LjI3NCA2MDUuNzI2TDQxOC4yNzQgMzQ5LjcyNkwzNTcuOTM0IDQxMC4wNjZMNjEzLjkzNCA2NjYuMDY2ek04NzYuOTQxIDg2OC43MzJDOTY4LjU3OSA3NzcuMDk0IDk3MC4xNTkgNjI5LjUwMSA4ODEuNjgxIDUzNS45MzNMODc2Ljk0MSA1MzEuMDU5TDczOC4yNzQgMzkyLjM5Mkw2NzcuOTM0IDQ1Mi43MzJMODE2LjYwMSA1OTEuMzk5Qzg3Ni41MjIgNjUxLjMyIDg3Ni41MjIgNzQ4LjQ3MSA4MTYuNjAxIDgwOC4zOTJDNzU4LjA0MiA4NjYuOTUyIDY2My45MjUgODY4LjI4MyA2MDMuNzUgODEyLjM4NUw1OTkuNjA4IDgwOC4zOTJMNDYwLjk0MSA2NjkuNzI2TDQwMC42MDEgNzMwLjA2Nkw1MzkuMjY4IDg2OC43MzJDNjMyLjUxNCA5NjEuOTc4IDc4My42OTUgOTYxLjk3OCA4NzYuOTQxIDg2OC43MzJ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZmRlbGV0ZV9saW5rZjBiMmItZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIyYjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMjQ1Ljg0NCA2MjEuMTgyTDMxNS43NDUgNTcyLjIzN0wyMDMuMjY1IDQxMS41OThDMTU0LjY1OSAzNDIuMTgyIDE3MS41MjkgMjQ2LjUwNyAyNDAuOTQ1IDE5Ny45MDFDMzA4Ljc4NCAxNTAuNCA0MDEuNzAxIDE2NS40MzMgNDUxLjI1NiAyMzAuOTNMNDU0LjY0MiAyMzUuNTgyTDU2Ny4xMjMgMzk2LjIyMUw2MzcuMDI0IDM0Ny4yNzZMNTI0LjU0MyAxODYuNjM2QzQ0OC45MDYgNzguNjE1IDMwMC4wMjEgNTIuMzYzIDE5MiAxMjhDODUuODQxIDIwMi4zMzMgNTguNjU2IDM0Ny40MSAxMjkuNTQyIDQ1NC45MkwxMzMuMzY0IDQ2MC41NDNMMjQ1Ljg0NCA2MjEuMTgyek01ODguNDk3IDY5MS41MDNMNjQ4LjgzNyA2MzEuMTYzTDM5Mi44MzcgMzc1LjE2M0wzMzIuNDk3IDQzNS41MDNMNTg4LjQ5NyA2OTEuNTAzek04OTYuNTc3IDgzMkM5NzAuOTU0IDcyNS43NzkgOTQ2LjgwOSA1ODAuMDQ2IDg0My4yNzQgNTAzLjI5OUw4MzcuOTQxIDQ5OS40NTdMNjc3LjMwMSAzODYuOTc2TDYyOC4zNTYgNDU2Ljg3N0w3ODguOTk1IDU2OS4zNThDODU4LjQxMSA2MTcuOTYzIDg3NS4yODIgNzEzLjYzOSA4MjYuNjc2IDc4My4wNTVDNzc5LjEyNyA4NTAuOTYyIDY4Ni41MzMgODY4LjU4MyA2MTcuNTQzIDgyMy44MTNMNjEyLjk3OSA4MjAuNzM1TDQ1Mi4zNCA3MDguMjU1TDQwMy4zOTUgNzc4LjE1Nkw1NjQuMDM0IDg5MC42MzZDNjcyLjA1NSA5NjYuMjc0IDgyMC45NCA5NDAuMDIxIDg5Ni41NzcgODMyek0xOTIgNzI1LjMzM0wxOTIgNjQwTDY0IDY0MEw2NCA3MjUuMzMzTDE5MiA3MjUuMzMzek0xNTguMTcgOTI2LjE3TDI2NC44MzcgODE5LjUwM0wyMDQuNDk3IDc1OS4xNjNMOTcuODMgODY1LjgzTDE1OC4xNyA5MjYuMTd6TTM4NCA5NjBMMzg0IDgzMkwyOTguNjY3IDgzMkwyOTguNjY3IDk2MEwzODQgOTYweiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXZpZGVvZjBiMmMtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIyYzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNzg5LjMzMyA4NTMuMzMzTDc4OS4zMzMgNzMwLjM4OUw5NjAgODE1LjcwM0w5NjAgMjA4LjI5N0w3ODkuMzMzIDI5My42MzJMNzg5LjMzMyAxNzAuNjY3TDY0IDE3MC42NjdMNjQgODUzLjMzM0w3ODkuMzMzIDg1My4zMzN6TTcwNCA3NjhMMTQ5LjMzMyA3NjhMMTQ5LjMzMyAyNTZMNzA0IDI1Nkw3MDQgNzY4ek04NzQuNjY3IDY3Ny42NTNMNzg5LjMzMyA2MzQuOTg3TDc4OS4zMzMgMzg5LjAzNUw4NzQuNjY3IDM0Ni4zNjhMODc0LjY2NyA2NzcuNjUzek00NDggNjgyLjY2N0w0NDggNTk3LjMzM0wyMzQuNjY3IDU5Ny4zMzNMMjM0LjY2NyA2ODIuNjY3TDQ0OCA2ODIuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWZpbGVfZXhjZWxmMGIyZC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjJkOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE03MjUuMzMzIDIzNC42NjdMNzI1LjMzMyAxMDYuNjY3TDc2OCAxMDYuNjY3TDc2OCA2NEw2ODIuNjY3IDY0TDY4Mi42NjcgMjM0LjY2N0w3MjUuMzMzIDIzNC42Njd6TTg5NiAyMzQuNjY3TDg5NiAxOTJMODMyIDE5Mkw4MzIgMTcwLjY2N0w4OTYgMTQ5LjMzM0w4OTYgNjRMNzg5LjMzMyA2NEw3ODkuMzMzIDEwNi42NjdMODUzLjMzMyAxMDYuNjY3TDg1My4zMzMgMTI4TDc4OS4zMzMgMTQ5LjMzM0w3ODkuMzMzIDIzNC42NjdMODk2IDIzNC42Njd6TTY5Mi42NzYgOTYwTDg3NC42NjcgNzI5LjQ3OUw4NzQuNjY3IDMyMEw3ODkuMzMzIDMyMEw3ODkuMzMzIDY0MEw1OTcuMzMzIDY0MEw1OTcuMzMzIDg3NC42NjdMMjM0LjY2NyA4NzQuNjY3TDIzNC42NjcgMTQ5LjMzM0w0NDggMTQ5LjMzM0w0NDggNjRMMTQ5LjMzMyA2NEwxNDkuMzMzIDk2MEw2OTIuNjc2IDk2MHpNNTc2IDIzNC42NjdMNTk3LjMzMyAxOTJMNjE4LjY2NyAyMzQuNjY3TDY2MS4zMzMgMjM0LjY2N0w2MTguNjY3IDE0OS4zMzNMNjYxLjMzMyA2NEw2MTguNjY3IDY0TDU5Ny4zMzMgMTA2LjY2N0w1NzYgNjRMNTMzLjMzMyA2NEw1NzYgMTQ5LjMzM0w1MzMuMzMzIDIzNC42NjdMNTc2IDIzNC42Njd6TTY4Mi42NjcgODM0Ljk2NUw2ODIuNjY3IDcyNS4zMzNMNzY5LjIxNiA3MjUuMzMzTDY4Mi42NjcgODM0Ljk2NXoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1zYXZlZjBiMmUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIyZTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNzExLjAwNiA5MTcuMzMzTDkxNy4zMzMgNzExLjAwNkw5MTcuMzMzIDEwNi42NjdMMTA2LjY2NyAxMDYuNjY3TDEwNi42NjcgOTE3LjMzM0w3MTEuMDA2IDkxNy4zMzN6TTY3NS42NDggODMyTDE5MiA4MzJMMTkyIDE5MkwyNzcuMzMzIDE5MkwyNzcuMzMzIDM2Mi42NjdMNzQ2LjY2NyAzNjIuNjY3TDc0Ni42NjcgMTkyTDgzMiAxOTJMODMyIDY3NS42NDhMNjc1LjY0OCA4MzJ6TTY2MS4zMzMgMjc3LjMzM0wzNjIuNjY3IDI3Ny4zMzNMMzYyLjY2NyAxOTJMNjYxLjMzMyAxOTJMNjYxLjMzMyAyNzcuMzMzek0zNjIuNjY3IDc0Ni42NjdMMzYyLjY2NyA0OTAuNjY3TDI3Ny4zMzMgNDkwLjY2N0wyNzcuMzMzIDc0Ni42NjdMMzYyLjY2NyA3NDYuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXJlYWRmMGIyZi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjJmOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0zODYuMzc4IDg5NkM0MTIuODczIDg5NiA0MzkuMDA0IDg4OS44MzEgNDYyLjcwMiA4NzcuOTgyTDUxMiA4NTMuMzMzTDU2MS4yOTggODc3Ljk4MkM1ODQuOTk2IDg4OS44MzEgNjExLjEyNyA4OTYgNjM3LjYyMiA4OTZMOTYwIDg5Nkw5NjAgMTcwLjY2N0w2MzcuNjIyIDE3MC42NjdDNjExLjEyNyAxNzAuNjY3IDU4NC45OTYgMTY0LjQ5OCA1NjEuMjk4IDE1Mi42NDlMNTEyIDEyOEw0NjIuNzAyIDE1Mi42NDlDNDM5LjAwNCAxNjQuNDk4IDQxMi44NzMgMTcwLjY2NyAzODYuMzc4IDE3MC42NjdMNjQgMTcwLjY2N0w2NCA4OTZMMzg2LjM3OCA4OTZ6TTM4Ni4zNzggODEwLjY2N0wxNDkuMzMzIDgxMC42NjdMMTQ5LjMzMyAyNTZMMzg2LjM3OCAyNTZDNDE0LjY4MyAyNTYgNDQyLjcxMSAyNTEuMzA2IDQ2OS4zNDEgMjQyLjE4NEw0NjkuMzMzIDc3OS4yNjRMNDI0LjU0IDgwMS42NThDNDE0LjM4NCA4MDYuNzM2IDQwMy4zMzQgODA5LjcyNyAzOTIuMDQxIDgxMC40NzlMMzg2LjM3OCA4MTAuNjY3ek04NzQuNjY3IDgxMC42NjdMNjM3LjYyMiA4MTAuNjY3QzYyNi4yNjcgODEwLjY2NyA2MTUuMDQ2IDgwOC40MDEgNjA0LjYxIDgwNC4wMjJMNTk5LjQ2IDgwMS42NThMNTU0LjY2NyA3NzkuMjY0TDU1NC42OCAyNDIuMTkxQzU3OC42MzMgMjUwLjM5NCA2MDMuNzE3IDI1NS4wMTQgNjI5LjExNSAyNTUuODU5TDYzNy42MjIgMjU2TDg3NC42NjcgMjU2TDg3NC42NjcgODEwLjY2N3pNMzg0IDQ5MC42NjdMMzg0IDQwNS4zMzNMMjM0LjY2NyA0MDUuMzMzTDIzNC42NjcgNDkwLjY2N0wzODQgNDkwLjY2N3pNNzg5LjMzMyA0OTAuNjY3TDc4OS4zMzMgNDA1LjMzM0w2NDAgNDA1LjMzM0w2NDAgNDkwLjY2N0w3ODkuMzMzIDQ5MC42Njd6TTM4NCA2NjEuMzMzTDM4NCA1NzZMMjM0LjY2NyA1NzZMMjM0LjY2NyA2NjEuMzMzTDM4NCA2NjEuMzMzek03ODkuMzMzIDY2MS4zMzNMNzg5LjMzMyA1NzZMNjQwIDU3Nkw2NDAgNjYxLjMzM0w3ODkuMzMzIDY2MS4zMzN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7Atc2xpZGVmMGIzMC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjMwOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05MzguNjY3IDk0OS4zMzNMOTM4LjY2NyA4NjRMOTE3LjMzMyA4NjRMOTE3LjMzMyAyNjYuNjY3TDU5My42NjQgMjY2LjY2N0w3MTIuODM3IDE0Ny41MDNMNjUyLjQ5NyA4Ny4xNjNMNTEyIDIyNy42NDhMMzcxLjUwMyA4Ny4xNjNMMzExLjE2MyAxNDcuNTAzTDQzMC4yOTMgMjY2LjY2N0wxMDYuNjY3IDI2Ni42NjdMMTA2LjY2NyA4NjRMODUuMzMzIDg2NEw4NS4zMzMgOTQ5LjMzM0w5MzguNjY3IDk0OS4zMzN6TTgzMiA4NjRMMTkyIDg2NEwxOTIgMzUyTDgzMiAzNTJMODMyIDg2NHpNNjk0LjU1MyA3NjYuMTEyTDc1NC45NTUgNzA1LjgzNUw1MTIuNjY3IDQ2My4wNDdMNDE3LjUwOCA1NTYuMTFMMzI2Ljk3NCA0NjcuNzQ2TDI2Ny4zNjcgNTI4LjgxTDQxNy41NzMgNjc1LjQzTDUxMS45NCA1ODMuMTEyTDY5NC41NTMgNzY2LjExMnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1sYXB0b3BmMGIzMS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjMxOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE04OTYgODk2TDg5NS45OCA0MzMuMTMxTDk5Ni40MzYgMTA2LjY2N0w2OTguMjYzIDEwNi42ODhMNjk4LjI2NiAxMDYuNjY3TDMyNS43MzQgMTA2LjY2N0wzMjUuNzE5IDEwNi42ODhMMjcuNTY0IDEwNi42NjdMMTI3Ljk4IDQzMy4wNjdMMTI4IDg5Nkw4OTYgODk2ek04MjEuODA0IDM4NEwyMDIuMTU2IDM4NEwxNDMuMDgzIDE5MkwzNTIuNzQ4IDE5Mi4wMjFMMzkzLjI5IDMyMEw2MzAuNzEgMzIwTDY3MS4yMzQgMTkyLjAyMUw4ODAuODk2IDE5Mkw4MjEuODA0IDM4NHpNNTY4LjIxMyAyMzQuNjY3TDQ1NS43NjUgMjM0LjY2N0w0NDIuMjIgMTkyLjAyMUw1ODEuNzE5IDE5Mi4wMjFMNTY4LjIxMyAyMzQuNjY3ek04MTAuNjY3IDgxMC42NjdMMjEzLjMzMyA4MTAuNjY3TDIxMy4zMzMgNDY5LjMzM0w4MTAuNjY3IDQ2OS4zMzNMODEwLjY2NyA4MTAuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvZGVfdGFnc2YwYjMyLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiMzI7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTM2Mi42NjcgOTE3LjMzM0wzNjIuNjY3IDgzMkwyNzcuMzMzIDgzMkMyNTQuODQgODMyIDIzNi40MTIgODE0LjU5NSAyMzQuNzg0IDc5Mi41MThMMjM0LjY2NyA3ODkuMzMzTDIzNC42NjcgNTk3LjMzM0MyMzQuNjY3IDU2NS4yIDIyMi44MjYgNTM1LjgzMyAyMDMuMjcgNTEzLjM1NkwyMDIuMDQ4IDUxMkwyMDMuMjcgNTEwLjY0NEMyMjEuODQ4IDQ4OS4yOTEgMjMzLjQ2MyA0NjEuNzE5IDIzNC41NzggNDMxLjQ2NUwyMzQuNjY3IDQyNi42NjdMMjM0LjY2NyAyMzQuNjY3QzIzNC42NjcgMjEyLjE3NCAyNTIuMDcyIDE5My43NDYgMjc0LjE0OSAxOTIuMTE3TDI3Ny4zMzMgMTkyTDM2Mi42NjcgMTkyTDM2Mi42NjcgMTA2LjY2N0wyNzcuMzMzIDEwNi42NjdDMjA4LjI0OCAxMDYuNjY3IDE1MS45NDUgMTYxLjM5OSAxNDkuNDIyIDIyOS44NjhMMTQ5LjMzMyAyMzQuNjY3TDE0OS4zMzMgNDI2LjY2N0MxNDkuMzMzIDQ0OS4xNiAxMzEuOTI4IDQ2Ny41ODggMTA5Ljg1MSA0NjkuMjE2TDEwNi42NjcgNDY5LjMzM0w2NCA0NjkuMzMzTDY0IDU1NC42NjdMMTA2LjY2NyA1NTQuNjY3QzEyOS4xNiA1NTQuNjY3IDE0Ny41ODggNTcyLjA3MiAxNDkuMjE2IDU5NC4xNDlMMTQ5LjMzMyA1OTcuMzMzTDE0OS4zMzMgNzg5LjMzM0MxNDkuMzMzIDg1OC40MTkgMjA0LjA2NiA5MTQuNzIyIDI3Mi41MzUgOTE3LjI0NUwyNzcuMzMzIDkxNy4zMzNMMzYyLjY2NyA5MTcuMzMzek03NDYuNjY3IDkxNy4zMzNMNzUxLjQ2NSA5MTcuMjQ1QzgxOS45MzQgOTE0LjcyMiA4NzQuNjY3IDg1OC40MTkgODc0LjY2NyA3ODkuMzMzTDg3NC42NjcgNzg5LjMzM0w4NzQuNjY3IDU5Ny4zMzNMODc0Ljc4NCA1OTQuMTQ5Qzg3Ni40MTIgNTcyLjA3MiA4OTQuODQgNTU0LjY2NyA5MTcuMzMzIDU1NC42NjdMOTE3LjMzMyA1NTQuNjY3TDk2MCA1NTQuNjY3TDk2MCA0NjkuMzMzTDkxNy4zMzMgNDY5LjMzM0w5MTQuMTQ5IDQ2OS4yMTZDODkyLjA3MiA0NjcuNTg4IDg3NC42NjcgNDQ5LjE2IDg3NC42NjcgNDI2LjY2N0w4NzQuNjY3IDQyNi42NjdMODc0LjY2NyAyMzQuNjY3TDg3NC41NzggMjI5Ljg2OEM4NzIuMDU1IDE2MS4zOTkgODE1Ljc1MiAxMDYuNjY3IDc0Ni42NjcgMTA2LjY2N0w3NDYuNjY3IDEwNi42NjdMNjYxLjMzMyAxMDYuNjY3TDY2MS4zMzMgMTkyTDc0Ni42NjcgMTkyTDc0OS44NTEgMTkyLjExN0M3NzEuOTI4IDE5My43NDYgNzg5LjMzMyAyMTIuMTc0IDc4OS4zMzMgMjM0LjY2N0w3ODkuMzMzIDIzNC42NjdMNzg5LjMzMyA0MjYuNjY3TDc4OS40MjIgNDMxLjQ2NUM3OTAuNTM3IDQ2MS43MTkgODAyLjE1MiA0ODkuMjkxIDgyMC43MyA1MTAuNjQ0TDgyMC43MyA1MTAuNjQ0TDgyMS45NTIgNTEyTDgyMC43MyA1MTMuMzU2QzgwMS4xNzQgNTM1LjgzMyA3ODkuMzMzIDU2NS4yIDc4OS4zMzMgNTk3LjMzM0w3ODkuMzMzIDU5Ny4zMzNMNzg5LjMzMyA3ODkuMzMzTDc4OS4yMTYgNzkyLjUxOEM3ODcuNTg4IDgxNC41OTUgNzY5LjE2IDgzMiA3NDYuNjY3IDgzMkw3NDYuNjY3IDgzMkw2NjEuMzMzIDgzMkw2NjEuMzMzIDkxNy4zMzNMNzQ2LjY2NyA5MTcuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvZGVfYnJhY2VzZjBiMzMtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzMzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMzcxLjUwMyA4MTAuNjY3TDQzMS44NDMgNzUwLjMyN0wxODQuNjkyIDUwMy4xNjNMNDMxLjg0MyAyNTZMMzcxLjUwMyAxOTUuNjZMNjQgNTAzLjE2M0wzNzEuNTAzIDgxMC42Njd6TTY0NS4xNzYgODEwLjY2N0w5NTIuNjggNTAzLjE2M0w2NDUuMTc2IDE5NS42Nkw1ODQuODM3IDI1Nkw4MzEuOTg4IDUwMy4xNjNMNTg0LjgzNyA3NTAuMzI3TDY0NS4xNzYgODEwLjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1zcGxpdF9saW5lZjBiMzQtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzNDsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMjk4LjY2NyAzODRMMjk4LjY2NyAyOTguNjY3TDIxMy4zMzMgMjk4LjY2N0wyMTMuMzMzIDEyOEwxMjggMTI4TDEyOCAzODRMMjk4LjY2NyAzODR6TTg5NiAzODRMODk2IDEyOEw4MTAuNjY3IDEyOEw4MTAuNjY3IDI5OC42NjdMNzI1LjMzMyAyOTguNjY3TDcyNS4zMzMgMzg0TDg5NiAzODR6TTY0MCAzODRMNjQwIDI5OC42NjdMNTU0LjY2NyAyOTguNjY3TDU1NC42NjcgMzg0TDY0MCAzODR6TTQ2OS4zMzMgMzg0TDQ2OS4zMzMgMjk4LjY2N0wzODQgMjk4LjY2N0wzODQgMzg0TDQ2OS4zMzMgMzg0ek05MzguNjY3IDU1NC42NjdMOTM4LjY2NyA0NjkuMzMzTDg1LjMzMyA0NjkuMzMzTDg1LjMzMyA1NTQuNjY3TDkzOC42NjcgNTU0LjY2N3pNMjEzLjMzMyA4OTZMMjEzLjMzMyA3MjUuMzMzTDI5OC42NjcgNzI1LjMzM0wyOTguNjY3IDY0MEwxMjggNjQwTDEyOCA4OTZMMjEzLjMzMyA4OTZ6TTg5NiA4OTZMODk2IDY0MEw3MjUuMzMzIDY0MEw3MjUuMzMzIDcyNS4zMzNMODEwLjY2NyA3MjUuMzMzTDgxMC42NjcgODk2TDg5NiA4OTZ6TTY0MCA3MjUuMzMzTDY0MCA2NDBMNTU0LjY2NyA2NDBMNTU0LjY2NyA3MjUuMzMzTDY0MCA3MjUuMzMzek00NjkuMzMzIDcyNS4zMzNMNDY5LjMzMyA2NDBMMzg0IDY0MEwzODQgNzI1LjMzM0w0NjkuMzMzIDcyNS4zMzN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtaXRhbGljZjBiMzUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzNTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNODEwLjY2NyA5MTcuMzMzTDgxMC42NjcgODMyTDYzMS4wNCA4MzJMNDgwLjQ0OCAxOTJMNjQwIDE5Mkw2NDAgMTA2LjY2N0wyMTMuMzMzIDEwNi42NjdMMjEzLjMzMyAxOTJMMzkyLjkzOSAxOTJMNTQzLjUwOSA4MzJMMzg0IDgzMkwzODQgOTE3LjMzM0w4MTAuNjY3IDkxNy4zMzN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtdGV4dF9jb2xvcl9maWxsZjBiMzYtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzNjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNTU0LjY2NyA5MTcuMzMzTDg5NiAxMDYuNjY3TDgxMC42NjcgMTA2LjY2N0w3MjkuODM1IDI5OC42NjdMMjk0LjE2NSAyOTguNjY3TDIxMy4zMzMgMTA2LjY2N0wxMjggMTA2LjY2N0w0NjkuMzMzIDkxNy4zMzNMNTU0LjY2NyA5MTcuMzMzek01MTIgODE2TDMzMC4xMTIgMzg0TDY5My44ODggMzg0TDUxMiA4MTZ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtdW5kZXJsaW5lZjBiMzctZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzNzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNODc0LjY2NyAxOTJMODc0LjY2NyAxMDYuNjY3TDE0OS4zMzMgMTA2LjY2N0wxNDkuMzMzIDE5Mkw4NzQuNjY3IDE5MnpNMjk4LjY2NyA5MTcuMzMzTDI5OC42NjcgNTc2QzI5OC42NjcgNDU4LjE3OSAzOTQuMTc5IDM2Mi42NjcgNTEyIDM2Mi42NjdDNjI3LjgyNCAzNjIuNjY3IDcyMi4wODkgNDU0Ljk2OSA3MjUuMjUxIDU3MC4wMjlMNzI1LjMzMyA1NzZMNzI1LjMzMyA5MTcuMzMzTDgxMC42NjcgOTE3LjMzM0w4MTAuNjY3IDU3NkM4MTAuNjY3IDQxMS4wNTEgNjc2Ljk0OSAyNzcuMzMzIDUxMiAyNzcuMzMzQzM0OS4yOCAyNzcuMzMzIDIxNi45NTMgNDA3LjQ2MSAyMTMuNDA2IDU2OS4zM0wyMTMuMzMzIDU3NkwyMTMuMzMzIDkxNy4zMzNMMjk4LjY2NyA5MTcuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXN0cmlrZXRocm91Z2hmMGIzOC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjM4OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0xMDYuNjY3IDQyNi42NjdMMTA2LjY2NyA1MTJMOTE3LjMzMyA1MTJMOTE3LjMzMyA0MjYuNjY3TDU1NC42NjcgNDI2LjY2N0w1NTQuNjY3IDE5Mkw2ODIuNjY3IDE5Mkw2ODIuNjY3IDEwNi42NjdMMzQxLjMzMyAxMDYuNjY3TDM0MS4zMzMgMTkyTDQ2OS4zMzMgMTkyTDQ2OS4zMzMgNDI2LjY2N0wxMDYuNjY3IDQyNi42Njd6TTg3NC42NjcgOTE3LjMzM0w4NzQuNjY3IDY4Mi42NjdMNzg5LjMzMyA2ODIuNjY3TDc4OS4zMzMgODMyTDU1NC42NjcgODMyTDU1NC42NjcgNTk3LjMzM0w0NjkuMzMzIDU5Ny4zMzNMNDY5LjMzMyA4MzJMMjM0LjY2NyA4MzJMMjM0LjY2NyA2ODIuNjY3TDE0OS4zMzMgNjgyLjY2N0wxNDkuMzMzIDkxNy4zMzNMODc0LjY2NyA5MTcuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXF1b3RlZjBiMzktZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzOTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNDY5LjMzMyA5MTcuMzMzTDQ2OS4zMzMgODMyTDMyMCA4MzJDMjUwLjkxNCA4MzIgMTk0LjYxMiA3NzcuMjY4IDE5Mi4wODggNzA4Ljc5OUwxOTIgNzA0TDE5MiA1NTQuNjY3TDQ2OS4zMzMgNTU0LjY2N0w0NjkuMzMzIDEwNi42NjdMMTA2LjY2NyAxMDYuNjY3TDEwNi42NjcgNzA0QzEwNi42NjcgODE5LjgyNCAxOTguOTY5IDkxNC4wODkgMzE0LjAyOSA5MTcuMjUxTDMyMCA5MTcuMzMzTDQ2OS4zMzMgOTE3LjMzM3pNOTE3LjMzMyA5MTcuMzMzTDkxNy4zMzMgODMyTDc2OCA4MzJDNjk4LjkxNCA4MzIgNjQyLjYxMiA3NzcuMjY4IDY0MC4wODggNzA4Ljc5OUw2NDAgNzA0TDY0MCA1NTQuNjY3TDkxNy4zMzMgNTU0LjY2N0w5MTcuMzMzIDEwNi42NjdMNTU0LjY2NyAxMDYuNjY3TDU1NC42NjcgNzA0QzU1NC42NjcgODE5LjgyNCA2NDYuOTY5IDkxNC4wODkgNzYyLjAyOSA5MTcuMjUxTDc2OCA5MTcuMzMzTDkxNy4zMzMgOTE3LjMzM3pNMzg0IDQ2OS4zMzNMMTkyIDQ2OS4zMzNMMTkyIDE5MkwzODQgMTkyTDM4NCA0NjkuMzMzek04MzIgNDY5LjMzM0w2NDAgNDY5LjMzM0w2NDAgMTkyTDgzMiAxOTJMODMyIDQ2OS4zMzN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtdGV4dF9jb2xvcmYwYjNhLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiM2E7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTU1NC42NjcgOTM4LjY2N0w4MTAuNjY3IDI1Nkw3MjUuMzMzIDI1Nkw2NzcuMzMzIDM4NEwzNDYuNjY3IDM4NEwyOTguNjY3IDI1NkwyMTMuMzMzIDI1Nkw0NjkuMzMzIDkzOC42NjdMNTU0LjY2NyA5MzguNjY3ek01MTIgODI0Ljg5NkwzNzguNjY3IDQ2OS4zMzNMNjQ1LjMzMyA0NjkuMzMzTDUxMiA4MjQuODk2eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNlbGxfY29sb3JfZmlsbGYwYjNiLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiM2I7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTM1OS4wMDYgOTM4LjY2N0w4ODEuNzM4IDQxNS45MzVMNjgyLjAzNiAzMzAuMzU5TDQyMy4wMDYgNzEuMzJMNjQgNDMwLjMyN0w0MDUuMzIxIDc3MS42NkwzNTkuMDA2IDgxNy45NzVMMjE4LjUxIDY3Ny40OUwxNTguMTcgNzM3LjgzTDM1OS4wMDYgOTM4LjY2N3pNODQ5LjY3MyAzNDYuNTFMOTI1LjA5OCAyNzEuMDg1TDkyOC4zIDI2Ny43NDNDOTY2LjcyNSAyMjUuODkyIDk2NS42NTggMTYwLjc5NSA5MjUuMDk4IDEyMC4yMzVDODgzLjQ0MiA3OC41OCA4MTUuOTA0IDc4LjU4IDc3NC4yNDggMTIwLjIzNUM3MzMuODU1IDE2MC42MjkgNzMyLjYzMSAyMjUuMzYgNzcwLjU3NiAyNjcuMjI4TDc3NC4yNDggMjcxLjA4NUw4NDkuNjczIDM0Ni41MXpNNDY1LjY3MyA3MTEuMzA4TDE4NC42OTIgNDMwLjMyN0w0MjMuMDA2IDE5Mi4wMTJMNjMzLjMxMyA0MDIuMzA3TDczMi4yNTQgNDQ0LjcyN0w0NjUuNjczIDcxMS4zMDh6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZm9ybWF0X2NsZWFyZjBiM2MtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzYzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMTY3LjAwNiA5MTcuMzMzTDkzNS4wMDYgMTQ5LjMzM0w4NzQuNjY3IDg4Ljk5NEw1NjMuNDc3IDQwMC4xOTJMNTYzLjUwMyAxODMuMTYzTDY5MS41MDMgMTgzLjE2M0w2OTEuNTAzIDk3LjgzTDM1MC4xNyA5Ny44M0wzNTAuMTcgMTgzLjE2M0w0NzguMTcgMTgzLjE2M0w0NzguMTQ0IDQ4NS41MjVMMjQzLjQ3NyA3MjAuMTkyTDI0My41MDMgNjczLjgzTDE1OC4xNyA2NzMuODNMMTU4LjE0NCA4MDUuNTI1TDEwNi42NjcgODU2Ljk5NEwxNjcuMDA2IDkxNy4zMzN6TTI5Ni40ODIgOTA4LjUxTDg4My41MDMgOTA4LjQ5N0w4ODMuNTAzIDY3My44M0w3OTguMTcgNjczLjgzTDc5OC4xNyA4MjMuMTYzTDU2My41MDMgODIzLjE2M0w1NjMuNDkgNjQxLjUwMkw0NzguMTU2IDcyNi44MzZMNDc4LjE3IDgyMy4xNjNMMzgxLjgxNSA4MjMuMTc3TDI5Ni40ODIgOTA4LjUxeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWJvbGRmMGIzZC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjNkOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0xNzAuNjY3IDkxNy4zMzNMNTc2IDkxNy4zMzNDNjkzLjgyMSA5MTcuMzMzIDc4OS4zMzMgODIxLjgyMSA3ODkuMzMzIDcwNEM3ODkuMzMzIDY0My44OSA3NjQuNDczIDU4OS41ODcgNzI0LjQ3NCA1NTAuODExQzgwMC45MjQgNTEyLjE2NSA4NTMuMzMzIDQzMi44NyA4NTMuMzMzIDM0MS4zMzNDODUzLjMzMyAyMTEuNzMxIDc0OC4yNjkgMTA2LjY2NyA2MTguNjY3IDEwNi42NjdMNjE4LjY2NyAxMDYuNjY3TDE3MC42NjcgMTA2LjY2N0wxNzAuNjY3IDkxNy4zMzN6TTYxOC42NjcgNDkwLjY2N0wyNTYgNDkwLjY2N0wyNTYgMTkyTDYxOC42NjcgMTkyQzcwMS4xNDEgMTkyIDc2OCAyNTguODU5IDc2OCAzNDEuMzMzQzc2OCA0MjMuODA4IDcwMS4xNDEgNDkwLjY2NyA2MTguNjY3IDQ5MC42NjdMNjE4LjY2NyA0OTAuNjY3ek01NzYgODMyTDI1NiA4MzJMMjU2IDU3Nkw1NzYgNTc2QzY0Ni42OTIgNTc2IDcwNCA2MzMuMzA4IDcwNCA3MDRDNzA0IDc3NC42OTIgNjQ2LjY5MiA4MzIgNTc2IDgzMkw1NzYgODMyeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWVudGVyZjBiM2UtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzZTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTYwIDg3NC42NjdMOTYwIDM0MS4zMzNMMjIwLjYzNiAzNDEuMzMzTDM1OS4wMDYgMjAyLjk4MUwyOTguNjY3IDE0Mi42NDFMNTcuMzA4IDM4NEwyOTguNjY3IDYyNS4zNTlMMzU5LjAwNiA1NjUuMDE5TDIyMC42MzYgNDI2LjY2N0w4NzQuNjY3IDQyNi42NjdMODc0LjY2NyA3ODkuMzMzTDU5Ny4zMzMgNzg5LjMzM0w1OTcuMzMzIDg3NC42NjdMOTYwIDg3NC42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtY2xlYXJfZm9ybWF0ZjBiM2YtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGIzZjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNjg5LjMxNSA5MzIuMjk5TDEwMTUuMDk4IDQ5OS45NzFMNjgyLjYyNyAyNDkuNDc0TDYyOC40NyAyMTEuODA4TDk1MC43MjcgMjExLjc5N0w5NTAuNzI3IDEyNi40NjRMNTE5LjgxOSAxMjYuNDc1TDUxOS43NTUgMTI2LjQwM0wyNTguMTQ2IDEyNi40MjNMMjYuOTc3IDQzMy4xOTZMMjQwLjU3NCA1OTQuMTQ4TDY4OS4zMTUgOTMyLjI5OXpNMjk0LjMwNSA1MjcuODE5TDE0Ni40NzUgNDE2LjQwNUwzMDAuNjQxIDIxMS44MDhMNDg5LjgwMyAyMTEuODA4TDUyNi40NzUgMjQxLjE2M0wyOTQuMzA1IDUyNy44MTl6TTY3Mi40OTEgODEyLjhMMzYyLjQ5NiA1NzkuMTc5TDU5NC44NTkgMjkyLjM1Mkw2MzIuNTc1IDMxOC41NjhMODk1LjU3MyA1MTYuNzc5TDY3Mi40OTEgODEyLjh6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZm9ybWF0X2JydXNoZjBiNDAtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI0MDsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNzY4IDUxMkw4NS4zMzMgNTEyTDg1LjMzMyA5MTcuMzMzTDc2OCA5MTcuMzMzTDc2OCA3NjhMOTYwIDc2OEw5NjAgMzQxLjMzM0w0NDggMjY4LjE4MUw0NDggNjRMMzYyLjY2NyA2NEwzNjIuNjY3IDM0MS4zMzNMODc0LjY2NyA0MTQuNDg1TDg3NC42NjcgNjgyLjY2N0w3NjggNjgyLjY2N0w3NjggNTEyek02ODIuNjY3IDgzMkwxNzAuNjY3IDgzMkwxNzAuNjY3IDU5Ny4zMzNMNjgyLjY2NyA1OTcuMzMzTDY4Mi42NjcgODMyeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvbG9yX2ZpbGxmMGI0MS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjQxOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0zNTkuMDA2IDk2MEw3OTYuNDA1IDUyMi42MDJMNTk2LjcwMiA0MzcuMDI2TDQwMS42NzMgMjQxLjk4N0wxMjggNTE1LjY2TDQwNS4zMjEgNzkyLjk5NEwzNTkuMDA2IDgzOS4zMDhMMjYxLjE3NiA3NDEuNDlMMjAwLjgzNyA4MDEuODNMMzU5LjAwNiA5NjB6TTgyOC4zNCA0NjUuNjczTDg4OC42OCA0MDUuMzMzTDg5MS42MTcgNDAyLjI0OEM5MjEuOTc0IDM2OC43NTMgOTIwLjk5NCAzMTYuOTY5IDg4OC42OCAyODQuNjU0Qzg1NS4zNTUgMjUxLjMyOSA4MDEuMzI1IDI1MS4zMjkgNzY4IDI4NC42NTRDNzM1Ljc4NiAzMTYuODY4IDczNC43MTIgMzY4LjQzIDc2NC43NzkgNDAxLjkzM0w3NjggNDA1LjMzM0w4MjguMzQgNDY1LjY3M3pNNDY1LjY3MyA3MzIuNjQyTDI0OC42OTIgNTE1LjY2TDQwMS42NzMgMzYyLjY3OUw1NDcuOTggNTA4Ljk3NEw2NDYuOTIxIDU1MS4zOTRMNDY1LjY3MyA3MzIuNjQyeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWNvbWJpbmVmMGI0Mi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjQyOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE00NjkuMzMzIDkzOC42NjdMNDY5LjMzMyA3MjUuMzMzTDM4NCA3MjUuMzMzTDM4NCA4NTMuMzMzTDE3MC42NjcgODUzLjMzM0wxNzAuNjY3IDE3MC42NjdMMzg0IDE3MC42NjdMMzg0IDI5OC42NjdMNDY5LjMzMyAyOTguNjY3TDQ2OS4zMzMgODUuMzMzTDg1LjMzMyA4NS4zMzNMODUuMzMzIDkzOC42NjdMNDY5LjMzMyA5MzguNjY3ek05MzguNjY3IDkzOC42NjdMOTM4LjY2NyA4NS4zMzNMNTU0LjY2NyA4NS4zMzNMNTU0LjY2NyAyOTguNjY3TDY0MCAyOTguNjY3TDY0MCAxNzAuNjY3TDg1My4zMzMgMTcwLjY2N0w4NTMuMzMzIDg1My4zMzNMNjQwIDg1My4zMzNMNjQwIDcyNS4zMzNMNTU0LjY2NyA3MjUuMzMzTDU1NC42NjcgOTM4LjY2N0w5MzguNjY3IDkzOC42Njd6TTY0OS44ODkgNjY3LjMxNUw3MTUuNDQ0IDYxMi42ODVMNjY3LjA4NCA1NTQuNjc1TDgxMC42NjcgNTU0LjY2N0w4MTAuNjY3IDQ2OS4zMzNMNjY3LjA4NCA0NjkuMzQxTDcxNS40NDQgNDExLjMxNUw2NDkuODg5IDM1Ni42ODVMNTIwLjQ2IDUxMkw2NDkuODg5IDY2Ny4zMTV6TTM3NC4xMTEgNjY3LjMxNUw1MDMuNTQgNTEyTDM3NC4xMTEgMzU2LjY4NUwzMDguNTU2IDQxMS4zMTVMMzU2Ljg4NSA0NjkuMzQxTDIxMy4zMzMgNDY5LjMzM0wyMTMuMzMzIDU1NC42NjdMMzU2Ljg4NSA1NTQuNjc1TDMwOC41NTYgNjEyLjY4NUwzNzQuMTExIDY2Ny4zMTV6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7Atc3BsaXRmMGI0My1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjQzOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE00NjkuMzMzIDkzOC42NjdMNDY5LjMzMyA4NS4zMzNMODUuMzMzIDg1LjMzM0w4NS4zMzMgMjk4LjY2N0wxNzAuNjY3IDI5OC42NjdMMTcwLjY2NyAxNzAuNjY3TDM4NCAxNzAuNjY3TDM4NCA4NTMuMzMzTDE3MC42NjcgODUzLjMzM0wxNzAuNjY3IDcyNS4zMzNMODUuMzMzIDcyNS4zMzNMODUuMzMzIDkzOC42NjdMNDY5LjMzMyA5MzguNjY3ek05MzguNjY3IDkzOC42NjdMOTM4LjY2NyA3MjUuMzMzTDg1My4zMzMgNzI1LjMzM0w4NTMuMzMzIDg1My4zMzNMNjQwIDg1My4zMzNMNjQwIDE3MC42NjdMODUzLjMzMyAxNzAuNjY3TDg1My4zMzMgMjk4LjY2N0w5MzguNjY3IDI5OC42NjdMOTM4LjY2NyA4NS4zMzNMNTU0LjY2NyA4NS4zMzNMNTU0LjY2NyA5MzguNjY3TDkzOC42NjcgOTM4LjY2N3pNMTgwLjU1NiA2NjcuMzE1TDI0Ni4xMTEgNjEyLjY4NUwxOTcuNzUxIDU1NC42NzVMMzQxLjMzMyA1NTQuNjY3TDM0MS4zMzMgNDY5LjMzM0wxOTcuNzUxIDQ2OS4zNDFMMjQ2LjExMSA0MTEuMzE1TDE4MC41NTYgMzU2LjY4NUw1MS4xMjcgNTEyTDE4MC41NTYgNjY3LjMxNXpNODQzLjQ0NCA2NjcuMzE1TDk3Mi44NzMgNTEyTDg0My40NDQgMzU2LjY4NUw3NzcuODg5IDQxMS4zMTVMODI2LjIxOSA0NjkuMzQxTDY4Mi42NjcgNDY5LjMzM0w2ODIuNjY3IDU1NC42NjdMODI2LjIxOSA1NTQuNjc1TDc3Ny44ODkgNjEyLjY4NUw4NDMuNDQ0IDY2Ny4zMTV6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtYWRkX2NvbF9iZWZvcmVmMGI0NC1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjQ0OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0yMTMuMzMzIDg1LjMzM0wyMTMuMzMzIDUxMkwyOTguNjY3IDUxMkwyOTguNjY3IDE3MC42NjdMNTEyIDE3MC42NjdMNTEyIDkzOC42NjdMODk2IDkzOC42NjdMODk2IDg1LjMzM0wyMTMuMzMzIDg1LjMzM3pNNTk3LjMzMyAxNzAuNjY3TDgxMC42NjcgMTcwLjY2N0w4MTAuNjY3IDg1My4zMzNMNTk3LjMzMyA4NTMuMzMzTDU5Ny4zMzMgMTcwLjY2N3pNMjk4LjY2NyA5MzguNjY3TDI5OC42NjcgODEwLjY2N0w0MjYuNjY3IDgxMC42NjdMNDI2LjY2NyA3MjUuMzMzTDI5OC42NjcgNzI1LjMzM0wyOTguNjY3IDU5Ny4zMzNMMjEzLjMzMyA1OTcuMzMzTDIxMy4zMzMgNzI1LjMzM0w4NS4zMzMgNzI1LjMzM0w4NS4zMzMgODEwLjY2N0wyMTMuMzMzIDgxMC42NjdMMjEzLjMzMyA5MzguNjY3TDI5OC42NjcgOTM4LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1hZGRfY29sX2FmdGVyZjBiNDUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI0NTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNTEyIDE3MC42NjdMNzI1LjMzMyAxNzAuNjY3TDcyNS4zMzMgNTEyTDgxMC42NjcgNTEyTDgxMC42NjcgODUuMzMzTDEyOCA4NS4zMzNMMTI4IDkzOC42NjdMNTEyIDkzOC42NjdMNTEyIDE3MC42Njd6TTQyNi42NjcgODUzLjMzM0wyMTMuMzMzIDg1My4zMzNMMjEzLjMzMyAxNzAuNjY3TDQyNi42NjcgMTcwLjY2N0w0MjYuNjY3IDg1My4zMzN6TTgxMC42NjcgOTM4LjY2N0w4MTAuNjY3IDgxMC42NjdMOTM4LjY2NyA4MTAuNjY3TDkzOC42NjcgNzI1LjMzM0w4MTAuNjY3IDcyNS4zMzNMODEwLjY2NyA1OTcuMzMzTDcyNS4zMzMgNTk3LjMzM0w3MjUuMzMzIDcyNS4zMzNMNTk3LjMzMyA3MjUuMzMzTDU5Ny4zMzMgODEwLjY2N0w3MjUuMzMzIDgxMC42NjdMNzI1LjMzMyA5MzguNjY3TDgxMC42NjcgOTM4LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1hZGRfcm93X2Fib3ZlZjBiNDYtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI0NjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMjk4LjY2NyA0MjYuNjY3TDI5OC42NjcgMjk4LjY2N0w0MjYuNjY3IDI5OC42NjdMNDI2LjY2NyAyMTMuMzMzTDI5OC42NjcgMjEzLjMzM0wyOTguNjY3IDg1LjMzM0wyMTMuMzMzIDg1LjMzM0wyMTMuMzMzIDIxMy4zMzNMODUuMzMzIDIxMy4zMzNMODUuMzMzIDI5OC42NjdMMjEzLjMzMyAyOTguNjY3TDIxMy4zMzMgNDI2LjY2N0wyOTguNjY3IDQyNi42Njd6TTkzOC42NjcgODk2TDkzOC42NjcgMjEzLjMzM0w1MTIgMjEzLjMzM0w1MTIgMjk4LjY2N0w4NTMuMzMzIDI5OC42NjdMODUzLjMzMyA1MTJMODUuMzMzIDUxMkw4NS4zMzMgODk2TDkzOC42NjcgODk2ek04NTMuMzMzIDgxMC42NjdMMTcwLjY2NyA4MTAuNjY3TDE3MC42NjcgNTk3LjMzM0w4NTMuMzMzIDU5Ny4zMzNMODUzLjMzMyA4MTAuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWFkZF9yb3dfYmVsb3dmMGI0Ny1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjQ3OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05MzguNjY3IDgxMC42NjdMOTM4LjY2NyAxMjhMODUuMzMzIDEyOEw4NS4zMzMgNTEyTDg1My4zMzMgNTEyTDg1My4zMzMgNzI1LjMzM0w1MTIgNzI1LjMzM0w1MTIgODEwLjY2N0w5MzguNjY3IDgxMC42Njd6TTg1My4zMzMgNDI2LjY2N0wxNzAuNjY3IDQyNi42NjdMMTcwLjY2NyAyMTMuMzMzTDg1My4zMzMgMjEzLjMzM0w4NTMuMzMzIDQyNi42Njd6TTI5OC42NjcgOTM4LjY2N0wyOTguNjY3IDgxMC42NjdMNDI2LjY2NyA4MTAuNjY3TDQyNi42NjcgNzI1LjMzM0wyOTguNjY3IDcyNS4zMzNMMjk4LjY2NyA1OTcuMzMzTDIxMy4zMzMgNTk3LjMzM0wyMTMuMzMzIDcyNS4zMzNMODUuMzMzIDcyNS4zMzNMODUuMzMzIDgxMC42NjdMMjEzLjMzMyA4MTAuNjY3TDIxMy4zMzMgOTM4LjY2N0wyOTguNjY3IDkzOC42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZGVsZXRlX3Jvd2YwYjQ4LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNDg7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTE3OS41MDMgOTA0LjgzN0w5MDQuODM3IDE3OS41MDNMODQ0LjQ5NyAxMTkuMTYzTDY2NC45NiAyOTguNjkzTDg1LjMzMyAyOTguNjY3TDg1LjMzMyA3MjUuMzMzTDIzOC4yOTMgNzI1LjM1OUwxMTkuMTYzIDg0NC40OTdMMTc5LjUwMyA5MDQuODM3ek00NzkuNjM3IDcyNS4zNDdMOTM4LjY2NyA3MjUuMzMzTDkzOC42NjcgMjk4LjY2N0w5MDYuMzI1IDI5OC42OEw4MjAuOTkyIDM4NC4wMTRMODUzLjMzMyAzODRMODUzLjMzMyA2NDBMNTY0Ljk3MSA2NDAuMDE0TDQ3OS42MzcgNzI1LjM0N3pNMzIzLjYyNyA2NDAuMDI2TDE3MC42NjcgNjQwTDE3MC42NjcgMzg0TDU3OS42MjcgMzg0LjAyNkwzMjMuNjI3IDY0MC4wMjZ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtZGVsZXRlX2NvbGYwYjQ5LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNDk7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTE3OS41MDMgOTA0LjgzN0w5MDQuODM3IDE3OS41MDNMODQ0LjQ5NyAxMTkuMTYzTDcyNS4zMDcgMjM4LjM1N0w3MjUuMzMzIDg1LjMzM0wyOTguNjY3IDg1LjMzM0wyOTguNjQxIDY2NS4wMjRMMTE5LjE2MyA4NDQuNDk3TDE3OS41MDMgOTA0LjgzN3pNMzgzLjk3NCA1NzkuNjkxTDM4NCAxNzAuNjY3TDY0MCAxNzAuNjY3TDYzOS45NzQgMzIzLjY5MUwzODMuOTc0IDU3OS42OTF6TTcyNS4zMzMgOTM4LjY2N0w3MjUuMzIgNDc5LjcwMUw2MzkuOTg2IDU2NS4wMzVMNjQwIDg1My4zMzNMMzg0IDg1My4zMzNMMzgzLjk4NiA4MjEuMDM1TDI5OC42NTMgOTA2LjM2OEwyOTguNjY3IDkzOC42NjdMNzI1LjMzMyA5MzguNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWRlbGV0ZV90YWJsZWYwYjRhLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNGE7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgOTE3LjMzM0w5MTcuMzMzIDc2OEw4MzIgNzY4TDgzMiA4MzJMNDI2LjY2NyA4MzJMNDI2LjY2NyAxMDYuNjY3TDEwNi42NjcgMTA2LjY2N0wxMDYuNjY3IDkxNy4zMzNMOTE3LjMzMyA5MTcuMzMzek05NjAgNTMzLjMzM0w5NjAgNDQ4TDkxNy4zMzMgNDQ4TDkxNy4zMzMgMTA2LjY2N0w1NTQuNjY3IDEwNi42NjdMNTU0LjY2NyA0NDhMNTEyIDQ0OEw1MTIgNTMzLjMzM0w5NjAgNTMzLjMzM3pNMzQxLjMzMyAzNjIuNjY3TDE5MiAzNjIuNjY3TDE5MiAxOTJMMzQxLjMzMyAxOTJMMzQxLjMzMyAzNjIuNjY3ek04MzIgNDQ4TDY0MCA0NDhMNjQwIDE5Mkw4MzIgMTkyTDgzMiA0NDh6TTM0MS4zMzMgNTk3LjMzM0wxOTIgNTk3LjMzM0wxOTIgNDQ4TDM0MS4zMzMgNDQ4TDM0MS4zMzMgNTk3LjMzM3pNODMyIDY4Mi42NjdMODMyIDU5Ny4zMzNMNjQwIDU5Ny4zMzNMNjQwIDY4Mi42NjdMODMyIDY4Mi42Njd6TTM0MS4zMzMgODMyTDE5MiA4MzJMMTkyIDY4Mi42NjdMMzQxLjMzMyA2ODIuNjY3TDM0MS4zMzMgODMyeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXRhYmxlZjBiNGItZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI0YjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMTA2LjY2NyAxMDYuNjY3TDEwNi42NjcgOTE3LjMzM0w5MTcuMzMzIDkxNy4zMzNMOTE3LjMzMyAxMDYuNjY3TDEwNi42NjcgMTA2LjY2N3pNMzQxLjMzMyAzNjIuNjY3TDE5MiAzNjIuNjY3TDE5MiAxOTJMMzQxLjMzMyAxOTJMMzQxLjMzMyAzNjIuNjY3ek04MzIgMzYyLjY2N0w0MjYuNjY3IDM2Mi42NjdMNDI2LjY2NyAxOTJMODMyIDE5Mkw4MzIgMzYyLjY2N3pNMzQxLjMzMyA1OTcuMzMzTDE5MiA1OTcuMzMzTDE5MiA0NDhMMzQxLjMzMyA0NDhMMzQxLjMzMyA1OTcuMzMzek04MzIgNTk3LjMzM0w0MjYuNjY3IDU5Ny4zMzNMNDI2LjY2NyA0NDhMODMyIDQ0OEw4MzIgNTk3LjMzM3pNMzQxLjMzMyA4MzJMMTkyIDgzMkwxOTIgNjgyLjY2N0wzNDEuMzMzIDY4Mi42NjdMMzQxLjMzMyA4MzJ6TTgzMiA4MzJMNDI2LjY2NyA4MzJMNDI2LjY2NyA2ODIuNjY3TDgzMiA2ODIuNjY3TDgzMiA4MzJ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtaGVhZDZmMGI0Yy1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjRjOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE04MDUuODg4IDU5Ny4xNjNDODIyLjYxMyA1OTcuMTYzIDgzOC4zNDMgNTk0LjM3NSA4NTMuMDc3IDU4OC44Qzg2Ny44MTIgNTgzLjIyNSA4ODAuODUzIDU3NS40NiA4OTIuMjAzIDU2NS41MDRDOTAzLjU1MiA1NTUuNTQ4IDkxMi44MTEgNTQzLjYwMiA5MTkuOTc5IDUyOS42NjRDOTI3LjE0NyA1MTUuNzI2IDkzMS4xMjkgNTAwLjE5NiA5MzEuOTI1IDQ4My4wNzJMOTMxLjkyNSA0ODMuMDcyTDg2My44MjkgNDgzLjA3Mkw4NjMuMjE3IDQ4OC4xMTFDODYwLjk3NyA1MDIuOTMgODU1LjEwOCA1MTUuMDg5IDg0NS42MTEgNTI0LjU4N0M4MzUuMDU4IDUzNS4xNCA4MjAuODIxIDU0MC40MTYgODAyLjkwMSA1NDAuNDE2Qzc5MC41NTYgNTQwLjQxNiA3NzkuOTA0IDUzOC4xMjYgNzcwLjk0NCA1MzMuNTQ3Qzc2MS45ODQgNTI4Ljk2NyA3NTQuNDE4IDUyMi44OTQgNzQ4LjI0NSA1MTUuMzI4Qzc0Mi4wNzMgNTA3Ljc2MiA3MzcuMDk1IDQ5OS4xIDczMy4zMTIgNDg5LjM0NEM3MjkuNTI5IDQ3OS41ODggNzI2LjQ0MyA0NjkuMzMzIDcyNC4wNTMgNDU4LjU4MUM3MjEuNjY0IDQ0Ny44MjkgNzE5Ljk3MiA0MzcuMTc3IDcxOC45NzYgNDI2LjYyNEM3MTcuOTggNDE2LjA3MSA3MTcuMDg0IDQwNi4yMTUgNzE2LjI4OCAzOTcuMDU2TDcxNi4yODggMzk3LjA1Nkw3MTcuNDgzIDM5NS44NjFMNzIwLjMzNSA0MDAuNzUxQzcyOS4yMDUgNDE1LjAzMyA3NDAuODk4IDQyNS44NDcgNzU1LjQxMyA0MzMuMTk1Qzc3MS41NDEgNDQxLjM1OCA3ODguOTY0IDQ0NS40NCA4MDcuNjggNDQ1LjQ0QzgyOC4zODggNDQ1LjQ0IDg0Ni45MDUgNDQxLjg1NiA4NjMuMjMyIDQzNC42ODhDODc5LjU1OSA0MjcuNTIgODkzLjM5NyA0MTcuNjY0IDkwNC43NDcgNDA1LjEyQzkxNi4wOTYgMzkyLjU3NiA5MjQuNzU3IDM3Ny43NDIgOTMwLjczMSAzNjAuNjE5QzkzNi43MDQgMzQzLjQ5NSA5MzkuNjkxIDMyNC45NzggOTM5LjY5MSAzMDUuMDY3QzkzOS42OTEgMjg0Ljc1NyA5MzYuNDA1IDI2NS45NDEgOTI5LjgzNSAyNDguNjE5QzkyMy4yNjQgMjMxLjI5NiA5MTMuODA2IDIxNi4xNjQgOTAxLjQ2MSAyMDMuMjIxQzg4OS4xMTYgMTkwLjI3OSA4NzQuMzgyIDE4MC4yMjQgODU3LjI1OSAxNzMuMDU2Qzg0MC4xMzUgMTY1Ljg4OCA4MjEuMjIgMTYyLjMwNCA4MDAuNTEyIDE2Mi4zMDRDNzY5Ljg0OSAxNjIuMzA0IDc0NC42NjEgMTY3Ljk3OSA3MjQuOTQ5IDE3OS4zMjhDNzA1LjIzNyAxOTAuNjc3IDY4OS43MDcgMjA2LjIwOCA2NzguMzU3IDIyNS45MkM2NjcuMDA4IDI0NS42MzIgNjU5LjE0MyAyNjguNzI5IDY1NC43NjMgMjk1LjIxMUM2NTAuMzgyIDMyMS42OTIgNjQ4LjE5MiAzNTAuMjY1IDY0OC4xOTIgMzgwLjkyOEM2NDguMTkyIDQwNi4wMTYgNjUwLjg4IDQzMS4zMDMgNjU2LjI1NiA0NTYuNzg5QzY2MS42MzIgNDgyLjI3NiA2NzAuNDkyIDUwNS40NzIgNjgyLjgzNyA1MjYuMzc5QzY5NS4xODIgNTQ3LjI4NSA3MTEuNDEgNTY0LjMwOSA3MzEuNTIgNTc3LjQ1MUM3NTEuNjMgNTkwLjU5MiA3NzYuNDIgNTk3LjE2MyA4MDUuODg4IDU5Ny4xNjN6TTE0OS4zMzMgODk2TDE0OS4zMzMgNTk3LjMzM0w0NjkuMzMzIDU5Ny4zMzNMNDY5LjMzMyA4OTZMNTU0LjY2NyA4OTZMNTU0LjY2NyAxNzAuNjY3TDQ2OS4zMzMgMTcwLjY2N0w0NjkuMzMzIDUxMkwxNDkuMzMzIDUxMkwxNDkuMzMzIDE3MC42NjdMNjQgMTcwLjY2N0w2NCA4OTZMMTQ5LjMzMyA4OTZ6TTc5OC4xMjMgMzkxLjY4Qzc4NS43NzggMzkxLjY4IDc3NC45MjYgMzg5LjM5IDc2NS41NjggMzg0LjgxMUM3NTYuMjEgMzgwLjIzMSA3NDguMzQ1IDM3NC4wNTkgNzQxLjk3MyAzNjYuMjkzQzczNS42MDIgMzU4LjUyOCA3MzAuODIzIDM0OS40NjggNzI3LjYzNyAzMzkuMTE1QzcyNC40NTIgMzI4Ljc2MSA3MjIuODU5IDMxNy44MSA3MjIuODU5IDMwNi4yNjFDNzIyLjg1OSAyOTQuNzEzIDcyNC40NTIgMjgzLjc2MiA3MjcuNjM3IDI3My40MDhDNzMwLjgyMyAyNjMuMDU0IDczNS42MDIgMjUzLjc5NiA3NDEuOTczIDI0NS42MzJDNzQ4LjM0NSAyMzcuNDY4IDc1Ni4yMSAyMzAuOTk3IDc2NS41NjggMjI2LjIxOUM3NzQuOTI2IDIyMS40NCA3ODUuNzc4IDIxOS4wNTEgNzk4LjEyMyAyMTkuMDUxQzgxMC40NjggMjE5LjA1MSA4MjEuMjIgMjIxLjU0IDgzMC4zNzkgMjI2LjUxN0M4MzkuNTM4IDIzMS40OTUgODQ3LjIwNCAyMzcuOTY2IDg1My4zNzYgMjQ1LjkzMUM4NTkuNTQ4IDI1My44OTUgODY0LjEyOCAyNjMuMTU0IDg2Ny4xMTUgMjczLjcwN0M4NzAuMTAxIDI4NC4yNiA4NzEuNTk1IDI5NS4xMTEgODcxLjU5NSAzMDYuMjYxQzg3MS41OTUgMzE3LjQxMiA4NzAuMTAxIDMyOC4xNjQgODY3LjExNSAzMzguNTE3Qzg2NC4xMjggMzQ4Ljg3MSA4NTkuNTQ4IDM1Ny45MzEgODUzLjM3NiAzNjUuNjk2Qzg0Ny4yMDQgMzczLjQ2MSA4MzkuNTM4IDM3OS43MzMgODMwLjM3OSAzODQuNTEyQzgyMS4yMiAzODkuMjkxIDgxMC40NjggMzkxLjY4IDc5OC4xMjMgMzkxLjY4eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWhlYWQ1ZjBiNGQtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI0ZDsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTE3LjU4OSA1ODguOEw5MTcuNTg5IDUyNy44NzJMNzUyLjEyOCA1MjcuODcyTDczMC42MjQgNDIxLjU0N0w3MzEuODE5IDQyMC4zNTJMNzM1LjM3IDQyNC4xMThDNzQzLjkyOSA0MzIuNjMzIDc1NC4zOTMgNDM5LjI0MyA3NjYuNzYzIDQ0My45NDdDNzgwLjkgNDQ5LjMyMyA3OTQuOTM3IDQ1Mi4wMTEgODA4Ljg3NSA0NTIuMDExQzgyOS41ODIgNDUyLjAxMSA4NDguMSA0NDguNTI2IDg2NC40MjcgNDQxLjU1N0M4ODAuNzU0IDQzNC41ODggODk0LjQ5MiA0MjQuODMyIDkwNS42NDMgNDEyLjI4OEM5MTYuNzkzIDM5OS43NDQgOTI1LjI1NSAzODQuOTEgOTMxLjAyOSAzNjcuNzg3QzkzNi44MDQgMzUwLjY2MyA5MzkuNjkxIDMzMi4xNDYgOTM5LjY5MSAzMTIuMjM1QzkzOS42OTEgMjk1LjUwOSA5MzcuMDAzIDI3OC4yODYgOTMxLjYyNyAyNjAuNTY1QzkyNi4yNTEgMjQyLjg0NCA5MTcuNjg5IDIyNi43MTYgOTA1Ljk0MSAyMTIuMTgxQzg5NC4xOTQgMTk3LjY0NiA4NzkuMTYxIDE4NS43IDg2MC44NDMgMTc2LjM0MUM4NDIuNTI0IDE2Ni45ODMgODIwLjYyMiAxNjIuMzA0IDc5NS4xMzYgMTYyLjMwNEM3NzQuODI3IDE2Mi4zMDQgNzU2LjAxMSAxNjQuOTkyIDczOC42ODggMTcwLjM2OEM3MjEuMzY1IDE3NS43NDQgNzA2LjEzMyAxODMuODA4IDY5Mi45OTIgMTk0LjU2QzY3OS44NTEgMjA1LjMxMiA2NjkuMzk3IDIxOC41NTMgNjYxLjYzMiAyMzQuMjgzQzY1My44NjcgMjUwLjAxMiA2NDkuNTg2IDI2OC40MyA2NDguNzg5IDI4OS41MzZMNjQ4Ljc4OSAyODkuNTM2TDcxNi44ODUgMjg5LjUzNkw3MTcuNTAzIDI4My45NzFDNzIwLjIxMSAyNjMuOTcgNzI3Ljc3IDI0OC40MDMgNzQwLjE4MSAyMzcuMjY5Qzc1My43MjEgMjI1LjEyNCA3NzEuNjQxIDIxOS4wNTEgNzkzLjk0MSAyMTkuMDUxQzgwOC4yNzcgMjE5LjA1MSA4MjAuNDIzIDIyMS40NCA4MzAuMzc5IDIyNi4yMTlDODQwLjMzNCAyMzAuOTk3IDg0OC4zOTggMjM3LjU2OCA4NTQuNTcxIDI0NS45MzFDODYwLjc0MyAyNTQuMjkzIDg2NS4xMjQgMjY0LjA1IDg2Ny43MTIgMjc1LjJDODcwLjMgMjg2LjM1IDg3MS41OTUgMjk4LjI5NyA4NzEuNTk1IDMxMS4wNEM4NzEuNTk1IDMyMi41ODggODcwLjAwMiAzMzMuNjM5IDg2Ni44MTYgMzQ0LjE5MkM4NjMuNjMgMzU0Ljc0NSA4NTguODUyIDM2NC4wMDQgODUyLjQ4IDM3MS45NjhDODQ2LjEwOCAzNzkuOTMyIDgzNy44NDUgMzg2LjMwNCA4MjcuNjkxIDM5MS4wODNDODE3LjUzNiAzOTUuODYxIDgwNS42ODkgMzk4LjI1MSA3OTIuMTQ5IDM5OC4yNTFDNzc3LjgxMyAzOTguMjUxIDc2NC4zNzMgMzk1LjU2MyA3NTEuODI5IDM5MC4xODdDNzM5LjI4NSAzODQuODExIDczMC4yMjYgMzc0Ljc1NiA3MjQuNjUxIDM2MC4wMjFMNzI0LjY1MSAzNjAuMDIxTDY1Ni41NTUgMzYwLjAyMUw3MDEuMzU1IDU4OC44TDkxNy41ODkgNTg4Ljh6TTE0OS4zMzMgODk2TDE0OS4zMzMgNTk3LjMzM0w0NjkuMzMzIDU5Ny4zMzNMNDY5LjMzMyA4OTZMNTU0LjY2NyA4OTZMNTU0LjY2NyAxNzAuNjY3TDQ2OS4zMzMgMTcwLjY2N0w0NjkuMzMzIDUxMkwxNDkuMzMzIDUxMkwxNDkuMzMzIDE3MC42NjdMNjQgMTcwLjY2N0w2NCA4OTZMMTQ5LjMzMyA4OTZ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtaGVhZDRmMGI0ZS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjRlOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0xNDkuMzMzIDg5NkwxNDkuMzMzIDU5Ny4zMzNMNDY5LjMzMyA1OTcuMzMzTDQ2OS4zMzMgODk2TDU1NC42NjcgODk2TDU1NC42NjcgMTcwLjY2N0w0NjkuMzMzIDE3MC42NjdMNDY5LjMzMyA1MTJMMTQ5LjMzMyA1MTJMMTQ5LjMzMyAxNzAuNjY3TDY0IDE3MC42NjdMNjQgODk2TDE0OS4zMzMgODk2ek04ODUuOTMxIDU4OC44TDg4NS45MzEgMzIzLjU4NEw5MzkuNjkxIDMyMy41ODRMOTM5LjY5MSAyNjkuODI0TDg4NS45MzEgMjY5LjgyNEw4ODUuOTMxIDE3MC42NjdMODIxLjQxOSAxNzAuNjY3TDgyMS40MTkgMjY5LjgyNEw2NDIuMjE5IDI2OS44MjRMNjQyLjIxOSAzMzcuMzIzTDgyMS40MTkgNTg4LjhMODg1LjkzMSA1ODguOHpNODIxLjQxOSA1MDcuNTYzTDgyMC4yMjQgNTA3LjU2M0w2OTQuNzg0IDMyMy41ODRMODIxLjQxOSAzMjMuNTg0TDgyMS40MTkgNTA3LjU2M3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1oZWFkM2YwYjRmLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNGY7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTc5Mi43NDcgNTk3LjE2M0M4MDkuMDc0IDU5Ny4xNjMgODI1LjEwMiA1OTQuNzczIDg0MC44MzIgNTg5Ljk5NUM4NTYuNTYyIDU4NS4yMTYgODcwLjY5OSA1NzguMjQ3IDg4My4yNDMgNTY5LjA4OEM4OTUuNzg3IDU1OS45MjkgOTA1Ljg0MiA1NDguMjgxIDkxMy40MDggNTM0LjE0NEM5MjAuOTc0IDUyMC4wMDcgOTI0Ljc1NyA1MDMuNzggOTI0Ljc1NyA0ODUuNDYxQzkyNC43NTcgNDY0LjM1NiA5MTkuOTc5IDQ0NS45MzggOTEwLjQyMSA0MzAuMjA4QzkwMC44NjQgNDE0LjQ3OCA4ODUuOTMxIDQwMy4wMjkgODY1LjYyMSAzOTUuODYxTDg2NS42MjEgMzk1Ljg2MUw4NjUuNjIxIDM5NC42NjdMODcxLjA0MiAzOTMuNDM4Qzg5Mi4zNDggMzg4LjAyNCA5MDkuMTU4IDM3Ni41ODYgOTIxLjQ3MiAzNTkuMTI1QzkzNC44MTIgMzQwLjIxIDk0MS40ODMgMzE3LjIxMiA5NDEuNDgzIDI5MC4xMzNDOTQxLjQ4MyAyNzAuMjIyIDkzNy41IDI1Mi40MDIgOTI5LjUzNiAyMzYuNjcyQzkyMS41NzIgMjIwLjk0MiA5MTAuODIgMjA3LjYwMiA4OTcuMjggMTk2LjY1MUM4ODMuNzQgMTg1LjcgODY4LjAxMSAxNzcuMjM3IDg1MC4wOTEgMTcxLjI2NEM4MzIuMTcxIDE2NS4yOTEgODEzLjI1NSAxNjIuMzA0IDc5My4zNDQgMTYyLjMwNEM3NjkuMDUyIDE2Mi4zMDQgNzQ3Ljg0NyAxNjUuNzg4IDcyOS43MjggMTcyLjc1N0M3MTEuNjA5IDE3OS43MjYgNjk2LjQ3NiAxODkuNTgyIDY4NC4zMzEgMjAyLjMyNUM2NzIuMTg1IDIxNS4wNjggNjYyLjkyNiAyMzAuNCA2NTYuNTU1IDI0OC4zMkM2NTAuMTgzIDI2Ni4yNCA2NDYuNzk4IDI4Ni4xNTEgNjQ2LjQgMzA4LjA1M0w2NDYuNCAzMDguMDUzTDcxNC40OTYgMzA4LjA1M0w3MTQuNDM4IDMwMi4yNDhDNzE0LjcwNiAyNzkuMzMgNzIwLjk5OCAyNjAuMDYgNzMzLjMxMiAyNDQuNDM3Qzc0Ni42NTIgMjI3LjUxMyA3NjYuNjYzIDIxOS4wNTEgNzkzLjM0NCAyMTkuMDUxQzgxNi4wNDMgMjE5LjA1MSA4MzUuMDU4IDIyNS41MjIgODUwLjM4OSAyMzguNDY0Qzg2NS43MjEgMjUxLjQwNiA4NzMuMzg3IDI2OS44MjQgODczLjM4NyAyOTMuNzE3Qzg3My4zODcgMzEwLjA0NCA4NzAuMjAxIDMyMi45ODcgODYzLjgyOSAzMzIuNTQ0Qzg1Ny40NTggMzQyLjEwMSA4NDkuMDk1IDM0OS4zNjkgODM4Ljc0MSAzNTQuMzQ3QzgyOC4zODggMzU5LjMyNCA4MTYuNzQgMzYyLjQxMSA4MDMuNzk3IDM2My42MDVDNzkwLjg1NSAzNjQuOCA3NzcuNjE0IDM2NS4xOTggNzY0LjA3NSAzNjQuOEw3NjQuMDc1IDM2NC44TDc2NC4wNzUgNDE1LjU3M0w3NzAuNzY1IDQxNS40NzhDNzc5LjY4NSA0MTUuNTQxIDc4OC42MDUgNDE2LjM3IDc5Ny41MjUgNDE3Ljk2M0M4MDguNjc2IDQxOS45NTQgODE4LjYzMSA0MjMuNDM4IDgyNy4zOTIgNDI4LjQxNkM4MzYuMTUzIDQzMy4zOTQgODQzLjIyMSA0NDAuMjYzIDg0OC41OTcgNDQ5LjAyNEM4NTMuOTczIDQ1Ny43ODUgODU2LjY2MSA0NjguNTM3IDg1Ni42NjEgNDgxLjI4Qzg1Ni42NjEgNDk5LjIgODUwLjU4OCA1MTMuNTM2IDgzOC40NDMgNTI0LjI4OEM4MjYuMjk3IDUzNS4wNCA4MTAuNjY3IDU0MC40MTYgNzkxLjU1MiA1NDAuNDE2Qzc3OS42MDUgNTQwLjQxNiA3NjkuMjUyIDUzOC4wMjcgNzYwLjQ5MSA1MzMuMjQ4Qzc1MS43MyA1MjguNDY5IDc0NC40NjIgNTIxLjk5OCA3MzguNjg4IDUxMy44MzVDNzMyLjkxNCA1MDUuNjcxIDcyOC42MzMgNDk2LjUxMiA3MjUuODQ1IDQ4Ni4zNTdDNzIzLjA1OCA0NzYuMjAzIDcyMS44NjMgNDY1Ljc0OSA3MjIuMjYxIDQ1NC45OTdMNzIyLjI2MSA0NTQuOTk3TDY1NC4xNjUgNDU0Ljk5N0w2NTQuNjA0IDQ2Mi41NDNDNjU1Ljk1NCA0NzkuOTg3IDY1OS41OTEgNDk2LjI4OCA2NjUuNTE1IDUxMS40NDVDNjcyLjI4NCA1MjguNzY4IDY4MS41NDMgNTQzLjgwMSA2OTMuMjkxIDU1Ni41NDRDNzA1LjAzOCA1NjkuMjg3IDcxOS4yNzUgNTc5LjI0MyA3MzYgNTg2LjQxMUM3NTIuNzI1IDU5My41NzkgNzcxLjY0MSA1OTcuMTYzIDc5Mi43NDcgNTk3LjE2M3pNMTQ5LjMzMyA4OTZMMTQ5LjMzMyA1OTcuMzMzTDQ2OS4zMzMgNTk3LjMzM0w0NjkuMzMzIDg5Nkw1NTQuNjY3IDg5Nkw1NTQuNjY3IDE3MC42NjdMNDY5LjMzMyAxNzAuNjY3TDQ2OS4zMzMgNTEyTDE0OS4zMzMgNTEyTDE0OS4zMzMgMTcwLjY2N0w2NCAxNzAuNjY3TDY0IDg5NkwxNDkuMzMzIDg5NnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1oZWFkMmYwYjUwLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNTA7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTE0OS4zMzMgODk2TDE0OS4zMzMgNTk3LjMzM0w0NjkuMzMzIDU5Ny4zMzNMNDY5LjMzMyA4OTZMNTU0LjY2NyA4OTZMNTU0LjY2NyAxNzAuNjY3TDQ2OS4zMzMgMTcwLjY2N0w0NjkuMzMzIDUxMkwxNDkuMzMzIDUxMkwxNDkuMzMzIDE3MC42NjdMNjQgMTcwLjY2N0w2NCA4OTZMMTQ5LjMzMyA4OTZ6TTgwMi45MDEgNTk3LjE2M0M4MjguMzg4IDU5Ny4xNjMgODQ5LjY5MiA1OTIuOTgxIDg2Ni44MTYgNTg0LjYxOUM4ODMuOTQgNTc2LjI1NiA4OTcuNzc4IDU2NS43MDMgOTA4LjMzMSA1NTIuOTZDOTE4Ljg4NCA1NDAuMjE3IDkyNi4zNSA1MjYuMzc5IDkzMC43MzEgNTExLjQ0NUM5MzUuMTExIDQ5Ni41MTIgOTM3LjMwMSA0ODIuMjc2IDkzNy4zMDEgNDY4LjczNkM5MzcuMzAxIDQ1Mi4wMTEgOTM0LjcxMyA0MzYuODc4IDkyOS41MzYgNDIzLjMzOUM5MjQuMzU5IDQwOS43OTkgOTE3LjM5IDM5Ny4zNTUgOTA4LjYyOSAzODYuMDA1Qzg5OS44NjggMzc0LjY1NiA4ODkuOTEzIDM2NC4yMDMgODc4Ljc2MyAzNTQuNjQ1Qzg2Ny42MTIgMzQ1LjA4OCA4NTYuMDY0IDMzNi4xMjggODQ0LjExNyAzMjcuNzY1QzgzMi4xNzEgMzE5LjQwMyA4MjAuMjI0IDMxMS40MzggODA4LjI3NyAzMDMuODcyQzc5Ni4zMzEgMjk2LjMwNiA3ODUuMjggMjg4Ljc0IDc3NS4xMjUgMjgxLjE3M0M3NjQuOTcxIDI3My42MDcgNzU2LjExIDI2NS43NDIgNzQ4LjU0NCAyNTcuNTc5Qzc0MC45NzggMjQ5LjQxNSA3MzUuODAxIDI0MC43NTQgNzMzLjAxMyAyMzEuNTk1TDczMy4wMTMgMjMxLjU5NUw5MzYuNzA0IDIzMS41OTVMOTM2LjcwNCAxNzAuNjY3TDY1MS4xNzkgMTcwLjY2N0w2NTEuNDEyIDE3OC41ODRDNjUyLjkxMSAyMDkuOTQyIDY2MS4xOTUgMjM3LjU2OCA2NzYuMjY3IDI2MS40NjFDNjkyLjU5NCAyODcuMzQ2IDcxNC44OTQgMzA5Ljg0NSA3NDMuMTY4IDMyOC45NkM3NTYuNzA4IDMzOC45MTYgNzcwLjg0NCAzNDguNTcyIDc4NS41NzkgMzU3LjkzMUM4MDAuMzEzIDM2Ny4yODkgODEzLjg1MiAzNzcuMzQ0IDgyNi4xOTcgMzg4LjA5NkM4MzguNTQyIDM5OC44NDggODQ4LjY5NyA0MTAuNDk2IDg1Ni42NjEgNDIzLjA0Qzg2NC42MjYgNDM1LjU4NCA4NjguODA3IDQ1MC4wMiA4NjkuMjA1IDQ2Ni4zNDdDODY5LjIwNSA0NzMuOTEzIDg2OC4zMDkgNDgxLjk3NyA4NjYuNTE3IDQ5MC41MzlDODY0LjcyNSA0OTkuMSA4NjEuMjQxIDUwNy4wNjUgODU2LjA2NCA1MTQuNDMyQzg1MC44ODcgNTIxLjc5OSA4NDMuNzE5IDUyNy45NzIgODM0LjU2IDUzMi45NDlDODI1LjQwMSA1MzcuOTI3IDgxMy40NTQgNTQwLjQxNiA3OTguNzIgNTQwLjQxNkM3ODUuMTggNTQwLjQxNiA3NzMuOTMxIDUzNy43MjggNzY0Ljk3MSA1MzIuMzUyQzc1Ni4wMTEgNTI2Ljk3NiA3NDguODQzIDUxOS42MDkgNzQzLjQ2NyA1MTAuMjUxQzczOC4wOTEgNTAwLjg5MiA3MzQuMTA4IDQ4OS44NDIgNzMxLjUyIDQ3Ny4wOTlDNzI4LjkzMiA0NjQuMzU2IDcyNy40MzggNDUwLjYxNyA3MjcuMDQgNDM1Ljg4M0w3MjcuMDQgNDM1Ljg4M0w2NTguOTQ0IDQzNS44ODNMNjU5LjA4OSA0NDQuNDY1QzY1OS43NjQgNDY0LjMwNCA2NjIuODAyIDQ4Mi44NDggNjY4LjIwMyA1MDAuMDk2QzY3NC4zNzUgNTE5LjgwOCA2ODMuNjM0IDUzNi44MzIgNjk1Ljk3OSA1NTEuMTY4QzcwOC4zMjQgNTY1LjUwNCA3MjMuMzU2IDU3Ni43NTQgNzQxLjA3NyA1ODQuOTE3Qzc1OC43OTggNTkzLjA4MSA3NzkuNDA2IDU5Ny4xNjMgODAyLjkwMSA1OTcuMTYzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWhlYWQxZjBiNTEtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI1MTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMTQ5LjMzMyA4OTZMMTQ5LjMzMyA1NzZMNDkwLjY2NyA1NzZMNDkwLjY2NyA4OTZMNTc2IDg5Nkw1NzYgMTcwLjY2N0w0OTAuNjY3IDE3MC42NjdMNDkwLjY2NyA0OTAuNjY3TDE0OS4zMzMgNDkwLjY2N0wxNDkuMzMzIDE3MC42NjdMNjQgMTcwLjY2N0w2NCA4OTZMMTQ5LjMzMyA4OTZ6TTgzNi45NDkgNTg4LjhMODM2Ljk0OSAxNzAuNjY3TDc2Mi4yODMgMTcwLjY2N0w3NjIuMjgzIDQ2NS43NDlMNjU5LjU0MSA0NjUuNzQ5TDY1OS41NDEgNTE5LjUwOUw2NjguMDk1IDUxOS42NTNDNjc5LjQzNyA1MjAuMDM1IDY5MC41MjMgNTIxLjE4MiA3MDEuMzU1IDUyMy4wOTNDNzE0Ljg5NCA1MjUuNDgzIDcyNy4xNCA1MjkuNDY1IDczOC4wOTEgNTM1LjA0Qzc0OS4wNDIgNTQwLjYxNSA3NTguNCA1NDcuNzgzIDc2Ni4xNjUgNTU2LjU0NEM3NzMuOTMxIDU2NS4zMDUgNzc5LjAwOCA1NzYuMDU3IDc4MS4zOTcgNTg4LjhMNzgxLjM5NyA1ODguOEw4MzYuOTQ5IDU4OC44eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWhlYWRmMGI1Mi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjUyOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0yNTYgOTYwTDI1NiA1NzZMNzY4IDU3Nkw3NjggOTYwTDg1My4zMzMgOTYwTDg1My4zMzMgNjRMNzY4IDY0TDc2OCA0OTAuNjY3TDI1NiA0OTAuNjY3TDI1NiA2NEwxNzAuNjY3IDY0TDE3MC42NjcgOTYwTDI1NiA5NjB6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7Atb3V0ZGVudGYwYjUzLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNTM7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgMjc3LjMzM0w5MTcuMzMzIDE5MkwxNDkuMzMzIDE5MkwxNDkuMzMzIDI3Ny4zMzNMOTE3LjMzMyAyNzcuMzMzek0zMTAuMTExIDc2OEw0MzkuNTQgNjEyLjY4NUwzMTAuMTExIDQ1Ny4zNzFMMjQ0LjU1NiA1MTJMMjkyLjg4NSA1NzAuMDI3TDE0OS4zMzMgNTcwLjAxOUwxNDkuMzMzIDY1NS4zNTJMMjkyLjg4NSA2NTUuMzZMMjQ0LjU1NiA3MTMuMzcxTDMxMC4xMTEgNzY4ek05MTcuMzMzIDU1NC42NjdMOTE3LjMzMyA0NjkuMzMzTDUzMy4zMzMgNDY5LjMzM0w1MzMuMzMzIDU1NC42NjdMOTE3LjMzMyA1NTQuNjY3ek05MTcuMzMzIDgzMkw5MTcuMzMzIDc0Ni42NjdMNTMzLjMzMyA3NDYuNjY3TDUzMy4zMzMgODMyTDkxNy4zMzMgODMyeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXVub3JkZXJlZGYwYjU0LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNTQ7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgMjM0LjY2N0w5MTcuMzMzIDE0OS4zMzNMMjc3LjMzMyAxNDkuMzMzTDI3Ny4zMzMgMjM0LjY2N0w5MTcuMzMzIDIzNC42Njd6TTE5MiAyMzQuNjY3TDE5MiAxNDkuMzMzTDEwNi42NjcgMTQ5LjMzM0wxMDYuNjY3IDIzNC42NjdMMTkyIDIzNC42Njd6TTkxNy4zMzMgNTU0LjY2N0w5MTcuMzMzIDQ2OS4zMzNMMjc3LjMzMyA0NjkuMzMzTDI3Ny4zMzMgNTU0LjY2N0w5MTcuMzMzIDU1NC42Njd6TTE5MiA1NTQuNjY3TDE5MiA0NjkuMzMzTDEwNi42NjcgNDY5LjMzM0wxMDYuNjY3IDU1NC42NjdMMTkyIDU1NC42Njd6TTkxNy4zMzMgODc0LjY2N0w5MTcuMzMzIDc4OS4zMzNMMjc3LjMzMyA3ODkuMzMzTDI3Ny4zMzMgODc0LjY2N0w5MTcuMzMzIDg3NC42Njd6TTE5MiA4NzQuNjY3TDE5MiA3ODkuMzMzTDEwNi42NjcgNzg5LjMzM0wxMDYuNjY3IDg3NC42NjdMMTkyIDg3NC42Njd6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtbG5lbnRmMGI1Ny1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjU3OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05MTcuMzMzIDI3Ny4zMzNMOTE3LjMzMyAxOTJMMTQ5LjMzMyAxOTJMMTQ5LjMzMyAyNzcuMzMzTDkxNy4zMzMgMjc3LjMzM3pNMjM2LjA5NSA3NjhMMzAxLjY1IDcxMy4zNzFMMjUzLjI5MSA2NTUuMzZMMzk2Ljg3MyA2NTUuMzUyTDM5Ni44NzMgNTcwLjAxOUwyNTMuMjkxIDU3MC4wMjdMMzAxLjY1IDUxMkwyMzYuMDk1IDQ1Ny4zNzFMMTA2LjY2NyA2MTIuNjg1TDIzNi4wOTUgNzY4ek05MTcuMzMzIDU1NC42NjdMOTE3LjMzMyA0NjkuMzMzTDUzMy4zMzMgNDY5LjMzM0w1MzMuMzMzIDU1NC42NjdMOTE3LjMzMyA1NTQuNjY3ek05MTcuMzMzIDgzMkw5MTcuMzMzIDc0Ni42NjdMNTMzLjMzMyA3NDYuNjY3TDUzMy4zMzMgODMyTDkxNy4zMzMgODMyeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWFsaWduX21pZGRsZWYwYjU4LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNTg7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTUwNy43NyAzODRMNjYzLjA4NCAyNTQuNTcxTDYwOC40NTUgMTg5LjAxNkw1NTAuNDQ0IDIzNy4zNDZMNTUwLjQzNiA5My43OTRMNDY1LjEwMyA5My43OTRMNDY1LjExMSAyMzcuMzQ2TDQwNy4wODQgMTg5LjAxNkwzNTIuNDU1IDI1NC41NzFMNTA3Ljc3IDM4NHpNOTE3LjMzMyA1NTQuNjY3TDkxNy4zMzMgNDY5LjMzM0wxMDYuNjY3IDQ2OS4zMzNMMTA2LjY2NyA1NTQuNjY3TDkxNy4zMzMgNTU0LjY2N3pNNTUwLjQzNiA5MTcuMzMzTDU1MC40NDQgNzczLjc4MUw2MDguNDU1IDgyMi4xMTFMNjYzLjA4NCA3NTYuNTU2TDUwNy43NyA2MjcuMTI3TDM1Mi40NTUgNzU2LjU1Nkw0MDcuMDg0IDgyMi4xMTFMNDY1LjExMSA3NzMuNzgxTDQ2NS4xMDMgOTE3LjMzM0w1NTAuNDM2IDkxNy4zMzN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtYmFja190b190b3BmMGI1OS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjU5OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MDcuNzcgNjYxLjMzM0w2NjMuMDg0IDUzMS45MDVMNjA4LjQ1NSA0NjYuMzVMNTUwLjQ0NCA1MTQuNjc5TDU1MC40MzYgMTU3Ljc5NEw0NjUuMTAzIDE1Ny43OTRMNDY1LjExMSA1MTQuNjc5TDQwNy4wODQgNDY2LjM1TDM1Mi40NTUgNTMxLjkwNUw1MDcuNzcgNjYxLjMzM3pNOTE3LjMzMyA4NzQuNjY3TDkxNy4zMzMgNzg5LjMzM0wxMDYuNjY3IDc4OS4zMzNMMTA2LjY2NyA4NzQuNjY3TDkxNy4zMzMgODc0LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1hbGlnbl9ib3R0b21mMGI1YS1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjVhOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE05MTcuMzMzIDIzNC42NjdMOTE3LjMzMyAxNDkuMzMzTDEwNi42NjcgMTQ5LjMzM0wxMDYuNjY3IDIzNC42NjdMOTE3LjMzMyAyMzQuNjY3ek01NTAuNDM2IDg3NC42NjdMNTUwLjQ0NCA1MTcuNzgxTDYwOC40NTUgNTY2LjExMUw2NjMuMDg0IDUwMC41NTZMNTA3Ljc3IDM3MS4xMjdMMzUyLjQ1NSA1MDAuNTU2TDQwNy4wODQgNTY2LjExMUw0NjUuMTExIDUxNy43ODFMNDY1LjEwMyA4NzQuNjY3TDU1MC40MzYgODc0LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1saW5lX2hlaWdodGYwYjViLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNWI7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTIxMy4zMzMgOTM1LjAwNkwzNzEuNTAzIDc3Ni44MzdMMzExLjE2MyA3MTYuNDk3TDI1NS45OTUgNzcxLjY1N0wyNTUuOTk1IDI1Mi4zNjFMMzExLjE2MyAzMDcuNTAzTDM3MS41MDMgMjQ3LjE2M0wyMTMuMzMzIDg4Ljk5NEw1NS4xNjMgMjQ3LjE2M0wxMTUuNTAzIDMwNy41MDNMMTcwLjY2MiAyNTIuMzYxTDE3MC42NjIgNzcxLjY1N0wxMTUuNTAzIDcxNi40OTdMNTUuMTYzIDc3Ni44MzdMMjEzLjMzMyA5MzUuMDA2ek03NjggMjM0LjY2N0w3NjggMTQ5LjMzM0w0NjkuMzMzIDE0OS4zMzNMNDY5LjMzMyAyMzQuNjY3TDc2OCAyMzQuNjY3ek05MzguNjY3IDQ0OEw5MzguNjY3IDM2Mi42NjdMNDY5LjMzMyAzNjIuNjY3TDQ2OS4zMzMgNDQ4TDkzOC42NjcgNDQ4ek03NjggNjYxLjMzM0w3NjggNTc2TDQ2OS4zMzMgNTc2TDQ2OS4zMzMgNjYxLjMzM0w3NjggNjYxLjMzM3pNOTM4LjY2NyA4NzQuNjY3TDkzOC42NjcgNzg5LjMzM0w0NjkuMzMzIDc4OS4zMzNMNDY5LjMzMyA4NzQuNjY3TDkzOC42NjcgODc0LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1hbGlnbnJpZ2h0ZjBiNWMtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI1YzsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTE3LjMzMyAyMTMuMzMzTDkxNy4zMzMgMTI4TDEwNi42NjcgMTI4TDEwNi42NjcgMjEzLjMzM0w5MTcuMzMzIDIxMy4zMzN6TTkxNy4zMzMgMzg0TDkxNy4zMzMgMjk4LjY2N0w0NDggMjk4LjY2N0w0NDggMzg0TDkxNy4zMzMgMzg0ek05MTcuMzMzIDU1NC42NjdMOTE3LjMzMyA0NjkuMzMzTDEwNi42NjcgNDY5LjMzM0wxMDYuNjY3IDU1NC42NjdMOTE3LjMzMyA1NTQuNjY3ek05MTcuMzMzIDcyNS4zMzNMOTE3LjMzMyA2NDBMNDQ4IDY0MEw0NDggNzI1LjMzM0w5MTcuMzMzIDcyNS4zMzN6TTkxNy4zMzMgODk2TDkxNy4zMzMgODEwLjY2N0wxMDYuNjY3IDgxMC42NjdMMTA2LjY2NyA4OTZMOTE3LjMzMyA4OTZ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtYWxpZ25fanVzdGlmeWYwYjVkLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNWQ7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgMjEzLjMzM0w5MTcuMzMzIDEyOEwxMDYuNjY3IDEyOEwxMDYuNjY3IDIxMy4zMzNMOTE3LjMzMyAyMTMuMzMzek05MTcuMzMzIDM4NEw5MTcuMzMzIDI5OC42NjdMMTA2LjY2NyAyOTguNjY3TDEwNi42NjcgMzg0TDkxNy4zMzMgMzg0ek05MTcuMzMzIDU1NC42NjdMOTE3LjMzMyA0NjkuMzMzTDEwNi42NjcgNDY5LjMzM0wxMDYuNjY3IDU1NC42NjdMOTE3LjMzMyA1NTQuNjY3ek05MTcuMzMzIDcyNS4zMzNMOTE3LjMzMyA2NDBMMTA2LjY2NyA2NDBMMTA2LjY2NyA3MjUuMzMzTDkxNy4zMzMgNzI1LjMzM3pNOTE3LjMzMyA4OTZMOTE3LjMzMyA4MTAuNjY3TDEwNi42NjcgODEwLjY2N0wxMDYuNjY3IDg5Nkw5MTcuMzMzIDg5NnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1hbGlnbl9sZWZ0ZjBiNWUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI1ZTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTE3LjMzMyAyMTMuMzMzTDkxNy4zMzMgMTI4TDEwNi42NjcgMTI4TDEwNi42NjcgMjEzLjMzM0w5MTcuMzMzIDIxMy4zMzN6TTU3NiAzODRMNTc2IDI5OC42NjdMMTA2LjY2NyAyOTguNjY3TDEwNi42NjcgMzg0TDU3NiAzODR6TTkxNy4zMzMgNTU0LjY2N0w5MTcuMzMzIDQ2OS4zMzNMMTA2LjY2NyA0NjkuMzMzTDEwNi42NjcgNTU0LjY2N0w5MTcuMzMzIDU1NC42Njd6TTU3NiA3MjUuMzMzTDU3NiA2NDBMMTA2LjY2NyA2NDBMMTA2LjY2NyA3MjUuMzMzTDU3NiA3MjUuMzMzek05MTcuMzMzIDg5Nkw5MTcuMzMzIDgxMC42NjdMMTA2LjY2NyA4MTAuNjY3TDEwNi42NjcgODk2TDkxNy4zMzMgODk2eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWFsaWduX2NlbnRlcmYwYjVmLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNWY7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgMjEzLjMzM0w5MTcuMzMzIDEyOEwxMDYuNjY3IDEyOEwxMDYuNjY3IDIxMy4zMzNMOTE3LjMzMyAyMTMuMzMzek03NDYuNjY3IDM4NEw3NDYuNjY3IDI5OC42NjdMMjc3LjMzMyAyOTguNjY3TDI3Ny4zMzMgMzg0TDc0Ni42NjcgMzg0ek05MTcuMzMzIDU1NC42NjdMOTE3LjMzMyA0NjkuMzMzTDEwNi42NjcgNDY5LjMzM0wxMDYuNjY3IDU1NC42NjdMOTE3LjMzMyA1NTQuNjY3ek03NDYuNjY3IDcyNS4zMzNMNzQ2LjY2NyA2NDBMMjc3LjMzMyA2NDBMMjc3LjMzMyA3MjUuMzMzTDc0Ni42NjcgNzI1LjMzM3pNOTE3LjMzMyA4OTZMOTE3LjMzMyA4MTAuNjY3TDEwNi42NjcgODEwLjY2N0wxMDYuNjY3IDg5Nkw5MTcuMzMzIDg5NnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1kcm9wX3VwX2ZpbGxmMGI2MC1vIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYjYwOyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE0yNTYgMzYyLjY2N0w3NjggMzYyLjY2N0w1MTIgNjYxLjMzM3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1kcm9wX2Rvd25fZmlsbGYwYjYxLW8iDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNjE7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTI1NiA2NjEuMzMzTDc2OCA2NjEuMzMzTDUxMiAzNjIuNjY3eiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLXRhc2tsaXN0ZjBiNTYtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGI1NjsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNMTA1LjE1MSA4MDEuODNMMTY1LjQ5IDg2Mi4xN0wyMDQuNDg1IDgyMy4xNzVMMjk1LjAwNiA5MTMuNjczTDM1NS4zNDYgODUzLjMzM0wyMDQuNDk3IDcwMi40ODRMMTA1LjE1MSA4MDEuODN6TTQwNS4zMzMgOTE3LjMzM0w5MTcuMzMzIDkxNy4zMzNMOTE3LjMzMyA4MzJMNDA1LjMzMyA4MzJMNDA1LjMzMyA5MTcuMzMzek00MDUuMzMzIDU5Ny4zMzNMOTE3LjMzMyA1OTcuMzMzTDkxNy4zMzMgNTEyTDQwNS4zMzMgNTEyTDQwNS4zMzMgNTk3LjMzM3pNMzIwIDU5Ny4zMzNMMzIwIDM4NEwxMDYuNjY3IDM4NEwxMDYuNjY3IDU5Ny4zMzNMMzIwIDU5Ny4zMzN6TTI1NiA1MzMuMzMzTDE3MC42NjcgNTMzLjMzM0wxNzAuNjY3IDQ0OEwyNTYgNDQ4TDI1NiA1MzMuMzMzek0zMjAgMzIwTDMyMCAxMDYuNjY3TDEwNi42NjcgMTA2LjY2N0wxMDYuNjY3IDMyMEwzMjAgMzIwek0yNTYgMjU2TDE3MC42NjcgMjU2TDE3MC42NjcgMTcwLjY2N0wyNTYgMTcwLjY2N0wyNTYgMjU2ek00MDUuMzMzIDMyMEw5MTcuMzMzIDMyMEw5MTcuMzMzIDIzNC42NjdMNDA1LjMzMyAyMzQuNjY3TDQwNS4zMzMgMzIwek00MDUuMzMzIDc4OS4zMzNMNjgyLjY2NyA3ODkuMzMzTDY4Mi42NjcgNzA0TDQwNS4zMzMgNzA0TDQwNS4zMzMgNzg5LjMzM3pNNDA1LjMzMyA0NjkuMzMzTDY4Mi42NjcgNDY5LjMzM0w2ODIuNjY3IDM4NEw0MDUuMzMzIDM4NEw0MDUuMzMzIDQ2OS4zMzN6TTQwNS4zMzMgMTkyTDY4Mi42NjcgMTkyTDY4Mi42NjcgMTA2LjY2N0w0MDUuMzMzIDEwNi42NjdMNDA1LjMzMyAxOTJ6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7Atb3JkZXJlZGYwYjU1LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBiNTU7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTMyMCA4NzQuNjY3TDkxNy4zMzMgODc0LjY2N0w5MTcuMzMzIDc4OS4zMzNMMzIwIDc4OS4zMzNMMzIwIDg3NC42Njd6TTMyMCA1NTQuNjY3TDkxNy4zMzMgNTU0LjY2N0w5MTcuMzMzIDQ2OS4zMzNMMzIwIDQ2OS4zMzNMMzIwIDU1NC42Njd6TTMyMCAyMzQuNjY3TDkxNy4zMzMgMjM0LjY2N0w5MTcuMzMzIDE0OS4zMzNMMzIwIDE0OS4zMzNMMzIwIDIzNC42Njd6TTE1OS45MDQgMTk2LjE3OUwxNTkuOTA0IDIzMi4wNDRMMTgxLjMzMyAyMzIuMDQ0QzE5Ny41MzYgMjMyLjA0NCAyMDguNDM3IDI0Mi40MSAyMDguNDM3IDI1Ni4wMjlDMjA4LjQzNyAyNzAuMDI3IDE5Ni42NCAyNzkuNDg1IDE4MS40ODMgMjc5LjQ4NUMxNjQuODMyIDI3OS40ODUgMTU0LjA4IDI2Ny45ODQgMTUzLjYzMiAyNTYuMDI5TDEwOS41NzkgMjU2LjAyOUMxMTAuNzczIDI5MS4zNjQgMTM3LjQyOSAzMTUuNTc4IDE4My4yIDMxNS41NzhDMjI3LjEwNCAzMTUuNzI4IDI1NC40MzIgMjkzLjU1OSAyNTQuNjU2IDI2Mi4zODVDMjU0Ljc5NyAyNTEuNjkzIDI1MS4xNzkgMjQxLjI5OSAyNDQuNDQ4IDIzMy4wNjRDMjM3LjcxNiAyMjQuODI4IDIyOC4zMTMgMjE5LjI5IDIxNy45MiAyMTcuNDRMMjE3LjkyIDIxNC45NDRDMjI5LjcwMyAyMTQuMDUzIDI0MC42OTQgMjA4LjU5NCAyNDguNjA3IDE5OS43MDFDMjU2LjUyIDE5MC44MDkgMjYwLjc0NiAxNzkuMTY4IDI2MC40MDUgMTY3LjE5OEMyNjAuNjI5IDEyNi44NjkgMjIyLjkyMyAxMDYuNjY3IDE4MS45MzEgMTA2LjY2N0MxMzIuOTQ5IDEwNi42NjcgMTA3LjI2NCAxMzQuNjYyIDEwNi42NjcgMTY2Ljc0NEwxNTAuMTIzIDE2Ni43NDRDMTUwLjcyIDE1My4yNzYgMTY0LjAxMSAxNDMuNTkxIDE4MS42MzIgMTQzLjM2NEMyMDAuNTk3IDE0My4zNjQgMjEzLjI5MSAxNTQuMzM1IDIxMy4xNDEgMTY5Ljg0NkMyMTIuOTkyIDE4NC42MDEgMjAxLjU2OCAxOTYuMTc5IDE4Mi4yMjkgMTk2LjE3OUwxNTkuODI5IDE5Ni4xNzlMMTU5LjkwNCAxOTYuMTc5ek0xNTkuNjA1IDU1MS43MjVMMTE0LjUwNyA1NTEuNzI1TDExNC41MDcgNTU0LjM3M0MxMTQuNTA3IDU4NS4yNDQgMTM2LjUzMyA2MTguMjMzIDE4Ni4wMzcgNjE4LjIzM0MyMjkuNTY4IDYxOC4yMzMgMjU3LjcxNyA1OTMuNTY3IDI1Ny43MTcgNTYxLjAzMUMyNTcuNzE3IDUzMS41OTggMjM4LjUyOCA1MTQuMzQ2IDIyMi4xNzYgNDk2Ljg2OEwxODIuMDggNDUzLjU4OEwxODIuMDggNDUxLjMxOEwyNjAuNzc5IDQ1MS4zMThMMjYwLjc3OSA0MTIuOTU3TDExNy4zNDQgNDEyLjk1N0wxMTcuMzQ0IDQ0Mi44NDRMMTg4LjggNTE3Ljc1MUMxOTkuMTA0IDUyOC40OTYgMjEwLjY3NyA1NDAuNzUzIDIxMC42NzcgNTU2LjE4OUMyMTAuNjc3IDU2OS44MDggMTk5LjcwMSA1ODAuNDAxIDE4NS4xNDEgNTgwLjQwMUMxODEuNzggNTgwLjUyNiAxNzguNDI5IDU3OS45NTMgMTc1LjI5NSA1NzguNzE1QzE3Mi4xNjEgNTc3LjQ3OCAxNjkuMzEgNTc1LjYwNCAxNjYuOTE3IDU3My4yMDhDMTY0LjUyNSA1NzAuODEyIDE2Mi42NDIgNTY3Ljk0NSAxNjEuMzg1IDU2NC43ODRDMTYwLjEyNyA1NjEuNjIzIDE1OS41MjIgNTU4LjIzNCAxNTkuNjA1IDU1NC44MjdMMTU5LjYwNSA1NTEuNzI1ek0yMjMuNDQ1IDcxNS42MTNMMTc2LjAzMiA3MTUuNjEzTDE3Ni4wMzIgODcyLjY5MUwxNzMuNzE3IDg3Mi42OTFMMTI5LjA2NyA4NDAuOTEzTDEyOS4wNjcgODgzLjgxNEwxNzYuMDMyIDkxNy4zMzNMMjIzLjQ0NSA5MTcuMzMzTDIyMy40NDUgNzE1LjYxM3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1kZW5nY2h1ZjBhNTQtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGE1NDsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNNDkwLjY2NyA4OTZMNDkwLjY2NyA4MTAuNjY3TDE3MC42NjcgODEwLjY2N0wxNzAuNjY3IDIxMy4zMzNMNDkwLjY2NyAyMTMuMzMzTDQ5MC42NjcgMTI4TDg1LjMzMyAxMjhMODUuMzMzIDg5Nkw0OTAuNjY3IDg5NnpNNjk1LjE2MyA3NTUuNTAzTDkzOC42NjcgNTEyTDY5NS4xNjMgMjY4LjQ5N0w2MzQuODI0IDMyOC44MzdMNzc1LjI5NiA0NjkuMzMzTDM0NC45OTQgNDY5LjMzM0wzNDQuOTk0IDU1NC42NjdMNzc1LjI5NiA1NTQuNjY3TDYzNC44MjQgNjk1LjE2M0w2OTUuMTYzIDc1NS41MDN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7AtbG9naW5vdXRmMGFmNy1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYWY3OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE01MzMuMzMzIDg5Nkw1MzMuMzMzIDgxMC42NjdMODUzLjMzMyA4MTAuNjY3TDg1My4zMzMgMjEzLjMzM0w1MzMuMzMzIDIxMy4zMzNMNTMzLjMzMyAxMjhMOTM4LjY2NyAxMjhMOTM4LjY2NyA4OTZMNTMzLjMzMyA4OTZ6TTQzNS41MDMgNzU1LjUwM0w2NzkuMDA2IDUxMkw0MzUuNTAzIDI2OC40OTdMMzc1LjE2MyAzMjguODM3TDUxNS42MzYgNDY5LjMzM0w4NS4zMzMgNDY5LjMzM0w4NS4zMzMgNTU0LjY2N0w1MTUuNjM2IDU1NC42NjdMMzc1LjE2MyA2OTUuMTYzTDQzNS41MDMgNzU1LjUwM3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1jaGVja2JveF9zZWxlY3RlZGYwYzAyLW8iDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBjMDI7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgOTE3LjMzM0w5MTcuMzMzIDEwNi42NjdMMTA2LjY2NyAxMDYuNjY3TDEwNi42NjcgOTE3LjMzM0w5MTcuMzMzIDkxNy4zMzN6TTcxNC4zNTMgNjk2LjY4TDQ3Mi45OTQgNDU1LjMyTDM1Mi4zMTQgNTc2TDI5MS45NzQgNTE1LjY2TDQ3Mi45OTQgMzM0LjY0MUw3NzQuNjkyIDYzNi4zNEw3MTQuMzUzIDY5Ni42OHoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1jaGVja2JveGYwYzAzLWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBjMDM7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgOTE3LjMzM0wxMDYuNjY3IDkxNy4zMzNMMTA2LjY2NyAxMDYuNjY3TDkxNy4zMzMgMTA2LjY2N0w5MTcuMzMzIDkxNy4zMzN6TTgzMiA4MzJMODMyIDE5MkwxOTIgMTkyTDE5MiA4MzJMODMyIDgzMnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1mZWVkYmFja2YwYzA0LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBjMDQ7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTg0MS45NjEgNTc2LjIxOEw5MDcuMzMgNTIxLjM2Nkw1MjMuMzcyIDYzLjc4Mkw0NTguMDAzIDExOC42MzRMODQxLjk2MSA1NzYuMjE4ek04NzQuNjY3IDMwOS4zMzNMODc0LjY2NyA2NEw2NzIgNjRMNjcyIDE0OS4zMzNMNzg5LjMzMyAxNDkuMzMzTDc4OS4zMzMgMzA5LjMzM0w4NzQuNjY3IDMwOS4zMzN6TTg3NC42NjcgOTYwTDg3NC42NjcgNzE0LjY2N0w3ODkuMzMzIDcxNC42NjdMNzg5LjMzMyA4NzQuNjY3TDIzNC42NjcgODc0LjY2N0wyMzQuNjY3IDE0OS4zMzNMMzUyIDE0OS4zMzNMMzUyIDY0TDE0OS4zMzMgNjRMMTQ5LjMzMyA5NjBMODc0LjY2NyA5NjB6TTU1NC42NjcgNTU0LjY2N0w1NTQuNjY3IDQ2OS4zMzNMMzQxLjMzMyA0NjkuMzMzTDM0MS4zMzMgNTU0LjY2N0w1NTQuNjY3IDU1NC42Njd6TTY4Mi42NjcgNzI1LjMzM0w2ODIuNjY3IDY0MEwzNDEuMzMzIDY0MEwzNDEuMzMzIDcyNS4zMzNMNjgyLjY2NyA3MjUuMzMzeiIgLz4NCiAgICAgICAgPGdseXBoDQogICAgICAgICAgZ2x5cGgtbmFtZT0i56e75Yqo5byA5Y+R5bmz5Y+wLWhpZ2hsaWdodF9maWxsZjBjMDUtZiINCiAgICAgICAgICB1bmljb2RlPSImI3hmMGMwNTsiDQogICAgICAgICAgaG9yaXotYWR2LXg9IjEwMjQiIGQ9IiBNOTc0LjkwMSA2NzYuMjM0TDU5Ny43NzcgMjk5LjExMUw1MTEuMDU0IDI3Mi43MjdMNDMxLjg0MyAxOTMuNTE2TDE5MC40ODQgNDM0Ljg3NUwyNjkuNjggNTE0LjA3MUwyOTYuMDc5IDYwMC44MUw2NzMuMjAyIDk3Ny45MzNMOTc0LjkwMSA2NzYuMjM0ek04NTQuMjIxIDY3Ni4yMzRMNjczLjIwMiA4NTcuMjU0TDM3MS40ODggNTU1LjU0TDM0NS4xMDUgNDY4LjgxNkwzMTEuMTYzIDQzNC44NzVMNDMxLjg0MyAzMTQuMTk2TDQ2NS43ODQgMzQ4LjEzN0w1NTIuNTM4IDM3NC41NTFMODU0LjIyMSA2NzYuMjM0ek03NDguNjI3IDY5MS4zMTlMNTIyLjM1MyA0NjUuMDQ1TDQ2Mi4wMTMgNTI1LjM4NUw2ODguMjg3IDc1MS42NTlMNzQ4LjYyNyA2OTEuMzE5ek0yMjAuNjU0IDM0NC4zNjZMMzQxLjMzMyAyMjMuNjg2TDMwMy42MjEgMTg1Ljk3NEwyMDUuNTY5IDIwOC42MDFMMTQ1LjIyOSAyNjguOTQxTDIyMC42NTQgMzQ0LjM2NnoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1oaWdobGlnaHRmMGMwNi1mIg0KICAgICAgICAgIHVuaWNvZGU9IiYjeGYwYzA2OyINCiAgICAgICAgICBob3Jpei1hZHYteD0iMTAyNCIgZD0iIE04OTkuNDc2IDY2NC44MUw1ODIuNjkyIDM0OC4wMjZMNDk1Ljk2OSAzMjEuNjQyTDQxNi43NTggMjQyLjQzMUwxNzUuMzk5IDQ4My43OUwyNTQuNTk1IDU2Mi45ODZMMjgwLjk5NCA2NDkuNzI1TDU5Ny43NzcgOTY2LjUwOUw4OTkuNDc2IDY2NC44MXpNNzc4Ljc5NyA2NjQuODFMNTk3Ljc3NyA4NDUuODI5TDM1Ni40MDMgNjA0LjQ1NUwzMzAuMDIgNTE3LjczMUwyOTYuMDc5IDQ4My43OUw0MTYuNzU4IDM2My4xMTFMNDUwLjY5OSAzOTcuMDUyTDUzNy40NTMgNDIzLjQ2Nkw3NzguNzk3IDY2NC44MXpNNjg4LjI4NyA2OTQuOThMNDc3LjA5OCA0ODMuNzlMNDE2Ljc1OCA1NDQuMTNMNjI3Ljk0NyA3NTUuMzE5TDY4OC4yODcgNjk0Ljk4ek0yMDUuNTY5IDM5My4yODFMMzI2LjI0OCAyNzIuNjAxTDI4OC41MzYgMjM0Ljg4OUwyMDUuNTY5IDI3Mi42MDFMMTQ1LjIyOSAzMzIuOTQxTDIwNS41NjkgMzkzLjI4MXoiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC1rZXlib2FyZGYwYzA3LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBjMDc7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTkxNy4zMzMgOTE3LjMzM0w5MTcuMzMzIDEwNi42NjdMMTA2LjY2NyAxMDYuNjY3TDEwNi42NjcgOTE3LjMzM0w5MTcuMzMzIDkxNy4zMzN6TTgzMiA4MzJMMTkyIDgzMkwxOTIgMTkyTDgzMiAxOTJMODMyIDgzMnpNNTMzLjMzMyA3MjUuMzMzQzU4OC4yNTcgNzI1LjMzMyA2MzkuOTcgNzA0LjQyOSA2NzkuMTQ1IDY2Ny43MjZMNjg0LjE4MyA2NjIuODQ5TDYyMy44NDMgNjAyLjUxQzU5OS45NjYgNjI2LjM4NyA1NjcuNzgxIDY0MCA1MzMuMzMzIDY0MEM0NjIuNjQxIDY0MCA0MDUuMzMzIDU4Mi42OTIgNDA1LjMzMyA1MTJDNDA1LjMzMyA0NDEuMzA4IDQ2Mi42NDEgMzg0IDUzMy4zMzMgMzg0QzU2NS43NTUgMzg0IDU5Ni4xNzEgMzk2LjA1OSA2MTkuNTQ0IDQxNy4zODRMNjIzLjg0MyA0MjEuNDlMNjg0LjE4MyAzNjEuMTUxQzY0NC40NjEgMzIxLjQyOSA1OTAuNjQ1IDI5OC42NjcgNTMzLjMzMyAyOTguNjY3QzQxNS41MTMgMjk4LjY2NyAzMjAgMzk0LjE3OSAzMjAgNTEyQzMyMCA2MjkuODIxIDQxNS41MTMgNzI1LjMzMyA1MzMuMzMzIDcyNS4zMzN6IiAvPg0KICAgICAgICA8Z2x5cGgNCiAgICAgICAgICBnbHlwaC1uYW1lPSLnp7vliqjlvIDlj5HlubPlj7Atem9vbV9pbmYwYzA4LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBjMDg7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTQyNi42NjcgOTYwQzYyNi45NjIgOTYwIDc4OS4zMzMgNzk3LjYyOSA3ODkuMzMzIDU5Ny4zMzNDNzg5LjMzMyA1MTIuNTY4IDc2MC4yNTMgNDM0LjU5NSA3MTEuNTI0IDM3Mi44NDZMOTQ3LjUwMyAxMzYuODM3TDg4Ny4xNjMgNzYuNDk3TDY1MS4xNTQgMzEyLjQ3NkM1ODkuNDA1IDI2My43NDcgNTExLjQzMiAyMzQuNjY3IDQyNi42NjcgMjM0LjY2N0MyMjYuMzcxIDIzNC42NjcgNjQgMzk3LjAzOCA2NCA1OTcuMzMzQzY0IDc5Ny42MjkgMjI2LjM3MSA5NjAgNDI2LjY2NyA5NjB6TTQyNi42NjcgODc0LjY2N0MyNzMuNSA4NzQuNjY3IDE0OS4zMzMgNzUwLjUgMTQ5LjMzMyA1OTcuMzMzQzE0OS4zMzMgNDQ0LjE2NiAyNzMuNSAzMjAgNDI2LjY2NyAzMjBDNTc5LjgzNCAzMjAgNzA0IDQ0NC4xNjYgNzA0IDU5Ny4zMzNDNzA0IDc1MC41IDU3OS44MzQgODc0LjY2NyA0MjYuNjY3IDg3NC42Njd6TTQ2OS4zMzMgNzQ2LjY2N0w0NjkuMzMzIDY0MEw1NzYgNjQwTDU3NiA1NTQuNjY3TDQ2OS4zMzMgNTU0LjY2N0w0NjkuMzMzIDQ0OEwzODQgNDQ4TDM4NCA1NTQuNjY3TDI3Ny4zMzMgNTU0LjY2N0wyNzcuMzMzIDY0MEwzODQgNjQwTDM4NCA3NDYuNjY3TDQ2OS4zMzMgNzQ2LjY2N3oiIC8+DQogICAgICAgIDxnbHlwaA0KICAgICAgICAgIGdseXBoLW5hbWU9Iuenu+WKqOW8gOWPkeW5s+WPsC16b29tX291dGYwYzA5LWYiDQogICAgICAgICAgdW5pY29kZT0iJiN4ZjBjMDk7Ig0KICAgICAgICAgIGhvcml6LWFkdi14PSIxMDI0IiBkPSIgTTQyNi42NjcgOTYwQzYyNi45NjIgOTYwIDc4OS4zMzMgNzk3LjYyOSA3ODkuMzMzIDU5Ny4zMzNDNzg5LjMzMyA1MTIuNTY4IDc2MC4yNTMgNDM0LjU5NSA3MTEuNTI0IDM3Mi44NDZMOTQ3LjUwMyAxMzYuODM3TDg4Ny4xNjMgNzYuNDk3TDY1MS4xNTQgMzEyLjQ3NkM1ODkuNDA1IDI2My43NDcgNTExLjQzMiAyMzQuNjY3IDQyNi42NjcgMjM0LjY2N0MyMjYuMzcxIDIzNC42NjcgNjQgMzk3LjAzOCA2NCA1OTcuMzMzQzY0IDc5Ny42MjkgMjI2LjM3MSA5NjAgNDI2LjY2NyA5NjB6TTQyNi42NjcgODc0LjY2N0MyNzMuNSA4NzQuNjY3IDE0OS4zMzMgNzUwLjUgMTQ5LjMzMyA1OTcuMzMzQzE0OS4zMzMgNDQ0LjE2NiAyNzMuNSAzMjAgNDI2LjY2NyAzMjBDNTc5LjgzNCAzMjAgNzA0IDQ0NC4xNjYgNzA0IDU5Ny4zMzNDNzA0IDc1MC41IDU3OS44MzQgODc0LjY2NyA0MjYuNjY3IDg3NC42Njd6TTU3NiA2NDBMNTc2IDU1NC42NjdMMjc3LjMzMyA1NTQuNjY3TDI3Ny4zMzMgNjQwTDU3NiA2NDB6IiAvPg0KICAgIDwvZm9udD4NCiAgPC9kZWZzPg0KPC9zdmc+\"","export default \"data:font/ttf;base64,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Cw8ADwsPAAAAJQAPCxAADwsQAAAAJgAPCxEADwsRAAAAJwAPCxIADwsSAAAAKAAPCxMADwsTAAAAKQAPCxQADwsUAAAAKgAPCxUADwsVAAAAKwAPCxYADwsWAAAALAAPCxcADwsXAAAALQAPCxgADwsYAAAALgAPCxkADwsZAAAALwAPCxoADwsaAAAAMAAPCxsADwsbAAAAMQAPCxwADwscAAAAJAAPCx0ADwsdAAAAMgAPCx4ADwseAAAAMwAPCx8ADwsfAAAANAAPCyAADwsgAAAANQAPCyEADwshAAAANgAPCyIADwsiAAAANwAPCyMADwsjAAAAOAAPCyQADwskAAAAOQAPCyUADwslAAAAOgAPCyYADwsmAAAAOwAPCycADwsnAAAAPAAPCygADwsoAAAAPQAPCykADwspAAAAPgAPCyoADwsqAAAAPwAPCysADwsrAAAAQAAPCywADwssAAAAQQAPCy0ADwstAAAAQgAPCy4ADwsuAAAAQwAPCy8ADwsvAAAARAAPCzAADwswAAAARQAPCzEADwsxAAAARgAPCzIADwsyAAAARwAPCzMADwszAAAASAAPCzQADws0AAAASQAPCzUADws1AAAASgAPCzYADws2AAAASwAPCzcADws3AAAATAAPCzgADws4AAAATQAPCzkADws5AAAATgAPCzoADws6AAAATwAPCzsADws7AAAAUAAPCzwADws8AAAAUQAPCz0ADws9AAAAUgAPCz4ADws+AAAAUwAPCz8ADws/AAAAVAAPC0AADwtAAAAAVQAPC0EADwtBAAAAVgAPC0IADwtCAAAAVwAPC0MADwtDAAAAWAAPC0QADwtEAAAAWQAPC0UADwtFAAAAWgAPC0YADwtGAAAAWwAPC0cADwtHAAAAXAAPC0gADwtIAAAAXQAPC0kADwtJAAAAXgAPC0oADwtKAAAAXwAPC0sADwtLAAAAYAAPC0wADwtMAAAAYQAPC00ADwtNAAAAYgAPC04ADwtOAAAAYwAPC08ADwtPAAAAZAAPC1AADwtQAAAAZQAPC1EADwtRAAAAZgAPC1IADwtSAAAAZwAPC1MADwtTAAAAaAAPC1QADwtUAAAAaQAPC1UADwtVAAAAdgAPC1YADwtWAAAAdQAPC1cADwtXAAAAagAPC1gADwtYAAAAawAPC1kADwtZAAAAbAAP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AV0BXgFfAWABYQFiAWMBZAFlAWYBZwFoAWkBagFrAWwBbQFuAW8BcAFxAXIBcwF0AXUBdgF3AXgBeQF6AXsBfAF9AX4BfwGAAYEBggAUX19fX19fLXNvdXN1b2YwYTU1LWYVX19fX19fLXpoaWRpbmdmMGE1Ni1mE19fX19fXy1jbG9zZWYwYTZhLWYRX19fX19fLWFkZGYwYWU3LWYVX19fX19fLXVwYXJyb3dmMGFlOC1mFF9fX19fXy1kZWxldGVmMGFlYi1mF19fX19fXy1kdXBsaWNhdGVmMGFlYy1mEl9fX19fXy1lZGl0ZjBhZWQtZhlfX19fX18taW5mb3JtYXRpb25mMGFlZS1mFF9fX19fXy16b29taW5mMGFmMy1mFV9fX19fXy16b29tb3V0ZjBhZjQtZhdfX19fX18tZG93bmFycm93ZjBhZjUtZhpfX19fX18tcHJldmlld2Nsb3NlZjBhZjgtZhRfX19fX18tcmVwZWFsZjBhZjktZhdfX19fX18tZmlsZV90ZXh0ZjBhZmEtZhJfX19fX18tcmVkb2YwYWZiLWYUX19fX19fLXJlbW92ZWYwYWZjLWYVX19fX19fLWhpc3RvcnlmMGFmZC1mFV9fX19fXy13YXJuaW5nZjBhZmUtZhJfX19fX18tbW9yZWYwYWZmLWYTX19fX19fLXBob3RvZjBiMDAtZhJfX19fX18tbGlzdGYwYjAxLWYUX19fX19fLWV4cG9ydGYwYjAyLWYUX19fX19fLWltcG9ydGYwYjAzLWYTX19fX19fLXNoYXJlZjBiMDQtZhNfX19fX18tY2xlYXJmMGIwNS1mGV9fX19fXy1taW51c19zcXVyYWYwYjA2LWYYX19fX19fLXBsdXNfc3F1cmFmMGIwNy1mEl9fX19fXy1oZWxwZjBiMDgtZhpfX19fX18tcHJldmlld19vcGVuZjBiMDktZhdfX19fX18tcmVhZF9vbmx5ZjBiMGEtZhZfX19fX18tZmxsZV9hZGRmMGIwYi1mEl9fX19fXy1tZW51ZjBiMGMtZhJfX19fX18tbWluZWYwYjBkLWYSX19fX19fLWhvbWVmMGIwZS1mEl9fX19fXy1maW5kZjBiMWMtZhlfX19fX18tcmlnaHRfYXJyb3dmMGIwZi1mGF9fX19fXy1sZWZ0X2Fycm93ZjBiMTAtZhdfX19fX18tZHJvcF9kb3duZjBiMTEtZhhfX19fX18tZHJvcF9yaWdodGYwYjEyLWYXX19fX19fLWRyb3BfbGVmdGYwYjEzLWYaX19fX19fLWRyb3BfcmlnaHR0MmYwYjE0LWYYX19fX19fLWRyb3BfbGVmdDJmMGIxNS1mEl9fX19fXy1zb3J0ZjBiMTYtZhVfX19fX18tZHJvcF91cGYwYjE3LWYZX19fX19fLXVwcGVyX3JpZ2h0ZjBiMTgtZhlfX19fX18tbG93ZXJfcmlnaHRmMGIxOS1mGF9fX19fXy1sb3dlcl9sZWZ0ZjBiMWEtZhhfX19fX18tdXBwZXJfbGVmdGYwYjFiLWYRX19fX19fLWN1dGYwYjFkLWYSX19fX19fLWNyb3BmMGIxZS1mGV9fX19fXy1jb21tZW50X2FkZGYwYjFmLWYcX19fX19fLWNvbW1lbnRfZGVsZXRlZjBiMjAtZhlfX19fX18tY29tbWVudHRleHRmMGIyMS1mHl9fX19fXy1jb21tZW50X3F1ZXN0aW9uZjBiMjItZh9fX19fX18tY29tbWVudHByb2Nlc3NpbmdmMGIyMy1mHF9fX19fXy1jb21tZW50X3NpbmdsZWYwYjI0LWYeX19fX19fLWNvbW1lbnRfbXVsdGlwbGVmMGIyNS1mGl9fX19fXy1jb21tZW50Y2hlY2tmMGIyNi1mF19fX19fXy1ub19ib3JkZXJmMGIyNy1mE19fX19fXy1wYXN0ZWYwYjI4LWYWX19fX19fLWZpbGV3b3JkZjBiMjktZhZfX19fX18tYWRkX2xpbmtmMGIyYS1mGl9fX19fXy1mZGVsZXRlX2xpbmtmMGIyYi1mE19fX19fXy12aWRlb2YwYjJjLWYYX19fX19fLWZpbGVfZXhjZWxmMGIyZC1mEl9fX19fXy1zYXZlZjBiMmUtZhJfX19fX18tcmVhZGYwYjJmLWYTX19fX19fLXNsaWRlZjBiMzAtZhRfX19fX18tbGFwdG9wZjBiMzEtZhdfX19fX18tY29kZV90YWdzZjBiMzItZhlfX19fX18tY29kZV9icmFjZXNmMGIzMy1mGF9fX19fXy1zcGxpdF9saW5lZjBiMzQtZhRfX19fX18taXRhbGljZjBiMzUtZh1fX19fX18tdGV4dF9jb2xvcl9maWxsZjBiMzYtZhdfX19fX18tdW5kZXJsaW5lZjBiMzctZhtfX19fX18tc3RyaWtldGhyb3VnaGYwYjM4LWYTX19fX19fLXF1b3RlZjBiMzktZhhfX19fX18tdGV4dF9jb2xvcmYwYjNhLWYdX19fX19fLWNlbGxfY29sb3JfZmlsbGYwYjNiLWYaX19fX19fLWZvcm1hdF9jbGVhcmYwYjNjLWYSX19fX19fLWJvbGRmMGIzZC1mE19fX19fXy1lbnRlcmYwYjNlLWYaX19fX19fLWNsZWFyX2Zvcm1hdGYwYjNmLWYaX19fX19fLWZvcm1hdF9icnVzaGYwYjQwLWYYX19fX19fLWNvbG9yX2ZpbGxmMGI0MS1mFV9fX19fXy1jb21iaW5lZjBiNDItZhNfX19fX18tc3BsaXRmMGI0My1mHF9fX19fXy1hZGRfY29sX2JlZm9yZWYwYjQ0LWYbX19fX19fLWFkZF9jb2xfYWZ0ZXJmMGI0NS1mG19fX19fXy1hZGRfcm93X2Fib3ZlZjBiNDYtZhtfX19fX18tYWRkX3Jvd19iZWxvd2YwYjQ3LWYYX19fX19fLWRlbGV0ZV9yb3dmMGI0OC1mGF9fX19fXy1kZWxldGVfY29sZjBiNDktZhpfX19fX18tZGVsZXRlX3RhYmxlZjBiNGEtZhNfX19fX18tdGFibGVmMGI0Yi1mE19fX19fXy1oZWFkNmYwYjRjLWYTX19fX19fLWhlYWQ1ZjBiNGQtZhNfX19fX18taGVhZDRmMGI0ZS1mE19fX19fXy1oZWFkM2YwYjRmLWYTX19fX19fLWhlYWQyZjBiNTAtZhNfX19fX18taGVhZDFmMGI1MS1mEl9fX19fXy1oZWFkZjBiNTItZhVfX19fX18tb3V0ZGVudGYwYjUzLWYXX19fX19fLXVub3JkZXJlZGYwYjU0LWYTX19fX19fLWxuZW50ZjBiNTctZhpfX19fX18tYWxpZ25fbWlkZGxlZjBiNTgtZhlfX19fX18tYmFja190b190b3BmMGI1OS1mGl9fX19fXy1hbGlnbl9ib3R0b21mMGI1YS1mGV9fX19fXy1saW5lX2hlaWdodGYwYjViLWYYX19fX19fLWFsaWducmlnaHRmMGI1Yy1mG19fX19fXy1hbGlnbl9qdXN0aWZ5ZjBiNWQtZhhfX19fX18tYWxpZ25fbGVmdGYwYjVlLWYaX19fX19fLWFsaWduX2NlbnRlcmYwYjVmLWYaX19fX19fLWRyb3BfdXBfZmlsbGYwYjYwLW8cX19fX19fLWRyb3BfZG93bl9maWxsZjBiNjEtbxZfX19fX18tdGFza2xpc3RmMGI1Ni1mFV9fX19fXy1vcmRlcmVkZjBiNTUtZhVfX19fX18tZGVuZ2NodWYwYTU0LWYWX19fX19fLWxvZ2lub3V0ZjBhZjctZh9fX19fX18tY2hlY2tib3hfc2VsZWN0ZWRmMGMwMi1vFl9fX19fXy1jaGVja2JveGYwYzAzLWYWX19fX19fLWZlZWRiYWNrZjBjMDQtZhxfX19fX18taGlnaGxpZ2h0X2ZpbGxmMGMwNS1mF19fX19fXy1oaWdobGlnaHRmMGMwNi1mFl9fX19fXy1rZXlib2FyZGYwYzA3LWYVX19fX19fLXpvb21faW5mMGMwOC1mFl9fX19fXy16b29tX291dGYwYzA5LWYAAAAA\"","export default \"data:font/woff2;base64,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\"","export default \"data:font/woff;base64,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\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktripdocs_js_sdk\"] = self[\"webpackChunktripdocs_js_sdk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(89721)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","leafPrototypes","getProto","DIRTY_PATHS","WeakMap","FLUSHING","NORMALIZING","PATH_REFS","POINT_REFS","RANGE_REFS","sessStorage","_cache","singleStorage","set","key","val","get","del","has","setCache","docId","value","editorProps","window","tripdocs","editorsMap","cache","getCache","getGlobalCache","storage","_store","sessionStorage","_prefix","setItem","removeItem","e","sync","products","fn","lastPrefix","forEach","product","seconds","expiredAt","Date","now","JSON","stringify","length","setAll","map","Object","keys","_this","defaultValue","rawVal","getItem","parse","init","this","events","EventEmitter","type","listener","isUnshift","unshift","push","_i","args","call","me","on","oneTime","off","index","indexOf","splice","CACHED_SEL_CELLS","SEL_CELLS","ACTIVE_TABLE","RESIZING_ROW","RESIZING_ROW_ORIGIN_HEIGHT","RESIZING_ROW_MIN_HEIGHT","RESIZING_COL","RESIZING_COL_ORIGIN_WIDTH","RESIZING_COL_MIN_WIDTH","zhKeyMap","titleHint","contextHint","normal","heading","heading1","heading2","heading3","heading4","heading5","heading6","softEnter","bold","strikethrough","fontColor","colorAndLingth","bgColor","numberedList","bulletedList","toDoList","link","quote","underline","italic","code","callout","codeBlock","alignLeft","alignCenter","alignRight","addComment","cut","copy","delete","insert","table","copyTable","deleteTable","localFile","divider","fontSize","fontLetter","increaseFontSize","decreaseFontSize","share","decreaseIndentation","increaseIndentation","historyVersion","showOutline","hideOutline","outlineSetting","showBorder","hideBorder","tableCellBg","lineHeight","default","alignmentHorizontal","alignmentVertical","alignTop","alignMiddle","alignBottom","format","paintFormat","cleanFormatting","undo","redo","save","video","image","common","tableSize","tableInsertRow","tableInsertColumn","tableInsertUp","tableInsertDown","tableInsertLeft","tableInsertRight","tableDeleteSelectedRow","tableDeleteSelectedColumn","tableDelete","tableMerge","tableUnmerge","hide","show","documentOutline","deepestAnchorLevel","reply","ReplyTo","edit","submit","commentHasBeenDeleted","cancel","jumpToAnchor","anchorNotFound","globalComment","comment","visitLink","cancelLink","editLink","complete","linkHint","textHint","text","moreFeatures","name","email","empcode","department","positionname","download","space","quickGuide","hotkey","globalHotkey","textHotkey","problemFeedback","toTop","emptyAnchorPlaceholder1","emptyAnchorPlaceholder2","expandAnchor","collapseAnchor","helpCenter","dragHandle","excalidraw","kirby","sCode","slides","historyRecord","versionId","versionName","createTime","restore_doc","restore_doc_success","returnToDoc","restore","importantNotice","recoverVersionConfirm","currentVersion","uploadFailed","pleaseInputMarkdown","pleaseInputCode","zoomIn","enKeyMap","replyTo","f","env","getStringResource","lang","ELTYPE","ALERTMESSAGE","ALERTDESCRIPTION","PARAGRAPH","CommentCallbackActionType","HEADING_MAP","TEXT_TAGS_MAP","backgroundColor","LIST_TYPES","ULLIST","OLLIST","TODO_LIST","HEADING_TYPES","HEADING_ONE","HEADING_TWO","HEADING_THREE","HEADING_FOUR","HEADING_FIVE","HEADING_SIX","slateDefaultValue","children","anchorId","TABBABLE_TYPES","BLOCK_QUOTE","FORMATS","HAS_INLINE_IMG_ELEMENT_TYPE","INLINE_TYPES","MENTION","LINK","INLINEIMAGE","SINGLE_INLINE_TYPES","inCardEL","DIVIDE","TABLE","IMAGE","ALERTS","CODE_BLOCK","VIDEO","DESIGN","SANDBOX","FILE","EXCALIDRAW","getGlobalCommentRangeId","addSelection","editor","startPath","endPath","setSelCells","coveredCells","calcCoveredCells","cells","totalCellsGenerator","Editor","at","match","n","totalCells","p","startNode","endNode","rowMin","Math","min","rowMax","max","colMin","colMax","colspan","rowspan","collaboratedCellsArr","cellNode","cellPath","entry","findPointLeftTop","nodeTopLeft","pathTopLeft","selectedCell","cell","tmpNode","tmpPath","_a","slice","_b","_c","_d","removeSelection","getEditorEventEmitter","eventEmitter","CodepointType","createEditor","operations","selection","marks","isInline","isVoid","onChange","apply","op","ref","PathRef","transform","PointRef","RangeRef","Set","dirtyPaths","add","path","join","oldDirtyPaths","newDirtyPaths","getDirtyPaths","Path","Transforms","emit","newProperties","Promise","resolve","then","stack","shift","content","addMark","Range","Text","split","deleteBackward","unit","reverse","deleteForward","deleteFragment","direction","getFragment","Node","insertBreak","always","insertFragment","fragment","insertNode","node","insertText","inline","mode","inlinePath","anchor","point","focus","normalizeNode","Element","child","concat","voids","shouldHaveInlines","i","currentNode","prev","isLast","newChild","loose","removeMark","path_1","levels","descendants","Array","from","ancestors","previousPath","newPath","oldAncestors","newAncestors","ancestor","newParent","newIndex","resultPath","nextPath","getCharacterDistance","str","isRTL","isLTR","codepoints","codepointsIteratorRTL","left","None","right","distance","gb12Or13","char","codePointAt","getCodepointType","intersects","ZWJ","ExtPict","endsWithEmojiZWJ","substring","RI","endsWithOddNumberOfRIs","isBoundaryPair","SPACE","PUNCTUATION","CHAMELEON","splitByCharacterDistance","dist","isWordCharacter","remaining","test","charDist","end","char1","charAt","isLowSurrogate","charCodeAt","char2","isHighSurrogate","charCode","reExtend","rePrepend","reSpacingMark","reL","reV","reT","reLV","reLVT","reExtPict","Any","search","Extend","Prepend","SpacingMark","L","V","T","LV","LVT","x","y","NonBoundaryPairs","findIndex","r","endingEmojiZWJ","endingRIs","isElement","isPlainObject","isAncestor","isElementList","isArray","every","isElementProps","props","undefined","isElementType","elementVal","elementKey","matches","element","localStorage","getParentPathByType","getParentPathByTypes","types","includes","isPathDescendantOfTable","parentType","isPathDescendantOfType","isPath","num","isFinite","calcPath","anther","newAnther","relativeLen","fill","relativePath","getRelativePath","getStart","curStartPath","startPoint","offset","bodySelectAll","lastChildIndex","lastGrandChildren","lastTextLength","start","currentCellSelectAll","cPath","currentCellStartPoint","endPoint","currentCellEndPoint","sel","thisCellPath","console","log","currentLineSelectAll","getCurrentLineStart","getCurrentLineEnd","linePath","lineNode","cardPath","getIsTitle","rangeisLine","range","sliceRangToLine","ranges","basePath","p1","startOffsetPath","endOffsetPath","startIndex","endIndex","startBasePath","endBasePath","ranges_1","startRangs","centerNum","range_1","endRangs","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","ReadOnlyContext","createContext","SlateContext","useSlate","context","useContext","handleSlateError","getDefaultView","globalThis","Comment","Selection","StaticRange","ownerDocument","defaultView","isDOMElement","isDOMNode","nodeType","isDOMSelection","anchorNode","isDOMText","hasShadowRoot","document","activeElement","shadowRoot","getEditableChildAndIndex","parent","childNodes","triedForward","triedBackward","getAttribute","getEditableChild","getPlainText","domNode","nodeValue","display","getComputedStyle","getPropertyValue","tagName","IS_IOS","parseInt","React","navigator","userAgent","MSStream","IS_APPLE","IS_FIREFOX","IS_SAFARI","IS_EDGE_LEGACY","IS_CHROME","IS_CHROME_LEGACY","createElement","InputEvent","prototype","getTargetRanges","HOTKEYS","compose","moveBackward","moveForward","moveWordBackward","moveWordForward","extendBackward","extendForward","splitBlock","APPLE_HOTKEYS","moveLineBackward","moveLineForward","deleteLineBackward","deleteLineForward","deleteWordBackward","deleteWordForward","extendLineBackward","extendLineForward","transposeCharacter","WINDOWS_HOTKEYS","create","generic","apple","windows","isGeneric","isKeyHotkey","isApple","isWindows","event","isBold","isCompose","isMoveUp","isMoveDown","isMoveBackward","isMoveForward","isDeleteBackward","isDeleteForward","isDeleteLineBackward","isDeleteLineForward","isDeleteWordBackward","isDeleteWordForward","isExtendBackward","isExtendForward","isExtendLineBackward","isExtendLineForward","isItalic","isMoveLineBackward","isMoveLineForward","isMoveWordBackward","isMoveWordForward","isRedo","isSplitBlock","isTransposeCharacter","isUndo","NODE_TO_INDEX","NODE_TO_PARENT","EDITOR_TO_WINDOW","EDITOR_TO_ELEMENT","ELEMENT_TO_NODE","NODE_TO_ELEMENT","NODE_TO_KEY","EDITOR_TO_KEY_TO_ELEMENT","IS_READ_ONLY","IS_FOCUSED","EDITOR_TO_ON_CHANGE","PLACEHOLDER_SYMBOL","Symbol","EditorContext","useEditor","SelectedContext","useSelected","TextString","isTrailing","useRef","current","htmlText","innerText","innerHTML","ZeroWidthString","isLineBreak","leaf","ReactEditor","parentPath","Leaf","renderLeaf","DefaultLeaf","contentEditable","style","pointerEvents","width","maxWidth","whiteSpace","opacity","userSelect","fontStyle","fontWeight","textDecoration","placeholder","attributes","next","decorations","leaves","SlateText","id","KEY_TO_ELEMENT","decorate","renderElement","DefaultElement","editorState","readOnly","dir","Tag","height","color","outline","position","Provider","MemoizedElement","isRangeListEqual","list","another","other","isLeafBlock","ds","dec","d","createRandomId","getTime","toString","createUUID","reorderOL","result","remainingStr","replace","prevId","prevIsOLLIST","curItem","newId","trimEmptyText","filter","item","trim","normalizeInlineNodeAtRoot","__spreadArray","normalizeLi","cloneDeep","newArr","el","normalizeParagraph","newP","normalizeInlineLink","_normalizeLink","linkIndexArr","len","linkIndex","__assign","updateIdentities","decodedStr","unwrapSingleCell","HAS_BEFORE_INPUT_SUPPORT","Editable","autoFocus","defaultDecorate","propsOnDOMBeforeInput","refs","scrollSelectionIntoView","defaultScrollSelectionIntoView","_e","_f","Component","useState","isComposing","setIsComposing","state","useMemo","isUpdatingSelection","latestElement","isPlaceholderRemove","domSelection","getSelection","hasDomSelection","editorElement","hasDomSelectionInEditor","contains","focusNode","slateRange","exactMatch","suppressThrow","newDomRange","setBaseAndExtent","endContainer","endOffset","startContainer","startOffset","removeAllRanges","setTimeout","onDOMBeforeInput","useCallback","hasEditableTarget","target","isDOMEventHandled","data","dataTransfer","closest","preventDefault","startsWith","targetRange","endsWith","DataTransfer","addEventListener","removeEventListener","onDOMSelectionChange","throttle","anchorNodeSelectable","isTargetInsideVoid","focusNodeSelectable","role","spellCheck","autoCorrect","autoCapitalize","suppressContentEditableWarning","wordWrap","onBeforeInput","isEventHandled","onBlur","relatedTarget","hasAttribute","onClick","hasTarget","className","parentElement","message","startVoid","endVoid","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","getSelectionFromDomSelection","clipboardData","onCut","onDragOver","onDragStart","isDragHandle","isInlineImage","onDrop","dropEffect","dragDataTransfer","dragData","dragOriginalPath","files","getData","newFragment","parsed","isTargetBefore","targetLineContentLength","onFocus","onKeyDown","isBlockContext","maybeHistoryEditor","nativeEvent","getDirection","Hotkeys","edge","onPaste","isPlainTextOnlyPaste","domRange","readonly","leafEl","getBoundingClientRect","bind","scrollIntoView","scrollMode","editable","slateNode","handler","isDefaultPrevented","isPropagationStopped","defaultPrevented","check","checkText","error","domPoint","leafNode","FocusedContext","useFocused","findKey","Key","findPath","isFocused","isReadOnly","blur","toDOMNode","preventScroll","deselect","rangeCount","hasDOMNode","options","targetEl","editorEl","err","isContentEditable","insertData","setFragmentData","toDOMPoint","texts","querySelectorAll","textContent","attr","toDOMRange","isBackward","domAnchor","domFocus","createRange","startEntry","endEntry","isStartAtZeroWidth","isEndAtZeroWidth","setStart","setEnd","toSlateNode","domEl","some","cls","classList","getElementsByTagName","findEventRange","rect","isPrev","top","caretRangeFromPoint","caretPositionFromPoint","offsetNode","toSlateRange","toSlatePoint","normalizeDOMPoint","nearestNode","nearestOffset","parentNode","nodeName","textNode","voidNode","contents","cloneContents","removeChild","querySelector","parentElementInnerHTML","anchorOffset","focusOffset","isCollapsed","collapsed","Point","toSlateRange2","hasRange","hasCardTarget","HTMLElement","getCardTargetAttribute","getCardCursorNode","blockCardNode","cardCenter","previousElementSibling","nextElementSibling","isCardLeft","cardTarget","isCardLeftByTargetAttr","targetAttr","isCardRightByTargetAttr","isCardCenterByTargetAttr","toSlateCardEntry","firstElementChild","moveBlockCard","cursorNode","Slate","rest","setKey","assign","values","onContextChange","isSameLineSelection","doRectsIntersect","compareRect","middle","bottom","areRangesSameLine","range1","range2","rect1","rect2","withReact","parentBlockEntry","parentBlockPath","parentElementRange","currentLineRange","parentRange","parentRangeBoundary","positions","floor","findCurrentLineRange","isBlockCard","isSelectionChanged","curNode","currentLineSelectAllRange","curLinePath","dom","createDocumentFragment","appendChild","cloneNode","contentsArr","contentsRes","isList","relativeFirstIndex","count","tempDocFrag","imgSelector","img","pop","j","attach","cloneRange","setEndAfter","zw","isNewline","formats","span","root_1","leaf_1","setAttribute","setFragment","find","tableRow","tableCell","alertDescription","getCardInnerContentWhenCopy","frag","string","encoded","btoa","encodeURIComponent","setData","div","hTag","root","body","decoded","decodeURIComponent","atob","lines","line","ReactDOM","listenerArr","callback","targetVal","resortListener","it","addListener","lId","elId","rowIt","k","cellIt","h","cellChildIt","childIt","lListMap","zArr","utabLevel","sortListFromPath","i_1","tabLevel","isPush","targetObj","arr","i_2","targetArr","lArr","i_3","el_1","updateListNum","Map","sort","a","b","updateOlList","opsStr","withOlList","startNodePath","isStart","bodyRange","keepStartElementProperties","deleteFragmentPluginsRunner","tabbableParentPath","prevPath","prevNode","rowNode","cellChildrenNodeFirstNode","cellChildrenNodeFirstPath","oldType","toggleBlock","isActive","isBlockActive","typeArr","path1","path2","nodeArr","setNodesToPARAGRAPH","tmp1","tmp2","getPath12FromSelection","newOpt","hashCode","hash","intToRGB","c","toUpperCase","isRGBLight","rgb","exec","g","Button","styled","COLOR_DEFAULT","COLOR_ACTIVE","IconButton","cursor","disabled","cellBgColor","active","thiscolor","border","padding","zIndex","borderRadius","background","IconBtn","H1","online","H2","H3","HFour","H5","H6","Italic","ClientFrame","HoverMenu","size","header","alignToggle","selectedCells","alignCells","align","isAlignActive","fo_1","setVerticalAlign","valign","verticalAlign","selectNodes","cellsPath","thisSelection","row","xmin","ymin","SlateElement","COLOR_STYLE","colorArray","colorNames","colorNamesMap","colorChoice","selCells","cellBackgroundColor","FONT_STYLE","getAllMatchedFormatNames","names","getOwnPropertyNames","formatArr","toggleMark","isMarkActive","getColorMark","colorFormat","addApiListener","api","getFunctionName","applyOpt","opt","others","actionKey","timeFormat","dt","fmt","date","offset_GMT","getTimezoneOffset","nowDate","timezone","o","getMonth","getDate","getHours","getMinutes","getSeconds","S","getMilliseconds","RegExp","$1","getFullYear","substr","commentTypeMapToString","commentType","typeMap","getPointStrOffset","nodes","insertCommentStyle","setCurRangeId","editorId","setIdenticalSelectionRangeId","setWIPCommentRangeId","title","tabbableParentNode","rangeId","refContent","commentId","uuid","thisEditor","setCommentData","commentData","userName","userInfo","time","mentionedMemberList","replyTarget","applyCommentCallback","action","commentArr","transformObjStrTimeToNumAndCallback","obj","isNaN","deleteCommentByCommentId","isReplyingComment","newContent","isTargetComment","DELETE","insertSideComment","creator","headPortrait","newData","INSERT","SAVING","MERGING","HistoryEditor","isHistoryEditor","redos","undos","Operation","isOperationList","History","history","isMerging","isSaving","withoutMerging","withoutSaving","withHistory","batch","batch_1","isSelection","batch_3","inverseOps","inverse","isSkip","mySelection","lastBatch","lastOp","overwrite","shouldOverwrite","merge","shouldSave","shouldMerge","newOp","shouldClear","MentionInfo","user","cx","css","src","avatarUrl","displayname","c_name","ad_email","businessname","MentionElement","selected","TripdocsSdkContext","targetUser","senderUser","isSelected","setIsSelected","isMe","setIsMe","employee","userId","stopPropagation","href","location","overlayInnerStyle","trigger","placement","visible","onVisibleChange","sn","insertMention","character","cUser","focusPath","postLeafPath","mention","getSlateSlection","myfetch","url","fetchConfig","reject","fetch","res","json","response","alert","createCard","insertCard","atPath","card","select","isNoEmpty","parentPath2","parentNode2","withCard","isCardSelection","normalizeCardSelection","cardSufPath","nextNode","curLineEnd","cardPrePath","parentNodeFirstNodeOrCenterNodeCallBack","cellChildrenNodePath","getNodeFirst","getPrevious","previousNode","delCellPreviousChildren","parentNodeLastNodeOrCenterNodeCallBack","isSameLineSelectingCard","elementPath","previousElementPath","isPreviousNodeCardType","fillerTypes","anchorAtCardFiller","focusAtCardFiller","isSelectionCard","CardPreSuf","onDragOverCapture","_onClick","_onDoubleClick","_onDragCapture","Card","focused","cn","fakeSelected","isTable","slateNodePath","getRangeAt","results_1","$","commonAncestorContainer","containsNode","hasClass","removeClass","each","addClass","onDoubleClick","onDragCapture","onDragStartCapture","onDragEndCapture","OverlayContainerPortal","containerEl","getElementById","Overlay","overlayRefDom","bordered","overlayStyle","overlayWrapStyle","overlayWrapClassName","overlayPos","setOverlayPos","editorContainerWrapEl","domPos","editorContainerWrapElRect","wrapLeft","wrapTop","scrollTop","getInlineInFragment","emptyText","DragHandleBtn","HolderOutlined","isOverElement","findDomToEl","setEl","tooltipVisible","setTooltipVisible","useReducer","showDragHandle","toggleShowDragHandle","hover","toggleHover","drag","toggleDrag","handleRef","handle","elementFromPoint","handleDrag","scrollWrapRect","clientY","scroll","step","scrollWrap","scrollY","scrollTo","draggable","onMouseEnter","onMouseLeave","parentEntry","setDragImage","effectAllowed","onDrag","onDragEnd","GeneralOverlayButton","icon","tooltipPlacement","hoverStyle","translateImgToBase64Native","canvas","getContext","Image","crossOrigin","onload","drawImage","imageUrl","toDataURL","withImages","SlateImage","textAlign","source","lSource","setShow","isDrawing","setIsDrawing","showPreview","setShowPreview","setIsOverElement","setOverlayRefDom","linkSource","isInElectron","filePath","translateImgFileToBase64","myHeaders","Headers","append","requestOptions","method","headers","base64","fetchUrl","imgUploadUrl","requestUploadImg","isInternet","setImageNodeFromSource","requestDownloadImg","onMouseDown","currentTarget","division","clientX","onMouseOver","MyImage","isShow2","onDrawing","isDrawing2","selected2","focused2","overlayRefRect","setOverlayRefRect","imgContainerDom","percent","dataId","clientRect","isShow","style1","style2","style3","style4","style0","boxShadow","diffw","diffh","w","_left","_top","_width","_height","round","fn2","_onMouseDown","_onMouseUp","_onMouseMove","justifyContent","alignItems","m","getElementsByClassName","click","onMouseUp","onMouseMove","preview","elDom","imageDom","imageSource","filename_1","urlData","downloadFile","selectTargetForPath","selectTargetForNode","execCommand","copyImageForNode","copyImage","tPath","filename","FileComponent","isMobile","fileRef","showOverlay","setShowOverlay","handleClickOutside","file","updateOverlay","fileDom","isEmptyFile","fileName","fileSize","params","useTripdocsFileUpload","myFetch","blob","docContent","remove","getFile","cardNode_1","input","oncopy","cardNode_2","insertFileObject","file_name","file_reader","FileReader","remoteDre","doc","setFile","readAsDataURL","ResizeDot","elementId","isResizing","metrics","ImageInnerButton","cb","onMouseDownCapture","ImageInnerButtonWrap","setPreviewVisible","getLocationPureUrl","host","judgeIsPrivate","isImageBase64","isUrl","consumePlugins","pluginConsumer","plugins","out","plugin","ROW_MIN_HEIGHT","unmergeCell","colCellsArr","nowPath","opsTable","ops","maxPos","curTablePath","curRow","curRowRowspanNodes","isLastCount","done","tempCount","curPath","pointLeftTop","nodePrev","thisTable","col","newRowNum","newHwEach","hwEach","skip","tmpColspan","tmpRowspan","Number","column","prevRowNum","curRowNum","prevRowHwEach","insertRow","minPos","MAX_SAFE_INTEGER","curRowHwEach","insertRowReverse","initialPath","row_2","newColNum","oldHwEach","pointsLeftTop","isLastColspan","tmpIsNotReal","newHwEachCell","prevHw","insertCol","row_3","isFirstCol","curHw","insertColReverse","row_1","deleteRow","row_4","thisRow","no","tempHwEachItem","deleteCol","selectedNodes","abs","thisNode","colWidth","colHeight","x_len","y_len","contentArr","cellContent","tablePath","thisNode_1","mergeCell","convertTabLevel","_","updateToOl","cardChildPath","childNode","childPath","allList","newLId","numAdd","isCopyList","insertOl","opts","lastNode","endNode_1","startArr","endArr","authCls","updateOlDecreaseIndent","newRowNode","insertNewOlFromOl","selectionStart","selectionEnd","parentNodePath","parentNodeStart","parentNodeEnd","isAtParentNodeEnd","isAtParentNodeStart","removeOl","liType","OlList","elementUniqueId","isInAnchor","_g","_h","_j","marginLeft","UlList","listStyleType","convertBytesToBase64","bytesArray","base64string","bytesArrayLength","array3","array3length","array4","ANCHOR","FOCUS","_super","__extends","Token","getFocusOffset","STRINGS","WeakSet","resolveDescendants","addChild","AnchorToken","token","addAnchorToken","FocusToken","addFocusToken","flat","Infinity","DEFAULT_CREATORS","selectionChild","otherChildren","makeEditor","jsx","elementCreators","elements","creators","normalizeElements","Boolean","createFactory","createHyperscript","copyToClipboard","Option","Select","defaultLanguage","languageMapping","html","javascript","typescript","markdown","python","rust","sql","languageExtMapping","cm_css","cm_html","matchClosingTags","autoCloseTags","cm_js","markdwon","cm_md","cm_python","cm_rust","cm_sql","CodeHighlightEditor","setSelectCB","parentEditor","dataCodeBlockId","editorRef","cmRef","dataCardValueCode","dataCardValueLanguage","toLowerCase","dataCardValue","setValue","language","setLanguage","curPath_1","encodedValue_1","editorDom","removeAttr","edt","ea","tokens","Prism","tokenize","languages","getLength","getExtension","maxCount","CopyOutlined","basicSetup","highlightActiveLine","lineNumbers","autocompletion","crosshairCursor","bracketMatching","foldGutter","highlightSelectionMatches","extensions","isHotkey","reduce","l","t","operator","parameter","variable","regex","blockquote","number","tag","constant","symbol","selector","punctuation","hr","keyword","strike","require","extend","insertBefore","pattern","alias","pasteTableForHTML","deserialize2","fragId","imageTags","docWidth","tableArr","tableRows","deserialize","colNum","validTable","totalWidth","realCellWidth","collaboratedCells","rowItem","_item","unbordered","trimBreaks","createEmptyText","colNode","pasteTable","isNullTD","pttopx","pt","ret","rowNum","elNodeType","elNodeName","tableItems","thead","theadTr","tbody","outerHTML","firstChild","realColIndex","colIndex","isInTable","fillterForWordTable","yCount","maxColumn","getAlign","getLiAlign","getLineHeight","getTabLevel","hasTabLevel","ELEMENT_TAGS","A","BLOCKQUOTE","H4","H7","LI","parentNodeName","elName","listId","oldtype","todoChecked","P","PRE","HR","IMG","TEXT_TAGS","CODE","getColor","DEL","INS","EM","I","STRONG","B","U","lJsx","attrs","deserializeHTMLToText","_k","whitespaceCharsRegex","replaceAll","getTargetUser","curEl","preWrapSpanFlag","hasLink","hasChildrenWithLink","fragmentChild","alertType","alert_message","alert_description","codeTextContent_1","codeLanguage_1","codeblockId","encodeURI","trimEnd","imgEl","createParagraph","imageContainer","niu","ell","closestNonSpanParent","searchClosestNonSpanParent_1","attrs_1","emptyRegex_1","newChildren","attrs_2","catchSlateFragment","withHtml","rtf","plainText","info","DOMParser","parseFromString","childElementCount","childrenInnerText","regexNotEscaped","textArr","linkArr","matchAll","resArr","handleLinkInText","imgTags","regexp","extractTagsFromHtml","newSrcValues","hexImages","rtfContent","rePictureHeader","rePicture","imageType","wholeImages","hex","extractFromRtf","hexString","convertHexStringToBytes","imagePastingListener","newDecoded","parsed_1","toText","unwrapCardElement","preprocessPlugins","editorRect","getEditorWidth","deserializedFrag","fragment_1","fragMatchTable","tableCount","emptyTextCount","tableIndexInFragment","tableIndex","matchTable","cardNode","tableNode","trNodes","targetCellEntry","targetTableEntry","targetPos","subTableContent","tmpArr","tableCol","rowsToAdd","colsToAdd","cell_1","tr","trIndex","td","tdIndex","tmpTR","tmpTD","tdChildren","tdPath","tdSlateNode","pasteTableInTable","firstElement","allIsText","rel","htmlExportListAndText","lastPath","nodePre","pathPre","htmlExportFirstHeadingAndList","isInteger","htmlExportFirstTablevel","_isDrawing","insertImage","paths","isInlineEditor","imagePath","translateImgToBase64AndUpload","nUrl","hostname","execUrl","translatePureImgToBase64AndUpload","limitImgSize","isBase64Url","protocol","insertImageFromSource","url_1","url_2","isImageType","readCopyFile","reader","withInlineImages","deserializeCopyImage","isImageUrl","inlineImageNodeEntry","urlStr","ext","URL","pathname","imageExtensions","SlateInlineImage","setIsFocused","thisImageRangeId","setThisImageRangeId","hasComment","setHasComment","jsonRangeId_arr","elementPath_1","parentNode_1","inlineImage_arr","isMounted","getLocalImage","handleDragStartCapture","margin","selectInlineImage","setSideCommentRowNum","setFocusedRangeId","innerMaskRef","setMetrics","previewVisible","isOverlayScrolled","setIsOverlayScrolled","isOnVisibleChangeActivated","setIsOnVisibleChangeActivated","handleScrollTop","scrollContainerRefDom","containerRect","imageRect","ctnTop","imgTop","imgBottom","isMax","limitSize","inTable","cellWidth","editorWidth","curL","handleMouseMove","cellEntry","handleMouseUp","removeProperty","imageURL","translateOldSource","inset","innerMask","wrapperStyle","maxHeight","button","mask","prevValue","objectFit","objectPosition","ImageOverlayButton","DownloadOutlined","handlerCopy","InlineElement","newProps","setIsModalVisible","setModalTitle","onKeyDownMention","keyCode","beforePath","isPathValid","isNodeValid","afterPath","prevLeafPath","hotkeys","withMention","serialize","inlineElArr_1","$2","ContainerPortal","container","InlineSlateEditor","setCommentValue","setEditor","mainEditor","mainDocId","allUserList","setAllUserList","mentionRef","setTarget","setIndex","setSearch","chars","setChars","mentionsPosition","setMentionsPosition","editorWrapMaxHeight","setEditorWrapMaxHeight","isOverMaxHeight","setIsOverMaxHeight","mainOptions","isRefresh","isWideMode","isMdEditor","defaultUserList","setGlobalCache","getUserList","userList","status","setUserList","activeItems","block","editorDOM","editorHeight","wordBefore","before","beforeRange","beforeText","beforeMatch","beforeMatchEmpty","after","afterRange","afterMatch","isTarget","mSearch","inlineScrollSelectionIntoView","prevIndex","nextIndex","minHeight","overflow","resize","minWidth","displayInfo","inlineEditorEl","leafRect","jQuery","innerHeight","documentElement","clientHeight","innerWidth","clientWidth","isElementInViewport","scrollHeight","Portal","EditorContainerOuterPortal","EditorContainerPortal","EditorContainerInnerPortal","EditorContainerBottomPortal","getInlineElList","mentionArr","replaceInlineElements","inlineElArr","SideCommentCreator","sideCommentRowNum","curUserName","identicalSelectionRangeId","editorClientRect","containerClientRect","sideCommentRight","setSideCommentRight","commentValue","creatorRef","editorRight","containerRight","sideCommentWidth","creatorMouseUpHandler","allDocumentRange","rangeIdList","nodesEntryArr","newN","getNodesByRangeId","deleteCommentByRangeId","curRowTop","commentValueLength","marginTop","InlineSideCommentButton","comments","isShowHoveringCommentButton","focusedRangeId","resetFocusedRangeId","WIPCommentRangeId","showInlineSideComment","setShowInlineSideComment","editingCommentId","setEditingCommentId","setIsReplyingComment","commentWrapperRef","editorContent","commentItem","containerWrapDom","offsetParent","offsetTop","behavior","isCommentIncluded","sideCommentMouseUpHandler","prevEditingCommentId","prevIsReplyingComment","commentsRC","rangesMapping","jsonRangeId","commentContent","rangesMap","filteredCommentContent","array","CommentContent","contentCollapseLength","flexDirection","overflowY","editCommentEditorRef","isExpanded","setIsExpanded","toggleExpanded","editCommentEditor","ReplyTargetContainer","REPLY","UPDATE","updateSideComment","banCommentNesting","commentDisplay","random","displayName","CaretDownOutlined","CommentActionButton","onClickFn","replyCommentId","contentObj","replyTargetObj","commentActionsMap","cMap","targetCommentId","AllCommentsList","CommentsItem","tCommentData","commentRanges","elementStr","sideCommentTop","setSideCommentTop","debounceUpdateTop","debounce","editorTop","nativeComment","getDefaultValueByBase64","state2","binary_string","bytes","Uint8Array","_base64ToArrayBuffer","ydoc1","Y","getArray","toJSON","HistoryDocActionType","historyDocStore","docPrevious","isError","isLoading","docCurrent","versionList","pageNum","total","historyDocReducer","produce","draft","setPreviousDoc","payload","setCurrentDoc","setPreviousError","setCurrentError","setPreviousLoading","setCurrentLoading","setPreviousVersionId","setCurrentVersionId","setPageNum","setTotal","isForward","cursorStyles","displayTooltip","setDisplayTooltip","timeout","clearTimeout","caretStyles","withBlockquote","BlockQuote","insertCodeBlock","selectionFocusPath","insertDivide","Divide","Hr","divideRef","SlateNode","SlatePath","withEditLink","wrapLink","insertEditLink","isEditLinkActive","unwrapEditLink","isInit","EditLink","vText","setVText","vHref","setVHref","setIsShow","editWrapRef","linkRef","isEdit","setIsEdit","isSingleLine","setIsSingleLine","singleLineHeight","openLink","linkClickCallBack","newWindow","open","clear","opener","pageYOffset","leftOffset","pageXOffset","editWrap","wordBreak","borderBottom","InputRow","txt","v","Hint","marginRight","setLinks","VisitButton","EditButton","CancelButton","delLinks","inputRef","visibility","increaseIndent","tempType","tempRowNode","decreaseIndent","withDeserializeMD","unified","use","slate","nodeTypes","paragraph","block_quote","code_block","ul_list","ol_list","listItem","linkDestinationKey","processSync","deserializeMD","newTable","insertTable","tooltipInnerBlock","Menu","iconMenus","blockMenus","setMenuIndex","selectedRow","menuIndex","setFullPath","setSiderMenuVisible","pathNum","setPath","getPath","thisPath","BlockIcon","BlockMenu","process","antIcon","execFormat","mouseEnterDelay","mouseLeaveDelay","fo","mynode","useWindowUnloadEffect","callOnCleanup","TableOpsMenu","setVisible","tableRect","setMaskRectSide","tableResizeMaskRect","curCell","setStartPositionX","setStartPositionY","differenceY","differenceX","isDragging","setIsDragging","setRowMovingLine","setColMovingLine","rowMovingLine","colMovingLine","startKey","getNodeOfDomHeight","innerNode","margins","tableMargin","thisDom","calcultedTop","thisDomRect","tdSlateNodePath","trSlateNodePath","prevTrSlateNodePath","trEntry","minHeight_1","tdNode","tdHeight","contentNodes","tdPaddingAndBorder","isColCell","originWidth","tableDOM","tdEntry","minHeight_2","calculatedLeft","prevTdSlateNodePath","tableRef","tableOverlayStyle","setTableOverlayStyle","tableEl","tableElRect","RowSideDiv","isShowBar","getTableNode","tableDom","rowDomArr","setRowDomArr","tableOverlayHover","toggleTableOverlayHover","isOverSideDiv","toggleIsOverSideDiv","toggleShowOverlay","overlayPlacement","setOverlayPlacement","hoveringIndex","setHoveringIndex","activationArr","setActivationArr","rowMap","tableSlateNode","rowIndex","resizeObserver","ResizeObserver","entries","rows","offsetHeight","observe","unobserve","AbstractSideDiv","divStyle","curIndex","isTopZone","ColSideDiv","colArr","colDivBarInnerRef","colMap","borderRight","isLeftZone","isColumn","deleteBtnHover","setDeleteBtnHover","deleteBtnHidden","setDeleteBtnHidden","showDeleteBtnOverlay","setShowDeleteBtnOverlay","startScrollLeft","setStartScrollLeft","colOffsetLeft","setColOffsetLeft","tableSideDivRef","btn","isTableSideDiv","offShowDeleteBtnOverlay","handleScrollLeft","sideDivRect","containerLeft","sideDivLeft","sideDivRight","sideDivCenter","colOffsetHorizontal","scrollLeft","isLeftMost","isRightMost","tableEntry","IntersectionPointDiv","setActive","act","colLen","rowLen","isTableUnbordered","StaticToolbar","editorSelection","modalState","currentColor","setCurrentColor","anchorTrigger","isShowAnchor","setIsShowAnchor","elementType","setIsTitle","fontColorVisible","bgColorVisible","cellBgColorVisible","docSelection","setDocSelection","hasSelCells","cursorInTable","both","setIsTable","selectionHandler","elPath","shouldShrink","setShouldShrink","contentWrapListener","CardMenuButton","isDisabled","FileButton","ToolbarButton","FormatButton","SizeSelectButton","FontLetterSelectButton","TypeSelectButton","MarkButton","ToolbarArrowButton","overlay","dropdownMenuColor","flag","cellBgColorClick","AlignSelectButton","isVertical","StaticToolbarMoreMenuButton","BlockIconButton","LineHeightSelectButton","TabButton","isDecrease","buttonClass","VersionButton","TocButton","rowDivBarMargin","testActiveTable","activeTableRow","TableElement","tableTargetRef","setStartKey","setColArr","isFakeSelected","setIsFakeSelected","isOnTableToolBar","setIsOnTableToolBar","isShowTableToolbar","setIsShowTableToolbar","setTableResizeMaskRect","setTableRect","maskRectSide","setCurCell","startPositionX","startPositionY","setDifferenceX","setDifferenceY","rowMovingLineRef","colMovingLineRef","isCurTableActive","curTableNode","setIsShowBar","isTableBtnWrapScrolled","setIsTableBtnWrapScrolled","handleIsShowBar","handleSelCells","addRemoveSelectionListener","tableDom_1","cachedSelCells","cellDom","setTableDom","setTableSlateNode","handleTableCellsMouseMove","tdClientBounding","tbodyDom","tbodyClientBounding","maskLeft","maskTop","endKey_1","cur","handleMovingLineMouseMove","getEditorDom","setPointerCapture","pointerId","resizingRowEntry","originHeight","diffY","pageY","calculatedHeight","isMinValue","trDOM","dataHeight","minWidth_1","tableDOM_1","colNumber_1","diffX","pageX","calculatedWidth_1","isMinValue_1","handleMovingLineMouseUp","releasePointerCapture","dataColArr","howWideEach","handleResetStartKey","newColArr","rowPathNum","thisTableDom","observerRoot","observerTarget","overflowShadowContainer","IntersectionObserver","intersectionRatio","threshold","handleScrollX","offsetWidth","containerTop","tableTop","isSelectionMergedCell","isMergedCell","editorContainerWrap","editorContainerWrapRect","tableBtnWrap","handleTableOps","isDraggable","innerWrap","btnNum","buttons","msUserSelect","MozUserSelect","WebkitUserSelect","tableLayout","marginBottom","tableMenu","getPopupContainer","onContextMenuCapture","nodeEntry","withTable","selCellsFromDom","newSelection","isInOneTable","selectedCellsArr","tableEL","tbodyEL","selectedNode","selectedPath","domClone","hasChildNodes","isNextToEnd","nextChildNodes","tempNode","nextSibling","replaceChild","trimSlateDom","no1","tableCellPath","isFirstInTableCell","cellLastEntry","lastpath","isLastRowInCell","TABLE_TYPE","allNodes","removeSelectionForAllTables","SlateVideo","MyVideo","setIsResizing","setWidth","setHeight","videoContainerDom","videoMouseLeaveTimeout","copyVideo","SlateVideo2","mWidth","mHeight","iframeSrc","setIframeSrc","isYouku","isBilibili","scrolling","withVideo","isLeftCursor","cursorRootPath","withAnchor","anchorPoint","properties","isSetNodesChange","isHeading","isOtherChange","convertNodes","deco","level","ordered","acc","slateNodes","createSlateNode","nodesArr","node_1","createHeading","createBlockquote","createList","checked","spread","newLevel","pNode","getNodeString","createListItem","createTable","createTableRow","createTableCell","createHtml","createCode","createYaml","createToml","createDefinition","createFootnoteDefinition","createText","type_1","createBreak","createLink","createImage","createLinkReference","createImageReference","createFootnote","createFootnoteReference","createMath","createInlineMath","depth","node2","tableObject","getTableOptions","dataCardID","identifier","label","alt","referenceType","isNodeChildrenIsTargetType","isNodeChildrenIsNotNull","delChildrenNotAllowComponent","componentsOk","defaultChildren","dNode","calcNextPath","setPTagChildrenNotAllowComponent","cardChildCom","cardWrap","verifyCardChildNum","version","versionNonce","isDeleted","fillStyle","strokeWidth","strokeStyle","roughness","angle","strokeColor","seed","groupIds","strokeSharpness","boundElements","updated","fileId","scale","fontFamily","baseline","containerId","originalText","ExcalidrawImage","imageContainerRef","appState","rootClassName","Svg","setSvg","exportToSvg","svg","styleTag","viewBox","viewBoxDimentions","removeStyleFromSvg_HACK","dangerouslySetInnerHTML","__html","clamp","ImageResizer","onResizeStart","onResizeEnd","imageRef","showCaption","setShowCaption","buttonRef","positioningRef","currentHeight","currentWidth","ratio","startHeight","startWidth","startX","startY","editorRootElement","maxWidthContainer","maxHeightContainer","handlePointerDown","positioning","cursorDir","setProperty","setStartCursor","handlePointerMove","handlePointerUp","isHorizontal","diff","onPointerDown","Direction","ExcalidrawDomNode","setSelected","initialData","setElements","excalidrawSetIsModalClose","buttonPath","scrollRefClick","buttonElem","eventTarget","shiftKey","detail","nextWidth","nextHeight","$imageContainerRef","$editoImage","editoImagePath","withExcalidraw","withNormalizeNode","newText","isTextEmpty","normalizeLink","tRow","tCol","normalizeTable","normalizeTableCell","normalizeExcalidraw","normalizeDivide","normalizeTodoList","normalizeFile","normalizeImage","normalizeInlineImage","normalizeVideo","normalizeMetion","normalizeBlockQuote","componentOk","normalizeHeadings","normalizeOLULList","delTopElement","normalizeCard","SHORTCUTS","MARKDOWN_SIGN","__","getCurrentChar","signLength","fOffset","withShortcuts","curLeaf","accContent_1","inner","sign","isAtTheEnd","reverseArr","reverseTexts","normalPos","reversePos","start_1","nextNextPath","numStr","tPathParent","tPath_1","curNodeEntry","appandList","sliceSnippet","snippet","cutSnippet","isStartIn","isEndIn","p2","p3","SLATE_ERRORS","ACTIVE_EDITOR","IS_RECOVERING_CONTENT","withTabLevel","withTitleNormalized","preventedBackspaceAtStartTypes","preventedParentPath","nextLeafStartPoint_1","getCellRightPoint","nPath","withElmentId","joinClasses","dataTestId","small","PortalImpl","onClose","closeOnClickOutside","modalRef","modalOverlayElement","clickOutsideHandler","tabIndex","Modal","createPortal","ExcalidrawModal","onSave","initialElements","isShown","onHide","onDelete","excalidrawRef","excaliDrawModelRef","discardModalOpen","setDiscardModalOpen","ShowDiscardDialog","updateScene","_Excalidraw","Excalidraw","els","ExcalidrawEditor","isModalOpen","setModalOpen","deleteNode","lastNormalizeTag","withInline","pChildEnd","insertLeaf","TODOList","setIsActive","classNames","paddingLeft","backgroundClip","ComIfram","allowFullScreen","quikMenuByWordSearch","callBack","quikMenuByWord","reg","beforeMatchEmoji","noop","isBrowser","defaultState","setRect","observer","contentRect","disconnect","emojis","printTime","reloadCallback","showCacheDocContentModal","editorObj","isNoEdit","setIsReadOnly","selectRow","setFocusId","socketUrl","socket","provider","wsconnected","tableWidth","targetSelect","editors","titleCallback","isEmpty","template","findCallbacks","searchText","findSelection","setEditorSelection","getNum","shareCallback","setHoveredRangeId","setTemplateLoading","handleCompoStart","handleCompoEnd","renderPlaceholder","setDocWidth","setModalState","cursors","_l","setPlaceholderRects","initialValue","useMeasure","_p","setTitleValue","highlightRanges","setHightlightRanges","thisFindSelection","setFindSelection","isLastSelectAll","setIsLastSelectAll","cursorsTarget","setCursorsTarget","dp","debouceDragover","dragover","drop","dragInsertLocalFiles","isFirstMounted","targetNode","MutationObserver","mutationsList","mutation","renderTime","childList","subtree","originalRemoveChild_1","warn","arguments","originalInsertBefore_1","newNode","referenceNode","cursorsRef","menuRef","emojiPanelRef","menuTarget","setMenuTarget","emojiTarget","setEmojiTarget","emojiIndex","setEmojiIndex","pages","setPages","allUserListFilter_1","allUserListFilter","newArr_1","slateEditor","setSelectRow","isTitle","_initFocus","bodySelection","debounceSetEditorSelection","throttled","setLoading","setTemplate","SlateEditor","searchDecorate","parts","offset_1","part","highlight","commentInitRanges","nCommentData","cData","aArr","lineRangeArr","snippet2","sliceSnippets","tSnippet","newSliceSnippets","isAdd","old","sliceRangeNoRepeateAtOnePath","setCommentRanges","commentDecorate","newRanges","anchorId_1","AnchorPath","FocusPath","fragement","isStrEquals","relativePath_1","newAnchorPath","newFocusPath","findRanges","findHighlight","cursorsArr","setCursorsArr","cacheCursors","combineDecorate","titleRect","isModalVisible","inputValue","setInputValue","modalTitle","refocusEditorAfterModal","hasInserted","cacheSelection","nextPoint","nextRange","handleCancel","titleEditorValue","setTitleEditorValue","useValidationWorker","validationWorker","workerBlobURL","Worker","Blob","blobURL","createObjectURL","worker","messageChannel","MessageChannel","postMessage","port2","port1","onmessage","isValid","invalidNode","normalizeTag","force","onmessageerror","registerValidationWorker","debouncedUpdateCache","terminate","revokeObjectURL","changeSlateEditorTitle","handleTitleEditorBinding","onTitleEditorChange","isMiddle","newStyle","styleElement","createTextNode","onOk","nextPath2","insertVideo","onCancel","okText","cancelText","accept","insertImgFile","maxLength","newValue","isUseIMEInputing","useIMEInput","fns","arg","funArrExec","isEqual","myValue","HoveringCommentButton","HoveringToolbar","onCompositionStartCapture","isMulti","domArr","domLen","value_1","elDOm","text_1","compositionSelection","execDom","delInvalidDom","parentDom_1","str2","recoverDom","slateScrollSelectionIntoView","matchTool","metaKey","ctrlKey","firstPath","wrap","currentPath","removeCardSelectionContentBeforeInput","onKeyDownCard","onKeyDownTextMark","rowPath","onKeyDownImage","anchorPath","cutImage","parentInlineImagePath","nextLeafPath","onKeyDownInlineImage","iconLen_1","lastFullRow","isActiveTable","isCurTableSelectedCells","delChildrenComponent","isCellTop","getCellUpPoint","isCellBottom","getCellDownPoint","onKeyDownTable","leafNode_1","leafProperties","prop","hasOwnProperty","isEnd","isWrapped","nextNodeEntry_1","nextLeafNodeEntry","nextLeafStartPoint","hasSomeInline","childTabLevel","childType","isLeaf","returnValue","firstChild_1","lastChild_1","isFirstWithFormat","isLastWithFormat","lineStart","lastParentPath","newLinePath","lineEnd","leafBefore","TypeError","getParentPath","invariant","getParent","nextRow","onKeyDownCommon","parentCardPath","parentMentionPath","historyVersionShortKey","getDocHistoryCallback","getDocBlobByVersionCallback","restoreDocCallback","setIsShowHistoryManager","onKeyUp","dataRangeId","flexWrap","emoji","cardRef","rowSpan","colSpan","borderCollapse","borderSpacing","outerSize","letterSpacing","fontSizeChange","hoveredRangeId","setFocusedRangeId_1","isReadOnly_1","isFocusedComment","isHoveredComment","alphaColor","isDrag","caretColor","commentHighlight","isCaret","isTableSelectingCells","isCardSuf","editorWrapDom","boundary","curTime","docContentQueue","cacheDocContent","deleted","modifiedOld","modifiedNew","NoDiffComponent","jsondiffpatch","docValue","NoDiffEditor","ErrorBoundary","FallbackComponent","fallback","onError","isWide","UNSAVED_CURRENT_VERSION_ID","HistoryManager","Actions","isShowHistoryManager","sideListRef","historyVersionList","setHistoryVersionList","historyDocState","historyDocDispatch","isNoData","toggleIsNoData","refDoc","getHistoryVersionList","promise","docHistoryList","resetHistoryManager","isRecoverBtnDisabled","restoreDoc","description","indicator","LoadingOutlined","spin","HistoryVersionList","unsavedDoc","simple","pageSize","page","dispatch","getVersionPreview","firstItem","previousVersionId","promises","all","formatTime","formattedTime","lastModifiedTime","modifier","lastModifiedPerson","timeStr","curDate","yearStr","month","padStart","day","hour","minute","destroy","Panel","Collapse","docIdMemo","showErrorMsg","setShowErrorMsg","setCount","fallbackCallback","openRrweb","rrwebRecord","upload","judgePhone","openAutoRecover","errorRecoverCallback","ubtError","docsdkversion","jsonStr","joinDevGroup","alignSelf","accordion","defaultActiveKey","HotkeyHelperContent","getHotkeyGroup","UndoOutlined","cardInfo","RedoOutlined","SaveOutlined","EnterOutlined","toItemKey","toSpaceItemKey","groupname","groupItemList","withSpace","SideTipContainer","showHelpBlock","editorContainerScrollTop","scrollRef","setIsShowHotkeyHelper","paddingRight","ToTopButton","HelpBlock","isHover","setIsHover","transition","transitionProperty","HelpButton","globalCommentEditor","inlineEditorValue","setInlineEditorValue","flex","isGlobalComment","curComment","mentionedUserList","GlobalComment","setGlobalCommentEditor","paddingBottom","globalCommentEditorDom","CommentOutlined","getCommentContents","commentGroup","commentDataArr","groupRangeId","canScroll","anchorItemEl","anchorItemElRect","isInViewport","scrollToViewByAnchorId","ListIconItem","Icon","execInsertComponent","setShowCard","ColorBtn","colorItem","MobileToolbar","showCardPopup","setShowCardPopup","showColorPopup","setShowColorPopup","theme","viewport","setViewport","visualViewport","useVisualViewport","scrollMarginTop","safeAreaBottom","keyboardHeight","CardPopup","ColorPopup","MobileToolbarButton","PlusCircleOutlined","VerticalDivider","FontSizeOutlined","FontColorsOutlined","AlignLeftOutlined","CheckSquareOutlined","popoverContent","InlineButton","AlignButton","onPointerMove","autoAdjustOverflow","activeAlignFormat","overlayClassName","DocTocTitle","showCollapseBtn","handleDeepestHeading","deepestDisplayAnchor","setIsAnchorCollapsed","tocPlacement","gridTemplateAreas","justifySelf","SettingOutlined","OutlineAnchor","isLarge","focusedAnchorItemIndex","setFocusedAnchorItemIndex","headingTagList","setHeadingTagList","unseenArr","setUnseenArr","descendantMap","setDescendantMap","focusedAnchorItem","deepest","hTagList","childrenArr","getText","descendantUnseenArr","headTabLevel","getHeadTablevel","headingDoms","editorContainerScrollBottom","firstHeadingIndex","headingDom_1","headingDomHeight_1","headingDom","headingDomHeight","endHeadingDom","endHeadingDomHeight","wrapTextWithStyle","isAnchorDrawer","editorContainer","anchorItemWidth","anchorItemText","originItem","CollapseBtn","handleUpdateIsExpanded","unseenArrStr","refreshAll","newUnseenArr","slateYjsOriginSymbol","SyncElement","SyncNode","toSlateDoc","toSyncElement","childElements","childContainer","textElement","toSlatePath","getTarget","idx","isTree","getArrayPosition","_start","getSyncNodePath","Error","cloneSyncElement","clone","mapper","insert_node","merge_node","prevText","nextText","nextChildren","prevChildren","toPush","move_node","fromIndex","to","toIndex","fromChildren","toChildren","toInsert","remove_node","set_node","split_node","inject","targetText","injectText","targetChildren","injectChildren","mappers","insert_text","nodeText","remove_text","opMappers","set_selection","IS_REMOTE","LOCAL_OPERATIONS","SHARED_TYPES","YjsEditor","synchronizeValue","sharedType","isRemote","asRemote","wasRemote","localOperations","applyRemoteYjsEvents","targetPath","targetElement","changes","delta","retain","translateArrayEvent","targetSyncElement","keyChanges","fromEntries","translateMapEvent","translateTextEvent","translateYjsEvent","applyYjsEvents","transaction","origin","withYjs","applyEvents","observeDeep","operation","trackLocalOperations","editorLocalOperations","transact","applySlateOp","applySlateOps","applyLocalOperations","unobserveDeep","absolutePositionToRelativePosition","relativePositionToAbsolutePosition","relativePosition","pos","AWARENESS","CursorEditor","awareness","updateCursor","setLocalState","getLocalState","openNotification","duration","notification","secure","fake","WebsocketProviderOfficial","docUrl","connect","resyncInterval","withCursor","updateUser","usersArr","getStates","sUsers","newUserArr","reConnect","getDocToken","quikConnect","docToken","identityauth2","msg","st","wsConnectedTime","restoreUserId","restoreUsername","username","userInfo_1","options_1","isSynced","syncTime","toSharedType","initSocketTime","corpId","fakeCorp","reconnInterval","setInterval","provider_1","command","clearInterval","openCusors","setCursorData","newCursorData","clientId","clientID","isFocusNode","isAnchorNode","useCursors","decorate_1","one","getCusorsDecorate","Layout","setEdit","_2","_3","deepestDisplayAnchorHeading","sUrl","_4","propsDefaultValue","propsDocToken","idAuth","propsIsWideMode","defaultCommentData","showHoveringCommentButton","showGlobalComment","setSocketUrl","setDefaultValue","socketToken","setSocketToken","socketAuth","setSocketAuth","isShowHotkeyHelper","isShowHelpBlock","setIsShowHelpBlock","setIsShowHoveringCommentButton","isShowGlobalComment","setIsShowGlobalComment","mail_1","mail","me_1","setMe_1","newMe","overlayContainerRef","anchorContainerRef","setFilename_1","setTemplateBar_1","setLastName_1","drawerVisible_1","setDrawerVisible_1","replaceText","titleLoading","setTitleLoading_1","templateLoading","setTemplateLoading_1","placeholderContentVisible","setPlaceholderContentVisible_1","setIsReadOnly_1","isNoEdit_1","setIsNoEdit_1","tocPlace","setTocPlace_1","curRangeId","placeholderRects","setDeepestDisplayAnchor_1","findAndReplaceMethods_1","setFindAndReplaceMethods_1","scrollRef_1","setEditorContainerScrollTop_1","dep","useForceUpdate","contentWrapRect","setContentWrapRect_1","setContentRect_1","anchorContainerMaxWidth","setAnchorContainerMaxWidth_1","isMobile_1","_50","width_1","setIsLarge_1","setIsMiddle_1","isWideMode_1","setIsWideMode","setEditorHeight_1","setIsShowHistoryManager_1","loading","contentListener","resizeObservers","docDirectoryTitle","defaultVal","defaultValue2","setTocPlacement","setDeepestDisplayAnchorHeading","capture","passive","titleEl","titleDom","isEmptyCallback","boo","isAnchorCollapsed","setIsAnchorCollapsed_1","setDrag_1","setNum","thisNum","parentDom","findAndReplace","contentParagraphText","contentParagraphTodo","contentParagraphLinkText","contentParagraphChildrenLen","contentCountArr","notStyled","setCommentData_1","isShowMobileToolBar","setIsShowMobileToolBar_1","updateState","isShowMobileMenuPopup","unbind","hasCallbacks","showTopMenuOnlyRead","gridGap","gridTemplateColumns","gridTemplateRows","onDragLeave","slug","setTitleLoading","removeUser","gridRow","gridColumn","overscrollBehavior","closable","maskClosable","getContainer","headerStyle","closeIcon","CloseOutlined","markActive","firstCellEntry","firstCellPath","isActive_1","isMarkActiveInCell","FontButton","ColorButton","curSelectedColor","stopImmediatePropagation","xmlns","alignActive","SideCommentButton","setIsDisabled","ShareButton","shareInfo","targetLocation","sharer","isDoubleClick","copyBtnArr","setCopyBtnArr","copyBtnActive","setCopyBtnActive","copyMeta","setCopyMeta","copyBtnActiveRef","copyBtnArrRef","copyMetaRef","mouseUpFn","curCopyBtnActive","curCopyBtnArr","curCopyMeta","fmtObj_1","nextFormatNode","editorOptions","anchorSelection","anchorRowPath","fragments","inlineImageEntry","getInnerSelection","textareaDom","getDefaultColor","defaultColor","flexFlow","focusParentPath","anchorParentPath","isAbove","removeAttribute","mouseUp","mouseDown","domSel","editorInlineContainerDom","isNotL","isNotLine","isInlineEl","isInlineElement","hideComment","startNext","endPrev","setCardMenuVisible","cardMenuVisible","tableHover","setTableHover","iconStyle","onContextMenu","onTitleClick","domEvent","setMenuVisible","mod","cons","ceil","TableCellSelect","mouseDownFn","staticToolbarMoreMenu","MoreOutlined","staticToolbarCardMenu","selectVisible","setSelectVisible","letter","curFontLetter","dropdownStyle","onDropdownVisibleChange","onSelect","fontLetterByNum","CheckOutlined","sizeArr","curSize","fontSizeByNum","mapping","curType","mappedValue","listNodes","curAlign","alignArr","vAlignArr","defaultAlign","vertical","isVerticalAlignActive","horizontal","svgIcon","curLineHeight","lineHeightArr","isLineHeightActive","CACHE_DOC_CONTENT","DocCacheItemContent","docContentCacheArr","setContent","errorStack","lastCached","removeLatestCacheDocContent","recoverCacheDocContent","errors","newStack","IS_EDITOR_CACHE","above","edges","first","hasBlocks","isBlock","hasInlines","hasTexts","isEditor","cachedIsEditor","isEdge","isNormalizing","last","previous","blockPath","pointAfterLocation","parent_1","universal","Span","isSpan","nodeEntries","pass","nodeEntries_1","isLower","hit","normalize","allPaths","withoutNormalizing","dirtyPath","hasPath","pathRef","affinity","unref","pathRefs","pointRef","pointRefs","isNewBlock","blockText","leafTextRemaining","leafTextOffset","s","isFirst","started","getWordDistance","calcDistance","pointBeforeLocation","parent_2","rangeRef","rangeRefs","setNormalizing","unhangRange","endBlock","void","IS_NODE_LIST_CACHE","descendant","extractProps","newRoot","isNode","isNodeList","cachedResult","visited","isNodeOperation","isOperation","isSelectionOperation","isTextOperation","inversePath","inverseNewPath","av","compare","endsAfter","as","bs","bv","equals","endsAt","endsBefore","hasPrevious","isAfter","isBefore","isChild","isCommon","isDescendant","isParent","isSibling","relative","onp","isPoint","isRange","rs","re","ts","te","isAfterStart","isBeforeEnd","intersection","s1","e1","s2","e2","points","affinityAnchor","affinityFocus","isDeepEqual","omitText","isText","isTextList","isTextProps","GeneralTransforms","createDraft","truePath","preferNext","applyToDraft","finishDraft","isDraft","NodeTransforms","insertNodes","hanging","matchPath_1","isAtEnd","liftNodes","matchPath","parentNodeEntry","toPath","splitPath","mergeNodes","commonPath","isPreviousSibling","emptyAncestor","hasSingleChildNest","emptyRef","moveNodes","toRef","targets","removeNodes","depths","setNodes","splitMode","endAtEndOfNode","startAtStartOfNode","hasChanges","splitNodes","deleteRange","beforeRef","highest","voidMatch","voidPath","afterRef","highestPath","lowestPath","unsetNodes","unwrapNodes","wrapNodes","roots","rootPath","commonNodeEntry","commonNode_1","wrapperPath","wrapper","SelectionTransforms","collapse","move","setPoint","setSelection","oldProps","TextTransforms","furthestVoid","end_1","endOfDoc","startBlock","isAcrossBlocks","isSingleText","startRef","endRef","point_1","point_2","inlineElementMatch","inlinePath_1","blockMatch","isBlockStart","isBlockEnd","isBlockEmpty","mergeStart","mergeEnd","matcher","starts","middles","ends","starting","inlineMatch","isInlineStart","isInlineEnd","middleRef","blockPathRef","Compiler","mdastToSlate","base00","base02","base07","base08","base09","base0A","base0C","base0D","base0E","invalid","darkBackground","highlightBackground","myTheme","createTheme","settings","foreground","caret","selectionMatch","lineHighlight","gutterBackground","gutterForeground","styles","textUnderlinePosition","usercolors","light","userColor","interval","isInitialized","slateValue","newVal","gfm","frontmatter","remarkToSlate","mdContent","md2SlateContent","cur_key","last_key","currentHash","lastHash","mdRefreshDocCallback","ydoc","colorLight","setLocalStateField","defaultMDValue","keymap","yUndoManagerKeymap","md","yCollab","onDropCapture","imgMdStr","MdDocs","overflowX","MdEditor","execModalParam","openModalParam","onSlateChange","initCallback","mentionCallback","roomUsersCallback","commentCallback","docStatusCallback","_m","_o","_q","_r","_s","_t","proxy","Proxy","thisArg","errStr","errFormat","sliceLen","Reflect","containerVerify","defaultTitle","spellcheck","toolbar","cssTarget","verifyOptions","String","rx","cap","textValue","timeCheck","initTimestamp","once","getContent","getTitle","getTitleForID","getMentions","getAllMentionsForID","getHeadings","getHeadingsForID","getComments","getAllComment","reload","scrollToViewByRangeId","compareDocContentWithDefault","newJson","newJson_1","getContentByBase64","getEditorBottomDom","exports","___CSS_LOADER_API_IMPORT___","module","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","__esModule","locals","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","O","chunkIds","priority","notFulfilled","fulfilled","getter","getPrototypeOf","ns","def","definition","defineProperty","enumerable","Function","toStringTag","nmd","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","nc","__webpack_exports__"],"sourceRoot":""}